<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Search.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Comment">-- -vtactic.search:20 -vtc.def:10</a>
<a id="58" class="Keyword">module</a> <a id="65" href="Meta.Search.Base.html" class="Module">Meta.Search.Base</a> <a id="82" class="Keyword">where</a>

<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Meta.Foldable.html" class="Module">Meta.Foldable</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>

<a id="174" class="Keyword">open</a> <a id="179" class="Keyword">import</a> <a id="186" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="201" class="Symbol">as</a> <a id="204" class="Module">Bool</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Data.Empty.Base.html" class="Module">Data.Empty.Base</a>
<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a>
<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="290" class="Symbol">as</a> <a id="293" class="Module">List</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.List.Operations.html" class="Module">Data.List.Operations</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="Data.List.Instances.Foldable.html" class="Module">Data.List.Instances.Foldable</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Data.List.Instances.Idiom.html" class="Module">Data.List.Instances.Idiom</a>
<a id="454" class="Keyword">open</a> <a id="459" class="Keyword">import</a> <a id="466" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="482" class="Keyword">open</a> <a id="487" class="Keyword">import</a> <a id="494" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="508" class="Keyword">open</a> <a id="513" class="Keyword">import</a> <a id="520" href="Data.Vec.Operations.Inductive.html" class="Module">Data.Vec.Operations.Inductive</a>

<a id="551" class="Keyword">data</a> <a id="Goal-strat"></a><a id="556" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a> <a id="567" class="Symbol">:</a> <a id="569" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="574" class="Keyword">where</a>
  <a id="Goal-strat.none"></a><a id="582" href="Meta.Search.Base.html#582" class="InductiveConstructor">none</a> <a id="Goal-strat.by-hlevel"></a><a id="587" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="597" class="Symbol">:</a> <a id="599" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a>

<a id="611" class="Keyword">private</a> <a id="619" class="Keyword">variable</a>
  <a id="630" href="Meta.Search.Base.html#630" class="Generalizable">ℓ</a> <a id="632" class="Symbol">:</a> <a id="634" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="642" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="653" class="Symbol">:</a> <a id="655" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a>

<a id="667" class="Keyword">private</a>
  <a id="goal-strat-elim"></a><a id="677" href="Meta.Search.Base.html#677" class="Function">goal-strat-elim</a> <a id="693" class="Symbol">:</a> <a id="695" class="Symbol">{</a><a id="696" href="Meta.Search.Base.html#696" class="Bound">P</a> <a id="698" class="Symbol">:</a> <a id="700" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a> <a id="711" class="Symbol">→</a> <a id="713" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="718" href="Meta.Search.Base.html#630" class="Generalizable">ℓ</a><a id="719" class="Symbol">}</a> <a id="721" class="Symbol">→</a> <a id="723" href="Meta.Search.Base.html#696" class="Bound">P</a> <a id="725" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="735" class="Symbol">→</a> <a id="737" href="Meta.Search.Base.html#696" class="Bound">P</a> <a id="739" href="Meta.Search.Base.html#582" class="InductiveConstructor">none</a> <a id="744" class="Symbol">→</a> <a id="746" class="Symbol">(</a><a id="747" href="Meta.Search.Base.html#747" class="Bound">gs</a> <a id="750" class="Symbol">:</a> <a id="752" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a><a id="762" class="Symbol">)</a> <a id="764" class="Symbol">→</a> <a id="766" href="Meta.Search.Base.html#696" class="Bound">P</a> <a id="768" href="Meta.Search.Base.html#747" class="Bound">gs</a>
  <a id="773" href="Meta.Search.Base.html#677" class="Function">goal-strat-elim</a> <a id="789" href="Meta.Search.Base.html#789" class="Bound">x</a> <a id="791" class="Symbol">_</a> <a id="793" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="803" class="Symbol">=</a> <a id="805" href="Meta.Search.Base.html#789" class="Bound">x</a>
  <a id="809" href="Meta.Search.Base.html#677" class="Function">goal-strat-elim</a> <a id="825" class="Symbol">_</a> <a id="827" href="Meta.Search.Base.html#827" class="Bound">y</a> <a id="829" href="Meta.Search.Base.html#582" class="InductiveConstructor">none</a> <a id="834" class="Symbol">=</a> <a id="836" href="Meta.Search.Base.html#827" class="Bound">y</a>

  <a id="goal-strat-rec"></a><a id="841" href="Meta.Search.Base.html#841" class="Function">goal-strat-rec</a> <a id="856" class="Symbol">:</a> <a id="858" class="Symbol">{</a><a id="859" href="Meta.Search.Base.html#859" class="Bound">ℓ</a> <a id="861" class="Symbol">:</a> <a id="863" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="868" class="Symbol">}</a> <a id="870" class="Symbol">{</a><a id="871" href="Meta.Search.Base.html#871" class="Bound">A</a> <a id="873" class="Symbol">:</a> <a id="875" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="880" href="Meta.Search.Base.html#859" class="Bound">ℓ</a><a id="881" class="Symbol">}</a> <a id="883" class="Symbol">→</a> <a id="885" href="Meta.Search.Base.html#871" class="Bound">A</a> <a id="887" class="Symbol">→</a> <a id="889" href="Meta.Search.Base.html#871" class="Bound">A</a> <a id="891" class="Symbol">→</a> <a id="893" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a> <a id="904" class="Symbol">→</a> <a id="906" href="Meta.Search.Base.html#871" class="Bound">A</a>
  <a id="910" href="Meta.Search.Base.html#841" class="Function">goal-strat-rec</a> <a id="925" class="Symbol">=</a> <a id="927" href="Meta.Search.Base.html#677" class="Function">goal-strat-elim</a>

  <a id="goal-is-stratified"></a><a id="946" href="Meta.Search.Base.html#946" class="Function">goal-is-stratified</a> <a id="965" class="Symbol">:</a> <a id="967" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a> <a id="978" class="Symbol">→</a> <a id="980" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
  <a id="987" href="Meta.Search.Base.html#946" class="Function">goal-is-stratified</a> <a id="1006" class="Symbol">=</a> <a id="1008" href="Meta.Search.Base.html#841" class="Function">goal-strat-rec</a> <a id="1023" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="1025" href="Data.Empty.Base.html#125" class="Datatype">⊥</a>

  <a id="Selector"></a><a id="1030" href="Meta.Search.Base.html#1030" class="Function">Selector</a> <a id="1039" class="Symbol">:</a> <a id="1041" class="Symbol">@</a><a id="1042" class="Symbol">0</a> <a id="1044" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1046" class="Symbol">→</a> <a id="1048" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
  <a id="1055" href="Meta.Search.Base.html#1030" class="Function">Selector</a> <a id="1064" class="Symbol">=</a> <a id="1066" href="Data.Fin.Base.html#187" class="Datatype">Fin</a>

<a id="select-arg"></a><a id="1071" href="Meta.Search.Base.html#1071" class="Function">select-arg</a> <a id="1082" class="Symbol">:</a> <a id="1084" href="Agda.Builtin.Reflection.html#2737" class="Datatype">Visibility</a> <a id="1095" class="Symbol">→</a> <a id="1097" class="Symbol">{@</a><a id="1099" class="Symbol">0</a> <a id="1101" href="Meta.Search.Base.html#1101" class="Bound">m</a> <a id="1103" class="Symbol">:</a> <a id="1105" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1106" class="Symbol">}</a> <a id="1108" class="Symbol">→</a> <a id="1110" href="Meta.Search.Base.html#1030" class="Function">Selector</a> <a id="1119" href="Meta.Search.Base.html#1101" class="Bound">m</a> <a id="1121" class="Symbol">→</a> <a id="1123" href="Data.Vec.Base.html#235" class="Datatype">Vec</a> <a id="1127" class="Symbol">(</a><a id="1128" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="1132" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1136" class="Symbol">)</a> <a id="1138" href="Meta.Search.Base.html#1101" class="Bound">m</a> <a id="1140" class="Symbol">→</a> <a id="1142" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1145" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="1150" href="Meta.Search.Base.html#1071" class="Function">select-arg</a> <a id="1161" href="Meta.Search.Base.html#1161" class="Bound">vis</a> <a id="1165" href="Meta.Search.Base.html#1165" class="Bound">idx</a> <a id="1169" href="Meta.Search.Base.html#1169" class="Bound">args</a> <a id="1174" class="Symbol">=</a> <a id="1176" class="Keyword">do</a>
  <a id="1181" href="Meta.Reflection.html#2499" class="InductiveConstructor">vis-arg</a> <a id="1189" href="Meta.Search.Base.html#1189" class="Bound">v</a> <a id="1191" href="Meta.Search.Base.html#1191" class="Bound">x</a> <a id="1193" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="1195" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="1200" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="1202" href="Data.Vec.Operations.Inductive.html#436" class="Function">lookup</a> <a id="1209" href="Meta.Search.Base.html#1169" class="Bound">args</a> <a id="1214" href="Meta.Search.Base.html#1165" class="Bound">idx</a> <a id="1218" class="Keyword">where</a>
    <a id="1228" class="CatchallClause Symbol">_</a> <a id="1230" class="Symbol">→</a> <a id="1232" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="1242" class="String">&quot;Bad argument selector&quot;</a>
  <a id="1268" href="Meta.Alt.html#580" class="Function">guard</a> <a id="1274" class="Symbol">(</a><a id="1275" href="Meta.Search.Base.html#1189" class="Bound">v</a> <a id="1277" href="Meta.Reflection.html#3366" class="Function Operator">visibility=?</a> <a id="1290" href="Meta.Search.Base.html#1161" class="Bound">vis</a><a id="1293" class="Symbol">)</a>
  <a id="1297" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="1302" href="Meta.Search.Base.html#1191" class="Bound">x</a>

<a id="Level-data"></a><a id="1305" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="1316" class="Symbol">:</a> <a id="1318" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a> <a id="1329" class="Symbol">→</a> <a id="1331" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
<a id="1336" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="1347" class="Symbol">=</a> <a id="1349" href="Meta.Search.Base.html#841" class="Function">goal-strat-rec</a> <a id="1364" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1369" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="dummy-level"></a><a id="1372" href="Meta.Search.Base.html#1372" class="Function">dummy-level</a> <a id="1384" class="Symbol">:</a> <a id="1386" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="1397" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a>
<a id="1408" href="Meta.Search.Base.html#1372" class="Function">dummy-level</a> <a id="1420" class="Symbol">{(</a><a id="1422" href="Meta.Search.Base.html#582" class="InductiveConstructor">none</a><a id="1426" class="Symbol">)}</a> <a id="1429" class="Symbol">=</a> <a id="1431" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="1434" href="Meta.Search.Base.html#1372" class="Function">dummy-level</a> <a id="1446" class="Symbol">{(</a><a id="1448" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a><a id="1457" class="Symbol">)}</a> <a id="1460" class="Symbol">=</a> <a id="1462" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>

<a id="fixed-level"></a><a id="1471" href="Meta.Search.Base.html#1471" class="Function">fixed-level</a> <a id="1483" class="Symbol">:</a> <a id="1485" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1487" class="Symbol">→</a> <a id="1489" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="1500" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a>
<a id="1511" href="Meta.Search.Base.html#1471" class="Function">fixed-level</a> <a id="1523" class="Symbol">{(</a><a id="1525" href="Meta.Search.Base.html#582" class="InductiveConstructor">none</a><a id="1529" class="Symbol">)}</a> <a id="1532" class="Symbol">_</a> <a id="1534" class="Symbol">=</a> <a id="1536" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="1539" href="Meta.Search.Base.html#1471" class="Function">fixed-level</a> <a id="1551" class="Symbol">{(</a><a id="1553" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a><a id="1562" class="Symbol">)}</a> <a id="1565" href="Meta.Search.Base.html#1565" class="Bound">n</a> <a id="1567" class="Symbol">=</a> <a id="1569" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="1573" class="Symbol">(</a><a id="1574" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="1578" href="Meta.Search.Base.html#1565" class="Bound">n</a><a id="1579" class="Symbol">)</a>

<a id="Goal-data"></a><a id="1582" href="Meta.Search.Base.html#1582" class="Function">Goal-data</a> <a id="1592" class="Symbol">:</a> <a id="1594" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
<a id="1599" href="Meta.Search.Base.html#1582" class="Function">Goal-data</a> <a id="1609" class="Symbol">=</a> <a id="1611" href="Foundations.Sigma.Base.html#428" class="Function">Σ[</a> <a id="1614" href="Meta.Search.Base.html#1614" class="Bound">args-length</a> <a id="1626" href="Foundations.Sigma.Base.html#428" class="Function">꞉</a> <a id="1628" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1630" href="Foundations.Sigma.Base.html#428" class="Function">]</a> <a id="1632" href="Meta.Search.Base.html#1030" class="Function">Selector</a> <a id="1641" href="Meta.Search.Base.html#1614" class="Bound">args-length</a>

<a id="1654" class="Keyword">record</a> <a id="Tactic-desc"></a><a id="1661" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="1673" class="Symbol">(</a><a id="1674" href="Meta.Search.Base.html#1674" class="Bound">goal-name</a> <a id="1684" class="Symbol">:</a> <a id="1686" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="1690" class="Symbol">)</a> <a id="1692" class="Symbol">(</a><a id="1693" href="Meta.Search.Base.html#1693" class="Bound">goal-strat</a> <a id="1704" class="Symbol">:</a> <a id="1706" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a><a id="1716" class="Symbol">)</a> <a id="1718" class="Symbol">:</a> <a id="1720" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="1725" class="Keyword">where</a>
  <a id="1733" class="Keyword">field</a>
    <a id="Tactic-desc.args-length"></a><a id="1743" href="Meta.Search.Base.html#1743" class="Field">args-length</a> <a id="1755" class="Symbol">:</a> <a id="1757" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Tactic-desc.goal-selector"></a><a id="1763" href="Meta.Search.Base.html#1763" class="Field">goal-selector</a> <a id="1777" class="Symbol">:</a> <a id="1779" href="Meta.Search.Base.html#1030" class="Function">Selector</a> <a id="1788" href="Meta.Search.Base.html#1743" class="Field">args-length</a>
    <a id="Tactic-desc.level-selector"></a><a id="1804" href="Meta.Search.Base.html#1804" class="Field">level-selector</a>
      <a id="1825" class="Symbol">:</a> <a id="1827" class="Symbol">{</a><a id="1828" href="Meta.Search.Base.html#1828" class="Bound">w</a> <a id="1830" class="Symbol">:</a> <a id="1832" href="Meta.Search.Base.html#946" class="Function">goal-is-stratified</a> <a id="1851" href="Meta.Search.Base.html#1693" class="Bound">goal-strat</a><a id="1861" class="Symbol">}</a> <a id="1863" class="Symbol">→</a> <a id="1865" href="Meta.Search.Base.html#1030" class="Function">Selector</a> <a id="1874" href="Meta.Search.Base.html#1743" class="Field">args-length</a>
    <a id="Tactic-desc.aliases"></a><a id="1890" href="Meta.Search.Base.html#1890" class="Field">aliases</a>
      <a id="1904" class="Symbol">:</a> <a id="1906" class="Symbol">{</a><a id="1907" href="Meta.Search.Base.html#1907" class="Bound">w</a> <a id="1909" class="Symbol">:</a> <a id="1911" href="Meta.Search.Base.html#946" class="Function">goal-is-stratified</a> <a id="1930" href="Meta.Search.Base.html#1693" class="Bound">goal-strat</a><a id="1940" class="Symbol">}</a>
      <a id="1948" class="Symbol">→</a> <a id="1950" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1955" class="Symbol">(</a><a id="1956" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="1961" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="1963" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1965" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="1967" href="Meta.Search.Base.html#1582" class="Function">Goal-data</a><a id="1976" class="Symbol">)</a>
    <a id="Tactic-desc.other-atoms"></a><a id="1982" href="Meta.Search.Base.html#1982" class="Field">other-atoms</a> <a id="1994" class="Symbol">:</a> <a id="1996" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2001" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Tactic-desc.instance-helper"></a><a id="2010" href="Meta.Search.Base.html#2010" class="Field">instance-helper</a> <a id="2026" class="Symbol">:</a> <a id="2028" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Tactic-desc.upwards-closure"></a><a id="2037" href="Meta.Search.Base.html#2037" class="Field">upwards-closure</a> <a id="2053" class="Symbol">:</a> <a id="2055" class="Symbol">{</a><a id="2056" href="Meta.Search.Base.html#2056" class="Bound">w</a> <a id="2058" class="Symbol">:</a> <a id="2060" href="Meta.Search.Base.html#946" class="Function">goal-is-stratified</a> <a id="2079" href="Meta.Search.Base.html#1693" class="Bound">goal-strat</a><a id="2089" class="Symbol">}</a> <a id="2091" class="Symbol">→</a> <a id="2093" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2099" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="2108" class="Comment">-- ^ it should have a following signature</a>
    <a id="2154" class="Comment">--   (h₀ h₁ : HLevel) → whatever h₀ A → whatever (h₁ + h₀) A</a>

  <a id="Tactic-desc.atoms"></a><a id="2218" href="Meta.Search.Base.html#2218" class="Function">atoms</a> <a id="2224" class="Symbol">:</a> <a id="2226" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2231" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
  <a id="2238" href="Meta.Search.Base.html#2218" class="Function">atoms</a> <a id="2244" class="Symbol">=</a> <a id="2246" href="Meta.Search.Base.html#1674" class="Bound">goal-name</a> <a id="2256" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2258" href="Meta.Search.Base.html#1982" class="Field">other-atoms</a>

<a id="2271" class="Keyword">open</a> <a id="2276" href="Meta.Search.Base.html#1661" class="Module">Tactic-desc</a>

<a id="2289" class="Keyword">data</a> <a id="Arg-spec"></a><a id="2294" href="Meta.Search.Base.html#2294" class="Datatype">Arg-spec</a> <a id="2303" class="Symbol">:</a> <a id="2305" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a> <a id="2316" class="Symbol">→</a> <a id="2318" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="2323" class="Keyword">where</a>
  <a id="Arg-spec.`level-suc"></a><a id="2331" href="Meta.Search.Base.html#2331" class="InductiveConstructor">`level-suc</a>    <a id="2345" class="Symbol">:</a> <a id="2347" href="Meta.Search.Base.html#2294" class="Datatype">Arg-spec</a> <a id="2356" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a>
  <a id="Arg-spec.`level-minus"></a><a id="2368" href="Meta.Search.Base.html#2368" class="InductiveConstructor">`level-minus</a>  <a id="2382" class="Symbol">:</a> <a id="2384" class="Symbol">(</a><a id="2385" href="Meta.Search.Base.html#2385" class="Bound">n</a> <a id="2387" class="Symbol">:</a> <a id="2389" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2390" class="Symbol">)</a> <a id="2392" class="Symbol">→</a> <a id="2394" href="Meta.Search.Base.html#2294" class="Datatype">Arg-spec</a> <a id="2403" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a>
  <a id="Arg-spec.`search-under"></a><a id="2415" href="Meta.Search.Base.html#2415" class="InductiveConstructor">`search-under</a> <a id="2429" class="Symbol">:</a> <a id="2431" class="Symbol">(</a><a id="2432" href="Meta.Search.Base.html#2432" class="Bound">n</a> <a id="2434" class="Symbol">:</a> <a id="2436" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2437" class="Symbol">)</a> <a id="2439" class="Symbol">(</a><a id="2440" href="Meta.Search.Base.html#2440" class="Bound">subgoal</a> <a id="2448" class="Symbol">:</a> <a id="2450" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2454" class="Symbol">)</a> <a id="2456" class="Symbol">→</a> <a id="2458" href="Meta.Search.Base.html#2294" class="Datatype">Arg-spec</a> <a id="2467" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a>
  <a id="Arg-spec.`meta"></a><a id="2480" href="Meta.Search.Base.html#2480" class="InductiveConstructor">`meta</a>         <a id="2494" class="Symbol">:</a> <a id="2496" href="Meta.Search.Base.html#2294" class="Datatype">Arg-spec</a> <a id="2505" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a>

<a id="2517" class="Keyword">pattern</a> <a id="`search"></a><a id="2525" href="Meta.Search.Base.html#2525" class="InductiveConstructor">`search</a> <a id="2533" href="Meta.Search.Base.html#2555" class="Bound">sg</a>  <a id="2537" class="Symbol">=</a> <a id="2539" href="Meta.Search.Base.html#2415" class="InductiveConstructor">`search-under</a> <a id="2553" class="Number">0</a> <a id="2555" href="Meta.Search.Base.html#2555" class="Bound">sg</a>
<a id="2558" class="Keyword">pattern</a> <a id="`level-same"></a><a id="2566" href="Meta.Search.Base.html#2566" class="InductiveConstructor">`level-same</a> <a id="2578" class="Symbol">=</a> <a id="2580" href="Meta.Search.Base.html#2368" class="InductiveConstructor">`level-minus</a> <a id="2593" class="Number">0</a>

<a id="2596" class="Keyword">data</a> <a id="goal-decomposition"></a><a id="2601" href="Meta.Search.Base.html#2601" class="Datatype">goal-decomposition</a>
  <a id="2622" class="Symbol">{</a><a id="2623" href="Meta.Search.Base.html#2623" class="Bound">ℓ</a><a id="2624" class="Symbol">}</a> <a id="2626" class="Symbol">(</a><a id="2627" href="Meta.Search.Base.html#2627" class="Bound">goal-name</a> <a id="2637" class="Symbol">:</a> <a id="2639" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2643" class="Symbol">)</a> <a id="2645" class="Symbol">{</a><a id="2646" href="Meta.Search.Base.html#2646" class="Bound">goal-strat</a> <a id="2657" class="Symbol">:</a> <a id="2659" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a><a id="2669" class="Symbol">}</a>
  <a id="2673" class="Symbol">⦃</a> <a id="2675" class="Symbol">@</a>irr <a id="2680" href="Meta.Search.Base.html#2680" class="Bound">what</a> <a id="2685" class="Symbol">:</a> <a id="2687" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="2699" href="Meta.Search.Base.html#2627" class="Bound">goal-name</a> <a id="2709" href="Meta.Search.Base.html#2646" class="Bound">goal-strat</a> <a id="2720" class="Symbol">⦄</a> <a id="2722" class="Symbol">(</a><a id="2723" href="Meta.Search.Base.html#2723" class="Bound">T</a> <a id="2725" class="Symbol">:</a> <a id="2727" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="2732" href="Meta.Search.Base.html#2623" class="Bound">ℓ</a><a id="2733" class="Symbol">)</a> <a id="2735" class="Symbol">:</a> <a id="2737" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="2742" class="Keyword">where</a>
    <a id="goal-decomposition.decomp"></a><a id="2752" href="Meta.Search.Base.html#2752" class="InductiveConstructor">decomp</a> <a id="2759" class="Symbol">:</a> <a id="2761" class="Symbol">(</a><a id="2762" href="Meta.Search.Base.html#2762" class="Bound">search-lemma</a> <a id="2775" class="Symbol">:</a> <a id="2777" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2781" class="Symbol">)</a> <a id="2783" class="Symbol">(</a><a id="2784" href="Meta.Search.Base.html#2784" class="Bound">arguments</a> <a id="2794" class="Symbol">:</a> <a id="2796" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2801" class="Symbol">(</a><a id="2802" href="Meta.Search.Base.html#2294" class="Datatype">Arg-spec</a> <a id="2811" href="Meta.Search.Base.html#2646" class="Bound">goal-strat</a><a id="2821" class="Symbol">))</a>
           <a id="2835" class="Symbol">→</a> <a id="2837" href="Meta.Search.Base.html#2601" class="Datatype">goal-decomposition</a> <a id="2856" href="Meta.Search.Base.html#2627" class="Bound">goal-name</a> <a id="2866" href="Meta.Search.Base.html#2723" class="Bound">T</a>

<a id="2869" class="Keyword">private</a>
  <a id="goal-is-native"></a><a id="2879" href="Meta.Search.Base.html#2879" class="Function">goal-is-native</a> <a id="2894" class="Symbol">:</a> <a id="2896" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="2901" class="Symbol">→</a> <a id="2903" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
  <a id="2910" href="Meta.Search.Base.html#2879" class="Function">goal-is-native</a> <a id="2925" class="Symbol">=</a> <a id="2927" href="Data.Bool.Base.html#690" class="Function">Bool.rec</a> <a id="2936" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="2938" href="Data.Empty.Base.html#125" class="Datatype">⊥</a>

<a id="2941" class="Keyword">record</a> <a id="Struct-proj-desc"></a><a id="2948" href="Meta.Search.Base.html#2948" class="Record">Struct-proj-desc</a>
  <a id="2967" class="Symbol">(</a><a id="2968" href="Meta.Search.Base.html#2968" class="Bound">goal-name</a> <a id="2978" class="Symbol">:</a> <a id="2980" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2984" class="Symbol">)</a> <a id="2986" class="Symbol">(</a><a id="2987" href="Meta.Search.Base.html#2987" class="Bound">goal-strat</a> <a id="2998" class="Symbol">:</a> <a id="3000" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a><a id="3010" class="Symbol">)</a>
  <a id="3014" class="Symbol">(</a><a id="3015" href="Meta.Search.Base.html#3015" class="Bound">carrier-name</a> <a id="3028" class="Symbol">:</a> <a id="3030" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="3034" class="Symbol">)</a> <a id="3036" class="Symbol">(</a><a id="3037" href="Meta.Search.Base.html#3037" class="Bound">goal-nat</a> <a id="3046" class="Symbol">:</a> <a id="3048" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="3052" class="Symbol">)</a> <a id="3054" class="Symbol">:</a> <a id="3056" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3061" class="Keyword">where</a>
  <a id="3069" class="Keyword">field</a>
    <a id="Struct-proj-desc.struct-name"></a><a id="3079" href="Meta.Search.Base.html#3079" class="Field">struct-name</a>            <a id="3102" class="Symbol">:</a> <a id="3104" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Struct-proj-desc.struct-args-length"></a><a id="3113" href="Meta.Search.Base.html#3113" class="Field">struct-args-length</a>     <a id="3136" class="Symbol">:</a> <a id="3138" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Struct-proj-desc.goal-projection"></a><a id="3144" href="Meta.Search.Base.html#3144" class="Field">goal-projection</a>        <a id="3167" class="Symbol">:</a> <a id="3169" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Struct-proj-desc.projection-args-length"></a><a id="3178" href="Meta.Search.Base.html#3178" class="Field">projection-args-length</a> <a id="3201" class="Symbol">:</a> <a id="3203" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Struct-proj-desc.level-selector"></a><a id="3209" href="Meta.Search.Base.html#3209" class="Field">level-selector</a>
      <a id="3230" class="Symbol">:</a> <a id="3232" class="Symbol">{</a><a id="3233" href="Meta.Search.Base.html#3233" class="Bound">z</a> <a id="3235" class="Symbol">:</a> <a id="3237" href="Meta.Search.Base.html#2879" class="Function">goal-is-native</a> <a id="3252" href="Meta.Search.Base.html#3037" class="Bound">goal-nat</a><a id="3260" class="Symbol">}</a> <a id="3262" class="Symbol">{</a><a id="3263" href="Meta.Search.Base.html#3263" class="Bound">w</a> <a id="3265" class="Symbol">:</a> <a id="3267" href="Meta.Search.Base.html#946" class="Function">goal-is-stratified</a> <a id="3286" href="Meta.Search.Base.html#2987" class="Bound">goal-strat</a><a id="3296" class="Symbol">}</a>
      <a id="3304" class="Symbol">→</a> <a id="3306" href="Meta.Search.Base.html#1030" class="Function">Selector</a> <a id="3315" href="Meta.Search.Base.html#3113" class="Field">struct-args-length</a>
    <a id="Struct-proj-desc.carrier-selector"></a><a id="3338" href="Meta.Search.Base.html#3338" class="Field">carrier-selector</a>       <a id="3361" class="Symbol">:</a> <a id="3363" href="Meta.Search.Base.html#1030" class="Function">Selector</a> <a id="3372" href="Meta.Search.Base.html#3178" class="Field">projection-args-length</a>

<a id="3396" class="Keyword">open</a> <a id="3401" href="Meta.Search.Base.html#2948" class="Module">Struct-proj-desc</a>

<a id="3419" class="Keyword">private</a> <a id="3427" class="Keyword">variable</a>
  <a id="3438" href="Meta.Search.Base.html#3438" class="Generalizable">A</a> <a id="3440" class="Symbol">:</a> <a id="3442" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3447" href="Meta.Search.Base.html#630" class="Generalizable">ℓ</a>
  <a id="3451" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="3461" href="Meta.Search.Base.html#3461" class="Generalizable">carrier-name</a> <a id="3474" class="Symbol">:</a> <a id="3476" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
  <a id="3483" href="Meta.Search.Base.html#3483" class="Generalizable">goal-nat</a> <a id="3492" class="Symbol">:</a> <a id="3494" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="3501" href="Meta.Search.Base.html#3501" class="Generalizable">n</a> <a id="3503" class="Symbol">:</a> <a id="3505" href="Foundations.Base.html#12909" class="Function">HLevel</a>

<a id="backtrack"></a><a id="3513" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="3523" class="Symbol">:</a> <a id="3525" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3530" href="Agda.Builtin.Reflection.html#8199" class="Datatype">ErrorPart</a> <a id="3540" class="Symbol">→</a> <a id="3542" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3545" href="Meta.Search.Base.html#3438" class="Generalizable">A</a>
<a id="3547" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="3557" href="Meta.Search.Base.html#3557" class="Bound">note</a> <a id="3562" class="Symbol">=</a> <a id="3564" class="Keyword">do</a>
  <a id="3569" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="3580" class="String">&quot;tactic.search&quot;</a> <a id="3596" class="Number">10</a> <a id="3599" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="3601" class="String">&quot;Backtracking search... &quot;</a> <a id="3627" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3629" href="Meta.Search.Base.html#3557" class="Bound">note</a>
  <a id="3636" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="3646" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="3648" class="String">&quot;Search hit a dead-end: &quot;</a> <a id="3674" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3676" href="Meta.Search.Base.html#3557" class="Bound">note</a>

<a id="3682" class="Keyword">private</a>
  <a id="args-list→args-vec"></a><a id="3692" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="3711" class="Symbol">:</a> <a id="3713" class="Symbol">(</a><a id="3714" href="Meta.Search.Base.html#3714" class="Bound">desired-length</a> <a id="3729" class="Symbol">:</a> <a id="3731" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3732" class="Symbol">)</a> <a id="3734" class="Symbol">→</a> <a id="3736" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3741" class="Symbol">(</a><a id="3742" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="3746" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3750" class="Symbol">)</a> <a id="3752" class="Symbol">→</a> <a id="3754" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3757" class="Symbol">(</a><a id="3758" href="Data.Vec.Base.html#235" class="Datatype">Vec</a> <a id="3762" class="Symbol">(</a><a id="3763" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="3767" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3771" class="Symbol">)</a> <a id="3773" href="Meta.Search.Base.html#3714" class="Bound">desired-length</a><a id="3787" class="Symbol">)</a>
  <a id="3791" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="3810" class="Number">0</a> <a id="3812" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3815" class="Symbol">=</a> <a id="3817" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="3822" href="Data.Vec.Base.html#276" class="InductiveConstructor">[]</a>
  <a id="3827" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="3846" class="Number">0</a> <a id="3848" class="Symbol">(_</a> <a id="3851" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3853" class="Symbol">_)</a> <a id="3856" class="Symbol">=</a> <a id="3858" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="3868" class="String">&quot;Too many arguments&quot;</a>
  <a id="3891" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="3910" class="Symbol">(</a><a id="3911" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3915" class="Symbol">_)</a> <a id="3918" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3921" class="Symbol">=</a> <a id="3923" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="3933" class="String">&quot;Too few arguments&quot;</a>
  <a id="3955" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="3974" class="Symbol">(</a><a id="3975" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3979" href="Meta.Search.Base.html#3979" class="Bound">dl</a><a id="3981" class="Symbol">)</a> <a id="3983" class="Symbol">(</a><a id="3984" href="Meta.Search.Base.html#3984" class="Bound">x</a> <a id="3986" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3988" href="Meta.Search.Base.html#3988" class="Bound">xs</a><a id="3990" class="Symbol">)</a> <a id="3992" class="Symbol">=</a> <a id="3994" class="Keyword">do</a>
    <a id="4001" href="Meta.Search.Base.html#4001" class="Bound">ih</a> <a id="4004" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4006" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="4025" href="Meta.Search.Base.html#3979" class="Bound">dl</a> <a id="4028" href="Meta.Search.Base.html#3988" class="Bound">xs</a>
    <a id="4035" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="4040" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="4042" href="Meta.Search.Base.html#3984" class="Bound">x</a> <a id="4044" href="Data.Vec.Base.html#295" class="InductiveConstructor Operator">∷</a> <a id="4046" href="Meta.Search.Base.html#4001" class="Bound">ih</a>

  <a id="compose-goal"></a><a id="4052" href="Meta.Search.Base.html#4052" class="Function">compose-goal</a> <a id="4065" class="Symbol">:</a> <a id="4067" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="4079" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="4089" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="4100" class="Symbol">→</a> <a id="4102" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="4113" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="4124" class="Symbol">→</a> <a id="4126" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4131" class="Symbol">→</a> <a id="4133" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="4140" href="Meta.Search.Base.html#4052" class="Function">compose-goal</a> <a id="4153" class="Symbol">{</a><a id="4154" href="Meta.Search.Base.html#4154" class="Bound">goal-name</a><a id="4163" class="Symbol">}</a> <a id="4165" href="Meta.Search.Base.html#4165" class="Bound">td</a> <a id="4168" href="Meta.Search.Base.html#4168" class="Bound">xlv</a> <a id="4172" href="Meta.Search.Base.html#4172" class="Bound">ty</a> <a id="4175" class="Symbol">=</a> <a id="4177" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="4181" href="Meta.Search.Base.html#4154" class="Bound">goal-name</a> <a id="4191" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="4193" href="Data.Vec.Operations.Inductive.html#662" class="Function">vec→list</a> <a id="4202" class="Symbol">(</a><a id="4203" href="Meta.Search.Base.html#4343" class="Function">go</a> <a id="4206" href="Meta.Search.Base.html#4165" class="Bound">td</a> <a id="4209" href="Meta.Search.Base.html#4168" class="Bound">xlv</a> <a id="4213" href="Meta.Search.Base.html#4239" class="Function">base-args</a><a id="4222" class="Symbol">)</a> <a id="4224" class="Symbol">.</a><a id="4225" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="4229" class="Keyword">where</a>
    <a id="4239" href="Meta.Search.Base.html#4239" class="Function">base-args</a> <a id="4249" class="Symbol">=</a> <a id="4251" href="Data.Vec.Operations.Inductive.html#534" class="Function">replace</a> <a id="4259" class="Symbol">(</a><a id="4260" href="Meta.Search.Base.html#4165" class="Bound">td</a> <a id="4263" class="Symbol">.</a><a id="4264" href="Meta.Search.Base.html#1763" class="Field">goal-selector</a><a id="4277" class="Symbol">)</a> <a id="4279" class="Symbol">(</a><a id="4280" href="Meta.Reflection.html#2572" class="InductiveConstructor">varg</a> <a id="4285" href="Meta.Search.Base.html#4172" class="Bound">ty</a><a id="4287" class="Symbol">)</a> <a id="4289" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="4291" href="Data.Vec.Base.html#627" class="Function">replicate</a> <a id="4301" class="Symbol">(</a><a id="4302" href="Meta.Search.Base.html#4165" class="Bound">td</a> <a id="4305" class="Symbol">.</a><a id="4306" href="Meta.Search.Base.html#1743" class="Field">args-length</a><a id="4317" class="Symbol">)</a> <a id="4319" class="Symbol">(</a><a id="4320" href="Meta.Reflection.html#2607" class="InductiveConstructor">harg</a> <a id="4325" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">Term.unknown</a><a id="4337" class="Symbol">)</a>
    <a id="4343" href="Meta.Search.Base.html#4343" class="Function">go</a> <a id="4346" class="Symbol">:</a> <a id="4348" class="Symbol">∀{</a><a id="4350" href="Meta.Search.Base.html#4350" class="Bound">gn</a> <a id="4353" href="Meta.Search.Base.html#4353" class="Bound">gs</a><a id="4355" class="Symbol">}</a> <a id="4357" class="Symbol">(</a><a id="4358" href="Meta.Search.Base.html#4358" class="Bound">td</a> <a id="4361" class="Symbol">:</a> <a id="4363" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="4375" href="Meta.Search.Base.html#4350" class="Bound">gn</a> <a id="4378" href="Meta.Search.Base.html#4353" class="Bound">gs</a><a id="4380" class="Symbol">)</a> <a id="4382" class="Symbol">→</a> <a id="4384" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="4395" href="Meta.Search.Base.html#4353" class="Bound">gs</a> <a id="4398" class="Symbol">→</a> <a id="4400" href="Data.Vec.Base.html#235" class="Datatype">Vec</a> <a id="4404" class="Symbol">_</a> <a id="4406" class="Symbol">(</a><a id="4407" href="Meta.Search.Base.html#4358" class="Bound">td</a> <a id="4410" class="Symbol">.</a><a id="4411" href="Meta.Search.Base.html#1743" class="Field">args-length</a><a id="4422" class="Symbol">)</a> <a id="4424" class="Symbol">→</a> <a id="4426" href="Data.Vec.Base.html#235" class="Datatype">Vec</a> <a id="4430" class="Symbol">_</a> <a id="4432" class="Symbol">(</a><a id="4433" href="Meta.Search.Base.html#4358" class="Bound">td</a> <a id="4436" class="Symbol">.</a><a id="4437" href="Meta.Search.Base.html#1743" class="Field">args-length</a><a id="4448" class="Symbol">)</a>
    <a id="4454" href="Meta.Search.Base.html#4343" class="Function">go</a> <a id="4457" class="Symbol">{</a><a id="4458" class="Argument">gs</a> <a id="4461" class="Symbol">=</a> <a id="4463" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a><a id="4472" class="Symbol">}</a> <a id="4474" href="Meta.Search.Base.html#4474" class="Bound">td</a> <a id="4477" href="Meta.Search.Base.html#4477" class="Bound">xlv</a> <a id="4481" class="Symbol">=</a> <a id="4483" href="Data.Vec.Operations.Inductive.html#534" class="Function">replace</a> <a id="4491" class="Symbol">(</a><a id="4492" href="Meta.Search.Base.html#4474" class="Bound">td</a> <a id="4495" class="Symbol">.</a><a id="4496" href="Meta.Search.Base.html#1804" class="Field">level-selector</a><a id="4510" class="Symbol">)</a> <a id="4512" class="Symbol">(</a><a id="4513" href="Meta.Reflection.html#2572" class="InductiveConstructor">varg</a> <a id="4518" href="Meta.Search.Base.html#4477" class="Bound">xlv</a><a id="4521" class="Symbol">)</a>
    <a id="4527" href="Meta.Search.Base.html#4343" class="Function">go</a> <a id="4530" class="Symbol">{</a><a id="4531" class="Argument">gs</a> <a id="4534" class="Symbol">=</a> <a id="4536" href="Meta.Search.Base.html#582" class="InductiveConstructor">none</a><a id="4540" class="Symbol">}</a> <a id="4542" class="Symbol">_</a> <a id="4544" class="Symbol">_</a> <a id="4546" class="Symbol">=</a> <a id="4548" href="Foundations.Pi.Base.html#722" class="Function">id</a>

  <a id="decompose-alias"></a><a id="4554" href="Meta.Search.Base.html#4554" class="Function">decompose-alias</a>
    <a id="4574" class="Symbol">:</a> <a id="4576" class="Symbol">(</a><a id="4577" href="Meta.Search.Base.html#4577" class="Bound">actual</a> <a id="4584" class="Symbol">:</a> <a id="4586" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="4590" class="Symbol">)</a>
      <a id="4598" class="Symbol">(</a><a id="4599" href="Meta.Search.Base.html#4599" class="Bound">target</a> <a id="4606" class="Symbol">:</a> <a id="4608" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="4612" class="Symbol">)</a>
      <a id="4620" class="Symbol">(</a><a id="4621" href="Meta.Search.Base.html#4621" class="Bound">args</a> <a id="4626" class="Symbol">:</a> <a id="4628" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4633" class="Symbol">(</a><a id="4634" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="4638" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="4642" class="Symbol">))</a>
    <a id="4649" class="Symbol">→</a> <a id="4651" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="4656" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="4658" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="4660" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="4662" href="Meta.Search.Base.html#1582" class="Function">Goal-data</a>
    <a id="4676" class="Symbol">→</a> <a id="4678" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="4681" class="Symbol">(</a><a id="4682" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="4693" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="4704" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="4706" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="4710" class="Symbol">)</a>
  <a id="4714" href="Meta.Search.Base.html#4554" class="Function">decompose-alias</a> <a id="4730" href="Meta.Search.Base.html#4730" class="Bound">actual</a> <a id="4737" href="Meta.Search.Base.html#4737" class="Bound">target</a> <a id="4744" href="Meta.Search.Base.html#4744" class="Bound">args</a> <a id="4749" class="Symbol">(</a><a id="4750" href="Meta.Search.Base.html#4750" class="Bound">alias-name</a> <a id="4761" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4763" href="Meta.Search.Base.html#4763" class="Bound">lv</a> <a id="4766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4768" href="Meta.Search.Base.html#4768" class="Bound">alias-args-length</a> <a id="4786" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4788" href="Meta.Search.Base.html#4788" class="Bound">sel</a><a id="4791" class="Symbol">)</a> <a id="4793" class="Symbol">=</a> <a id="4795" class="Keyword">do</a>
    <a id="4802" href="Meta.Alt.html#580" class="Function">guard</a> <a id="4808" class="Symbol">(</a><a id="4809" href="Meta.Search.Base.html#4730" class="Bound">actual</a> <a id="4816" href="Meta.Reflection.html#3300" class="Function Operator">name=?</a> <a id="4823" href="Meta.Search.Base.html#4750" class="Bound">alias-name</a><a id="4833" class="Symbol">)</a>
    <a id="4839" href="Meta.Search.Base.html#4839" class="Bound">argsᵥ</a> <a id="4845" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4847" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="4866" href="Meta.Search.Base.html#4768" class="Bound">alias-args-length</a> <a id="4884" href="Meta.Search.Base.html#4744" class="Bound">args</a>
    <a id="4893" href="Meta.Search.Base.html#4893" class="Bound">ty</a> <a id="4896" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4898" href="Meta.Search.Base.html#1071" class="Function">select-arg</a> <a id="4909" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="4917" href="Meta.Search.Base.html#4788" class="Bound">sel</a> <a id="4921" href="Meta.Search.Base.html#4839" class="Bound">argsᵥ</a>
    <a id="4931" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="4936" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="4938" href="Meta.Search.Base.html#1471" class="Function">fixed-level</a> <a id="4950" href="Meta.Search.Base.html#4763" class="Bound">lv</a> <a id="4953" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4955" href="Meta.Search.Base.html#4893" class="Bound">ty</a>

  <a id="4961" class="Comment">-- TODO refactor this abomination</a>
  <a id="decompose-goal′"></a><a id="4997" href="Meta.Search.Base.html#4997" class="Function">decompose-goal′</a> <a id="5013" class="Symbol">:</a> <a id="5015" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="5027" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="5037" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="5048" class="Symbol">→</a> <a id="5050" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5055" class="Symbol">→</a> <a id="5057" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="5060" class="Symbol">(</a><a id="5061" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="5072" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="5083" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="5085" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5089" class="Symbol">)</a>
  <a id="5093" href="Meta.Search.Base.html#4997" class="Function">decompose-goal′</a> <a id="5109" class="Symbol">{</a><a id="5110" href="Meta.Search.Base.html#5110" class="Bound">goal-name</a><a id="5119" class="Symbol">}</a> <a id="5121" class="Symbol">{</a><a id="5122" class="Argument">goal-strat</a> <a id="5133" class="Symbol">=</a> <a id="5135" href="Meta.Search.Base.html#582" class="InductiveConstructor">none</a><a id="5139" class="Symbol">}</a> <a id="5141" href="Meta.Search.Base.html#5141" class="Bound">td</a> <a id="5144" href="Meta.Search.Base.html#5144" class="Bound">ty</a> <a id="5147" class="Symbol">=</a> <a id="5149" class="Keyword">do</a>
    <a id="5156" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="5160" href="Meta.Search.Base.html#5160" class="Bound">actual-goal-name</a> <a id="5177" href="Meta.Search.Base.html#5177" class="Bound">args</a> <a id="5182" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5184" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="5189" href="Meta.Search.Base.html#5144" class="Bound">ty</a> <a id="5192" class="Keyword">where</a>
      <a id="5204" href="Meta.Search.Base.html#5204" class="CatchallClause Bound">x</a> <a id="5206" class="Symbol">→</a> <a id="5208" href="Meta.Search.Base.html#3513" class="Function">backtrack</a>
            <a id="5230" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="5232" class="String">&quot;Goal type isn&#39;t an application of &quot;</a> <a id="5269" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5271" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="5279" href="Meta.Search.Base.html#5110" class="Bound">goal-name</a>
            <a id="5301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5303" class="String">&quot;\nIt&#39;s &quot;</a> <a id="5313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5315" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="5323" href="Meta.Search.Base.html#5204" class="Bound">x</a> <a id="5325" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="5331" href="Meta.Alt.html#580" class="Function">guard</a> <a id="5337" class="Symbol">(</a><a id="5338" href="Meta.Search.Base.html#5160" class="Bound">actual-goal-name</a> <a id="5355" href="Meta.Reflection.html#3300" class="Function Operator">name=?</a> <a id="5362" href="Meta.Search.Base.html#5110" class="Bound">goal-name</a><a id="5371" class="Symbol">)</a>
    <a id="5377" href="Meta.Search.Base.html#5377" class="Bound">argsᵥ</a> <a id="5383" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5385" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="5404" class="Symbol">(</a><a id="5405" href="Meta.Search.Base.html#5141" class="Bound">td</a> <a id="5408" class="Symbol">.</a><a id="5409" href="Meta.Search.Base.html#1743" class="Field">args-length</a><a id="5420" class="Symbol">)</a> <a id="5422" href="Meta.Search.Base.html#5177" class="Bound">args</a>
    <a id="5431" href="Meta.Search.Base.html#5431" class="Bound">ty</a> <a id="5434" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5436" href="Meta.Search.Base.html#1071" class="Function">select-arg</a> <a id="5447" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="5455" class="Symbol">(</a><a id="5456" href="Meta.Search.Base.html#5141" class="Bound">td</a> <a id="5459" class="Symbol">.</a><a id="5460" href="Meta.Search.Base.html#1763" class="Field">goal-selector</a><a id="5473" class="Symbol">)</a> <a id="5475" href="Meta.Search.Base.html#5377" class="Bound">argsᵥ</a>
    <a id="5485" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="5490" class="Symbol">(</a><a id="5491" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="5494" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5496" href="Meta.Search.Base.html#5431" class="Bound">ty</a><a id="5498" class="Symbol">)</a>
  <a id="5502" href="Meta.Search.Base.html#4997" class="Function">decompose-goal′</a> <a id="5518" class="Symbol">{</a><a id="5519" href="Meta.Search.Base.html#5519" class="Bound">goal-name</a><a id="5528" class="Symbol">}</a> <a id="5530" class="Symbol">{</a><a id="5531" class="Argument">goal-strat</a> <a id="5542" class="Symbol">=</a> <a id="5544" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a><a id="5553" class="Symbol">}</a> <a id="5555" href="Meta.Search.Base.html#5555" class="Bound">td</a> <a id="5558" href="Meta.Search.Base.html#5558" class="Bound">ty</a> <a id="5561" class="Symbol">=</a> <a id="5563" class="Keyword">do</a>
    <a id="5570" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="5574" href="Meta.Search.Base.html#5574" class="Bound">actual-goal-name</a> <a id="5591" href="Meta.Search.Base.html#5591" class="Bound">args</a> <a id="5596" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5598" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="5603" href="Meta.Search.Base.html#5558" class="Bound">ty</a> <a id="5606" class="Keyword">where</a>
      <a id="5618" class="CatchallClause Symbol">_</a> <a id="5620" class="Symbol">→</a> <a id="5622" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="5632" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="5634" class="String">&quot;Goal type isn&#39;t an application of &quot;</a> <a id="5671" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5673" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="5681" href="Meta.Search.Base.html#5519" class="Bound">goal-name</a> <a id="5691" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="5697" href="Meta.Foldable.html#489" class="Function">nondet</a> <a id="5704" class="Symbol">(</a><a id="5705" href="Meta.Idiom.html#181" class="InductiveConstructor">eff</a> <a id="5709" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="5713" class="Symbol">)</a> <a id="5715" class="Symbol">(</a><a id="5716" href="Meta.Search.Base.html#5555" class="Bound">td</a> <a id="5719" class="Symbol">.</a><a id="5720" href="Meta.Search.Base.html#1890" class="Field">aliases</a><a id="5727" class="Symbol">)</a> <a id="5729" class="Symbol">(</a><a id="5730" href="Meta.Search.Base.html#4554" class="Function">decompose-alias</a> <a id="5746" href="Meta.Search.Base.html#5574" class="Bound">actual-goal-name</a> <a id="5763" href="Meta.Search.Base.html#5558" class="Bound">ty</a> <a id="5766" href="Meta.Search.Base.html#5591" class="Bound">args</a><a id="5770" class="Symbol">)</a> <a id="5772" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="5776" class="Keyword">do</a>
      <a id="5785" href="Meta.Alt.html#580" class="Function">guard</a> <a id="5791" class="Symbol">(</a><a id="5792" href="Meta.Search.Base.html#5574" class="Bound">actual-goal-name</a> <a id="5809" href="Meta.Reflection.html#3300" class="Function Operator">name=?</a> <a id="5816" href="Meta.Search.Base.html#5519" class="Bound">goal-name</a><a id="5825" class="Symbol">)</a>
      <a id="5833" href="Meta.Search.Base.html#5833" class="Bound">argsᵥ</a> <a id="5839" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5841" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="5860" class="Symbol">(</a><a id="5861" href="Meta.Search.Base.html#5555" class="Bound">td</a> <a id="5864" class="Symbol">.</a><a id="5865" href="Meta.Search.Base.html#1743" class="Field">args-length</a><a id="5876" class="Symbol">)</a> <a id="5878" href="Meta.Search.Base.html#5591" class="Bound">args</a>
      <a id="5889" href="Meta.Search.Base.html#5889" class="Bound">ty</a> <a id="5892" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5894" href="Meta.Search.Base.html#1071" class="Function">select-arg</a> <a id="5905" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="5913" class="Symbol">(</a><a id="5914" href="Meta.Search.Base.html#5555" class="Bound">td</a> <a id="5917" class="Symbol">.</a><a id="5918" href="Meta.Search.Base.html#1763" class="Field">goal-selector</a><a id="5931" class="Symbol">)</a> <a id="5933" href="Meta.Search.Base.html#5833" class="Bound">argsᵥ</a>
      <a id="5945" href="Meta.Search.Base.html#5945" class="Bound">xlv</a> <a id="5949" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5951" href="Meta.Search.Base.html#1071" class="Function">select-arg</a> <a id="5962" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="5970" class="Symbol">(</a><a id="5971" href="Meta.Search.Base.html#5555" class="Bound">td</a> <a id="5974" class="Symbol">.</a><a id="5975" href="Meta.Search.Base.html#1804" class="Field">level-selector</a><a id="5989" class="Symbol">)</a> <a id="5991" href="Meta.Search.Base.html#5833" class="Bound">argsᵥ</a>
      <a id="6003" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="6008" class="Symbol">(</a><a id="6009" href="Meta.Search.Base.html#5945" class="Bound">xlv</a> <a id="6013" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6015" href="Meta.Search.Base.html#5889" class="Bound">ty</a><a id="6017" class="Symbol">)</a>

  <a id="decompose-goal"></a><a id="6022" href="Meta.Search.Base.html#6022" class="Function">decompose-goal</a> <a id="6037" class="Symbol">:</a> <a id="6039" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="6051" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="6061" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="6072" class="Symbol">→</a> <a id="6074" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6079" class="Symbol">→</a> <a id="6081" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="6084" class="Symbol">(</a><a id="6085" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="6096" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="6107" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="6109" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="6113" class="Symbol">)</a>
  <a id="6117" href="Meta.Search.Base.html#6022" class="Function">decompose-goal</a> <a id="6132" href="Meta.Search.Base.html#6132" class="Bound">td</a> <a id="6135" href="Meta.Search.Base.html#6135" class="Bound">goal</a> <a id="6140" class="Symbol">=</a> <a id="6142" class="Keyword">do</a>
    <a id="6149" href="Meta.Search.Base.html#6149" class="Bound">ty</a> <a id="6152" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6154" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="6169" class="Symbol">(</a><a id="6170" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="6176" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6178" href="Meta.Search.Base.html#2218" class="Function">atoms</a> <a id="6184" href="Meta.Search.Base.html#6132" class="Bound">td</a><a id="6186" class="Symbol">)</a> <a id="6188" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="6190" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="6200" href="Meta.Search.Base.html#6135" class="Bound">goal</a> <a id="6205" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="6209" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
    <a id="6220" href="Meta.Search.Base.html#4997" class="Function">decompose-goal′</a> <a id="6236" href="Meta.Search.Base.html#6132" class="Bound">td</a> <a id="6239" href="Meta.Search.Base.html#6149" class="Bound">ty</a>

  <a id="lift-sol"></a><a id="6245" href="Meta.Search.Base.html#6245" class="Function">lift-sol</a> <a id="6254" class="Symbol">:</a> <a id="6256" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="6268" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="6278" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="6288" class="Symbol">→</a> <a id="6290" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6295" class="Symbol">→</a> <a id="6297" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6302" class="Symbol">→</a> <a id="6304" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6306" class="Symbol">→</a> <a id="6308" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="6311" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="6318" href="Meta.Search.Base.html#6245" class="Function">lift-sol</a> <a id="6327" href="Meta.Search.Base.html#6327" class="Bound">td</a> <a id="6330" href="Meta.Search.Base.html#6330" class="Bound">tm</a> <a id="6333" class="Symbol">_</a> <a id="6335" class="Number">0</a>  <a id="6338" class="Symbol">=</a> <a id="6340" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="6345" href="Meta.Search.Base.html#6330" class="Bound">tm</a>
  <a id="6350" href="Meta.Search.Base.html#6245" class="CatchallClause Function">lift-sol</a><a id="6358" class="CatchallClause"> </a><a id="6359" href="Meta.Search.Base.html#6359" class="CatchallClause Bound">td</a><a id="6361" class="CatchallClause"> </a><a id="6362" href="Meta.Search.Base.html#6362" class="CatchallClause Bound">tm</a><a id="6364" class="CatchallClause"> </a><a id="6365" href="Meta.Search.Base.html#6365" class="CatchallClause Bound">l₁</a><a id="6367" class="CatchallClause"> </a><a id="6368" href="Meta.Search.Base.html#6368" class="CatchallClause Bound">l</a> <a id="6370" class="Symbol">=</a> <a id="6372" class="Keyword">do</a>
    <a id="6379" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6384" href="Meta.Search.Base.html#6384" class="Bound">uc</a> <a id="6387" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6389" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="6394" class="Symbol">(</a><a id="6395" href="Meta.Search.Base.html#6359" class="Bound">td</a> <a id="6398" class="Symbol">.</a><a id="6399" href="Meta.Search.Base.html#2037" class="Field">upwards-closure</a><a id="6414" class="Symbol">)</a> <a id="6416" class="Keyword">where</a>
      <a id="6428" class="CatchallClause Symbol">_</a> <a id="6430" class="Symbol">→</a> <a id="6432" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="6442" class="String">&quot;Goal is not liftable&quot;</a>
    <a id="6469" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="6474" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="6476" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="6480" href="Meta.Search.Base.html#6384" class="Bound">uc</a> <a id="6483" class="Symbol">(</a><a id="6484" href="Meta.Search.Base.html#6365" class="Bound">l₁</a> <a id="6487" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="6490" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6494" class="Symbol">(</a><a id="6495" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6499" href="Meta.Search.Base.html#6368" class="Bound">l</a><a id="6500" class="Symbol">)</a> <a id="6502" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="6505" href="Meta.Search.Base.html#6362" class="Bound">tm</a> <a id="6508" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="6511" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6513" class="Symbol">)</a>

  <a id="suc-term"></a><a id="6518" href="Meta.Search.Base.html#6518" class="Function">suc-term</a> <a id="6527" class="Symbol">:</a> <a id="6529" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6534" class="Symbol">→</a> <a id="6536" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="6543" href="Meta.Search.Base.html#6518" class="Function">suc-term</a> <a id="6552" class="Symbol">(</a><a id="6553" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6557" class="Symbol">(</a><a id="6558" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6562" href="Meta.Search.Base.html#6562" class="Bound">n</a><a id="6563" class="Symbol">))</a> <a id="6566" class="Symbol">=</a> <a id="6568" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6572" class="Symbol">(</a><a id="6573" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6577" class="Symbol">(</a><a id="6578" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6582" href="Meta.Search.Base.html#6562" class="Bound">n</a><a id="6583" class="Symbol">))</a>
  <a id="6588" href="Meta.Search.Base.html#6518" class="CatchallClause Function">suc-term</a><a id="6596" class="CatchallClause"> </a><a id="6597" href="Meta.Search.Base.html#6597" class="CatchallClause Bound">t</a> <a id="6599" class="Symbol">=</a> <a id="6601" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="6605" class="Symbol">(</a><a id="6606" class="Keyword">quote</a> <a id="6612" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="6615" class="Symbol">)</a> <a id="6617" class="Symbol">(</a><a id="6618" href="Meta.Search.Base.html#6597" class="Bound">t</a> <a id="6620" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="6623" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6625" class="Symbol">)</a>

  <a id="pred-term"></a><a id="6630" href="Meta.Search.Base.html#6630" class="Function">pred-term</a> <a id="6640" class="Symbol">:</a> <a id="6642" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6647" class="Symbol">→</a> <a id="6649" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6655" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="6662" href="Meta.Search.Base.html#6630" class="Function">pred-term</a> <a id="6672" class="Symbol">(</a><a id="6673" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="6677" class="Symbol">(</a><a id="6678" class="Keyword">quote</a> <a id="6684" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="6687" class="Symbol">)</a> <a id="6689" class="Symbol">(</a><a id="6690" href="Meta.Search.Base.html#6690" class="Bound">x</a> <a id="6692" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="6695" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6697" class="Symbol">))</a> <a id="6700" class="Symbol">=</a> <a id="6702" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6707" href="Meta.Search.Base.html#6690" class="Bound">x</a>
  <a id="6711" href="Meta.Search.Base.html#6630" class="Function">pred-term</a> <a id="6721" class="Symbol">(</a><a id="6722" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6726" class="Symbol">(</a><a id="6727" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6731" href="Meta.Search.Base.html#6731" class="Bound">n</a><a id="6732" class="Symbol">))</a> <a id="6735" class="Keyword">with</a> <a id="6740" href="Meta.Search.Base.html#6731" class="Bound">n</a>
  <a id="6744" class="Symbol">...</a> <a id="6748" class="Symbol">|</a> <a id="6750" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6754" href="Meta.Search.Base.html#6754" class="Bound">k</a> <a id="6756" class="Symbol">=</a> <a id="6758" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6763" class="Symbol">(</a><a id="6764" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6768" class="Symbol">(</a><a id="6769" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6773" href="Meta.Search.Base.html#6754" class="Bound">k</a><a id="6774" class="Symbol">))</a>
  <a id="6779" class="CatchallClause Symbol">...</a><a id="6782" class="CatchallClause"> </a><a id="6783" class="CatchallClause Symbol">|</a><a id="6784" class="CatchallClause"> </a><a id="6785" class="CatchallClause Symbol">_</a> <a id="6787" class="Symbol">=</a> <a id="6789" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="6799" href="Meta.Search.Base.html#6630" class="CatchallClause Function">pred-term</a><a id="6808" class="CatchallClause"> </a><a id="6809" class="CatchallClause Symbol">_</a> <a id="6811" class="Symbol">=</a> <a id="6813" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="lifting-loop"></a><a id="6824" href="Meta.Search.Base.html#6824" class="Function">lifting-loop</a> <a id="6837" class="Symbol">:</a> <a id="6839" class="Symbol">(</a><a id="6840" href="Meta.Search.Base.html#6840" class="Bound">fuel</a> <a id="6845" class="Symbol">:</a> <a id="6847" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="6848" class="Symbol">)</a> <a id="6850" class="Symbol">→</a> <a id="6852" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="6864" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="6874" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="6884" class="Symbol">→</a> <a id="6886" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6888" class="Symbol">→</a> <a id="6890" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6895" class="Symbol">→</a> <a id="6897" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6902" class="Symbol">→</a> <a id="6904" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6909" class="Symbol">→</a> <a id="6911" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6916" class="Symbol">→</a> <a id="6918" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="6921" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="6925" href="Meta.Search.Base.html#6824" class="Function">lifting-loop</a> <a id="6938" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>       <a id="6949" href="Meta.Search.Base.html#6949" class="Bound">td</a> <a id="6952" class="Symbol">_</a> <a id="6954" class="Symbol">_</a> <a id="6956" class="Symbol">_</a> <a id="6958" class="Symbol">_</a> <a id="6960" class="Symbol">_</a> <a id="6962" class="Symbol">=</a> <a id="6964" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="6974" class="String">&quot;Lifting loop ran out of fuel&quot;</a>
  <a id="7007" href="Meta.Search.Base.html#6824" class="Function">lifting-loop</a> <a id="7020" class="Symbol">(</a><a id="7021" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7025" href="Meta.Search.Base.html#7025" class="Bound">fuel</a><a id="7029" class="Symbol">)</a> <a id="7031" href="Meta.Search.Base.html#7031" class="Bound">td</a> <a id="7034" href="Meta.Search.Base.html#7034" class="Bound">it</a> <a id="7037" href="Meta.Search.Base.html#7037" class="Bound">solution</a> <a id="7046" href="Meta.Search.Base.html#7046" class="Bound">goal</a> <a id="7051" href="Meta.Search.Base.html#7051" class="Bound">l₁</a> <a id="7054" href="Meta.Search.Base.html#7054" class="Bound">l₂</a> <a id="7057" class="Symbol">=</a>
    <a id="7063" href="Meta.Search.Base.html#7279" class="Function">let&#39;s-hope</a> <a id="7074" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="7078" class="Keyword">do</a>
      <a id="7087" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7092" href="Meta.Search.Base.html#7092" class="Bound">l₂′</a> <a id="7096" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="7098" href="Meta.Search.Base.html#6630" class="Function">pred-term</a> <a id="7108" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="7112" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="7122" href="Meta.Search.Base.html#7054" class="Bound">l₂</a> <a id="7125" class="Keyword">where</a>
        <a id="7139" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="7147" class="Symbol">→</a> <a id="7149" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="7159" class="String">&quot;Lifting loop reached its end with no success&quot;</a>
      <a id="7212" href="Meta.Search.Base.html#6824" class="Function">lifting-loop</a> <a id="7225" href="Meta.Search.Base.html#7025" class="Bound">fuel</a> <a id="7230" href="Meta.Search.Base.html#7031" class="Bound">td</a> <a id="7233" class="Symbol">(</a><a id="7234" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7238" href="Meta.Search.Base.html#7034" class="Bound">it</a><a id="7240" class="Symbol">)</a> <a id="7242" href="Meta.Search.Base.html#7037" class="Bound">solution</a> <a id="7251" href="Meta.Search.Base.html#7046" class="Bound">goal</a> <a id="7256" href="Meta.Search.Base.html#7051" class="Bound">l₁</a> <a id="7259" href="Meta.Search.Base.html#7092" class="Bound">l₂′</a>
    <a id="7267" class="Keyword">where</a>
      <a id="7279" href="Meta.Search.Base.html#7279" class="Function">let&#39;s-hope</a> <a id="7290" class="Symbol">:</a> <a id="7292" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="7295" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="7303" href="Meta.Search.Base.html#7279" class="Function">let&#39;s-hope</a> <a id="7314" class="Symbol">=</a> <a id="7316" class="Keyword">do</a>
        <a id="7327" href="Meta.Search.Base.html#7327" class="Bound">final-solution</a> <a id="7342" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="7344" href="Meta.Search.Base.html#6245" class="Function">lift-sol</a> <a id="7353" href="Meta.Search.Base.html#7031" class="Bound">td</a> <a id="7356" href="Meta.Search.Base.html#7037" class="Bound">solution</a> <a id="7365" href="Meta.Search.Base.html#7051" class="Bound">l₁</a> <a id="7368" href="Meta.Search.Base.html#7034" class="Bound">it</a>
        <a id="7379" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="7390" class="String">&quot;tactic.search&quot;</a> <a id="7406" class="Number">30</a>
          <a id="7419" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="7421" class="String">&quot;Lifting loop: Trying &quot;</a> <a id="7445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7447" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="7455" href="Meta.Search.Base.html#7327" class="Bound">final-solution</a> <a id="7470" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7472" class="String">&quot; for level &quot;</a> <a id="7486" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7488" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="7496" href="Meta.Search.Base.html#7054" class="Bound">l₂</a> <a id="7499" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="7509" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="7515" href="Meta.Search.Base.html#7046" class="Bound">goal</a> <a id="7520" href="Meta.Search.Base.html#7327" class="Bound">final-solution</a>

  <a id="get-level-from-struct"></a><a id="7538" href="Meta.Search.Base.html#7538" class="Function">get-level-from-struct</a> <a id="7560" class="Symbol">:</a> <a id="7562" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="7574" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="7584" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="7595" class="Symbol">→</a> <a id="7597" href="Meta.Search.Base.html#2948" class="Record">Struct-proj-desc</a> <a id="7614" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="7624" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="7635" href="Meta.Search.Base.html#3461" class="Generalizable">carrier-name</a> <a id="7648" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="7653" class="Symbol">→</a> <a id="7655" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7660" class="Symbol">→</a> <a id="7662" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="7665" class="Symbol">(</a><a id="7666" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="7677" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a><a id="7687" class="Symbol">)</a>
  <a id="7691" href="Meta.Search.Base.html#7538" class="Function">get-level-from-struct</a> <a id="7713" class="Symbol">{</a><a id="7714" class="Argument">goal-strat</a> <a id="7725" class="Symbol">=</a> <a id="7727" href="Meta.Search.Base.html#582" class="InductiveConstructor">none</a><a id="7731" class="Symbol">}</a> <a id="7733" class="Symbol">_</a> <a id="7735" class="Symbol">_</a> <a id="7737" class="Symbol">_</a> <a id="7739" class="Symbol">=</a> <a id="7741" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="7746" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
  <a id="7751" href="Meta.Search.Base.html#7538" class="Function">get-level-from-struct</a> <a id="7773" class="Symbol">{</a><a id="7774" href="Meta.Search.Base.html#7774" class="Bound">goal-name</a><a id="7783" class="Symbol">}</a> <a id="7785" class="Symbol">{</a><a id="7786" class="Argument">goal-strat</a> <a id="7797" class="Symbol">=</a> <a id="7799" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a><a id="7808" class="Symbol">}</a> <a id="7810" href="Meta.Search.Base.html#7810" class="Bound">td</a> <a id="7813" href="Meta.Search.Base.html#7813" class="Bound">spd</a> <a id="7817" href="Meta.Search.Base.html#7817" class="Bound">ty</a> <a id="7820" class="Symbol">=</a> <a id="7822" class="Keyword">do</a>
    <a id="7829" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="7833" href="Meta.Search.Base.html#7833" class="Bound">actual-goal-name</a> <a id="7850" href="Meta.Search.Base.html#7850" class="Bound">args</a> <a id="7855" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="7857" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="7864" href="Meta.Search.Base.html#7817" class="Bound">ty</a> <a id="7867" class="Keyword">where</a>
      <a id="7879" class="CatchallClause Symbol">_</a> <a id="7881" class="Symbol">→</a> <a id="7883" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="7893" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="7895" class="String">&quot;Structure type isn&#39;t an application of &quot;</a> <a id="7937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7939" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="7947" href="Meta.Search.Base.html#7774" class="Bound">goal-name</a> <a id="7957" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="7963" href="Meta.Alt.html#580" class="Function">guard</a> <a id="7969" class="Symbol">(</a><a id="7970" href="Meta.Search.Base.html#7833" class="Bound">actual-goal-name</a> <a id="7987" href="Meta.Reflection.html#3300" class="Function Operator">name=?</a> <a id="7994" class="Symbol">(</a><a id="7995" href="Meta.Search.Base.html#7813" class="Bound">spd</a> <a id="7999" class="Symbol">.</a><a id="8000" href="Meta.Search.Base.html#3079" class="Field">struct-name</a><a id="8011" class="Symbol">))</a>
    <a id="8018" href="Meta.Search.Base.html#8018" class="Bound">argsᵥ</a> <a id="8024" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8026" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="8045" class="Symbol">(</a><a id="8046" href="Meta.Search.Base.html#7813" class="Bound">spd</a> <a id="8050" class="Symbol">.</a><a id="8051" href="Meta.Search.Base.html#3113" class="Field">struct-args-length</a><a id="8069" class="Symbol">)</a> <a id="8071" href="Meta.Search.Base.html#7850" class="Bound">args</a>
    <a id="8080" href="Meta.Search.Base.html#8080" class="Bound">lv</a> <a id="8083" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8085" href="Meta.Search.Base.html#1071" class="Function">select-arg</a> <a id="8096" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="8104" class="Symbol">(</a><a id="8105" href="Meta.Search.Base.html#7813" class="Bound">spd</a> <a id="8109" class="Symbol">.</a><a id="8110" href="Meta.Search.Base.html#3209" class="Field">level-selector</a><a id="8124" class="Symbol">)</a> <a id="8126" href="Meta.Search.Base.html#8018" class="Bound">argsᵥ</a>
    <a id="8136" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="8146" href="Meta.Search.Base.html#8080" class="Bound">lv</a>

  <a id="treat-as-structured-type"></a><a id="8152" href="Meta.Search.Base.html#8152" class="Function">treat-as-structured-type</a> <a id="8177" class="Symbol">:</a> <a id="8179" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="8191" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="8201" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="8212" class="Symbol">→</a> <a id="8214" href="Meta.Search.Base.html#2948" class="Record">Struct-proj-desc</a> <a id="8231" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="8241" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="8252" href="Meta.Search.Base.html#3461" class="Generalizable">carrier-name</a> <a id="8265" href="Meta.Search.Base.html#3483" class="Generalizable">goal-nat</a> <a id="8274" class="Symbol">→</a> <a id="8276" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8281" class="Symbol">→</a> <a id="8283" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="8286" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="8290" href="Meta.Search.Base.html#8152" class="Function">treat-as-structured-type</a> <a id="8315" href="Meta.Search.Base.html#8315" class="Bound">td</a> <a id="8318" href="Meta.Search.Base.html#8318" class="Bound">spd</a> <a id="8322" href="Meta.Search.Base.html#8322" class="Bound">goal</a> <a id="8327" class="Symbol">=</a> <a id="8329" class="Keyword">do</a>
    <a id="8336" class="Symbol">(</a><a id="8337" href="Meta.Search.Base.html#8337" class="Bound">wanted-xlevel</a> <a id="8351" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8353" href="Meta.Search.Base.html#8353" class="Bound">ty</a><a id="8355" class="Symbol">)</a> <a id="8357" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8359" href="Meta.Search.Base.html#6022" class="Function">decompose-goal</a> <a id="8374" href="Meta.Search.Base.html#8315" class="Bound">td</a> <a id="8377" href="Meta.Search.Base.html#8322" class="Bound">goal</a>

    <a id="8387" href="Meta.Search.Base.html#8387" class="Bound">ty</a> <a id="8390" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8392" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="8399" href="Meta.Search.Base.html#8353" class="Bound">ty</a>

    <a id="8407" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="8411" href="Meta.Search.Base.html#8411" class="Bound">namen</a> <a id="8417" href="Meta.Search.Base.html#8417" class="Bound">args</a> <a id="8422" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8424" href="Agda.Builtin.Reflection.html#8645" class="Postulate">returnTC</a> <a id="8433" href="Meta.Search.Base.html#8387" class="Bound">ty</a>
      <a id="8442" class="Keyword">where</a> <a id="8448" href="Meta.Search.Base.html#8448" class="CatchallClause Bound">what</a> <a id="8453" class="Symbol">→</a> <a id="8455" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="8465" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="8467" class="String">&quot;Thing isn&#39;t an application, it is &quot;</a> <a id="8504" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8506" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="8514" href="Meta.Search.Base.html#8448" class="Bound">what</a> <a id="8519" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

    <a id="8526" href="Meta.Search.Base.html#8526" class="Bound">argsᵥ</a> <a id="8532" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8534" href="Meta.Search.Base.html#3692" class="Function">args-list→args-vec</a> <a id="8553" class="Symbol">(</a><a id="8554" href="Meta.Search.Base.html#8318" class="Bound">spd</a> <a id="8558" class="Symbol">.</a><a id="8559" href="Meta.Search.Base.html#3178" class="Field">projection-args-length</a><a id="8581" class="Symbol">)</a> <a id="8583" href="Meta.Search.Base.html#8417" class="Bound">args</a>
    <a id="8592" href="Meta.Search.Base.html#8592" class="Bound">carrier-term</a> <a id="8605" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8607" href="Meta.Search.Base.html#1071" class="Function">select-arg</a> <a id="8618" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="8626" class="Symbol">(</a><a id="8627" href="Meta.Search.Base.html#8318" class="Bound">spd</a> <a id="8631" class="Symbol">.</a><a id="8632" href="Meta.Search.Base.html#3338" class="Field">carrier-selector</a><a id="8648" class="Symbol">)</a> <a id="8650" href="Meta.Search.Base.html#8526" class="Bound">argsᵥ</a>
    <a id="8660" href="Meta.Search.Base.html#8713" class="Function">go</a> <a id="8663" href="Meta.Search.Base.html#8315" class="Bound">td</a> <a id="8666" href="Meta.Search.Base.html#8318" class="Bound">spd</a> <a id="8670" href="Meta.Search.Base.html#8337" class="Bound">wanted-xlevel</a> <a id="8684" href="Meta.Search.Base.html#8592" class="Bound">carrier-term</a>
    <a id="8701" class="Keyword">where</a>
      <a id="8713" href="Meta.Search.Base.html#8713" class="Function">go</a> <a id="8716" class="Symbol">:</a> <a id="8718" class="Symbol">∀{</a><a id="8720" href="Meta.Search.Base.html#8720" class="Bound">gn</a> <a id="8723" href="Meta.Search.Base.html#8723" class="Bound">gs</a> <a id="8726" href="Meta.Search.Base.html#8726" class="Bound">gin</a><a id="8729" class="Symbol">}</a> <a id="8731" class="Symbol">(</a><a id="8732" href="Meta.Search.Base.html#8732" class="Bound">td</a> <a id="8735" class="Symbol">:</a> <a id="8737" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="8749" href="Meta.Search.Base.html#8720" class="Bound">gn</a> <a id="8752" href="Meta.Search.Base.html#8723" class="Bound">gs</a><a id="8754" class="Symbol">)</a> <a id="8756" class="Symbol">(</a><a id="8757" href="Meta.Search.Base.html#8757" class="Bound">spd</a> <a id="8761" class="Symbol">:</a> <a id="8763" href="Meta.Search.Base.html#2948" class="Record">Struct-proj-desc</a> <a id="8780" href="Meta.Search.Base.html#8720" class="Bound">gn</a> <a id="8783" href="Meta.Search.Base.html#8723" class="Bound">gs</a> <a id="8786" href="Meta.Search.Base.html#3461" class="Generalizable">carrier-name</a> <a id="8799" href="Meta.Search.Base.html#8726" class="Bound">gin</a><a id="8802" class="Symbol">)</a> <a id="8804" class="Symbol">→</a> <a id="8806" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="8817" href="Meta.Search.Base.html#8723" class="Bound">gs</a> <a id="8820" class="Symbol">→</a> <a id="8822" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8827" class="Symbol">→</a> <a id="8829" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="8832" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="8840" href="Meta.Search.Base.html#8713" class="Function">go</a> <a id="8843" class="Symbol">{</a><a id="8844" class="Argument">gs</a> <a id="8847" class="Symbol">=</a> <a id="8849" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a><a id="8858" class="Symbol">}</a> <a id="8860" class="Symbol">{</a><a id="8861" class="Argument">gin</a> <a id="8865" class="Symbol">=</a> <a id="8867" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="8871" class="Symbol">}</a> <a id="8873" href="Meta.Search.Base.html#8873" class="Bound">td</a> <a id="8876" href="Meta.Search.Base.html#8876" class="Bound">spd</a> <a id="8880" href="Meta.Search.Base.html#8880" class="Bound">wanted-xlevel</a> <a id="8894" href="Meta.Search.Base.html#8894" class="Bound">carrier-term</a> <a id="8907" class="Symbol">=</a> <a id="8909" class="Keyword">do</a>
        <a id="8920" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="8931" class="String">&quot;tactic.search&quot;</a> <a id="8947" class="Number">10</a>
          <a id="8960" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="8962" class="String">&quot;Attempting to treat as &quot;</a> <a id="8988" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8990" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="8998" class="Symbol">(</a><a id="8999" href="Meta.Search.Base.html#8876" class="Bound">spd</a> <a id="9003" class="Symbol">.</a><a id="9004" href="Meta.Search.Base.html#3079" class="Field">struct-name</a><a id="9015" class="Symbol">)</a> <a id="9017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9019" class="String">&quot; &quot;</a> <a id="9023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9025" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="9033" href="Meta.Search.Base.html#8880" class="Bound">wanted-xlevel</a> <a id="9047" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a> <a id="9049" class="Comment">-- FIXME error message</a>
        <a id="9080" href="Meta.Search.Base.html#9080" class="Bound">actual-level</a> <a id="9093" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="9095" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="9105" href="Meta.Search.Base.html#8894" class="Bound">carrier-term</a> <a id="9118" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="9122" href="Meta.Search.Base.html#7538" class="Function">get-level-from-struct</a> <a id="9144" href="Meta.Search.Base.html#8873" class="Bound">td</a> <a id="9147" href="Meta.Search.Base.html#8876" class="Bound">spd</a>
        <a id="9159" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="9170" class="String">&quot;tactic.search&quot;</a> <a id="9186" class="Number">10</a>
          <a id="9199" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="9201" class="String">&quot;... but it&#39;s actually a(n) &quot;</a> <a id="9231" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9233" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="9241" class="Symbol">(</a><a id="9242" href="Meta.Search.Base.html#8876" class="Bound">spd</a> <a id="9246" class="Symbol">.</a><a id="9247" href="Meta.Search.Base.html#3079" class="Field">struct-name</a><a id="9258" class="Symbol">)</a> <a id="9260" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9262" class="String">&quot; &quot;</a> <a id="9266" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9268" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="9276" href="Meta.Search.Base.html#9080" class="Bound">actual-level</a> <a id="9289" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="9299" href="Meta.Search.Base.html#9299" class="Bound">lv</a> <a id="9302" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="9304" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="9314" href="Meta.Search.Base.html#8880" class="Bound">wanted-xlevel</a>
        <a id="9336" href="Meta.Search.Base.html#9336" class="Bound">lv′</a> <a id="9340" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="9342" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="9352" href="Meta.Search.Base.html#9080" class="Bound">actual-level</a>
        <a id="9373" href="Meta.Search.Base.html#6824" class="Function">lifting-loop</a> <a id="9386" class="Number">10000</a> <a id="9392" href="Meta.Search.Base.html#8873" class="Bound">td</a> <a id="9395" class="Number">0</a> <a id="9397" class="Symbol">(</a><a id="9398" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="9402" class="Symbol">(</a><a id="9403" href="Meta.Search.Base.html#8876" class="Bound">spd</a> <a id="9407" class="Symbol">.</a><a id="9408" href="Meta.Search.Base.html#3144" class="Field">goal-projection</a><a id="9423" class="Symbol">)</a> <a id="9425" class="Symbol">(</a><a id="9426" href="Meta.Search.Base.html#8894" class="Bound">carrier-term</a> <a id="9439" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="9442" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="9444" class="Symbol">))</a> <a id="9447" href="Meta.Search.Base.html#8322" class="Bound">goal</a> <a id="9452" href="Meta.Search.Base.html#9336" class="Bound">lv′</a> <a id="9456" href="Meta.Search.Base.html#9299" class="Bound">lv</a>
        <a id="9467" href="Agda.Builtin.Reflection.html#9830" class="Postulate">commitTC</a>
      <a id="9482" href="Meta.Search.Base.html#8713" class="CatchallClause Function">go</a><a id="9484" class="CatchallClause"> </a><a id="9485" href="Meta.Search.Base.html#9485" class="CatchallClause Bound">td</a><a id="9487" class="CatchallClause"> </a><a id="9488" href="Meta.Search.Base.html#9488" class="CatchallClause Bound">spd</a><a id="9491" class="CatchallClause"> </a><a id="9492" class="CatchallClause Symbol">_</a><a id="9493" class="CatchallClause"> </a><a id="9494" href="Meta.Search.Base.html#9494" class="CatchallClause Bound">carrier-term</a> <a id="9507" class="Symbol">=</a> <a id="9509" class="Keyword">do</a> <a id="9512" class="Comment">-- TODO check if it&#39;s ok</a>
        <a id="9545" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="9551" href="Meta.Search.Base.html#8322" class="Bound">goal</a> <a id="9556" class="Symbol">(</a><a id="9557" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="9561" class="Symbol">(</a><a id="9562" href="Meta.Search.Base.html#9488" class="Bound">spd</a> <a id="9566" class="Symbol">.</a><a id="9567" href="Meta.Search.Base.html#3144" class="Field">goal-projection</a><a id="9582" class="Symbol">)</a> <a id="9584" class="Symbol">(</a><a id="9585" href="Meta.Search.Base.html#9494" class="Bound">carrier-term</a> <a id="9598" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="9601" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="9603" class="Symbol">))</a>
        <a id="9614" href="Agda.Builtin.Reflection.html#9830" class="Postulate">commitTC</a>


  <a id="compose-instance-helper"></a><a id="9627" href="Meta.Search.Base.html#9627" class="Function">compose-instance-helper</a> <a id="9651" class="Symbol">:</a> <a id="9653" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="9665" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="9675" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="9686" class="Symbol">→</a> <a id="9688" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="9699" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="9710" class="Symbol">→</a> <a id="9712" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="9719" href="Meta.Search.Base.html#9627" class="Function">compose-instance-helper</a> <a id="9743" class="Symbol">{</a><a id="9744" class="Argument">goal-strat</a> <a id="9755" class="Symbol">=</a> <a id="9757" href="Meta.Search.Base.html#582" class="InductiveConstructor">none</a><a id="9761" class="Symbol">}</a> <a id="9763" href="Meta.Search.Base.html#9763" class="Bound">td</a> <a id="9766" class="Symbol">_</a> <a id="9768" class="Symbol">=</a> <a id="9770" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="9774" class="Symbol">(</a><a id="9775" href="Meta.Search.Base.html#9763" class="Bound">td</a> <a id="9778" class="Symbol">.</a><a id="9779" href="Meta.Search.Base.html#2010" class="Field">instance-helper</a><a id="9794" class="Symbol">)</a> <a id="9796" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="9801" href="Meta.Search.Base.html#9627" class="Function">compose-instance-helper</a> <a id="9825" class="Symbol">{</a><a id="9826" class="Argument">goal-strat</a> <a id="9837" class="Symbol">=</a> <a id="9839" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a><a id="9848" class="Symbol">}</a> <a id="9850" href="Meta.Search.Base.html#9850" class="Bound">td</a> <a id="9853" href="Meta.Search.Base.html#9853" class="Bound">lv</a> <a id="9856" class="Symbol">=</a> <a id="9858" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="9862" class="Symbol">(</a><a id="9863" href="Meta.Search.Base.html#9850" class="Bound">td</a> <a id="9866" class="Symbol">.</a><a id="9867" href="Meta.Search.Base.html#2010" class="Field">instance-helper</a><a id="9882" class="Symbol">)</a> <a id="9884" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="9886" href="Meta.Reflection.html#2572" class="InductiveConstructor">varg</a> <a id="9891" href="Meta.Search.Base.html#9853" class="Bound">lv</a> <a id="9894" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9896" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

  <a id="use-instance-search"></a><a id="9902" href="Meta.Search.Base.html#9902" class="Function">use-instance-search</a> <a id="9922" class="Symbol">:</a> <a id="9924" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="9936" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="9946" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="9957" class="Symbol">→</a> <a id="9959" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="9964" class="Symbol">→</a> <a id="9966" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="9971" class="Symbol">→</a> <a id="9973" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="9976" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="9980" href="Meta.Search.Base.html#9902" class="Function">use-instance-search</a> <a id="10000" class="Symbol">{</a><a id="10001" href="Meta.Search.Base.html#10001" class="Bound">goal-name</a><a id="10010" class="Symbol">}</a> <a id="10012" href="Meta.Search.Base.html#10012" class="Bound">td</a> <a id="10015" href="Meta.Search.Base.html#10015" class="Bound">has-alts</a> <a id="10024" href="Meta.Search.Base.html#10024" class="Bound">goal</a> <a id="10029" class="Symbol">=</a> <a id="10031" href="Agda.Builtin.Reflection.html#11429" class="Postulate">runSpeculative</a> <a id="10046" class="Keyword">do</a>
    <a id="10053" class="Symbol">(</a><a id="10054" href="Meta.Search.Base.html#10054" class="Bound">lv</a> <a id="10057" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10059" href="Meta.Search.Base.html#10059" class="Bound">ty</a><a id="10061" class="Symbol">)</a> <a id="10063" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10065" href="Meta.Search.Base.html#6022" class="Function">decompose-goal</a> <a id="10080" href="Meta.Search.Base.html#10012" class="Bound">td</a> <a id="10083" href="Meta.Search.Base.html#10024" class="Bound">goal</a>
    <a id="10092" href="Meta.Search.Base.html#10092" class="Bound">solved</a><a id="10098" class="Symbol">@(</a><a id="10100" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="10105" href="Meta.Search.Base.html#10105" class="Bound">mv</a> <a id="10108" class="Symbol">_)</a> <a id="10111" href="Meta.Bind.html#190" class="Field Operator">←</a>
      <a id="10119" href="Meta.Reflection.html#1976" class="Function">new-meta</a> <a id="10128" class="Symbol">(</a><a id="10129" href="Meta.Search.Base.html#4052" class="Function">compose-goal</a> <a id="10142" href="Meta.Search.Base.html#10012" class="Bound">td</a> <a id="10145" href="Meta.Search.Base.html#10054" class="Bound">lv</a> <a id="10148" href="Meta.Search.Base.html#10059" class="Bound">ty</a><a id="10150" class="Symbol">)</a> <a id="10152" class="Keyword">where</a> <a id="10158" class="CatchallClause Symbol">_</a> <a id="10160" class="Symbol">→</a> <a id="10162" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="10172" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="10179" href="Meta.Search.Base.html#10179" class="Bound">instances</a> <a id="10189" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10191" href="Agda.Builtin.Reflection.html#11624" class="Postulate">getInstances</a> <a id="10204" href="Meta.Search.Base.html#10105" class="Bound">mv</a>

    <a id="10212" href="Meta.Search.Base.html#10212" class="Bound">t</a> <a id="10214" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10216" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="10224" href="Meta.Search.Base.html#10179" class="Bound">instances</a>
    <a id="10238" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="10249" class="String">&quot;tactic.search&quot;</a> <a id="10265" class="Number">10</a>
      <a id="10274" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="10276" class="String">&quot;Using instance search for\n&quot;</a> <a id="10306" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10308" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="10316" href="Meta.Search.Base.html#10059" class="Bound">ty</a>
      <a id="10325" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10327" class="String">&quot;\nFound candidates\n &quot;</a>       <a id="10357" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10359" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="10367" href="Meta.Search.Base.html#10212" class="Bound">t</a> <a id="10369" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

    <a id="10376" class="Keyword">let</a>
      <a id="10386" href="Meta.Search.Base.html#10386" class="Bound">go</a> <a id="10389" class="Symbol">:</a> <a id="10391" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="10396" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="10401" class="Symbol">→</a> <a id="10403" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="10406" class="Symbol">(</a><a id="10407" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="10409" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="10411" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="10415" class="Symbol">)</a>
      <a id="10423" href="Meta.Search.Base.html#10386" class="Bound">go</a> <a id="10426" class="Symbol">=</a> <a id="10428" class="Symbol">λ</a> <a id="10430" class="Keyword">where</a>
        <a id="10444" class="Symbol">(</a><a id="10445" href="Meta.Search.Base.html#10445" class="Bound">x</a> <a id="10447" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10449" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="10451" class="Symbol">)</a> <a id="10453" class="Symbol">→</a> <a id="10455" class="Keyword">do</a>
          <a id="10468" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="10474" href="Meta.Search.Base.html#10092" class="Bound">solved</a> <a id="10481" href="Meta.Search.Base.html#10445" class="Bound">x</a>
          <a id="10493" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="10508" class="Symbol">(</a><a id="10509" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="10515" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10517" href="Meta.Search.Base.html#10012" class="Bound">td</a> <a id="10520" class="Symbol">.</a><a id="10521" href="Meta.Search.Base.html#2010" class="Field">instance-helper</a> <a id="10537" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10539" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="10541" class="Symbol">)</a> <a id="10543" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="10545" href="Agda.Builtin.Reflection.html#10372" class="Postulate">withReconstructed</a> <a id="10563" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="10568" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a>
            <a id="10582" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="10588" href="Meta.Search.Base.html#10024" class="Bound">goal</a> <a id="10593" class="Symbol">(</a><a id="10594" href="Meta.Search.Base.html#9627" class="Function">compose-instance-helper</a> <a id="10618" href="Meta.Search.Base.html#10012" class="Bound">td</a> <a id="10621" href="Meta.Search.Base.html#10054" class="Bound">lv</a><a id="10623" class="Symbol">)</a>
          <a id="10635" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="10640" class="Symbol">(</a><a id="10641" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="10644" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10646" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="10650" class="Symbol">)</a>

        <a id="10661" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10664" class="Symbol">→</a> <a id="10666" href="Data.Bool.Base.html#492" class="Function Operator">if</a> <a id="10669" href="Meta.Search.Base.html#10015" class="Bound">has-alts</a>
          <a id="10688" href="Data.Bool.Base.html#492" class="Function Operator">then</a> <a id="10693" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="10703" class="String">&quot;No possible instances, but have other decompositions to try&quot;</a>
          <a id="10775" href="Data.Bool.Base.html#492" class="Function Operator">else</a> <a id="10780" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="10785" class="Symbol">(</a><a id="10786" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="10789" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10791" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="10796" class="Symbol">)</a>

        <a id="10807" class="CatchallClause Symbol">_</a> <a id="10809" class="Symbol">→</a> <a id="10811" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="10821" class="String">&quot;Too many possible instances; will not use instance search for this goal&quot;</a>
    <a id="10899" href="Meta.Search.Base.html#10386" class="Bound">go</a> <a id="10902" href="Meta.Search.Base.html#10179" class="Bound">instances</a>


  <a id="use-projections"></a><a id="10916" href="Meta.Search.Base.html#10916" class="Function">use-projections</a> <a id="10932" class="Symbol">:</a> <a id="10934" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="10946" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="10956" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="10967" class="Symbol">→</a> <a id="10969" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="10974" class="Symbol">→</a> <a id="10976" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="10979" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="10983" href="Meta.Search.Base.html#10916" class="Function">use-projections</a> <a id="10999" class="Symbol">{</a><a id="11000" href="Meta.Search.Base.html#11000" class="Bound">goal-name</a><a id="11009" class="Symbol">}</a> <a id="11011" class="Symbol">{</a><a id="11012" href="Meta.Search.Base.html#11012" class="Bound">goal-strat</a><a id="11022" class="Symbol">}</a> <a id="11024" href="Meta.Search.Base.html#11024" class="Bound">td</a> <a id="11027" href="Meta.Search.Base.html#11027" class="Bound">goal</a> <a id="11032" class="Symbol">=</a> <a id="11034" class="Keyword">do</a>
    <a id="11041" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="11045" href="Meta.Search.Base.html#11045" class="Bound">qn</a> <a id="11048" class="Symbol">_</a> <a id="11050" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11052" class="Symbol">(</a><a id="11053" href="Agda.Builtin.Sigma.html#263" class="Field">snd</a> <a id="11057" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="11061" href="Meta.Search.Base.html#6022" class="Function">decompose-goal</a> <a id="11076" href="Meta.Search.Base.html#11024" class="Bound">td</a> <a id="11079" href="Meta.Search.Base.html#11027" class="Bound">goal</a><a id="11083" class="Symbol">)</a> <a id="11085" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="11089" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
      <a id="11102" class="Keyword">where</a> <a id="11108" class="CatchallClause Symbol">_</a> <a id="11110" class="Symbol">→</a> <a id="11112" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="11122" class="String">&quot;Term is not headed by a definition; ignoring projections.&quot;</a>

    <a id="11187" href="Meta.Search.Base.html#11187" class="Bound">go-alt</a> <a id="11194" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11196" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="11206" href="Meta.Search.Base.html#11027" class="Bound">goal</a>
    <a id="11215" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="11226" class="String">&quot;tactic.search&quot;</a> <a id="11242" class="Number">20</a>
      <a id="11251" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="11253" class="String">&quot;Will attempt to use projections for goal\n&quot;</a> <a id="11298" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11300" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="11308" href="Meta.Search.Base.html#11187" class="Bound">go-alt</a> <a id="11315" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

    <a id="11322" class="Symbol">(</a><a id="11323" href="Meta.Search.Base.html#11323" class="Bound">solved</a> <a id="11330" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11332" href="Meta.Search.Base.html#11332" class="Bound">instances</a><a id="11341" class="Symbol">)</a> <a id="11343" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11345" href="Agda.Builtin.Reflection.html#11429" class="Postulate">runSpeculative</a> <a id="11360" class="Keyword">do</a>
      <a id="11369" href="Meta.Search.Base.html#11369" class="Bound">goal-strat-term</a> <a id="11385" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11387" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="11395" href="Meta.Search.Base.html#11012" class="Bound">goal-strat</a> <a id="11406" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="11410" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a>
      <a id="11426" href="Meta.Search.Base.html#11426" class="Bound">solved</a><a id="11432" class="Symbol">@(</a><a id="11434" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="11439" href="Meta.Search.Base.html#11439" class="Bound">mv</a> <a id="11442" class="Symbol">_)</a> <a id="11445" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11447" href="Meta.Reflection.html#1976" class="Function">new-meta</a> <a id="11456" class="Symbol">(</a><a id="11457" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="11461" class="Symbol">(</a><a id="11462" class="Keyword">quote</a> <a id="11468" href="Meta.Search.Base.html#2948" class="Record">Struct-proj-desc</a><a id="11484" class="Symbol">)</a> <a id="11486" class="Symbol">(</a><a id="11487" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="11491" class="Symbol">(</a><a id="11492" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="11497" href="Meta.Search.Base.html#11000" class="Bound">goal-name</a><a id="11506" class="Symbol">)</a> <a id="11508" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="11511" href="Meta.Search.Base.html#11369" class="Bound">goal-strat-term</a> <a id="11527" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="11530" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="11534" class="Symbol">(</a><a id="11535" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="11540" href="Meta.Search.Base.html#11045" class="Bound">qn</a><a id="11542" class="Symbol">)</a> <a id="11544" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="11547" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="11555" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="11558" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="11560" class="Symbol">))</a>
        <a id="11571" class="Keyword">where</a> <a id="11577" class="CatchallClause Symbol">_</a> <a id="11579" class="Symbol">→</a> <a id="11581" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="11591" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="11593" class="String">&quot;No projections found: &quot;</a> <a id="11618" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11620" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="11628" href="Meta.Search.Base.html#11027" class="Bound">goal</a> <a id="11633" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a> <a id="11635" class="Comment">-- FIXME error message is too vague</a>

      <a id="11678" class="Symbol">(</a><a id="11679" href="Meta.Search.Base.html#11679" class="Bound">x</a> <a id="11681" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11683" href="Meta.Search.Base.html#11683" class="Bound">xs</a><a id="11685" class="Symbol">)</a> <a id="11687" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11689" href="Agda.Builtin.Reflection.html#11624" class="Postulate">getInstances</a> <a id="11702" href="Meta.Search.Base.html#11439" class="Bound">mv</a>
        <a id="11713" class="Keyword">where</a> <a id="11719" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11722" class="Symbol">→</a> <a id="11724" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="11729" class="Symbol">((</a><a id="11731" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="11739" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11741" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="11743" class="Symbol">)</a> <a id="11745" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11747" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="11752" class="Symbol">)</a>

      <a id="11761" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="11766" class="Symbol">((</a><a id="11768" href="Meta.Search.Base.html#11426" class="Bound">solved</a> <a id="11775" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11777" href="Meta.Search.Base.html#11679" class="Bound">x</a> <a id="11779" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11781" href="Meta.Search.Base.html#11683" class="Bound">xs</a><a id="11783" class="Symbol">)</a> <a id="11785" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11787" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="11791" class="Symbol">)</a>

    <a id="11798" href="Meta.Foldable.html#489" class="Function">nondet</a> <a id="11805" class="Symbol">(</a><a id="11806" href="Meta.Idiom.html#181" class="InductiveConstructor">eff</a> <a id="11810" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="11814" class="Symbol">)</a> <a id="11816" href="Meta.Search.Base.html#11332" class="Bound">instances</a> <a id="11826" class="Symbol">λ</a> <a id="11828" href="Meta.Search.Base.html#11828" class="Bound">a</a> <a id="11830" class="Symbol">→</a> <a id="11832" class="Keyword">do</a>
      <a id="11841" href="Meta.Search.Base.html#11841" class="Bound">ty</a> <a id="11844" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11846" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="11861" class="Symbol">(</a><a id="11862" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="11868" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11870" href="Meta.Search.Base.html#2218" class="Function">atoms</a> <a id="11876" href="Meta.Search.Base.html#11024" class="Bound">td</a><a id="11878" class="Symbol">)</a> <a id="11880" class="Symbol">(</a><a id="11881" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="11891" href="Meta.Search.Base.html#11027" class="Bound">goal</a> <a id="11896" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="11900" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a><a id="11906" class="Symbol">)</a>
      <a id="11914" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="11925" class="String">&quot;tactic.search&quot;</a> <a id="11941" class="Number">20</a> <a id="11944" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a>
        <a id="11954" class="String">&quot;Outer type: &quot;</a> <a id="11969" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11971" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="11979" href="Meta.Search.Base.html#11841" class="Bound">ty</a> <a id="11982" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11984" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="11993" href="Meta.Search.Base.html#11993" class="Bound">projection-type</a> <a id="12009" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12011" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="12021" href="Meta.Search.Base.html#11828" class="Bound">a</a>
      <a id="12029" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="12033" class="Symbol">_</a> <a id="12035" class="Symbol">(_</a> <a id="12038" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12040" class="Symbol">_</a> <a id="12042" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12044" class="Symbol">_</a> <a id="12046" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12048" href="Meta.Search.Base.html#12048" class="Bound">goal-nat-term</a> <a id="12062" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="12065" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="12067" class="Symbol">)</a> <a id="12069" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12071" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="12081" href="Meta.Search.Base.html#11828" class="Bound">a</a> <a id="12083" class="Keyword">where</a>
        <a id="12097" class="CatchallClause Symbol">_</a> <a id="12099" class="Symbol">→</a> <a id="12101" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="12111" class="String">&quot;Sorry, this shouldn&#39;t have happened&quot;</a>
      <a id="12155" href="Meta.Search.Base.html#12155" class="Bound">goal-nat</a> <a id="12164" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12166" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="12176" class="Symbol">{</a><a id="12177" class="Argument">A</a> <a id="12179" class="Symbol">=</a> <a id="12181" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="12185" class="Symbol">}</a> <a id="12187" href="Meta.Search.Base.html#12048" class="Bound">goal-nat-term</a>
      <a id="12207" href="Meta.Search.Base.html#12207" class="Bound">projection</a> <a id="12218" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12220" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="12230" class="Symbol">{</a><a id="12231" class="Argument">A</a> <a id="12233" class="Symbol">=</a> <a id="12235" href="Meta.Search.Base.html#2948" class="Record">Struct-proj-desc</a> <a id="12252" href="Meta.Search.Base.html#11000" class="Bound">goal-name</a> <a id="12262" href="Meta.Search.Base.html#11012" class="Bound">goal-strat</a> <a id="12273" href="Meta.Search.Base.html#11045" class="Bound">qn</a> <a id="12276" href="Meta.Search.Base.html#12155" class="Bound">goal-nat</a><a id="12284" class="Symbol">}</a> <a id="12286" href="Meta.Search.Base.html#11828" class="Bound">a</a>
      <a id="12294" href="Meta.Search.Base.html#8152" class="Function">treat-as-structured-type</a> <a id="12319" href="Meta.Search.Base.html#11024" class="Bound">td</a> <a id="12322" href="Meta.Search.Base.html#12207" class="Bound">projection</a> <a id="12333" href="Meta.Search.Base.html#11027" class="Bound">goal</a>
      <a id="12344" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="12350" href="Meta.Search.Base.html#11323" class="Bound">solved</a> <a id="12357" href="Meta.Search.Base.html#11828" class="Bound">a</a>

  <a id="remove-invisible"></a><a id="12362" href="Meta.Search.Base.html#12362" class="Function">remove-invisible</a> <a id="12379" class="Symbol">:</a> <a id="12381" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="12386" class="Symbol">→</a> <a id="12388" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="12393" class="Symbol">→</a> <a id="12395" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="12398" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="12405" href="Meta.Search.Base.html#12362" class="Function">remove-invisible</a>
    <a id="12426" class="Symbol">(</a><a id="12427" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="12431" class="Symbol">_</a> <a id="12433" class="Symbol">(</a><a id="12434" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="12438" class="Symbol">_</a> <a id="12440" href="Meta.Search.Base.html#12440" class="Bound">t</a><a id="12441" class="Symbol">))</a>
    <a id="12448" class="Symbol">(</a><a id="12449" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="12452" class="Symbol">(</a><a id="12453" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="12457" class="Symbol">(</a><a id="12458" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">arg-info</a> <a id="12467" href="Meta.Search.Base.html#12467" class="Bound">invisible</a> <a id="12477" class="Symbol">_)</a> <a id="12480" class="Symbol">_)</a> <a id="12483" class="Symbol">(</a><a id="12484" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="12488" class="Symbol">_</a> <a id="12490" href="Meta.Search.Base.html#12490" class="Bound">ret</a><a id="12493" class="Symbol">))</a>
    <a id="12500" class="Symbol">=</a> <a id="12502" href="Meta.Search.Base.html#12362" class="Function">remove-invisible</a> <a id="12519" href="Meta.Search.Base.html#12440" class="Bound">t</a> <a id="12521" href="Meta.Search.Base.html#12490" class="Bound">ret</a>
  <a id="12527" href="Meta.Search.Base.html#12362" class="CatchallClause Function">remove-invisible</a><a id="12543" class="CatchallClause"> </a><a id="12544" href="Meta.Search.Base.html#12544" class="CatchallClause Bound">inner</a><a id="12549" class="CatchallClause"> </a><a id="12550" class="CatchallClause Symbol">_</a> <a id="12552" class="Symbol">=</a> <a id="12554" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="12559" href="Meta.Search.Base.html#12544" class="Bound">inner</a>

  <a id="wrap-lams"></a><a id="12568" href="Meta.Search.Base.html#12568" class="Function">wrap-lams</a> <a id="12578" class="Symbol">:</a> <a id="12580" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="12582" class="Symbol">→</a> <a id="12584" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="12589" class="Symbol">→</a> <a id="12591" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="12598" href="Meta.Search.Base.html#12568" class="Function">wrap-lams</a> <a id="12608" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="12613" href="Meta.Search.Base.html#12613" class="Bound">r</a> <a id="12615" class="Symbol">=</a> <a id="12617" href="Meta.Search.Base.html#12613" class="Bound">r</a>
  <a id="12621" href="Meta.Search.Base.html#12568" class="Function">wrap-lams</a> <a id="12631" class="Symbol">(</a><a id="12632" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="12636" href="Meta.Search.Base.html#12636" class="Bound">x</a><a id="12637" class="Symbol">)</a> <a id="12639" href="Meta.Search.Base.html#12639" class="Bound">r</a> <a id="12641" class="Symbol">=</a> <a id="12643" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="12647" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="12655" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="12657" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="12661" class="String">&quot;a&quot;</a> <a id="12665" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="12667" href="Meta.Search.Base.html#12568" class="Function">wrap-lams</a> <a id="12677" href="Meta.Search.Base.html#12636" class="Bound">x</a> <a id="12679" href="Meta.Search.Base.html#12639" class="Bound">r</a>

  <a id="extend-n"></a><a id="12684" href="Meta.Search.Base.html#12684" class="Function">extend-n</a> <a id="12693" class="Symbol">:</a> <a id="12695" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="12697" class="Symbol">→</a> <a id="12699" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="12702" class="Symbol">((</a><a id="12704" href="Meta.Search.Base.html#12704" class="Bound">A</a> <a id="12706" class="Symbol">:</a> <a id="12708" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="12713" href="Meta.Search.Base.html#630" class="Generalizable">ℓ</a><a id="12714" class="Symbol">)</a> <a id="12716" class="Symbol">→</a> <a id="12718" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="12721" href="Meta.Search.Base.html#12704" class="Bound">A</a> <a id="12723" class="Symbol">→</a> <a id="12725" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="12728" href="Meta.Search.Base.html#12704" class="Bound">A</a><a id="12729" class="Symbol">)</a>
  <a id="12733" href="Meta.Search.Base.html#12684" class="Function">extend-n</a> <a id="12742" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="12747" class="Symbol">=</a> <a id="12749" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="12754" class="Symbol">λ</a> <a id="12756" href="Meta.Search.Base.html#12756" class="Bound">_</a> <a id="12758" href="Meta.Search.Base.html#12758" class="Bound">x</a> <a id="12760" class="Symbol">→</a> <a id="12762" href="Meta.Search.Base.html#12758" class="Bound">x</a>
  <a id="12766" href="Meta.Search.Base.html#12684" class="Function">extend-n</a> <a id="12775" class="Symbol">(</a><a id="12776" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="12780" href="Meta.Search.Base.html#12780" class="Bound">n</a><a id="12781" class="Symbol">)</a> <a id="12783" class="Symbol">=</a> <a id="12785" class="Keyword">do</a>
    <a id="12792" href="Meta.Search.Base.html#12792" class="Bound">rest</a> <a id="12797" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12799" href="Meta.Search.Base.html#12684" class="Function">extend-n</a> <a id="12808" href="Meta.Search.Base.html#12780" class="Bound">n</a>
    <a id="12814" href="Foundations.Prim.Type.html#599" class="InductiveConstructor">lift</a> <a id="12819" href="Meta.Search.Base.html#12819" class="Bound">mv</a> <a id="12822" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12824" href="Meta.Search.Base.html#12792" class="Bound">rest</a> <a id="12829" class="Symbol">(</a><a id="12830" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="12835" class="Symbol">_</a> <a id="12837" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="12841" class="Symbol">)</a> <a id="12843" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="12845" href="Foundations.Prim.Type.html#599" class="InductiveConstructor">lift</a> <a id="12850" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="12854" href="Meta.Reflection.html#1976" class="Function">new-meta</a> <a id="12863" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>
    <a id="12875" class="Keyword">let</a> <a id="12879" href="Meta.Search.Base.html#12879" class="Bound">domain</a> <a id="12886" class="Symbol">=</a> <a id="12888" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="12892" class="Symbol">(</a><a id="12893" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">arg-info</a> <a id="12902" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="12910" class="Symbol">(</a><a id="12911" href="Agda.Builtin.Reflection.html#3463" class="InductiveConstructor">modality</a> <a id="12920" href="Agda.Builtin.Reflection.html#3019" class="InductiveConstructor">relevant</a> <a id="12929" href="Agda.Builtin.Reflection.html#3241" class="InductiveConstructor">quantity-ω</a><a id="12939" class="Symbol">))</a> <a id="12942" href="Meta.Search.Base.html#12819" class="Bound">mv</a>
    <a id="12949" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="12954" class="Symbol">λ</a> <a id="12956" href="Meta.Search.Base.html#12956" class="Bound">a</a> <a id="12958" href="Meta.Search.Base.html#12958" class="Bound">k</a> <a id="12960" class="Symbol">→</a> <a id="12962" href="Meta.Search.Base.html#12792" class="Bound">rest</a> <a id="12967" href="Meta.Search.Base.html#12956" class="Bound">a</a> <a id="12969" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="12971" href="Agda.Builtin.Reflection.html#9277" class="Postulate">extendContext</a> <a id="12985" class="String">&quot;a&quot;</a> <a id="12989" href="Meta.Search.Base.html#12879" class="Bound">domain</a> <a id="12996" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="12998" href="Meta.Search.Base.html#12958" class="Bound">k</a>

  <a id="search"></a><a id="13003" href="Meta.Search.Base.html#13003" class="Function">search</a> <a id="13010" class="Symbol">:</a> <a id="13012" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="13024" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="13034" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="13045" class="Symbol">→</a> <a id="13047" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="13052" class="Symbol">→</a> <a id="13054" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="13065" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="13076" class="Symbol">→</a> <a id="13078" class="Symbol">(</a><a id="13079" href="Meta.Search.Base.html#13079" class="Bound">fuel</a> <a id="13084" class="Symbol">:</a> <a id="13086" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="13087" class="Symbol">)</a> <a id="13089" class="Symbol">→</a> <a id="13091" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="13096" class="Symbol">→</a> <a id="13098" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="13101" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

  <a id="gen-args"></a><a id="13106" href="Meta.Search.Base.html#13106" class="Function">gen-args</a>
    <a id="13119" class="Symbol">:</a> <a id="13121" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>                  <a id="13140" class="Comment">-- ^ fuel</a>
    <a id="13154" class="Symbol">→</a> <a id="13156" class="Symbol">(</a><a id="13157" href="Meta.Search.Base.html#13157" class="Bound">gs</a> <a id="13160" class="Symbol">:</a> <a id="13162" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a><a id="13172" class="Symbol">)</a>  <a id="13175" class="Comment">-- ^ simple or indexed</a>
    <a id="13202" class="Symbol">→</a> <a id="13204" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>               <a id="13223" class="Comment">-- ^ Are there any alternatives after this one?</a>
    <a id="13275" class="Symbol">→</a> <a id="13277" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="13288" href="Meta.Search.Base.html#13157" class="Bound">gs</a>      <a id="13296" class="Comment">-- ^ What level are we searching for?</a>
    <a id="13338" class="Symbol">→</a> <a id="13340" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>               <a id="13359" class="Comment">-- ^ Goal</a>
    <a id="13373" class="Symbol">→</a> <a id="13375" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>               <a id="13394" class="Comment">-- ^ Name of the lemma,</a>
    <a id="13422" class="Symbol">→</a> <a id="13424" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="13429" class="Symbol">(</a><a id="13430" href="Meta.Search.Base.html#2294" class="Datatype">Arg-spec</a> <a id="13439" href="Meta.Search.Base.html#13157" class="Bound">gs</a><a id="13441" class="Symbol">)</a> <a id="13443" class="Comment">-- ^ and the arguments we should invent.</a>

    <a id="13489" class="Symbol">→</a> <a id="13491" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="13496" class="Symbol">(</a><a id="13497" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="13501" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="13505" class="Symbol">)</a>
    <a id="13511" class="Comment">-- ^ Accumulator: computed arguments (criminally, in reverse</a>
    <a id="13576" class="Comment">-- order)</a>
    <a id="13590" class="Symbol">→</a> <a id="13592" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="13595" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="13603" class="Comment">-- ^ Accumulator/continuation: what do we need to do after</a>
      <a id="13668" class="Comment">-- unifying the goal with the lemma?. This is both</a>
      <a id="13725" class="Comment">-- continuation (it can be used to run something after the</a>
      <a id="13790" class="Comment">-- arguments are built) and accumulator (searching recursively</a>
      <a id="13859" class="Comment">-- is done last).</a>
    <a id="13881" class="Symbol">→</a> <a id="13883" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="13886" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>              <a id="13901" class="Comment">-- ^ Returns nada</a>
  <a id="13921" href="Meta.Search.Base.html#13106" class="Function">gen-args</a> <a id="13930" class="Number">0</a> <a id="13932" class="Symbol">_</a> <a id="13934" class="Symbol">_</a> <a id="13936" class="Symbol">_</a> <a id="13938" class="Symbol">_</a> <a id="13940" class="Symbol">_</a> <a id="13942" class="Symbol">_</a> <a id="13944" class="Symbol">_</a> <a id="13946" class="Symbol">_</a> <a id="13948" class="Symbol">=</a> <a id="13950" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="13960" class="String">&quot;gen-args: no fuel&quot;</a>
  <a id="13982" href="Meta.Search.Base.html#13106" class="CatchallClause Function">gen-args</a><a id="13990" class="CatchallClause"> </a><a id="13991" href="Meta.Search.Base.html#13991" class="CatchallClause Bound">fuel</a><a id="13995" class="CatchallClause"> </a><a id="13996" href="Meta.Search.Base.html#13996" class="CatchallClause Bound">gs</a><a id="13998" class="CatchallClause"> </a><a id="13999" href="Meta.Search.Base.html#13999" class="CatchallClause Bound">has-alts</a><a id="14007" class="CatchallClause"> </a><a id="14008" href="Meta.Search.Base.html#14008" class="CatchallClause Bound">level</a><a id="14013" class="CatchallClause"> </a><a id="14014" href="Meta.Search.Base.html#14014" class="CatchallClause Bound">goal</a><a id="14018" class="CatchallClause"> </a><a id="14019" href="Meta.Search.Base.html#14019" class="CatchallClause Bound">defn</a><a id="14023" class="CatchallClause"> </a><a id="14024" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a><a id="14026" class="CatchallClause"> </a><a id="14027" href="Meta.Search.Base.html#14027" class="CatchallClause Bound">accum</a><a id="14032" class="CatchallClause"> </a><a id="14033" href="Meta.Search.Base.html#14033" class="CatchallClause Bound">cont</a> <a id="14038" class="Symbol">=</a> <a id="14040" class="Keyword">do</a>
    <a id="14047" class="Comment">-- If we have no arguments to generate, then we can go ahead and</a>
    <a id="14116" class="Comment">-- use the accumulator as-is.</a>
    <a id="14150" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="14156" href="Meta.Search.Base.html#14014" class="Bound">goal</a> <a id="14161" class="Symbol">(</a><a id="14162" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="14166" href="Meta.Search.Base.html#14019" class="Bound">defn</a> <a id="14171" class="Symbol">(</a><a id="14172" href="Data.List.Base.html#972" class="Function">reverse-fast</a> <a id="14185" href="Meta.Search.Base.html#14027" class="Bound">accum</a><a id="14190" class="Symbol">))</a>
    <a id="14197" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="14208" class="String">&quot;tactic.search&quot;</a> <a id="14224" class="Number">10</a>
      <a id="14233" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="14235" class="String">&quot;Committed to solution: &quot;</a> <a id="14261" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14263" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="14271" class="Symbol">(</a><a id="14272" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="14276" href="Meta.Search.Base.html#14019" class="Bound">defn</a> <a id="14281" class="Symbol">(</a><a id="14282" href="Data.List.Base.html#883" class="Function">reverse</a> <a id="14290" href="Meta.Search.Base.html#14027" class="Bound">accum</a><a id="14295" class="Symbol">))</a> <a id="14298" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="14304" href="Meta.Search.Base.html#14033" class="Bound">cont</a>

  <a id="14312" href="Meta.Search.Base.html#13106" class="Function">gen-args</a> <a id="14321" class="Symbol">(</a><a id="14322" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="14326" href="Meta.Search.Base.html#14326" class="Bound">fuel</a><a id="14330" class="Symbol">)</a> <a id="14332" href="Meta.Search.Base.html#14332" class="Bound">gs</a> <a id="14335" href="Meta.Search.Base.html#14335" class="Bound">has-alts</a> <a id="14344" href="Meta.Search.Base.html#14344" class="Bound">level</a> <a id="14350" href="Meta.Search.Base.html#14350" class="Bound">goal</a> <a id="14355" href="Meta.Search.Base.html#14355" class="Bound">defn</a> <a id="14360" class="Symbol">(</a><a id="14361" href="Meta.Search.Base.html#14361" class="Bound">x</a> <a id="14363" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="14365" href="Meta.Search.Base.html#14365" class="Bound">args</a><a id="14369" class="Symbol">)</a> <a id="14371" href="Meta.Search.Base.html#14371" class="Bound">accum</a> <a id="14377" href="Meta.Search.Base.html#14377" class="Bound">cont</a> <a id="14382" class="Keyword">with</a> <a id="14387" href="Meta.Search.Base.html#14332" class="Bound">gs</a> <a id="14390" class="Symbol">|</a> <a id="14392" href="Meta.Search.Base.html#14361" class="Bound">x</a>
  <a id="14396" class="Symbol">...</a> <a id="14400" class="Symbol">|</a> <a id="14402" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="14412" class="Symbol">|</a> <a id="14414" href="Meta.Search.Base.html#2331" class="InductiveConstructor">`level-suc</a> <a id="14425" class="Symbol">=</a> <a id="14427" href="Meta.Search.Base.html#13106" class="Function">gen-args</a> <a id="14436" class="Bound">fuel</a> <a id="14441" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="14451" class="Bound">has-alts</a> <a id="14460" class="Symbol">(</a><a id="14461" href="Meta.Search.Base.html#6518" class="Function">suc-term</a> <a id="14470" class="Bound">level</a><a id="14475" class="Symbol">)</a> <a id="14477" class="Bound">goal</a> <a id="14482" class="Bound">defn</a> <a id="14487" class="Bound">args</a> <a id="14492" class="Symbol">(</a><a id="14493" class="Bound">level</a> <a id="14499" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="14502" class="Bound">accum</a><a id="14507" class="Symbol">)</a> <a id="14509" class="Bound">cont</a>
  <a id="14516" class="Symbol">...</a> <a id="14520" class="Symbol">|</a> <a id="14522" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="14532" class="Symbol">|</a> <a id="14534" href="Meta.Search.Base.html#2368" class="InductiveConstructor">`level-minus</a> <a id="14547" class="Number">0</a> <a id="14549" class="Symbol">=</a> <a id="14551" href="Meta.Search.Base.html#13106" class="Function">gen-args</a> <a id="14560" class="Bound">fuel</a> <a id="14565" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="14575" class="Bound">has-alts</a> <a id="14584" class="Bound">level</a> <a id="14590" class="Bound">goal</a> <a id="14595" class="Bound">defn</a> <a id="14600" class="Bound">args</a> <a id="14605" class="Symbol">(</a><a id="14606" class="Bound">level</a> <a id="14612" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="14615" class="Bound">accum</a><a id="14620" class="Symbol">)</a> <a id="14622" class="Bound">cont</a>
  <a id="14629" class="Symbol">...</a> <a id="14633" class="Symbol">|</a> <a id="14635" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="14645" class="Symbol">|</a> <a id="14647" href="Meta.Search.Base.html#2368" class="InductiveConstructor">`level-minus</a> <a id="14660" href="Meta.Search.Base.html#14660" class="Bound">n</a><a id="14661" class="Symbol">@(</a><a id="14663" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="14667" class="Symbol">_)</a> <a id="14670" class="Symbol">=</a>
    <a id="14676" class="Keyword">do</a>
      <a id="14685" href="Meta.Search.Base.html#14685" class="Bound">level</a> <a id="14691" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="14693" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="14703" class="Bound">level</a>
      <a id="14715" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="14726" class="String">&quot;tactic.search&quot;</a> <a id="14742" class="Number">10</a>
        <a id="14753" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="14755" class="String">&quot;Hint demands offset, performing symbolic monus, subtracting from\n&quot;</a>
        <a id="14832" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14834" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="14842" href="Meta.Search.Base.html#14685" class="Bound">level</a> <a id="14848" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
      <a id="14856" href="Meta.Search.Base.html#14856" class="Bound">level′</a> <a id="14863" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="14865" href="Meta.Search.Base.html#14978" class="Function">monus</a> <a id="14871" href="Meta.Search.Base.html#14685" class="Bound">level</a> <a id="14877" href="Meta.Search.Base.html#14660" class="Bound">n</a>
      <a id="14885" href="Meta.Search.Base.html#13106" class="Function">gen-args</a> <a id="14894" class="Bound">fuel</a> <a id="14899" href="Meta.Search.Base.html#587" class="InductiveConstructor">by-hlevel</a> <a id="14909" class="Bound">has-alts</a> <a id="14918" href="Meta.Search.Base.html#14685" class="Bound">level</a> <a id="14924" class="Bound">goal</a> <a id="14929" class="Bound">defn</a> <a id="14934" class="Bound">args</a> <a id="14939" class="Symbol">(</a><a id="14940" href="Meta.Search.Base.html#14856" class="Bound">level′</a> <a id="14947" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="14950" class="Bound">accum</a><a id="14955" class="Symbol">)</a> <a id="14957" class="Bound">cont</a>
    <a id="14966" class="Keyword">where</a>
      <a id="14978" href="Meta.Search.Base.html#14978" class="Function">monus</a> <a id="14984" class="Symbol">:</a> <a id="14986" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="14991" class="Symbol">→</a> <a id="14993" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="14995" class="Symbol">→</a> <a id="14997" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="15000" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
      <a id="15011" href="Meta.Search.Base.html#14978" class="Function">monus</a> <a id="15017" class="Symbol">(</a><a id="15018" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="15022" class="Symbol">(</a><a id="15023" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="15027" href="Meta.Search.Base.html#15027" class="Bound">n</a><a id="15028" class="Symbol">))</a> <a id="15031" href="Meta.Search.Base.html#15031" class="Bound">k</a> <a id="15033" class="Symbol">=</a> <a id="15035" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="15040" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="15042" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="15046" class="Symbol">(</a><a id="15047" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="15051" class="Symbol">(</a><a id="15052" href="Meta.Search.Base.html#15027" class="Bound">n</a> <a id="15054" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="15056" href="Meta.Search.Base.html#15031" class="Bound">k</a><a id="15057" class="Symbol">))</a>
      <a id="15066" href="Meta.Search.Base.html#14978" class="CatchallClause Function">monus</a><a id="15071" class="CatchallClause"> </a><a id="15072" href="Meta.Search.Base.html#15072" class="CatchallClause Bound">tm</a><a id="15074" class="CatchallClause"> </a><a id="15075" href="Agda.Builtin.Nat.html#221" class="CatchallClause InductiveConstructor">zero</a> <a id="15080" class="Symbol">=</a> <a id="15082" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="15087" href="Meta.Search.Base.html#15072" class="Bound">tm</a>
      <a id="15096" href="Meta.Search.Base.html#14978" class="Function">monus</a> <a id="15102" href="Meta.Search.Base.html#15102" class="Bound">thezero</a><a id="15109" class="Symbol">@(</a><a id="15111" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="15115" class="Symbol">(</a><a id="15116" class="Keyword">quote</a> <a id="15122" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="15126" class="Symbol">)</a> <a id="15128" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="15130" class="Symbol">)</a> <a id="15132" class="Symbol">(</a><a id="15133" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="15137" href="Meta.Search.Base.html#15137" class="Bound">it</a><a id="15139" class="Symbol">)</a> <a id="15141" class="Symbol">=</a> <a id="15143" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="15148" href="Meta.Search.Base.html#15102" class="Bound">thezero</a>
      <a id="15162" href="Meta.Search.Base.html#14978" class="Function">monus</a> <a id="15168" class="Symbol">(</a><a id="15169" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="15173" class="Symbol">(</a><a id="15174" class="Keyword">quote</a> <a id="15180" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="15183" class="Symbol">)</a> <a id="15185" class="Symbol">(</a><a id="15186" href="Meta.Search.Base.html#15186" class="Bound">x</a> <a id="15188" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="15191" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="15193" class="Symbol">))</a> <a id="15196" class="Symbol">(</a><a id="15197" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="15201" href="Meta.Search.Base.html#15201" class="Bound">it</a><a id="15203" class="Symbol">)</a> <a id="15205" class="Symbol">=</a> <a id="15207" class="Keyword">do</a>
        <a id="15218" href="Meta.Search.Base.html#15218" class="Bound">x</a> <a id="15220" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="15222" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="15229" href="Meta.Search.Base.html#15186" class="Bound">x</a>
        <a id="15239" href="Meta.Search.Base.html#14978" class="Function">monus</a> <a id="15245" href="Meta.Search.Base.html#15218" class="Bound">x</a> <a id="15247" href="Meta.Search.Base.html#15201" class="Bound">it</a>
      <a id="15256" href="Meta.Search.Base.html#14978" class="CatchallClause Function">monus</a><a id="15261" class="CatchallClause"> </a><a id="15262" href="Meta.Search.Base.html#15262" class="CatchallClause Bound">tm</a><a id="15264" class="CatchallClause"> </a><a id="15265" class="CatchallClause Symbol">(</a><a id="15266" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="15269" class="CatchallClause"> </a><a id="15270" href="Meta.Search.Base.html#15270" class="CatchallClause Bound">it</a><a id="15272" class="CatchallClause Symbol">)</a> <a id="15274" class="Symbol">=</a> <a id="15276" class="Keyword">do</a>
        <a id="15287" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="15298" class="String">&quot;tactic.search&quot;</a> <a id="15314" class="Number">10</a> <a id="15317" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="15319" class="String">&quot;Dunno how to take 1 from &quot;</a> <a id="15347" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15349" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="15357" href="Meta.Search.Base.html#15262" class="Bound">tm</a> <a id="15360" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="15370" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="15380" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

  <a id="15386" class="CatchallClause Symbol">...</a><a id="15389" class="CatchallClause"> </a><a id="15390" class="CatchallClause Symbol">|</a><a id="15391" class="CatchallClause"> </a><a id="15392" href="Meta.Search.Base.html#15392" class="CatchallClause Bound">gs</a><a id="15394" class="CatchallClause"> </a><a id="15395" class="CatchallClause Symbol">|</a><a id="15396" class="CatchallClause"> </a><a id="15397" href="Meta.Search.Base.html#2480" class="CatchallClause InductiveConstructor">`meta</a> <a id="15403" class="Symbol">=</a> <a id="15405" href="Meta.Search.Base.html#13106" class="Function">gen-args</a> <a id="15414" class="Bound">fuel</a> <a id="15419" href="Meta.Search.Base.html#15392" class="Bound">gs</a> <a id="15422" class="Bound">has-alts</a> <a id="15431" class="Bound">level</a> <a id="15437" class="Bound">goal</a> <a id="15442" class="Bound">defn</a> <a id="15447" class="Bound">args</a> <a id="15452" class="Symbol">(</a><a id="15453" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="15461" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="15464" class="Bound">accum</a><a id="15469" class="Symbol">)</a> <a id="15471" class="Bound">cont</a>

  <a id="15479" class="CatchallClause Symbol">...</a><a id="15482" class="CatchallClause"> </a><a id="15483" class="CatchallClause Symbol">|</a><a id="15484" class="CatchallClause"> </a><a id="15485" href="Meta.Search.Base.html#15485" class="CatchallClause Bound">gs</a><a id="15487" class="CatchallClause"> </a><a id="15488" class="CatchallClause Symbol">|</a><a id="15489" class="CatchallClause"> </a><a id="15490" href="Meta.Search.Base.html#2415" class="CatchallClause InductiveConstructor">`search-under</a><a id="15503" class="CatchallClause"> </a><a id="15504" href="Meta.Search.Base.html#15504" class="CatchallClause Bound">under</a><a id="15509" class="CatchallClause"> </a><a id="15510" href="Meta.Search.Base.html#15510" class="CatchallClause Bound">subgoal-name</a> <a id="15523" class="Symbol">=</a> <a id="15525" class="Keyword">do</a>
    <a id="15532" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="15543" class="String">&quot;tactic.search&quot;</a> <a id="15559" class="Number">10</a> <a id="15562" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="15564" class="String">&quot;Going under &quot;</a> <a id="15579" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15581" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="15589" class="Symbol">(</a><a id="15590" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="15594" class="Symbol">(</a><a id="15595" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="15599" href="Meta.Search.Base.html#15504" class="Bound">under</a><a id="15604" class="Symbol">))</a> <a id="15607" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="15613" href="Meta.Search.Base.html#15613" class="Bound">go-under</a> <a id="15622" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="15624" href="Meta.Search.Base.html#12684" class="Function">extend-n</a> <a id="15633" href="Meta.Search.Base.html#15504" class="Bound">under</a>
    <a id="15643" href="Meta.Search.Base.html#15643" class="Bound">mv</a> <a id="15646" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="15648" href="Meta.Search.Base.html#15613" class="Bound">go-under</a> <a id="15657" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="15662" class="Keyword">do</a>
      <a id="15671" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="15682" class="String">&quot;tactic.search&quot;</a> <a id="15698" class="Number">10</a> <a id="15701" class="String">&quot;In extended context&quot;</a>
      <a id="15729" href="Meta.Reflection.html#1976" class="Function">new-meta</a> <a id="15738" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>
    <a id="15750" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="15761" class="String">&quot;tactic.search&quot;</a> <a id="15777" class="Number">10</a> <a id="15780" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="15782" class="String">&quot;Metavariable: &quot;</a> <a id="15799" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15801" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="15809" class="Symbol">(</a><a id="15810" href="Meta.Search.Base.html#12568" class="Function">wrap-lams</a> <a id="15820" href="Meta.Search.Base.html#15504" class="Bound">under</a> <a id="15826" href="Meta.Search.Base.html#15643" class="Bound">mv</a><a id="15828" class="Symbol">)</a> <a id="15830" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="15836" href="Meta.Search.Base.html#13106" class="Function">gen-args</a> <a id="15845" class="Bound">fuel</a> <a id="15850" href="Meta.Search.Base.html#15485" class="Bound">gs</a> <a id="15853" class="Bound">has-alts</a> <a id="15862" class="Bound">level</a> <a id="15868" class="Bound">goal</a> <a id="15873" class="Bound">defn</a> <a id="15878" class="Bound">args</a> <a id="15883" class="Symbol">(</a><a id="15884" href="Meta.Search.Base.html#12568" class="Function">wrap-lams</a> <a id="15894" href="Meta.Search.Base.html#15504" class="Bound">under</a> <a id="15900" href="Meta.Search.Base.html#15643" class="Bound">mv</a> <a id="15903" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="15906" class="Bound">accum</a><a id="15911" class="Symbol">)</a> <a id="15913" class="Keyword">do</a>
      <a id="15922" class="Bound">cont</a>
      <a id="15933" href="Meta.Search.Base.html#15933" class="Bound">tactic-instance</a> <a id="15949" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="15951" class="Keyword">do</a>
        <a id="15962" href="Meta.Search.Base.html#15962" class="Bound">solved</a><a id="15968" class="Symbol">@(</a><a id="15970" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="15975" href="Meta.Search.Base.html#15975" class="Bound">mv′</a> <a id="15979" class="Symbol">_)</a> <a id="15982" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="15984" href="Meta.Reflection.html#1976" class="Function">new-meta</a> <a id="15993" class="Symbol">(</a><a id="15994" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="15998" class="Symbol">(</a><a id="15999" class="Keyword">quote</a> <a id="16005" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a><a id="16016" class="Symbol">)</a> <a id="16018" class="Symbol">(</a><a id="16019" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="16023" class="Symbol">(</a><a id="16024" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="16029" href="Meta.Search.Base.html#15510" class="Bound">subgoal-name</a><a id="16041" class="Symbol">)</a> <a id="16043" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="16046" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="16054" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="16057" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="16059" class="Symbol">))</a>
          <a id="16072" class="Keyword">where</a> <a id="16078" class="CatchallClause Symbol">_</a> <a id="16080" class="Symbol">→</a> <a id="16082" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="16092" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="16094" class="String">&quot;Could not get tactic instances:&quot;</a> <a id="16128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16130" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="16138" class="Bound">goal</a> <a id="16143" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="16153" class="Symbol">(</a><a id="16154" href="Meta.Search.Base.html#16154" class="Bound">ti</a> <a id="16157" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16159" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="16161" class="Symbol">)</a> <a id="16163" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16165" href="Agda.Builtin.Reflection.html#11624" class="Postulate">getInstances</a> <a id="16178" href="Meta.Search.Base.html#15975" class="Bound">mv′</a> <a id="16182" class="Keyword">where</a>
          <a id="16198" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="16201" class="Symbol">→</a> <a id="16203" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="16213" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="16215" class="String">&quot;No tactic found for the goal &quot;</a> <a id="16247" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16249" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="16257" class="Bound">goal</a> <a id="16262" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
          <a id="16274" class="CatchallClause Symbol">_</a>  <a id="16277" class="Symbol">→</a> <a id="16279" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="16289" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="16291" class="String">&quot;Multiple tactics for the same goal &quot;</a> <a id="16329" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16331" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="16339" class="Bound">goal</a> <a id="16344" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="16354" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="16360" href="Meta.Search.Base.html#15962" class="Bound">solved</a> <a id="16367" href="Meta.Search.Base.html#16154" class="Bound">ti</a>
        <a id="16378" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="16383" href="Meta.Search.Base.html#16154" class="Bound">ti</a>
      <a id="16392" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="16396" class="Symbol">_</a> <a id="16398" class="Symbol">(_</a> <a id="16401" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16403" href="Meta.Search.Base.html#16403" class="Bound">subgoal-strat-term</a> <a id="16422" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="16425" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="16427" class="Symbol">)</a> <a id="16429" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16431" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="16441" href="Meta.Search.Base.html#15933" class="Bound">tactic-instance</a> <a id="16457" class="Keyword">where</a>
        <a id="16471" class="CatchallClause Symbol">_</a> <a id="16473" class="Symbol">→</a> <a id="16475" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="16485" class="String">&quot;Sorry, this shouldn&#39;t have happened&quot;</a>
      <a id="16529" href="Meta.Search.Base.html#16529" class="Bound">subgoal-strat</a> <a id="16543" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16545" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="16555" class="Symbol">{</a><a id="16556" class="Argument">A</a> <a id="16558" class="Symbol">=</a> <a id="16560" href="Meta.Search.Base.html#556" class="Datatype">Goal-strat</a><a id="16570" class="Symbol">}</a> <a id="16572" href="Meta.Search.Base.html#16403" class="Bound">subgoal-strat-term</a>
      <a id="16597" href="Meta.Search.Base.html#16597" class="Bound">next-td</a> <a id="16605" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16607" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="16617" class="Symbol">{</a><a id="16618" class="Argument">A</a> <a id="16620" class="Symbol">=</a> <a id="16622" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="16634" href="Meta.Search.Base.html#15510" class="Bound">subgoal-name</a> <a id="16647" href="Meta.Search.Base.html#16529" class="Bound">subgoal-strat</a><a id="16660" class="Symbol">}</a> <a id="16662" href="Meta.Search.Base.html#15933" class="Bound">tactic-instance</a>
      <a id="16684" href="Meta.Search.Base.html#15613" class="Bound">go-under</a> <a id="16693" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="16695" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="16697" href="Meta.Search.Base.html#13003" class="Function">search</a> <a id="16704" href="Meta.Search.Base.html#16597" class="Bound">next-td</a> <a id="16712" class="Bound">has-alts</a> <a id="16721" href="Meta.Search.Base.html#1372" class="Function">dummy-level</a> <a id="16733" class="Bound">fuel</a> <a id="16738" href="Meta.Search.Base.html#15643" class="Bound">mv</a>


  <a id="use-decomp-hints"></a><a id="16745" href="Meta.Search.Base.html#16745" class="Function">use-decomp-hints</a>
    <a id="16766" class="Symbol">:</a> <a id="16768" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="16780" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="16790" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a>
    <a id="16805" class="Symbol">→</a> <a id="16807" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="16813" class="Symbol">→</a> <a id="16815" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="16826" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="16837" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="16839" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="16848" class="Symbol">→</a> <a id="16850" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="16859" class="Symbol">→</a> <a id="16861" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="16870" class="Symbol">→</a> <a id="16872" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="16877" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="16886" class="Symbol">→</a> <a id="16888" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="16891" class="Symbol">(</a><a id="16892" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="16894" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="16896" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="16900" class="Symbol">)</a>
  <a id="16904" href="Meta.Search.Base.html#16745" class="Function">use-decomp-hints</a> <a id="16921" class="Symbol">_</a> <a id="16923" class="Number">0</a> <a id="16925" class="Symbol">_</a> <a id="16927" class="Symbol">_</a> <a id="16929" class="Symbol">_</a> <a id="16931" class="Symbol">_</a> <a id="16933" class="Symbol">=</a> <a id="16935" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="16945" class="String">&quot;use-decomp-hints: no fuel&quot;</a>
  <a id="16975" href="Meta.Search.Base.html#16745" class="Function">use-decomp-hints</a> <a id="16992" class="Symbol">{</a><a id="16993" href="Meta.Search.Base.html#16993" class="Bound">goal-name</a><a id="17002" class="Symbol">}</a> <a id="17004" class="Symbol">{</a><a id="17005" href="Meta.Search.Base.html#17005" class="Bound">goal-strat</a><a id="17015" class="Symbol">}</a> <a id="17017" href="Meta.Search.Base.html#17017" class="Bound">td</a> <a id="17020" class="Symbol">(</a><a id="17021" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="17025" href="Meta.Search.Base.html#17025" class="Bound">fuel</a><a id="17029" class="Symbol">)</a> <a id="17031" class="Symbol">(</a><a id="17032" href="Meta.Search.Base.html#17032" class="Bound">lv</a> <a id="17035" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17037" href="Meta.Search.Base.html#17037" class="Bound">goal-ty</a><a id="17044" class="Symbol">)</a> <a id="17046" href="Meta.Search.Base.html#17046" class="Bound">goal</a> <a id="17051" href="Meta.Search.Base.html#17051" class="Bound">solved</a> <a id="17058" class="Symbol">(</a><a id="17059" href="Meta.Search.Base.html#17059" class="Bound">c₁</a> <a id="17062" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17064" href="Meta.Search.Base.html#17064" class="Bound">cs</a><a id="17066" class="Symbol">)</a> <a id="17068" class="Symbol">=</a> <a id="17070" class="Keyword">do</a>
    <a id="17077" href="Meta.Search.Base.html#17077" class="Bound">ty</a>  <a id="17081" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="17083" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="17093" href="Meta.Search.Base.html#17059" class="Bound">c₁</a>
    <a id="17100" href="Meta.Search.Base.html#17100" class="Bound">c₁′</a> <a id="17104" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="17106" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="17113" href="Meta.Search.Base.html#17059" class="Bound">c₁</a>
    <a id="17120" class="Symbol">(</a><a id="17121" href="Meta.Search.Base.html#12362" class="Function">remove-invisible</a> <a id="17138" href="Meta.Search.Base.html#17100" class="Bound">c₁′</a> <a id="17142" href="Meta.Search.Base.html#17077" class="Bound">ty</a> <a id="17145" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="17149" class="Symbol">λ</a> <a id="17151" class="Keyword">where</a>
      <a id="17163" class="Symbol">(</a><a id="17164" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="17168" class="Symbol">(</a><a id="17169" class="Keyword">quote</a> <a id="17175" href="Meta.Search.Base.html#2752" class="InductiveConstructor">decomp</a><a id="17181" class="Symbol">)</a> <a id="17183" class="Symbol">(_</a> <a id="17186" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17188" class="Symbol">_</a> <a id="17190" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17192" class="Symbol">_</a> <a id="17194" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17196" class="Symbol">_</a> <a id="17198" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17200" class="Symbol">_</a> <a id="17202" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17204" href="Meta.Search.Base.html#17204" class="Bound">nm</a> <a id="17207" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="17210" href="Meta.Search.Base.html#17210" class="Bound">argspec</a> <a id="17218" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="17221" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="17223" class="Symbol">))</a> <a id="17226" class="Symbol">→</a> <a id="17228" class="Keyword">do</a>
        <a id="17239" class="Comment">-- debugPrint &quot;tactic.search&quot; 10</a>
        <a id="17280" class="Comment">--   [ &quot;Using &quot; , termErr nm , &quot; decomposition for:\n&quot;</a>
        <a id="17343" class="Comment">--   , termErr (def goal-name (lv v∷ goal-ty v∷ [])) ]</a>
        <a id="17406" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="17417" class="String">&quot;tactic.search&quot;</a> <a id="17433" class="Number">10</a> <a id="17436" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="17438" class="String">&quot;Using &quot;</a> <a id="17447" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17449" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="17457" href="Meta.Search.Base.html#17204" class="Bound">nm</a> <a id="17460" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17462" class="String">&quot;decomposition for FIXME PLZ&quot;</a> <a id="17492" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

        <a id="17503" href="Meta.Search.Base.html#17503" class="Bound">nm′</a> <a id="17507" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="17509" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="17519" href="Meta.Search.Base.html#17204" class="Bound">nm</a>
        <a id="17530" href="Meta.Search.Base.html#17530" class="Bound">argsp</a> <a id="17536" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="17538" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="17548" href="Meta.Search.Base.html#17210" class="Bound">argspec</a>
        <a id="17564" href="Meta.Search.Base.html#13106" class="Function">gen-args</a> <a id="17573" href="Meta.Search.Base.html#17025" class="Bound">fuel</a> <a id="17578" href="Meta.Search.Base.html#17005" class="Bound">goal-strat</a> <a id="17589" class="Symbol">(</a><a id="17590" href="Data.Bool.Base.html#169" class="Function">not</a> <a id="17594" class="Symbol">(</a><a id="17595" href="Data.List.Operations.html#440" class="Function">length</a> <a id="17602" href="Meta.Search.Base.html#17064" class="Bound">cs</a> <a id="17605" href="Agda.Builtin.Nat.html#631" class="Primitive Operator">==</a> <a id="17608" class="Number">0</a><a id="17609" class="Symbol">))</a> <a id="17612" href="Meta.Search.Base.html#17032" class="Bound">lv</a> <a id="17615" href="Meta.Search.Base.html#17046" class="Bound">goal</a> <a id="17620" href="Meta.Search.Base.html#17503" class="Bound">nm′</a> <a id="17624" href="Meta.Search.Base.html#17530" class="Bound">argsp</a> <a id="17630" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="17633" class="Symbol">(</a><a id="17634" href="Agda.Builtin.Reflection.html#8645" class="Postulate">returnTC</a> <a id="17643" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="17645" class="Symbol">)</a>
        <a id="17655" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="17661" href="Meta.Search.Base.html#17051" class="Bound">solved</a> <a id="17668" href="Meta.Search.Base.html#17059" class="Bound">c₁</a>

        <a id="17680" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="17685" class="Symbol">(</a><a id="17686" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="17689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17691" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="17695" class="Symbol">)</a>

      <a id="17704" href="Meta.Search.Base.html#17704" class="CatchallClause Bound">t</a> <a id="17706" class="Symbol">→</a> <a id="17708" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="17718" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="17720" class="String">&quot;Non-canonical hint: &quot;</a> <a id="17743" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17745" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="17753" href="Meta.Search.Base.html#17704" class="Bound">t</a> <a id="17755" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a><a id="17756" class="Symbol">)</a>

      <a id="17765" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="17769" href="Meta.Search.Base.html#16745" class="Function">use-decomp-hints</a> <a id="17786" href="Meta.Search.Base.html#17017" class="Bound">td</a> <a id="17789" href="Meta.Search.Base.html#17025" class="Bound">fuel</a> <a id="17794" class="Symbol">(</a><a id="17795" href="Meta.Search.Base.html#17032" class="Bound">lv</a> <a id="17798" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17800" href="Meta.Search.Base.html#17037" class="Bound">goal-ty</a><a id="17807" class="Symbol">)</a> <a id="17809" href="Meta.Search.Base.html#17046" class="Bound">goal</a> <a id="17814" href="Meta.Search.Base.html#17051" class="Bound">solved</a> <a id="17821" href="Meta.Search.Base.html#17064" class="Bound">cs</a>

  <a id="17827" href="Meta.Search.Base.html#16745" class="CatchallClause Function">use-decomp-hints</a><a id="17843" class="CatchallClause"> </a><a id="17844" class="CatchallClause Symbol">_</a><a id="17845" class="CatchallClause"> </a><a id="17846" class="CatchallClause Symbol">_</a><a id="17847" class="CatchallClause"> </a><a id="17848" class="CatchallClause Symbol">(_</a><a id="17850" class="CatchallClause"> </a><a id="17851" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="17852" class="CatchallClause"> </a><a id="17853" href="Meta.Search.Base.html#17853" class="CatchallClause Bound">goal-ty</a><a id="17860" class="CatchallClause Symbol">)</a><a id="17861" class="CatchallClause"> </a><a id="17862" class="CatchallClause Symbol">_</a><a id="17863" class="CatchallClause"> </a><a id="17864" class="CatchallClause Symbol">_</a><a id="17865" class="CatchallClause"> </a><a id="17866" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a> <a id="17869" class="Symbol">=</a>
    <a id="17875" href="Meta.Search.Base.html#3513" class="Function">backtrack</a> <a id="17885" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="17887" class="String">&quot;Ran out of decomposition hints for &quot;</a> <a id="17925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17927" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="17935" href="Meta.Search.Base.html#17853" class="Bound">goal-ty</a> <a id="17943" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

  <a id="drop-pis"></a><a id="17948" href="Meta.Search.Base.html#17948" class="Function">drop-pis</a> <a id="17957" class="Symbol">:</a> <a id="17959" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="17964" class="Symbol">→</a> <a id="17966" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="17973" href="Meta.Search.Base.html#17948" class="Function">drop-pis</a> <a id="17982" class="Symbol">(</a><a id="17983" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="17986" class="Symbol">_</a> <a id="17988" class="Symbol">(</a><a id="17989" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="17993" class="Symbol">_</a> <a id="17995" href="Meta.Search.Base.html#17995" class="Bound">x</a><a id="17996" class="Symbol">))</a> <a id="17999" class="Symbol">=</a> <a id="18001" href="Meta.Search.Base.html#17948" class="Function">drop-pis</a> <a id="18010" href="Meta.Search.Base.html#17995" class="Bound">x</a>
  <a id="18014" href="Meta.Search.Base.html#17948" class="CatchallClause Function">drop-pis</a><a id="18022" class="CatchallClause"> </a><a id="18023" href="Meta.Search.Base.html#18023" class="CatchallClause Bound">x</a> <a id="18025" class="Symbol">=</a> <a id="18027" href="Meta.Search.Base.html#18023" class="Bound">x</a>

  <a id="18032" class="Comment">-- TODO use name</a>
  <a id="sort-decomps-by-generality"></a><a id="18051" href="Meta.Search.Base.html#18051" class="Function">sort-decomps-by-generality</a> <a id="18078" class="Symbol">:</a> <a id="18080" class="Symbol">(</a><a id="18081" href="Meta.Search.Base.html#18081" class="Bound">gn</a> <a id="18084" class="Symbol">:</a> <a id="18086" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="18090" class="Symbol">)</a> <a id="18092" class="Symbol">→</a> <a id="18094" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="18099" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18104" class="Symbol">→</a> <a id="18106" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="18109" class="Symbol">(</a><a id="18110" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="18115" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="18119" class="Symbol">)</a>
  <a id="18123" href="Meta.Search.Base.html#18051" class="Function">sort-decomps-by-generality</a> <a id="18150" href="Meta.Search.Base.html#18150" class="Bound">gn</a> <a id="18153" class="Symbol">=</a> <a id="18155" href="Meta.Search.Base.html#19152" class="Function">insertion-sort</a> <a id="18170" class="Keyword">where</a>
    <a id="18180" href="Meta.Search.Base.html#18180" class="Function Operator">_less-general-than_</a> <a id="18200" class="Symbol">:</a> <a id="18202" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18207" class="Symbol">→</a> <a id="18209" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18214" class="Symbol">→</a> <a id="18216" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="18225" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="18230" class="Symbol">_</a> <a id="18232" class="Symbol">_</a> <a id="18234" href="Meta.Search.Base.html#18180" class="Function Operator">less-general-than</a> <a id="18252" class="Symbol">_</a> <a id="18254" class="Symbol">=</a> <a id="18256" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="18266" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>  <a id="18275" href="Meta.Search.Base.html#18180" class="Function Operator">less-general-than</a> <a id="18293" class="Symbol">_</a> <a id="18295" class="Symbol">=</a> <a id="18297" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="18307" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="18311" class="Symbol">_</a> <a id="18313" class="Symbol">_</a>  <a id="18316" href="Meta.Search.Base.html#18180" class="Function Operator">less-general-than</a> <a id="18334" class="Symbol">_</a> <a id="18336" class="Symbol">=</a> <a id="18338" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="18348" class="CatchallClause Symbol">_</a><a id="18349" class="CatchallClause">        </a><a id="18357" href="Meta.Search.Base.html#18180" class="CatchallClause Function Operator">less-general-than</a><a id="18374" class="CatchallClause"> </a><a id="18375" class="CatchallClause Symbol">_</a> <a id="18377" class="Symbol">=</a> <a id="18379" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

    <a id="18389" href="Meta.Search.Base.html#18389" class="Function Operator">_decomp≤?_</a> <a id="18400" class="Symbol">:</a> <a id="18402" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18407" class="Symbol">→</a> <a id="18409" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18414" class="Symbol">→</a> <a id="18416" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="18419" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="18428" href="Meta.Search.Base.html#18389" class="Function Operator">_decomp≤?_</a> <a id="18439" href="Meta.Search.Base.html#18439" class="Bound">x</a> <a id="18441" href="Meta.Search.Base.html#18441" class="Bound">y</a> <a id="18443" class="Symbol">=</a> <a id="18445" class="Keyword">do</a>
      <a id="18454" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="18459" href="Meta.Search.Base.html#18459" class="Bound">decomp-name₁</a> <a id="18472" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18474" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="18479" href="Meta.Search.Base.html#18479" class="Bound">decomp-name₂</a> <a id="18492" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="18494" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="18499" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="18501" href="Meta.Reflection.html#3193" class="Function">get-name</a> <a id="18510" href="Meta.Search.Base.html#18439" class="Bound">x</a> <a id="18512" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18514" href="Meta.Reflection.html#3193" class="Function">get-name</a> <a id="18523" href="Meta.Search.Base.html#18441" class="Bound">y</a> <a id="18525" class="Keyword">where</a>
        <a id="18539" class="CatchallClause Symbol">_</a> <a id="18541" class="Symbol">→</a> <a id="18543" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="18553" class="String">&quot;Panic: malformed decompositions&quot;</a>
      <a id="18593" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="18597" class="Symbol">_</a> <a id="18599" class="Symbol">(_</a> <a id="18602" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18604" class="Symbol">_</a> <a id="18606" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18608" class="Symbol">_</a> <a id="18610" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18612" class="Symbol">_</a> <a id="18614" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18616" href="Meta.Search.Base.html#18616" class="Bound">decomp-ty₁</a> <a id="18627" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="18630" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="18632" class="Symbol">)</a> <a id="18634" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="18636" href="Meta.Search.Base.html#17948" class="Function">drop-pis</a> <a id="18645" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="18649" href="Agda.Builtin.Reflection.html#9696" class="Postulate">getType</a> <a id="18657" href="Meta.Search.Base.html#18459" class="Bound">decomp-name₁</a> <a id="18670" class="Keyword">where</a>
        <a id="18684" class="CatchallClause Symbol">_</a> <a id="18686" class="Symbol">→</a> <a id="18688" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="18698" class="String">&quot;Panic: malformed decompositionss&quot;</a>
      <a id="18739" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="18743" class="Symbol">_</a> <a id="18745" class="Symbol">(_</a> <a id="18748" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18750" class="Symbol">_</a> <a id="18752" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18754" class="Symbol">_</a> <a id="18756" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18758" class="Symbol">_</a> <a id="18760" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18762" href="Meta.Search.Base.html#18762" class="Bound">decomp-ty₂</a> <a id="18773" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="18776" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="18778" class="Symbol">)</a> <a id="18780" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="18782" href="Meta.Search.Base.html#17948" class="Function">drop-pis</a> <a id="18791" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="18795" href="Agda.Builtin.Reflection.html#9696" class="Postulate">getType</a> <a id="18803" href="Meta.Search.Base.html#18479" class="Bound">decomp-name₂</a> <a id="18816" class="Keyword">where</a>
        <a id="18830" class="CatchallClause Symbol">_</a> <a id="18832" class="Symbol">→</a> <a id="18834" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="18844" class="String">&quot;Panic: malformed decompositionss&quot;</a>
      <a id="18885" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="18890" class="Symbol">(</a><a id="18891" href="Meta.Search.Base.html#18616" class="Bound">decomp-ty₁</a> <a id="18902" href="Meta.Search.Base.html#18180" class="Function Operator">less-general-than</a> <a id="18920" href="Meta.Search.Base.html#18762" class="Bound">decomp-ty₂</a><a id="18930" class="Symbol">)</a>

    <a id="18937" href="Meta.Search.Base.html#18937" class="Function">insert</a> <a id="18944" class="Symbol">:</a> <a id="18946" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18951" class="Symbol">→</a> <a id="18953" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="18958" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18963" class="Symbol">→</a> <a id="18965" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="18968" class="Symbol">(</a><a id="18969" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="18974" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="18978" class="Symbol">)</a>
    <a id="18984" href="Meta.Search.Base.html#18937" class="Function">insert</a> <a id="18991" href="Meta.Search.Base.html#18991" class="Bound">x</a> <a id="18993" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="18996" class="Symbol">=</a> <a id="18998" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19003" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="19005" href="Meta.Search.Base.html#18991" class="Bound">x</a> <a id="19007" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="19013" href="Meta.Search.Base.html#18937" class="Function">insert</a> <a id="19020" href="Meta.Search.Base.html#19020" class="Bound">x</a> <a id="19022" class="Symbol">(</a><a id="19023" href="Meta.Search.Base.html#19023" class="Bound">a</a> <a id="19025" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19027" href="Meta.Search.Base.html#19027" class="Bound">as</a><a id="19029" class="Symbol">)</a> <a id="19031" class="Symbol">=</a> <a id="19033" class="Keyword">do</a>
      <a id="19042" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="19048" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19050" href="Meta.Search.Base.html#19020" class="Bound">x</a> <a id="19052" href="Meta.Search.Base.html#18389" class="Function Operator">decomp≤?</a> <a id="19061" href="Meta.Search.Base.html#19023" class="Bound">a</a> <a id="19063" class="Keyword">where</a>
        <a id="19077" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="19082" class="Symbol">→</a> <a id="19084" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19089" class="Symbol">(</a><a id="19090" href="Meta.Search.Base.html#19020" class="Bound">x</a> <a id="19092" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19094" href="Meta.Search.Base.html#19023" class="Bound">a</a> <a id="19096" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19098" href="Meta.Search.Base.html#19027" class="Bound">as</a><a id="19100" class="Symbol">)</a>
      <a id="19108" href="Meta.Search.Base.html#19108" class="Bound">as′</a> <a id="19112" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19114" href="Meta.Search.Base.html#18937" class="Function">insert</a> <a id="19121" href="Meta.Search.Base.html#19020" class="Bound">x</a> <a id="19123" href="Meta.Search.Base.html#19027" class="Bound">as</a>
      <a id="19132" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19137" class="Symbol">(</a><a id="19138" href="Meta.Search.Base.html#19023" class="Bound">a</a> <a id="19140" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19142" href="Meta.Search.Base.html#19108" class="Bound">as′</a><a id="19145" class="Symbol">)</a>

    <a id="19152" href="Meta.Search.Base.html#19152" class="Function">insertion-sort</a> <a id="19167" class="Symbol">:</a> <a id="19169" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19174" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="19179" class="Symbol">→</a> <a id="19181" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="19184" class="Symbol">(</a><a id="19185" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19190" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="19194" class="Symbol">)</a>
    <a id="19200" href="Meta.Search.Base.html#19152" class="Function">insertion-sort</a> <a id="19215" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19218" class="Symbol">=</a> <a id="19220" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19225" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="19232" href="Meta.Search.Base.html#19152" class="Function">insertion-sort</a> <a id="19247" class="Symbol">(</a><a id="19248" href="Meta.Search.Base.html#19248" class="Bound">a</a> <a id="19250" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19252" href="Meta.Search.Base.html#19252" class="Bound">as</a><a id="19254" class="Symbol">)</a> <a id="19256" class="Symbol">=</a> <a id="19258" class="Keyword">do</a>
      <a id="19267" href="Meta.Search.Base.html#19267" class="Bound">as′</a> <a id="19271" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19273" href="Meta.Search.Base.html#19152" class="Function">insertion-sort</a> <a id="19288" href="Meta.Search.Base.html#19252" class="Bound">as</a>
      <a id="19297" href="Meta.Search.Base.html#18937" class="Function">insert</a> <a id="19304" href="Meta.Search.Base.html#19248" class="Bound">a</a> <a id="19306" href="Meta.Search.Base.html#19267" class="Bound">as′</a>

  <a id="use-hints"></a><a id="19313" href="Meta.Search.Base.html#19313" class="Function">use-hints</a> <a id="19323" class="Symbol">:</a> <a id="19325" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="19337" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="19347" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="19358" class="Symbol">→</a> <a id="19360" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="19362" class="Symbol">→</a> <a id="19364" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="19369" class="Symbol">→</a> <a id="19371" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="19374" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="19378" href="Meta.Search.Base.html#19313" class="Function">use-hints</a> <a id="19388" class="Symbol">_</a> <a id="19390" class="Number">0</a> <a id="19392" class="Symbol">_</a> <a id="19394" class="Symbol">=</a> <a id="19396" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="19406" class="String">&quot;use-hints: no fuel&quot;</a>
  <a id="19429" href="Meta.Search.Base.html#19313" class="Function">use-hints</a> <a id="19439" class="Symbol">{</a><a id="19440" href="Meta.Search.Base.html#19440" class="Bound">goal-name</a><a id="19449" class="Symbol">}</a> <a id="19451" href="Meta.Search.Base.html#19451" class="Bound">td</a> <a id="19454" class="Symbol">(</a><a id="19455" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19459" href="Meta.Search.Base.html#19459" class="Bound">fuel</a><a id="19463" class="Symbol">)</a> <a id="19465" href="Meta.Search.Base.html#19465" class="Bound">goal</a> <a id="19470" class="Symbol">=</a> <a id="19472" href="Agda.Builtin.Reflection.html#11429" class="Postulate">runSpeculative</a> <a id="19487" class="Keyword">do</a>
    <a id="19494" class="Symbol">(</a><a id="19495" href="Meta.Search.Base.html#19495" class="Bound">lv</a> <a id="19498" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19500" href="Meta.Search.Base.html#19500" class="Bound">ty</a><a id="19502" class="Symbol">)</a> <a id="19504" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19506" href="Meta.Search.Base.html#6022" class="Function">decompose-goal</a> <a id="19521" href="Meta.Search.Base.html#19451" class="Bound">td</a> <a id="19524" href="Meta.Search.Base.html#19465" class="Bound">goal</a>
    <a id="19533" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19538" href="Meta.Search.Base.html#19500" class="Bound">ty</a> <a id="19541" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="19545" class="Symbol">λ</a> <a id="19547" class="Keyword">where</a>
      <a id="19559" class="Symbol">(</a><a id="19560" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="19565" href="Meta.Search.Base.html#19565" class="Bound">m</a> <a id="19567" class="Symbol">_)</a> <a id="19570" class="Symbol">→</a> <a id="19572" class="Keyword">do</a>
        <a id="19583" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="19594" class="String">&quot;tactic.search&quot;</a> <a id="19610" class="Number">10</a>
          <a id="19623" class="String">&quot;Type under goal is metavariable, blocking to avoid infinite loop&quot;</a>
        <a id="19698" href="Agda.Builtin.Reflection.html#19136" class="Function">blockOnMeta</a> <a id="19710" href="Meta.Search.Base.html#19565" class="Bound">m</a>
      <a id="19718" class="CatchallClause Symbol">_</a> <a id="19720" class="Symbol">→</a> <a id="19722" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19727" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>

    <a id="19735" href="Meta.Search.Base.html#19735" class="Bound">solved</a><a id="19741" class="Symbol">@(</a><a id="19743" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="19748" href="Meta.Search.Base.html#19748" class="Bound">mv</a> <a id="19751" class="Symbol">_)</a> <a id="19754" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19756" href="Meta.Reflection.html#1976" class="Function">new-meta</a> <a id="19765" class="Symbol">(</a><a id="19766" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="19770" class="Symbol">(</a><a id="19771" class="Keyword">quote</a> <a id="19777" href="Meta.Search.Base.html#2601" class="Datatype">goal-decomposition</a><a id="19795" class="Symbol">)</a> <a id="19797" class="Symbol">(</a><a id="19798" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="19802" class="Symbol">(</a><a id="19803" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="19808" href="Meta.Search.Base.html#19440" class="Bound">goal-name</a><a id="19817" class="Symbol">)</a> <a id="19819" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="19822" href="Meta.Search.Base.html#19500" class="Bound">ty</a> <a id="19825" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="19828" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="19830" class="Symbol">))</a>
      <a id="19839" class="Keyword">where</a> <a id="19845" class="CatchallClause Symbol">_</a> <a id="19847" class="Symbol">→</a> <a id="19849" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="19859" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="19861" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="19869" href="Meta.Search.Base.html#19500" class="Bound">ty</a> <a id="19872" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="19878" href="Meta.Search.Base.html#19878" class="Bound">decomp-instances</a> <a id="19895" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19897" href="Agda.Builtin.Reflection.html#11624" class="Postulate">getInstances</a> <a id="19910" href="Meta.Search.Base.html#19748" class="Bound">mv</a> <a id="19913" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="19917" href="Meta.Search.Base.html#18051" class="Function">sort-decomps-by-generality</a> <a id="19944" href="Meta.Search.Base.html#19440" class="Bound">goal-name</a>

    <a id="19959" href="Meta.Search.Base.html#19959" class="Bound">t</a> <a id="19961" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19963" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="19971" href="Meta.Search.Base.html#19878" class="Bound">decomp-instances</a> <a id="19988" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="19992" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a>
    <a id="20006" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="20017" class="String">&quot;tactic.search&quot;</a> <a id="20033" class="Number">10</a>
      <a id="20042" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="20044" class="String">&quot;Finding decompositions for\n&quot;</a> <a id="20075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20077" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="20085" href="Meta.Search.Base.html#19500" class="Bound">ty</a>
      <a id="20094" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20096" class="String">&quot;\nFound candidates\n &quot;</a>        <a id="20127" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20129" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="20137" href="Meta.Search.Base.html#19959" class="Bound">t</a> <a id="20139" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

    <a id="20146" href="Meta.Search.Base.html#16745" class="Function">use-decomp-hints</a> <a id="20163" href="Meta.Search.Base.html#19451" class="Bound">td</a> <a id="20166" href="Meta.Search.Base.html#19459" class="Bound">fuel</a> <a id="20171" class="Symbol">(</a><a id="20172" href="Meta.Search.Base.html#19495" class="Bound">lv</a> <a id="20175" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20177" href="Meta.Search.Base.html#19500" class="Bound">ty</a><a id="20179" class="Symbol">)</a> <a id="20181" href="Meta.Search.Base.html#19465" class="Bound">goal</a> <a id="20186" href="Meta.Search.Base.html#19735" class="Bound">solved</a> <a id="20193" href="Meta.Search.Base.html#19878" class="Bound">decomp-instances</a>


  <a id="20214" href="Meta.Search.Base.html#13003" class="Function">search</a> <a id="20221" href="Meta.Search.Base.html#20221" class="Bound">td</a> <a id="20224" href="Meta.Search.Base.html#20224" class="Bound">has-alts</a> <a id="20233" class="Symbol">_</a>     <a id="20239" class="Number">0</a>          <a id="20250" href="Meta.Search.Base.html#20250" class="Bound">goal</a> <a id="20255" class="Symbol">=</a> <a id="20257" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="20263" href="Meta.Search.Base.html#20250" class="Bound">goal</a> <a id="20268" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>
  <a id="20278" href="Meta.Search.Base.html#13003" class="Function">search</a> <a id="20285" href="Meta.Search.Base.html#20285" class="Bound">td</a> <a id="20288" href="Meta.Search.Base.html#20288" class="Bound">has-alts</a> <a id="20297" href="Meta.Search.Base.html#20297" class="Bound">level</a> <a id="20303" class="Symbol">(</a><a id="20304" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20308" href="Meta.Search.Base.html#20308" class="Bound">fuel</a><a id="20312" class="Symbol">)</a> <a id="20314" href="Meta.Search.Base.html#20314" class="Bound">goal</a>
    <a id="20323" class="Symbol">=</a>   <a id="20327" href="Meta.Search.Base.html#10916" class="Function">use-projections</a> <a id="20343" href="Meta.Search.Base.html#20285" class="Bound">td</a> <a id="20346" href="Meta.Search.Base.html#20314" class="Bound">goal</a>
    <a id="20355" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="20359" href="Meta.Search.Base.html#19313" class="Function">use-hints</a> <a id="20369" href="Meta.Search.Base.html#20285" class="Bound">td</a> <a id="20372" href="Meta.Search.Base.html#20308" class="Bound">fuel</a> <a id="20377" href="Meta.Search.Base.html#20314" class="Bound">goal</a>
    <a id="20386" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="20390" href="Meta.Search.Base.html#9902" class="Function">use-instance-search</a> <a id="20410" href="Meta.Search.Base.html#20285" class="Bound">td</a> <a id="20413" href="Meta.Search.Base.html#20288" class="Bound">has-alts</a> <a id="20422" href="Meta.Search.Base.html#20314" class="Bound">goal</a>
    <a id="20431" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="20435" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="20445" class="String">&quot;Search failed!&quot;</a>


  <a id="decompose-goal-top"></a><a id="20466" href="Meta.Search.Base.html#20466" class="Function">decompose-goal-top</a>
    <a id="20489" class="Symbol">:</a> <a id="20491" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="20503" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="20513" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="20524" class="Symbol">→</a> <a id="20526" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="20531" class="Symbol">→</a> <a id="20533" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="20536" class="Symbol">(</a><a id="20537" href="Meta.Search.Base.html#1305" class="Function">Level-data</a> <a id="20548" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="20559" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="20561" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="20566" href="Foundations.Sigma.Base.html#580" class="Function Operator">×</a> <a id="20568" href="Agda.Builtin.Reflection.html#5076" class="Function">Telescope</a><a id="20577" class="Symbol">)</a>
  <a id="20581" href="Meta.Search.Base.html#20466" class="Function">decompose-goal-top</a> <a id="20600" href="Meta.Search.Base.html#20600" class="Bound">td</a> <a id="20603" href="Meta.Search.Base.html#20603" class="Bound">goal</a> <a id="20608" class="Symbol">=</a> <a id="20610" class="Keyword">do</a>
      <a id="20619" href="Meta.Search.Base.html#20619" class="Bound">ty</a> <a id="20622" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="20624" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="20639" class="Symbol">(</a><a id="20640" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="20646" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20648" href="Meta.Search.Base.html#2218" class="Function">atoms</a> <a id="20654" href="Meta.Search.Base.html#20600" class="Bound">td</a><a id="20656" class="Symbol">)</a> <a id="20658" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a>
        <a id="20668" class="Symbol">(</a><a id="20669" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="20679" href="Meta.Search.Base.html#20603" class="Bound">goal</a> <a id="20684" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="20688" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a><a id="20694" class="Symbol">)</a> <a id="20696" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="20700" href="Meta.Reflection.html#5907" class="Function">wait-just-a-bit</a>
      <a id="20722" href="Meta.Search.Base.html#20744" class="Function">go</a> <a id="20725" href="Meta.Search.Base.html#20619" class="Bound">ty</a>
    <a id="20732" class="Keyword">where</a>
      <a id="20744" href="Meta.Search.Base.html#20744" class="Function">go</a> <a id="20747" class="Symbol">:</a> <a id="20749" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="20754" class="Symbol">→</a> <a id="20756" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="20759" class="Symbol">_</a>
      <a id="20767" href="Meta.Search.Base.html#20744" class="Function">go</a> <a id="20770" class="Symbol">(</a><a id="20771" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="20774" class="Symbol">(</a><a id="20775" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="20779" href="Meta.Search.Base.html#20779" class="Bound">as</a> <a id="20782" href="Meta.Search.Base.html#20782" class="Bound">at</a><a id="20784" class="Symbol">)</a> <a id="20786" class="Symbol">(</a><a id="20787" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="20791" href="Meta.Search.Base.html#20791" class="Bound">vn</a> <a id="20794" href="Meta.Search.Base.html#20794" class="Bound">cd</a><a id="20796" class="Symbol">))</a> <a id="20799" class="Symbol">=</a> <a id="20801" class="Keyword">do</a>
        <a id="20812" class="Symbol">(</a><a id="20813" href="Meta.Search.Base.html#20813" class="Bound">lv</a> <a id="20816" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20818" href="Meta.Search.Base.html#20818" class="Bound">inner</a> <a id="20824" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20826" href="Meta.Search.Base.html#20826" class="Bound">delta</a><a id="20831" class="Symbol">)</a> <a id="20833" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="20835" href="Meta.Search.Base.html#20744" class="Function">go</a> <a id="20838" href="Meta.Search.Base.html#20794" class="Bound">cd</a>
        <a id="20849" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="20854" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="20856" href="Meta.Search.Base.html#20813" class="Bound">lv</a> <a id="20859" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20861" href="Meta.Search.Base.html#20818" class="Bound">inner</a> <a id="20867" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20869" class="Symbol">(</a><a id="20870" href="Meta.Search.Base.html#20791" class="Bound">vn</a> <a id="20873" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20875" class="Symbol">(</a><a id="20876" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="20880" href="Meta.Search.Base.html#20779" class="Bound">as</a> <a id="20883" href="Meta.Search.Base.html#20782" class="Bound">at</a><a id="20885" class="Symbol">))</a> <a id="20888" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20890" href="Meta.Search.Base.html#20826" class="Bound">delta</a>
      <a id="20902" href="Meta.Search.Base.html#20744" class="CatchallClause Function">go</a><a id="20904" class="CatchallClause"> </a><a id="20905" href="Meta.Search.Base.html#20905" class="CatchallClause Bound">tm</a> <a id="20908" class="Symbol">=</a> <a id="20910" class="Keyword">do</a>
        <a id="20921" class="Symbol">(</a><a id="20922" href="Meta.Search.Base.html#20922" class="Bound">lv</a> <a id="20925" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20927" href="Meta.Search.Base.html#20927" class="Bound">inner</a><a id="20932" class="Symbol">)</a> <a id="20934" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="20936" href="Meta.Search.Base.html#4997" class="Function">decompose-goal′</a> <a id="20952" href="Meta.Search.Base.html#20600" class="Bound">td</a> <a id="20955" href="Meta.Search.Base.html#20905" class="Bound">tm</a>
        <a id="20966" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="20971" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="20973" href="Meta.Search.Base.html#20922" class="Bound">lv</a> <a id="20976" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20978" href="Meta.Search.Base.html#20927" class="Bound">inner</a> <a id="20984" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20986" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="20990" class="Comment">-- this is the way</a>
<a id="search-tactic-worker"></a><a id="21009" href="Meta.Search.Base.html#21009" class="Function">search-tactic-worker</a> <a id="21030" class="Symbol">:</a> <a id="21032" href="Meta.Search.Base.html#1661" class="Record">Tactic-desc</a> <a id="21044" href="Meta.Search.Base.html#3451" class="Generalizable">goal-name</a> <a id="21054" href="Meta.Search.Base.html#642" class="Generalizable">goal-strat</a> <a id="21065" class="Symbol">→</a> <a id="21067" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="21072" class="Symbol">→</a> <a id="21074" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="21077" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="21079" href="Meta.Search.Base.html#21009" class="Function">search-tactic-worker</a> <a id="21100" class="Symbol">{</a><a id="21101" href="Meta.Search.Base.html#21101" class="Bound">goal-name</a><a id="21110" class="Symbol">}</a> <a id="21112" href="Meta.Search.Base.html#21112" class="Bound">td</a> <a id="21115" href="Meta.Search.Base.html#21115" class="Bound">goal</a> <a id="21120" class="Symbol">=</a> <a id="21122" class="Keyword">do</a>
  <a id="21127" href="Meta.Search.Base.html#21127" class="Bound">ty</a> <a id="21130" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="21132" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="21147" class="Symbol">(</a><a id="21148" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="21154" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21156" href="Meta.Search.Base.html#2218" class="Function">atoms</a> <a id="21162" href="Meta.Search.Base.html#21112" class="Bound">td</a><a id="21164" class="Symbol">)</a> <a id="21166" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="21168" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="21178" href="Meta.Search.Base.html#21115" class="Bound">goal</a> <a id="21183" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="21187" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
  <a id="21196" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="21207" class="String">&quot;tactic.search&quot;</a> <a id="21223" class="Number">10</a> <a id="21226" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="21228" class="String">&quot;Target type: &quot;</a> <a id="21244" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21246" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="21254" href="Meta.Search.Base.html#21127" class="Bound">ty</a> <a id="21257" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
  <a id="21261" class="Symbol">(</a><a id="21262" href="Meta.Search.Base.html#21262" class="Bound">lv</a> <a id="21265" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21267" href="Meta.Search.Base.html#21267" class="Bound">ty</a> <a id="21270" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21272" href="Meta.Search.Base.html#21272" class="Bound">delta</a><a id="21277" class="Symbol">)</a> <a id="21279" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="21281" href="Meta.Search.Base.html#20466" class="Function">decompose-goal-top</a> <a id="21300" href="Meta.Search.Base.html#21112" class="Bound">td</a> <a id="21303" href="Meta.Search.Base.html#21115" class="Bound">goal</a>
    <a id="21312" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="21316" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a>
      <a id="21332" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="21334" class="String">&quot;Goal type is not of the form ‶&quot;</a> <a id="21367" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21369" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="21377" href="Meta.Search.Base.html#21101" class="Bound">goal-name</a> <a id="21387" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21389" class="String">&quot;″:\n&quot;</a>
      <a id="21402" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21404" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="21412" href="Meta.Search.Base.html#21127" class="Bound">ty</a> <a id="21415" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

  <a id="21420" class="Keyword">let</a> <a id="21424" href="Meta.Search.Base.html#21424" class="Bound">delta</a> <a id="21430" class="Symbol">=</a> <a id="21432" href="Data.List.Base.html#972" class="Function">reverse-fast</a> <a id="21445" href="Meta.Search.Base.html#21272" class="Bound">delta</a>
  <a id="21453" href="Meta.Search.Base.html#21453" class="Bound">solved</a> <a id="21460" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="21462" href="Meta.Search.Base.html#21741" class="Function">enter</a> <a id="21468" href="Meta.Search.Base.html#21424" class="Bound">delta</a> <a id="21474" class="Keyword">do</a>
    <a id="21481" href="Meta.Search.Base.html#21481" class="Bound">goal′</a> <a id="21487" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="21489" href="Meta.Reflection.html#1976" class="Function">new-meta</a> <a id="21498" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="21500" href="Meta.Search.Base.html#4052" class="Function">compose-goal</a> <a id="21513" href="Meta.Search.Base.html#21112" class="Bound">td</a> <a id="21516" href="Meta.Search.Base.html#21262" class="Bound">lv</a> <a id="21519" href="Meta.Search.Base.html#21267" class="Bound">ty</a>
    <a id="21526" href="Meta.Search.Base.html#13003" class="Function">search</a> <a id="21533" href="Meta.Search.Base.html#21112" class="Bound">td</a> <a id="21536" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="21542" href="Meta.Search.Base.html#21262" class="Bound">lv</a> <a id="21545" class="Number">30</a> <a id="21548" href="Meta.Search.Base.html#21481" class="Bound">goal′</a>
    <a id="21558" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="21563" href="Meta.Search.Base.html#21481" class="Bound">goal′</a>
  <a id="21571" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="21577" href="Meta.Search.Base.html#21115" class="Bound">goal</a> <a id="21582" class="Symbol">(</a><a id="21583" href="Meta.Search.Base.html#21615" class="Function">leave</a> <a id="21589" href="Meta.Search.Base.html#21424" class="Bound">delta</a> <a id="21595" href="Meta.Search.Base.html#21453" class="Bound">solved</a><a id="21601" class="Symbol">)</a>
  <a id="21605" class="Keyword">where</a>
    <a id="21615" href="Meta.Search.Base.html#21615" class="Function">leave</a> <a id="21621" class="Symbol">:</a> <a id="21623" href="Agda.Builtin.Reflection.html#5076" class="Function">Telescope</a> <a id="21633" class="Symbol">→</a> <a id="21635" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="21640" class="Symbol">→</a> <a id="21642" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="21651" href="Meta.Search.Base.html#21615" class="Function">leave</a> <a id="21657" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21660" class="Symbol">=</a> <a id="21662" href="Foundations.Pi.Base.html#722" class="Function">id</a>
    <a id="21669" href="Meta.Search.Base.html#21615" class="Function">leave</a> <a id="21675" class="Symbol">((</a><a id="21677" href="Meta.Search.Base.html#21677" class="Bound">na</a> <a id="21680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21682" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="21686" href="Meta.Search.Base.html#21686" class="Bound">as</a> <a id="21689" class="Symbol">_)</a> <a id="21692" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21694" href="Meta.Search.Base.html#21694" class="Bound">xs</a><a id="21696" class="Symbol">)</a> <a id="21698" class="Symbol">=</a> <a id="21700" href="Meta.Search.Base.html#21615" class="Function">leave</a> <a id="21706" href="Meta.Search.Base.html#21694" class="Bound">xs</a> <a id="21709" href="Foundations.Pi.Base.html#1181" class="Function Operator">∘</a> <a id="21711" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="21715" class="Symbol">(</a><a id="21716" href="Meta.Reflection.html#1328" class="Function">arg-vis</a> <a id="21724" href="Meta.Search.Base.html#21686" class="Bound">as</a><a id="21726" class="Symbol">)</a> <a id="21728" href="Foundations.Pi.Base.html#1181" class="Function Operator">∘</a> <a id="21730" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="21734" href="Meta.Search.Base.html#21677" class="Bound">na</a>
    <a id="21741" href="Meta.Search.Base.html#21741" class="Function">enter</a> <a id="21747" class="Symbol">:</a> <a id="21749" href="Agda.Builtin.Reflection.html#5076" class="Function">Telescope</a> <a id="21759" class="Symbol">→</a> <a id="21761" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="21764" href="Meta.Search.Base.html#3438" class="Generalizable">A</a> <a id="21766" class="Symbol">→</a> <a id="21768" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="21771" href="Meta.Search.Base.html#3438" class="Generalizable">A</a>
    <a id="21777" href="Meta.Search.Base.html#21741" class="Function">enter</a> <a id="21783" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="21786" class="Symbol">=</a> <a id="21788" href="Foundations.Pi.Base.html#722" class="Function">id</a>
    <a id="21795" href="Meta.Search.Base.html#21741" class="Function">enter</a> <a id="21801" class="Symbol">((</a><a id="21803" href="Meta.Search.Base.html#21803" class="Bound">na</a> <a id="21806" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21808" href="Meta.Search.Base.html#21808" class="Bound">ar</a><a id="21810" class="Symbol">)</a> <a id="21812" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="21814" href="Meta.Search.Base.html#21814" class="Bound">xs</a><a id="21816" class="Symbol">)</a> <a id="21818" class="Symbol">=</a> <a id="21820" href="Meta.Search.Base.html#21741" class="Function">enter</a> <a id="21826" href="Meta.Search.Base.html#21814" class="Bound">xs</a> <a id="21829" href="Foundations.Pi.Base.html#1181" class="Function Operator">∘</a> <a id="21831" href="Agda.Builtin.Reflection.html#9277" class="Postulate">extendContext</a> <a id="21845" href="Meta.Search.Base.html#21803" class="Bound">na</a> <a id="21848" href="Meta.Search.Base.html#21808" class="Bound">ar</a>
</pre></body></html>