<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Search.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Comment">-- -vtactic.search:20 -vtc.def:10</a>
<a id="58" class="Keyword">module</a> <a id="65" href="Meta.Search.Base.html" class="Module">Meta.Search.Base</a> <a id="82" class="Keyword">where</a>

<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Meta.Foldable.html" class="Module">Meta.Foldable</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Meta.Literals.FromNat.html" class="Module">Meta.Literals.FromNat</a>
<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Meta.Literals.FromProduct.html" class="Module">Meta.Literals.FromProduct</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Meta.Literals.FromString.html" class="Module">Meta.Literals.FromString</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>

<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="310" class="Keyword">open</a> <a id="315" class="Keyword">import</a> <a id="322" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Data.List.Operations.html" class="Module">Data.List.Operations</a>
<a id="370" class="Keyword">open</a> <a id="375" class="Keyword">import</a> <a id="382" href="Data.List.Instances.Foldable.html" class="Module">Data.List.Instances.Foldable</a>
<a id="411" class="Keyword">open</a> <a id="416" class="Keyword">import</a> <a id="423" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Data.List.Instances.Idiom.html" class="Module">Data.List.Instances.Idiom</a>
<a id="493" class="Keyword">open</a> <a id="498" class="Keyword">import</a> <a id="505" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="521" class="Keyword">open</a> <a id="526" class="Keyword">import</a> <a id="533" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>

<a id="548" class="Keyword">data</a> <a id="Level-spec"></a><a id="553" href="Meta.Search.Base.html#553" class="Datatype">Level-spec</a> <a id="564" class="Symbol">:</a> <a id="566" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="571" class="Keyword">where</a>
  <a id="Level-spec.`verbatim"></a><a id="579" href="Meta.Search.Base.html#579" class="InductiveConstructor">`verbatim</a> <a id="589" class="Symbol">:</a> <a id="591" class="Symbol">(</a><a id="592" href="Meta.Search.Base.html#592" class="Bound">n</a> <a id="594" class="Symbol">:</a> <a id="596" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="597" class="Symbol">)</a> <a id="599" class="Symbol">→</a> <a id="601" href="Meta.Search.Base.html#553" class="Datatype">Level-spec</a>
  <a id="Level-spec.`minus"></a><a id="614" href="Meta.Search.Base.html#614" class="InductiveConstructor">`minus</a>    <a id="624" class="Symbol">:</a> <a id="626" class="Symbol">(</a><a id="627" href="Meta.Search.Base.html#627" class="Bound">n</a> <a id="629" class="Symbol">:</a> <a id="631" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="632" class="Symbol">)</a> <a id="634" class="Symbol">→</a> <a id="636" href="Meta.Search.Base.html#553" class="Datatype">Level-spec</a>

<a id="648" class="Keyword">data</a> <a id="Arg-spec"></a><a id="653" href="Meta.Search.Base.html#653" class="Datatype">Arg-spec</a> <a id="662" class="Symbol">:</a> <a id="664" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="669" class="Keyword">where</a>
  <a id="Arg-spec.`level"></a><a id="677" href="Meta.Search.Base.html#677" class="InductiveConstructor">`level</a>        <a id="691" class="Symbol">:</a> <a id="693" href="Meta.Search.Base.html#553" class="Datatype">Level-spec</a> <a id="704" class="Symbol">→</a> <a id="706" href="Meta.Search.Base.html#653" class="Datatype">Arg-spec</a>
  <a id="Arg-spec.`search-under"></a><a id="717" href="Meta.Search.Base.html#717" class="InductiveConstructor">`search-under</a> <a id="731" class="Symbol">:</a> <a id="733" class="Symbol">(</a><a id="734" href="Meta.Search.Base.html#734" class="Bound">n</a> <a id="736" class="Symbol">:</a> <a id="738" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="739" class="Symbol">)</a> <a id="741" class="Symbol">(</a><a id="742" href="Meta.Search.Base.html#742" class="Bound">subgoal</a> <a id="750" class="Symbol">:</a> <a id="752" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="756" class="Symbol">)</a> <a id="758" class="Symbol">→</a> <a id="760" href="Meta.Search.Base.html#653" class="Datatype">Arg-spec</a>
  <a id="Arg-spec.`meta"></a><a id="771" href="Meta.Search.Base.html#771" class="InductiveConstructor">`meta</a>         <a id="785" class="Symbol">:</a> <a id="787" href="Meta.Search.Base.html#653" class="Datatype">Arg-spec</a>

<a id="797" class="Keyword">pattern</a> <a id="`search"></a><a id="805" href="Meta.Search.Base.html#805" class="InductiveConstructor">`search</a> <a id="813" href="Meta.Search.Base.html#838" class="Bound">sg</a>     <a id="820" class="Symbol">=</a> <a id="822" href="Meta.Search.Base.html#717" class="InductiveConstructor">`search-under</a> <a id="836" class="Number">0</a> <a id="838" href="Meta.Search.Base.html#838" class="Bound">sg</a>
<a id="841" class="Keyword">pattern</a> <a id="`level-same"></a><a id="849" href="Meta.Search.Base.html#849" class="InductiveConstructor">`level-same</a>    <a id="864" class="Symbol">=</a> <a id="866" href="Meta.Search.Base.html#677" class="InductiveConstructor">`level</a> <a id="873" class="Symbol">(</a><a id="874" href="Meta.Search.Base.html#614" class="InductiveConstructor">`minus</a> <a id="881" class="Number">0</a><a id="882" class="Symbol">)</a>
<a id="884" class="Keyword">pattern</a> <a id="`level-minus"></a><a id="892" href="Meta.Search.Base.html#892" class="InductiveConstructor">`level-minus</a> <a id="905" href="Meta.Search.Base.html#924" class="Bound">n</a> <a id="907" class="Symbol">=</a> <a id="909" href="Meta.Search.Base.html#677" class="InductiveConstructor">`level</a> <a id="916" class="Symbol">(</a><a id="917" href="Meta.Search.Base.html#614" class="InductiveConstructor">`minus</a> <a id="924" href="Meta.Search.Base.html#924" class="Bound">n</a><a id="925" class="Symbol">)</a>

<a id="928" class="Keyword">data</a> <a id="goal-decomposition"></a><a id="933" href="Meta.Search.Base.html#933" class="Datatype">goal-decomposition</a> <a id="952" class="Symbol">{</a><a id="953" href="Meta.Search.Base.html#953" class="Bound">ℓ</a><a id="954" class="Symbol">}</a> <a id="956" class="Symbol">(</a><a id="957" href="Meta.Search.Base.html#957" class="Bound">goal</a> <a id="962" class="Symbol">:</a> <a id="964" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="968" class="Symbol">)</a> <a id="970" class="Symbol">(</a><a id="971" href="Meta.Search.Base.html#971" class="Bound">T</a> <a id="973" class="Symbol">:</a> <a id="975" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="980" href="Meta.Search.Base.html#953" class="Bound">ℓ</a><a id="981" class="Symbol">)</a> <a id="983" class="Symbol">:</a> <a id="985" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="990" class="Keyword">where</a>
  <a id="goal-decomposition.decomp"></a><a id="998" href="Meta.Search.Base.html#998" class="InductiveConstructor">decomp</a> <a id="1005" class="Symbol">:</a> <a id="1007" class="Symbol">(</a><a id="1008" href="Meta.Search.Base.html#1008" class="Bound">search-lemma</a> <a id="1021" class="Symbol">:</a> <a id="1023" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="1027" class="Symbol">)</a> <a id="1029" class="Symbol">(</a><a id="1030" href="Meta.Search.Base.html#1030" class="Bound">arguments</a> <a id="1040" class="Symbol">:</a> <a id="1042" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1047" href="Meta.Search.Base.html#653" class="Datatype">Arg-spec</a><a id="1055" class="Symbol">)</a>
         <a id="1066" class="Symbol">→</a> <a id="1068" href="Meta.Search.Base.html#933" class="Datatype">goal-decomposition</a> <a id="1087" href="Meta.Search.Base.html#957" class="Bound">goal</a> <a id="1092" href="Meta.Search.Base.html#971" class="Bound">T</a>


<a id="1096" class="Keyword">record</a> <a id="Tactic-desc"></a><a id="1103" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="1115" class="Symbol">(</a><a id="1116" href="Meta.Search.Base.html#1116" class="Bound">goal-name</a> <a id="1126" class="Symbol">:</a> <a id="1128" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="1132" class="Symbol">)</a> <a id="1134" class="Symbol">:</a> <a id="1136" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="1141" class="Keyword">where</a>
  <a id="1149" class="Keyword">field</a>
    <a id="Tactic-desc.other-atoms"></a><a id="1159" href="Meta.Search.Base.html#1159" class="Field">other-atoms</a> <a id="1171" class="Symbol">:</a> <a id="1173" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1178" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Tactic-desc.instance-fallback-helper"></a><a id="1187" href="Meta.Search.Base.html#1187" class="Field">instance-fallback-helper</a> <a id="1212" class="Symbol">:</a> <a id="1214" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Tactic-desc.upwards-closure"></a><a id="1223" href="Meta.Search.Base.html#1223" class="Field">upwards-closure</a> <a id="1239" class="Symbol">:</a> <a id="1241" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1247" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="1256" class="Comment">-- ^ it should have a following signature</a>
    <a id="1302" class="Comment">--   (h₀ h₁ : HLevel) → whatever h₀ A → whatever (h₁ + h₀) A</a>

  <a id="Tactic-desc.atoms"></a><a id="1366" href="Meta.Search.Base.html#1366" class="Function">atoms</a> <a id="1372" class="Symbol">:</a> <a id="1374" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1379" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
  <a id="1386" href="Meta.Search.Base.html#1366" class="Function">atoms</a> <a id="1392" class="Symbol">=</a> <a id="1394" href="Meta.Search.Base.html#1116" class="Bound">goal-name</a> <a id="1404" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1406" href="Meta.Search.Base.html#1159" class="Field">other-atoms</a>


<a id="1420" class="Keyword">record</a> <a id="Struct-proj-desc"></a><a id="1427" href="Meta.Search.Base.html#1427" class="Record">Struct-proj-desc</a> <a id="1444" class="Symbol">(</a><a id="1445" href="Meta.Search.Base.html#1445" class="Bound">goal-name</a> <a id="1455" class="Symbol">:</a> <a id="1457" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="1461" class="Symbol">)</a> <a id="1463" class="Symbol">(</a><a id="1464" href="Meta.Search.Base.html#1464" class="Bound">carrier-name</a> <a id="1477" class="Symbol">:</a> <a id="1479" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="1483" class="Symbol">)</a> <a id="1485" class="Symbol">:</a> <a id="1487" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="1492" class="Keyword">where</a>
  <a id="1500" class="Keyword">field</a>
    <a id="Struct-proj-desc.struct-name"></a><a id="1510" href="Meta.Search.Base.html#1510" class="Field">struct-name</a> <a id="1522" class="Symbol">:</a> <a id="1524" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Struct-proj-desc.project-goal"></a><a id="1533" href="Meta.Search.Base.html#1533" class="Field">project-goal</a> <a id="1546" class="Symbol">:</a> <a id="1548" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Struct-proj-desc.get-level"></a><a id="1557" href="Meta.Search.Base.html#1557" class="Field">get-level</a>    <a id="1570" class="Symbol">:</a> <a id="1572" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="1577" class="Symbol">→</a> <a id="1579" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="1582" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="1587" class="Comment">-- TODO refactor this</a>
    <a id="Struct-proj-desc.get-argument"></a><a id="1613" href="Meta.Search.Base.html#1613" class="Field">get-argument</a> <a id="1626" class="Symbol">:</a> <a id="1628" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1633" class="Symbol">(</a><a id="1634" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="1638" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a><a id="1642" class="Symbol">)</a> <a id="1644" class="Symbol">→</a> <a id="1646" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="1649" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a>

<a id="1655" class="Keyword">private</a> <a id="1663" class="Keyword">variable</a>
  <a id="1674" href="Meta.Search.Base.html#1674" class="Generalizable">ℓ</a> <a id="1676" class="Symbol">:</a> <a id="1678" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="1686" href="Meta.Search.Base.html#1686" class="Generalizable">A</a> <a id="1688" class="Symbol">:</a> <a id="1690" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="1695" href="Meta.Search.Base.html#1674" class="Generalizable">ℓ</a>
  <a id="1699" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="1709" href="Meta.Search.Base.html#1709" class="Generalizable">carrier-name</a> <a id="1722" class="Symbol">:</a> <a id="1724" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
  <a id="1731" href="Meta.Search.Base.html#1731" class="Generalizable">n</a> <a id="1733" class="Symbol">:</a> <a id="1735" href="Foundations.Base.html#12909" class="Function">HLevel</a>

<a id="backtrack"></a><a id="1743" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="1753" class="Symbol">:</a> <a id="1755" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1760" href="Agda.Builtin.Reflection.html#7893" class="Datatype">ErrorPart</a> <a id="1770" class="Symbol">→</a> <a id="1772" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="1775" href="Meta.Search.Base.html#1686" class="Generalizable">A</a>
<a id="1777" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="1787" href="Meta.Search.Base.html#1787" class="Bound">note</a> <a id="1792" class="Symbol">=</a> <a id="1794" class="Keyword">do</a>
  <a id="1799" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="1810" class="String">&quot;tactic.search&quot;</a> <a id="1826" class="Number">10</a> <a id="1829" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="1831" class="String">&quot;Backtracking search... &quot;</a> <a id="1857" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1859" href="Meta.Search.Base.html#1787" class="Bound">note</a>
  <a id="1866" href="Agda.Builtin.Reflection.html#8509" class="Postulate">typeError</a> <a id="1876" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="1878" class="String">&quot;Search hit a dead-end: &quot;</a> <a id="1904" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1906" href="Meta.Search.Base.html#1787" class="Bound">note</a>

<a id="1912" class="Keyword">private</a>

  <a id="1923" class="Keyword">pattern</a> <a id="nat-lit"></a><a id="1931" href="Meta.Search.Base.html#1931" class="InductiveConstructor">nat-lit</a> <a id="1939" href="Meta.Search.Base.html#1996" class="Bound">n</a> <a id="1941" class="Symbol">=</a>
    <a id="1947" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="1951" class="Symbol">(</a><a id="1952" class="Keyword">quote</a> <a id="1958" href="Agda.Builtin.FromNat.html#281" class="Field">Number.fromNat</a><a id="1972" class="Symbol">)</a> <a id="1974" class="Symbol">(_</a> <a id="1977" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1979" class="Symbol">_</a> <a id="1981" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1983" class="Symbol">_</a> <a id="1985" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1987" class="InductiveConstructor">lit</a> <a id="1991" class="Symbol">(</a><a id="1992" href="Agda.Builtin.Reflection.html#4113" class="InductiveConstructor">nat</a> <a id="1996" href="Meta.Search.Base.html#1996" class="Bound">n</a><a id="1997" class="Symbol">)</a> <a id="1999" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="2002" class="Symbol">_)</a>

  <a id="decompose-goal′"></a><a id="2008" href="Meta.Search.Base.html#2008" class="Function">decompose-goal′</a> <a id="2024" class="Symbol">:</a> <a id="2026" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="2038" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="2048" class="Symbol">→</a> <a id="2050" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="2055" class="Symbol">→</a> <a id="2057" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="2060" class="Symbol">(</a><a id="2061" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="2066" href="Foundations.Sigma.Base.html#498" class="Function Operator">×</a> <a id="2068" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a><a id="2072" class="Symbol">)</a>
  <a id="2076" href="Meta.Search.Base.html#2008" class="Function">decompose-goal′</a> <a id="2092" class="Symbol">{</a><a id="2093" href="Meta.Search.Base.html#2093" class="Bound">goal-name</a><a id="2102" class="Symbol">}</a> <a id="2104" href="Meta.Search.Base.html#2104" class="Bound">td</a> <a id="2107" href="Meta.Search.Base.html#2107" class="Bound">ty</a> <a id="2110" class="Symbol">=</a> <a id="2112" class="Keyword">do</a>
    <a id="2119" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="2123" href="Meta.Search.Base.html#2123" class="Bound">goal-name</a> <a id="2133" class="Symbol">(_</a> <a id="2136" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2138" href="Meta.Search.Base.html#2138" class="Bound">lv</a> <a id="2141" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="2144" href="Meta.Search.Base.html#2144" class="Bound">ty</a> <a id="2147" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="2150" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2152" class="Symbol">)</a> <a id="2154" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="2156" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="2161" href="Meta.Search.Base.html#2107" class="Bound">ty</a>
      <a id="2170" class="Keyword">where</a> <a id="2176" class="CatchallClause Symbol">_</a> <a id="2178" class="Symbol">→</a> <a id="2180" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="2190" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="2192" class="String">&quot;Goal type isn&#39;t &quot;</a> <a id="2211" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2213" href="Agda.Builtin.Reflection.html#8009" class="InductiveConstructor">nameErr</a> <a id="2221" href="Meta.Search.Base.html#2093" class="Bound">goal-name</a> <a id="2231" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="2237" href="Meta.Search.Base.html#2237" class="Bound">ty</a> <a id="2240" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="2242" href="Meta.Reflection.html#5373" class="Function">wait-just-a-bit</a> <a id="2258" href="Meta.Search.Base.html#2144" class="Bound">ty</a>
    <a id="2265" href="Meta.Search.Base.html#2265" class="Bound">lv</a> <a id="2268" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="2270" href="Meta.Reflection.html#5373" class="Function">wait-just-a-bit</a> <a id="2286" href="Meta.Search.Base.html#2138" class="Bound">lv</a>
    <a id="2293" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="2298" class="Symbol">(</a><a id="2299" href="Meta.Search.Base.html#2265" class="Bound">lv</a> <a id="2302" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2304" href="Meta.Search.Base.html#2237" class="Bound">ty</a><a id="2306" class="Symbol">)</a>

  <a id="decompose-goal"></a><a id="2311" href="Meta.Search.Base.html#2311" class="Function">decompose-goal</a> <a id="2326" class="Symbol">:</a> <a id="2328" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="2340" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="2350" class="Symbol">→</a> <a id="2352" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="2357" class="Symbol">→</a> <a id="2359" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="2362" class="Symbol">(</a><a id="2363" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="2368" href="Foundations.Sigma.Base.html#498" class="Function Operator">×</a> <a id="2370" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a><a id="2374" class="Symbol">)</a>
  <a id="2378" href="Meta.Search.Base.html#2311" class="Function">decompose-goal</a> <a id="2393" href="Meta.Search.Base.html#2393" class="Bound">td</a> <a id="2396" href="Meta.Search.Base.html#2396" class="Bound">goal</a> <a id="2401" class="Symbol">=</a> <a id="2403" class="Keyword">do</a>
    <a id="2410" class="Keyword">let</a> <a id="2414" class="Keyword">open</a> <a id="2419" href="Meta.Search.Base.html#1103" class="Module">Tactic-desc</a> <a id="2431" href="Meta.Search.Base.html#2393" class="Bound">td</a>
    <a id="2438" href="Meta.Search.Base.html#2438" class="Bound">ty</a> <a id="2441" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="2443" href="Agda.Builtin.Reflection.html#10460" class="Postulate">withReduceDefs</a> <a id="2458" class="Symbol">(</a><a id="2459" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2465" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2467" href="Meta.Search.Base.html#1366" class="Function">atoms</a><a id="2472" class="Symbol">)</a> <a id="2474" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="2476" href="Agda.Builtin.Reflection.html#8572" class="Postulate">inferType</a> <a id="2486" href="Meta.Search.Base.html#2396" class="Bound">goal</a> <a id="2491" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="2495" href="Agda.Builtin.Reflection.html#8687" class="Postulate">reduce</a>
    <a id="2506" href="Meta.Search.Base.html#2008" class="Function">decompose-goal′</a> <a id="2522" href="Meta.Search.Base.html#2393" class="Bound">td</a> <a id="2525" href="Meta.Search.Base.html#2438" class="Bound">ty</a>

  <a id="lift-sol"></a><a id="2531" href="Meta.Search.Base.html#2531" class="Function">lift-sol</a> <a id="2540" class="Symbol">:</a> <a id="2542" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="2554" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="2564" class="Symbol">→</a> <a id="2566" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="2571" class="Symbol">→</a> <a id="2573" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="2578" class="Symbol">→</a> <a id="2580" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2582" class="Symbol">→</a> <a id="2584" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="2587" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a>
  <a id="2594" href="Meta.Search.Base.html#2531" class="Function">lift-sol</a> <a id="2603" href="Meta.Search.Base.html#2603" class="Bound">td</a> <a id="2606" href="Meta.Search.Base.html#2606" class="Bound">tm</a> <a id="2609" class="Symbol">_</a> <a id="2611" class="Number">0</a>  <a id="2614" class="Symbol">=</a> <a id="2616" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="2621" href="Meta.Search.Base.html#2606" class="Bound">tm</a>
  <a id="2626" href="Meta.Search.Base.html#2531" class="CatchallClause Function">lift-sol</a><a id="2634" class="CatchallClause"> </a><a id="2635" href="Meta.Search.Base.html#2635" class="CatchallClause Bound">td</a><a id="2637" class="CatchallClause"> </a><a id="2638" href="Meta.Search.Base.html#2638" class="CatchallClause Bound">tm</a><a id="2640" class="CatchallClause"> </a><a id="2641" href="Meta.Search.Base.html#2641" class="CatchallClause Bound">l₁</a><a id="2643" class="CatchallClause"> </a><a id="2644" href="Meta.Search.Base.html#2644" class="CatchallClause Bound">l</a> <a id="2646" class="Symbol">=</a> <a id="2648" class="Keyword">do</a>
    <a id="2655" class="Keyword">let</a> <a id="2659" class="Keyword">module</a> <a id="tac"></a><a id="2666" href="Meta.Search.Base.html#2666" class="Module">tac</a> <a id="2670" class="Symbol">=</a> <a id="2672" href="Meta.Search.Base.html#1103" class="Module">Tactic-desc</a> <a id="2684" href="Meta.Search.Base.html#2635" class="Bound">td</a>
    <a id="2691" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2696" href="Meta.Search.Base.html#2696" class="Bound">uc</a> <a id="2699" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="2701" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="2706" href="Meta.Search.Base.html#1223" class="Function">tac.upwards-closure</a> <a id="2726" class="Keyword">where</a>
      <a id="2738" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2746" class="Symbol">→</a> <a id="2748" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="2758" class="String">&quot;Goal is not liftable&quot;</a>
    <a id="2785" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="2790" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="2792" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="2796" href="Meta.Search.Base.html#2696" class="Bound">uc</a> <a id="2799" class="Symbol">(</a><a id="2800" href="Meta.Search.Base.html#2641" class="Bound">l₁</a> <a id="2803" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="2806" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="2810" class="Symbol">(</a><a id="2811" href="Agda.Builtin.Reflection.html#4113" class="InductiveConstructor">nat</a> <a id="2815" href="Meta.Search.Base.html#2644" class="Bound">l</a><a id="2816" class="Symbol">)</a> <a id="2818" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="2821" href="Meta.Search.Base.html#2638" class="Bound">tm</a> <a id="2824" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="2827" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2829" class="Symbol">)</a>

  <a id="pred-term"></a><a id="2834" href="Meta.Search.Base.html#2834" class="Function">pred-term</a> <a id="2844" class="Symbol">:</a> <a id="2846" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="2851" class="Symbol">→</a> <a id="2853" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2859" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a>
  <a id="2866" href="Meta.Search.Base.html#2834" class="Function">pred-term</a> <a id="2876" class="Symbol">(</a><a id="2877" href="Agda.Builtin.Reflection.html#4888" class="InductiveConstructor">con</a> <a id="2881" class="Symbol">(</a><a id="2882" class="Keyword">quote</a> <a id="2888" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="2891" class="Symbol">)</a> <a id="2893" class="Symbol">(</a><a id="2894" href="Meta.Search.Base.html#2894" class="Bound">x</a> <a id="2896" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="2899" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2901" class="Symbol">))</a> <a id="2904" class="Symbol">=</a> <a id="2906" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2911" href="Meta.Search.Base.html#2894" class="Bound">x</a>
  <a id="2915" href="Meta.Search.Base.html#2834" class="Function">pred-term</a> <a id="2925" class="Symbol">(</a><a id="2926" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="2930" class="Symbol">(</a><a id="2931" href="Agda.Builtin.Reflection.html#4113" class="InductiveConstructor">nat</a> <a id="2935" href="Meta.Search.Base.html#2935" class="Bound">n</a><a id="2936" class="Symbol">))</a> <a id="2939" class="Keyword">with</a> <a id="2944" href="Meta.Search.Base.html#2935" class="Bound">n</a>
  <a id="2948" class="Symbol">...</a> <a id="2952" class="Symbol">|</a> <a id="2954" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2958" href="Meta.Search.Base.html#2958" class="Bound">k</a> <a id="2960" class="Symbol">=</a> <a id="2962" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2967" class="Symbol">(</a><a id="2968" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="2972" class="Symbol">(</a><a id="2973" href="Agda.Builtin.Reflection.html#4113" class="InductiveConstructor">nat</a> <a id="2977" href="Meta.Search.Base.html#2958" class="Bound">k</a><a id="2978" class="Symbol">))</a>
  <a id="2983" class="CatchallClause Symbol">...</a><a id="2986" class="CatchallClause"> </a><a id="2987" class="CatchallClause Symbol">|</a><a id="2988" class="CatchallClause"> </a><a id="2989" class="CatchallClause Symbol">_</a> <a id="2991" class="Symbol">=</a> <a id="2993" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="3003" href="Meta.Search.Base.html#2834" class="CatchallClause Function">pred-term</a><a id="3012" class="CatchallClause"> </a><a id="3013" class="CatchallClause Symbol">_</a> <a id="3015" class="Symbol">=</a> <a id="3017" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="lifting-loop"></a><a id="3028" href="Meta.Search.Base.html#3028" class="Function">lifting-loop</a> <a id="3041" class="Symbol">:</a> <a id="3043" class="Symbol">(</a><a id="3044" href="Meta.Search.Base.html#3044" class="Bound">fuel</a> <a id="3049" class="Symbol">:</a> <a id="3051" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3052" class="Symbol">)</a> <a id="3054" class="Symbol">→</a> <a id="3056" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="3068" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="3078" class="Symbol">→</a> <a id="3080" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3082" class="Symbol">→</a> <a id="3084" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="3089" class="Symbol">→</a> <a id="3091" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="3096" class="Symbol">→</a> <a id="3098" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="3103" class="Symbol">→</a> <a id="3105" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="3110" class="Symbol">→</a> <a id="3112" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="3115" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="3119" href="Meta.Search.Base.html#3028" class="Function">lifting-loop</a> <a id="3132" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>       <a id="3143" href="Meta.Search.Base.html#3143" class="Bound">td</a> <a id="3146" class="Symbol">_</a> <a id="3148" class="Symbol">_</a> <a id="3150" class="Symbol">_</a> <a id="3152" class="Symbol">_</a> <a id="3154" class="Symbol">_</a> <a id="3156" class="Symbol">=</a> <a id="3158" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="3168" class="String">&quot;Lifting loop ran out of fuel&quot;</a>
  <a id="3201" href="Meta.Search.Base.html#3028" class="Function">lifting-loop</a> <a id="3214" class="Symbol">(</a><a id="3215" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3219" href="Meta.Search.Base.html#3219" class="Bound">fuel</a><a id="3223" class="Symbol">)</a> <a id="3225" href="Meta.Search.Base.html#3225" class="Bound">td</a> <a id="3228" href="Meta.Search.Base.html#3228" class="Bound">it</a> <a id="3231" href="Meta.Search.Base.html#3231" class="Bound">solution</a> <a id="3240" href="Meta.Search.Base.html#3240" class="Bound">goal</a> <a id="3245" href="Meta.Search.Base.html#3245" class="Bound">l₁</a> <a id="3248" href="Meta.Search.Base.html#3248" class="Bound">l₂</a> <a id="3251" class="Symbol">=</a>
    <a id="3257" href="Meta.Search.Base.html#3473" class="Function">let&#39;s-hope</a> <a id="3268" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="3272" class="Keyword">do</a>
      <a id="3281" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3286" href="Meta.Search.Base.html#3286" class="Bound">l₂′</a> <a id="3290" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="3292" href="Meta.Search.Base.html#2834" class="Function">pred-term</a> <a id="3302" href="Meta.Idiom.html#282" class="Field Operator">&lt;$&gt;</a> <a id="3306" href="Agda.Builtin.Reflection.html#8651" class="Postulate">normalise</a> <a id="3316" href="Meta.Search.Base.html#3248" class="Bound">l₂</a> <a id="3319" class="Keyword">where</a>
        <a id="3333" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3341" class="Symbol">→</a> <a id="3343" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="3353" class="String">&quot;Lifting loop reached its end with no success&quot;</a>
      <a id="3406" href="Meta.Search.Base.html#3028" class="Function">lifting-loop</a> <a id="3419" href="Meta.Search.Base.html#3219" class="Bound">fuel</a> <a id="3424" href="Meta.Search.Base.html#3225" class="Bound">td</a> <a id="3427" class="Symbol">(</a><a id="3428" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3432" href="Meta.Search.Base.html#3228" class="Bound">it</a><a id="3434" class="Symbol">)</a> <a id="3436" href="Meta.Search.Base.html#3231" class="Bound">solution</a> <a id="3445" href="Meta.Search.Base.html#3240" class="Bound">goal</a> <a id="3450" href="Meta.Search.Base.html#3245" class="Bound">l₁</a> <a id="3453" href="Meta.Search.Base.html#3286" class="Bound">l₂′</a>
    <a id="3461" class="Keyword">where</a>
      <a id="3473" href="Meta.Search.Base.html#3473" class="Function">let&#39;s-hope</a> <a id="3484" class="Symbol">:</a> <a id="3486" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="3489" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="3497" href="Meta.Search.Base.html#3473" class="Function">let&#39;s-hope</a> <a id="3508" class="Symbol">=</a> <a id="3510" class="Keyword">do</a>
        <a id="3521" href="Meta.Search.Base.html#3521" class="Bound">final-solution</a> <a id="3536" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="3538" href="Meta.Search.Base.html#2531" class="Function">lift-sol</a> <a id="3547" href="Meta.Search.Base.html#3225" class="Bound">td</a> <a id="3550" href="Meta.Search.Base.html#3231" class="Bound">solution</a> <a id="3559" href="Meta.Search.Base.html#3245" class="Bound">l₁</a> <a id="3562" href="Meta.Search.Base.html#3228" class="Bound">it</a>
        <a id="3573" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="3584" class="String">&quot;tactic.search&quot;</a> <a id="3600" class="Number">30</a>
          <a id="3613" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="3615" class="String">&quot;Lifting loop: Trying &quot;</a> <a id="3639" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3641" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="3649" href="Meta.Search.Base.html#3521" class="Bound">final-solution</a> <a id="3664" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3666" class="String">&quot; for level &quot;</a> <a id="3680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3682" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="3690" href="Meta.Search.Base.html#3248" class="Bound">l₂</a> <a id="3693" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="3703" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="3709" href="Meta.Search.Base.html#3240" class="Bound">goal</a> <a id="3714" href="Meta.Search.Base.html#3521" class="Bound">final-solution</a>

  <a id="treat-as-structured-type"></a><a id="3732" href="Meta.Search.Base.html#3732" class="Function">treat-as-structured-type</a> <a id="3757" class="Symbol">:</a> <a id="3759" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="3771" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="3781" class="Symbol">→</a> <a id="3783" href="Meta.Search.Base.html#1427" class="Record">Struct-proj-desc</a> <a id="3800" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="3810" href="Meta.Search.Base.html#1709" class="Generalizable">carrier-name</a> <a id="3823" class="Symbol">→</a> <a id="3825" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="3830" class="Symbol">→</a> <a id="3832" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="3835" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="3839" href="Meta.Search.Base.html#3732" class="Function">treat-as-structured-type</a> <a id="3864" href="Meta.Search.Base.html#3864" class="Bound">td</a> <a id="3867" href="Meta.Search.Base.html#3867" class="Bound">spd</a> <a id="3871" href="Meta.Search.Base.html#3871" class="Bound">goal</a> <a id="3876" class="Symbol">=</a> <a id="3878" class="Keyword">do</a>
    <a id="3885" class="Keyword">let</a> <a id="3889" class="Keyword">module</a> <a id="proj"></a><a id="3896" href="Meta.Search.Base.html#3896" class="Module">proj</a> <a id="3901" class="Symbol">=</a> <a id="3903" href="Meta.Search.Base.html#1427" class="Module">Struct-proj-desc</a> <a id="3920" href="Meta.Search.Base.html#3867" class="Bound">spd</a>
    <a id="3928" class="Symbol">(</a><a id="3929" href="Meta.Search.Base.html#3929" class="Bound">wanted-level</a> <a id="3942" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3944" href="Meta.Search.Base.html#3944" class="Bound">ty</a><a id="3946" class="Symbol">)</a> <a id="3948" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="3950" href="Meta.Search.Base.html#2311" class="Function">decompose-goal</a> <a id="3965" href="Meta.Search.Base.html#3864" class="Bound">td</a> <a id="3968" href="Meta.Search.Base.html#3871" class="Bound">goal</a>
    <a id="3977" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="3988" class="String">&quot;tactic.search&quot;</a> <a id="4004" class="Number">10</a>
      <a id="4013" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="4015" class="String">&quot;Attempting to treat as &quot;</a> <a id="4041" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4043" href="Agda.Builtin.Reflection.html#8009" class="InductiveConstructor">nameErr</a> <a id="4051" href="Meta.Search.Base.html#1510" class="Function">proj.struct-name</a> <a id="4068" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4070" class="String">&quot; &quot;</a> <a id="4074" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4076" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="4084" href="Meta.Search.Base.html#3929" class="Bound">wanted-level</a> <a id="4097" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4099" class="String">&quot;: &quot;</a> <a id="4104" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4106" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="4114" href="Meta.Search.Base.html#3944" class="Bound">ty</a> <a id="4117" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
    <a id="4123" href="Meta.Search.Base.html#4123" class="Bound">ty</a> <a id="4126" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4128" href="Agda.Builtin.Reflection.html#8687" class="Postulate">reduce</a> <a id="4135" href="Meta.Search.Base.html#3944" class="Bound">ty</a>

    <a id="4143" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="4147" href="Meta.Search.Base.html#4147" class="Bound">namen</a> <a id="4153" href="Meta.Search.Base.html#4153" class="Bound">args</a> <a id="4158" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4160" href="Agda.Builtin.Reflection.html#8339" class="Postulate">returnTC</a> <a id="4169" href="Meta.Search.Base.html#4123" class="Bound">ty</a>
      <a id="4178" class="Keyword">where</a> <a id="4184" href="Meta.Search.Base.html#4184" class="CatchallClause Bound">what</a> <a id="4189" class="Symbol">→</a> <a id="4191" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="4201" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="4203" class="String">&quot;Thing isn&#39;t an application, it is &quot;</a> <a id="4240" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4242" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="4250" href="Meta.Search.Base.html#4184" class="Bound">what</a> <a id="4255" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

    <a id="4262" href="Meta.Search.Base.html#4262" class="Bound">it</a> <a id="4265" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4267" href="Meta.Search.Base.html#1613" class="Function">proj.get-argument</a> <a id="4285" href="Meta.Search.Base.html#4153" class="Bound">args</a>
    <a id="4294" href="Meta.Search.Base.html#4294" class="Bound">actual-level</a> <a id="4307" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4309" href="Agda.Builtin.Reflection.html#8572" class="Postulate">inferType</a> <a id="4319" href="Meta.Search.Base.html#4262" class="Bound">it</a> <a id="4322" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="4326" href="Meta.Search.Base.html#1557" class="Function">proj.get-level</a>
    <a id="4345" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="4356" class="String">&quot;tactic.search&quot;</a> <a id="4372" class="Number">10</a>
      <a id="4381" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="4383" class="String">&quot;... but it&#39;s actually a(n) &quot;</a> <a id="4413" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4415" href="Agda.Builtin.Reflection.html#8009" class="InductiveConstructor">nameErr</a> <a id="4423" href="Meta.Search.Base.html#1510" class="Function">proj.struct-name</a> <a id="4440" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4442" class="String">&quot; &quot;</a> <a id="4446" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4448" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="4456" href="Meta.Search.Base.html#4294" class="Bound">actual-level</a> <a id="4469" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

    <a id="4476" href="Meta.Search.Base.html#4476" class="Bound">lv</a> <a id="4479" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4481" href="Agda.Builtin.Reflection.html#8651" class="Postulate">normalise</a> <a id="4491" href="Meta.Search.Base.html#3929" class="Bound">wanted-level</a>
    <a id="4508" href="Meta.Search.Base.html#4508" class="Bound">lv′</a> <a id="4512" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4514" href="Agda.Builtin.Reflection.html#8651" class="Postulate">normalise</a> <a id="4524" href="Meta.Search.Base.html#4294" class="Bound">actual-level</a>
    <a id="4541" href="Meta.Search.Base.html#3028" class="Function">lifting-loop</a> <a id="4554" class="Number">10000</a> <a id="4560" href="Meta.Search.Base.html#3864" class="Bound">td</a> <a id="4563" class="Number">0</a> <a id="4565" class="Symbol">(</a><a id="4566" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="4570" class="Symbol">(</a><a id="4571" href="Meta.Search.Base.html#1533" class="Function">proj.project-goal</a><a id="4588" class="Symbol">)</a> <a id="4590" class="Symbol">(</a><a id="4591" href="Meta.Search.Base.html#4262" class="Bound">it</a> <a id="4594" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="4597" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4599" class="Symbol">))</a> <a id="4602" href="Meta.Search.Base.html#3871" class="Bound">goal</a> <a id="4607" href="Meta.Search.Base.html#4508" class="Bound">lv′</a> <a id="4611" href="Meta.Search.Base.html#4476" class="Bound">lv</a>

    <a id="4619" href="Agda.Builtin.Reflection.html#9521" class="Postulate">commitTC</a>


  <a id="use-instance-search"></a><a id="4632" href="Meta.Search.Base.html#4632" class="Function">use-instance-search</a> <a id="4652" class="Symbol">:</a> <a id="4654" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="4666" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="4676" class="Symbol">→</a> <a id="4678" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="4683" class="Symbol">→</a> <a id="4685" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="4690" class="Symbol">→</a> <a id="4692" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="4695" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="4699" href="Meta.Search.Base.html#4632" class="Function">use-instance-search</a> <a id="4719" class="Symbol">{</a><a id="4720" href="Meta.Search.Base.html#4720" class="Bound">goal-name</a><a id="4729" class="Symbol">}</a> <a id="4731" href="Meta.Search.Base.html#4731" class="Bound">td</a> <a id="4734" href="Meta.Search.Base.html#4734" class="Bound">has-alts</a> <a id="4743" href="Meta.Search.Base.html#4743" class="Bound">goal</a> <a id="4748" class="Symbol">=</a> <a id="4750" href="Agda.Builtin.Reflection.html#11120" class="Postulate">runSpeculative</a> <a id="4765" class="Keyword">do</a>
    <a id="4772" class="Symbol">(</a><a id="4773" href="Meta.Search.Base.html#4773" class="Bound">lv</a> <a id="4776" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4778" href="Meta.Search.Base.html#4778" class="Bound">ty</a><a id="4780" class="Symbol">)</a> <a id="4782" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4784" href="Meta.Search.Base.html#2311" class="Function">decompose-goal</a> <a id="4799" href="Meta.Search.Base.html#4731" class="Bound">td</a> <a id="4802" href="Meta.Search.Base.html#4743" class="Bound">goal</a>
    <a id="4811" href="Meta.Search.Base.html#4811" class="Bound">solved</a><a id="4817" class="Symbol">@(</a><a id="4819" href="Agda.Builtin.Reflection.html#5238" class="InductiveConstructor">meta</a> <a id="4824" href="Meta.Search.Base.html#4824" class="Bound">mv</a> <a id="4827" class="Symbol">_)</a> <a id="4830" href="Meta.Bind.html#190" class="Field Operator">←</a>
      <a id="4838" href="Meta.Reflection.html#1851" class="Function">new-meta</a> <a id="4847" class="Symbol">(</a><a id="4848" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="4852" href="Meta.Search.Base.html#4720" class="Bound">goal-name</a> <a id="4862" class="Symbol">(</a><a id="4863" href="Meta.Search.Base.html#4773" class="Bound">lv</a> <a id="4866" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="4869" href="Meta.Search.Base.html#4778" class="Bound">ty</a> <a id="4872" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="4875" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4877" class="Symbol">))</a> <a id="4880" class="Keyword">where</a> <a id="4886" class="CatchallClause Symbol">_</a> <a id="4888" class="Symbol">→</a> <a id="4890" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="4900" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="4907" href="Meta.Search.Base.html#4907" class="Bound">instances</a> <a id="4917" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4919" href="Agda.Builtin.Reflection.html#11315" class="Postulate">getInstances</a> <a id="4932" href="Meta.Search.Base.html#4824" class="Bound">mv</a>

    <a id="4940" href="Meta.Search.Base.html#4940" class="Bound">t</a> <a id="4942" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4944" href="Agda.Builtin.Reflection.html#8783" class="Postulate">quoteTC</a> <a id="4952" href="Meta.Search.Base.html#4907" class="Bound">instances</a>
    <a id="4966" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="4977" class="String">&quot;tactic.search&quot;</a> <a id="4993" class="Number">10</a>
      <a id="5002" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="5004" class="String">&quot;Using instance search for\n&quot;</a> <a id="5034" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5036" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="5044" href="Meta.Search.Base.html#4778" class="Bound">ty</a>
      <a id="5053" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5055" class="String">&quot;\nFound candidates\n &quot;</a>       <a id="5085" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5087" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="5095" href="Meta.Search.Base.html#4940" class="Bound">t</a> <a id="5097" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

    <a id="5104" class="Keyword">let</a>
      <a id="5114" class="Keyword">module</a> <a id="tac"></a><a id="5121" href="Meta.Search.Base.html#5121" class="Module">tac</a> <a id="5125" class="Symbol">=</a> <a id="5127" href="Meta.Search.Base.html#1103" class="Module">Tactic-desc</a> <a id="5139" href="Meta.Search.Base.html#4731" class="Bound">td</a>
      <a id="5148" href="Meta.Search.Base.html#5148" class="Bound">go</a> <a id="5151" class="Symbol">:</a> <a id="5153" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="5158" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="5163" class="Symbol">→</a> <a id="5165" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="5168" class="Symbol">(</a><a id="5169" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="5171" href="Foundations.Sigma.Base.html#498" class="Function Operator">×</a> <a id="5173" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="5177" class="Symbol">)</a>
      <a id="5185" href="Meta.Search.Base.html#5148" class="Bound">go</a> <a id="5188" class="Symbol">=</a> <a id="5190" class="Symbol">λ</a> <a id="5192" class="Keyword">where</a>
        <a id="5206" class="Symbol">(</a><a id="5207" href="Meta.Search.Base.html#5207" class="Bound">x</a> <a id="5209" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5211" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5213" class="Symbol">)</a> <a id="5215" class="Symbol">→</a> <a id="5217" class="Keyword">do</a>
          <a id="5230" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="5236" href="Meta.Search.Base.html#4811" class="Bound">solved</a> <a id="5243" href="Meta.Search.Base.html#5207" class="Bound">x</a>
          <a id="5255" href="Agda.Builtin.Reflection.html#10460" class="Postulate">withReduceDefs</a> <a id="5270" class="Symbol">(</a><a id="5271" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="5277" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5279" href="Meta.Search.Base.html#1187" class="Function">tac.instance-fallback-helper</a> <a id="5308" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5310" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5312" class="Symbol">)</a> <a id="5314" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="5316" href="Agda.Builtin.Reflection.html#10063" class="Postulate">withReconstructed</a> <a id="5334" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="5339" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a>
            <a id="5353" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="5359" href="Meta.Search.Base.html#4743" class="Bound">goal</a> <a id="5364" class="Symbol">(</a><a id="5365" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="5369" href="Meta.Search.Base.html#1187" class="Function">tac.instance-fallback-helper</a> <a id="5398" class="Symbol">(</a><a id="5399" href="Meta.Search.Base.html#4773" class="Bound">lv</a> <a id="5402" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="5405" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5407" class="Symbol">))</a>
          <a id="5420" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="5425" class="Symbol">(</a><a id="5426" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="5429" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5431" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="5435" class="Symbol">)</a>

        <a id="5446" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="5449" class="Symbol">→</a> <a id="5451" href="Data.Bool.Base.html#492" class="Function Operator">if</a> <a id="5454" href="Meta.Search.Base.html#4734" class="Bound">has-alts</a>
          <a id="5473" href="Data.Bool.Base.html#492" class="Function Operator">then</a> <a id="5478" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="5488" class="String">&quot;No possible instances, but have other decompositions to try&quot;</a>
          <a id="5560" href="Data.Bool.Base.html#492" class="Function Operator">else</a> <a id="5565" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="5570" class="Symbol">(</a><a id="5571" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="5574" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5576" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="5581" class="Symbol">)</a>

        <a id="5592" class="CatchallClause Symbol">_</a> <a id="5594" class="Symbol">→</a> <a id="5596" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="5606" class="String">&quot;Too many possible instances; will not use instance search for this goal&quot;</a>
    <a id="5684" href="Meta.Search.Base.html#5148" class="Bound">go</a> <a id="5687" href="Meta.Search.Base.html#4907" class="Bound">instances</a>


  <a id="search"></a><a id="5701" href="Meta.Search.Base.html#5701" class="Function">search</a> <a id="5708" class="Symbol">:</a> <a id="5710" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="5722" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="5732" class="Symbol">→</a> <a id="5734" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="5739" class="Symbol">→</a> <a id="5741" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="5746" class="Symbol">→</a> <a id="5748" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="5750" class="Symbol">→</a> <a id="5752" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="5757" class="Symbol">→</a> <a id="5759" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="5762" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="5766" href="Meta.Search.Base.html#5701" class="Function">search</a>             <a id="5785" href="Meta.Search.Base.html#5785" class="Bound">td</a> <a id="5788" href="Meta.Search.Base.html#5788" class="Bound">has-alts</a> <a id="5797" class="Symbol">_</a>     <a id="5803" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="5811" href="Meta.Search.Base.html#5811" class="Bound">goal</a> <a id="5816" class="Symbol">=</a> <a id="5818" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="5824" href="Meta.Search.Base.html#5811" class="Bound">goal</a> <a id="5829" href="Agda.Builtin.Reflection.html#5288" class="InductiveConstructor">unknown</a>
  <a id="5839" href="Meta.Search.Base.html#5701" class="Function">search</a> <a id="5846" class="Symbol">{</a><a id="5847" href="Meta.Search.Base.html#5847" class="Bound">goal-name</a><a id="5856" class="Symbol">}</a> <a id="5858" href="Meta.Search.Base.html#5858" class="Bound">td</a> <a id="5861" href="Meta.Search.Base.html#5861" class="Bound">has-alts</a> <a id="5870" href="Meta.Search.Base.html#5870" class="Bound">level</a> <a id="5876" class="Symbol">(</a><a id="5877" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5881" href="Meta.Search.Base.html#5881" class="Bound">n</a><a id="5882" class="Symbol">)</a> <a id="5884" href="Meta.Search.Base.html#5884" class="Bound">goal</a>
    <a id="5893" class="Symbol">=</a>   <a id="5897" href="Meta.Search.Base.html#6061" class="Function">use-projections</a>
    <a id="5917" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="5921" href="Meta.Search.Base.html#12074" class="Function">use-hints</a>
    <a id="5935" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="5939" href="Meta.Search.Base.html#4632" class="Function">use-instance-search</a> <a id="5959" href="Meta.Search.Base.html#5858" class="Bound">td</a> <a id="5962" href="Meta.Search.Base.html#5861" class="Bound">has-alts</a> <a id="5971" href="Meta.Search.Base.html#5884" class="Bound">goal</a>
    <a id="5980" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="5984" href="Agda.Builtin.Reflection.html#8509" class="Postulate">typeError</a> <a id="5994" class="String">&quot;Search failed!&quot;</a>
    <a id="6015" class="Keyword">where</a>
      <a id="6027" class="Keyword">module</a> <a id="6034" href="Meta.Search.Base.html#6034" class="Module">tac</a> <a id="6038" class="Symbol">=</a> <a id="6040" href="Meta.Search.Base.html#1103" class="Module">Tactic-desc</a> <a id="6052" href="Meta.Search.Base.html#5858" class="Bound">td</a>
      <a id="6061" href="Meta.Search.Base.html#6061" class="Function">use-projections</a> <a id="6077" class="Symbol">:</a> <a id="6079" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="6082" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="6090" href="Meta.Search.Base.html#6061" class="Function">use-projections</a> <a id="6106" class="Symbol">=</a> <a id="6108" class="Keyword">do</a>
        <a id="6119" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="6123" href="Meta.Search.Base.html#6123" class="Bound">qn</a> <a id="6126" class="Symbol">_</a> <a id="6128" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6130" class="Symbol">(</a><a id="6131" href="Agda.Builtin.Sigma.html#263" class="Field">snd</a> <a id="6135" href="Meta.Idiom.html#282" class="Field Operator">&lt;$&gt;</a> <a id="6139" href="Meta.Search.Base.html#2311" class="Function">decompose-goal</a> <a id="6154" href="Meta.Search.Base.html#5858" class="Bound">td</a> <a id="6157" href="Meta.Search.Base.html#5884" class="Bound">goal</a><a id="6161" class="Symbol">)</a> <a id="6163" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="6167" href="Agda.Builtin.Reflection.html#8687" class="Postulate">reduce</a>
          <a id="6184" class="Keyword">where</a> <a id="6190" class="CatchallClause Symbol">_</a> <a id="6192" class="Symbol">→</a> <a id="6194" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="6204" class="String">&quot;Term is not headed by a definition; ignoring projections.&quot;</a>

        <a id="6273" href="Meta.Search.Base.html#6273" class="Bound">go-alt</a> <a id="6280" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6282" href="Agda.Builtin.Reflection.html#8572" class="Postulate">inferType</a> <a id="6292" href="Meta.Search.Base.html#5884" class="Bound">goal</a>
        <a id="6305" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="6316" class="String">&quot;tactic.search&quot;</a> <a id="6332" class="Number">20</a>
          <a id="6345" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="6347" class="String">&quot;Will attempt to use projections for goal\n&quot;</a> <a id="6392" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6394" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="6402" href="Meta.Search.Base.html#6273" class="Bound">go-alt</a> <a id="6409" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

        <a id="6420" class="Symbol">(</a><a id="6421" href="Meta.Search.Base.html#6421" class="Bound">solved</a> <a id="6428" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6430" href="Meta.Search.Base.html#6430" class="Bound">instances</a><a id="6439" class="Symbol">)</a> <a id="6441" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6443" href="Agda.Builtin.Reflection.html#11120" class="Postulate">runSpeculative</a> <a id="6458" class="Keyword">do</a>
          <a id="6471" href="Meta.Search.Base.html#6471" class="Bound">solved</a><a id="6477" class="Symbol">@(</a><a id="6479" href="Agda.Builtin.Reflection.html#5238" class="InductiveConstructor">meta</a> <a id="6484" href="Meta.Search.Base.html#6484" class="Bound">mv</a> <a id="6487" class="Symbol">_)</a> <a id="6490" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6492" href="Meta.Reflection.html#1851" class="Function">new-meta</a> <a id="6501" class="Symbol">(</a><a id="6502" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="6506" class="Symbol">(</a><a id="6507" class="Keyword">quote</a> <a id="6513" href="Meta.Search.Base.html#1427" class="Record">Struct-proj-desc</a><a id="6529" class="Symbol">)</a> <a id="6531" class="Symbol">(</a><a id="6532" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="6536" class="Symbol">(</a><a id="6537" href="Agda.Builtin.Reflection.html#4283" class="InductiveConstructor">name</a> <a id="6542" href="Meta.Search.Base.html#5847" class="Bound">goal-name</a><a id="6551" class="Symbol">)</a> <a id="6553" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="6556" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="6560" class="Symbol">(</a><a id="6561" href="Agda.Builtin.Reflection.html#4283" class="InductiveConstructor">name</a> <a id="6566" href="Meta.Search.Base.html#6123" class="Bound">qn</a><a id="6568" class="Symbol">)</a> <a id="6570" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="6573" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6575" class="Symbol">))</a>
            <a id="6590" class="Keyword">where</a> <a id="6596" class="CatchallClause Symbol">_</a> <a id="6598" class="Symbol">→</a> <a id="6600" href="Agda.Builtin.Reflection.html#8509" class="Postulate">typeError</a> <a id="6610" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="6612" class="String">&quot;No projections found: &quot;</a> <a id="6637" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6639" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="6647" href="Meta.Search.Base.html#5884" class="Bound">goal</a> <a id="6652" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a> <a id="6654" class="Comment">-- FIXME error message is too vague</a>

          <a id="6701" class="Symbol">(</a><a id="6702" href="Meta.Search.Base.html#6702" class="Bound">x</a> <a id="6704" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6706" href="Meta.Search.Base.html#6706" class="Bound">xs</a><a id="6708" class="Symbol">)</a> <a id="6710" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6712" href="Agda.Builtin.Reflection.html#11315" class="Postulate">getInstances</a> <a id="6725" href="Meta.Search.Base.html#6484" class="Bound">mv</a>
            <a id="6740" class="Keyword">where</a> <a id="6746" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6749" class="Symbol">→</a> <a id="6751" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="6756" class="Symbol">((</a><a id="6758" href="Agda.Builtin.Reflection.html#5288" class="InductiveConstructor">unknown</a> <a id="6766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6768" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6770" class="Symbol">)</a> <a id="6772" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6774" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="6779" class="Symbol">)</a>

          <a id="6792" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="6797" class="Symbol">((</a><a id="6799" href="Meta.Search.Base.html#6471" class="Bound">solved</a> <a id="6806" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6808" href="Meta.Search.Base.html#6702" class="Bound">x</a> <a id="6810" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6812" href="Meta.Search.Base.html#6706" class="Bound">xs</a><a id="6814" class="Symbol">)</a> <a id="6816" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6818" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="6822" class="Symbol">)</a>

        <a id="6833" href="Meta.Foldable.html#489" class="Function">nondet</a> <a id="6840" class="Symbol">(</a><a id="6841" href="Meta.Idiom.html#121" class="InductiveConstructor">eff</a> <a id="6845" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="6849" class="Symbol">)</a> <a id="6851" href="Meta.Search.Base.html#6430" class="Bound">instances</a> <a id="6861" class="Symbol">λ</a> <a id="6863" href="Meta.Search.Base.html#6863" class="Bound">a</a> <a id="6865" class="Symbol">→</a> <a id="6867" class="Keyword">do</a>
          <a id="6880" href="Meta.Search.Base.html#6880" class="Bound">projection</a> <a id="6891" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6893" href="Agda.Builtin.Reflection.html#8836" class="Postulate">unquoteTC</a> <a id="6903" class="Symbol">{</a><a id="6904" class="Argument">A</a> <a id="6906" class="Symbol">=</a> <a id="6908" href="Meta.Search.Base.html#1427" class="Record">Struct-proj-desc</a> <a id="6925" href="Meta.Search.Base.html#5847" class="Bound">goal-name</a> <a id="6935" href="Meta.Search.Base.html#6123" class="Bound">qn</a><a id="6937" class="Symbol">}</a> <a id="6939" href="Meta.Search.Base.html#6863" class="Bound">a</a>
          <a id="6951" href="Meta.Search.Base.html#6951" class="Bound">ty</a> <a id="6954" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6956" href="Agda.Builtin.Reflection.html#10460" class="Postulate">withReduceDefs</a> <a id="6971" class="Symbol">(</a><a id="6972" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="6978" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6980" href="Meta.Search.Base.html#1366" class="Function">tac.atoms</a><a id="6989" class="Symbol">)</a> <a id="6991" class="Symbol">(</a><a id="6992" href="Agda.Builtin.Reflection.html#8572" class="Postulate">inferType</a> <a id="7002" href="Meta.Search.Base.html#5884" class="Bound">goal</a> <a id="7007" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="7011" href="Agda.Builtin.Reflection.html#8687" class="Postulate">reduce</a><a id="7017" class="Symbol">)</a>
          <a id="7029" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="7040" class="String">&quot;tactic.hlevel&quot;</a> <a id="7056" class="Number">20</a> <a id="7059" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a>
            <a id="7073" class="String">&quot;Outer type: &quot;</a> <a id="7088" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7090" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="7098" href="Meta.Search.Base.html#6951" class="Bound">ty</a> <a id="7101" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7103" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
          <a id="7116" href="Meta.Search.Base.html#3732" class="Function">treat-as-structured-type</a> <a id="7141" href="Meta.Search.Base.html#5858" class="Bound">td</a> <a id="7144" href="Meta.Search.Base.html#6880" class="Bound">projection</a> <a id="7155" href="Meta.Search.Base.html#5884" class="Bound">goal</a> <a id="7160" href="Meta.Bind.html#296" class="Function Operator">&gt;&gt;</a> <a id="7163" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="7169" href="Meta.Search.Base.html#6421" class="Bound">solved</a> <a id="7176" href="Meta.Search.Base.html#6863" class="Bound">a</a>

      <a id="7185" href="Meta.Search.Base.html#7185" class="Function">remove-invisible</a> <a id="7202" class="Symbol">:</a> <a id="7204" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="7209" class="Symbol">→</a> <a id="7211" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="7216" class="Symbol">→</a> <a id="7218" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="7221" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a>
      <a id="7232" href="Meta.Search.Base.html#7185" class="Function">remove-invisible</a>
        <a id="7257" class="Symbol">(</a><a id="7258" href="Agda.Builtin.Reflection.html#5002" class="InductiveConstructor">lam</a> <a id="7262" class="Symbol">_</a> <a id="7264" class="Symbol">(</a><a id="7265" href="Agda.Builtin.Reflection.html#3979" class="InductiveConstructor">abs</a> <a id="7269" class="Symbol">_</a> <a id="7271" href="Meta.Search.Base.html#7271" class="Bound">t</a><a id="7272" class="Symbol">))</a>
        <a id="7283" class="Symbol">(</a><a id="7284" href="Agda.Builtin.Reflection.html#5120" class="InductiveConstructor">pi</a> <a id="7287" class="Symbol">(</a><a id="7288" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="7292" class="Symbol">(</a><a id="7293" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">arg-info</a> <a id="7302" href="Meta.Search.Base.html#7302" class="Bound">invisible</a> <a id="7312" class="Symbol">_)</a> <a id="7315" class="Symbol">_)</a> <a id="7318" class="Symbol">(</a><a id="7319" href="Agda.Builtin.Reflection.html#3979" class="InductiveConstructor">abs</a> <a id="7323" class="Symbol">_</a> <a id="7325" href="Meta.Search.Base.html#7325" class="Bound">ret</a><a id="7328" class="Symbol">))</a>
        <a id="7339" class="Symbol">=</a> <a id="7341" href="Meta.Search.Base.html#7185" class="Function">remove-invisible</a> <a id="7358" href="Meta.Search.Base.html#7271" class="Bound">t</a> <a id="7360" href="Meta.Search.Base.html#7325" class="Bound">ret</a>
      <a id="7370" href="Meta.Search.Base.html#7185" class="CatchallClause Function">remove-invisible</a><a id="7386" class="CatchallClause"> </a><a id="7387" href="Meta.Search.Base.html#7387" class="CatchallClause Bound">inner</a><a id="7392" class="CatchallClause"> </a><a id="7393" class="CatchallClause Symbol">_</a> <a id="7395" class="Symbol">=</a> <a id="7397" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="7402" href="Meta.Search.Base.html#7387" class="Bound">inner</a>

      <a id="7415" href="Meta.Search.Base.html#7415" class="Function">wrap-lams</a> <a id="7425" class="Symbol">:</a> <a id="7427" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7429" class="Symbol">→</a> <a id="7431" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="7436" class="Symbol">→</a> <a id="7438" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a>
      <a id="7449" href="Meta.Search.Base.html#7415" class="Function">wrap-lams</a> <a id="7459" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="7464" href="Meta.Search.Base.html#7464" class="Bound">r</a> <a id="7466" class="Symbol">=</a> <a id="7468" href="Meta.Search.Base.html#7464" class="Bound">r</a>
      <a id="7476" href="Meta.Search.Base.html#7415" class="Function">wrap-lams</a> <a id="7486" class="Symbol">(</a><a id="7487" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7491" href="Meta.Search.Base.html#7491" class="Bound">x</a><a id="7492" class="Symbol">)</a> <a id="7494" href="Meta.Search.Base.html#7494" class="Bound">r</a> <a id="7496" class="Symbol">=</a> <a id="7498" href="Agda.Builtin.Reflection.html#5002" class="InductiveConstructor">lam</a> <a id="7502" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="7510" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="7512" href="Agda.Builtin.Reflection.html#3979" class="InductiveConstructor">abs</a> <a id="7516" class="String">&quot;a&quot;</a> <a id="7520" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="7522" href="Meta.Search.Base.html#7415" class="Function">wrap-lams</a> <a id="7532" href="Meta.Search.Base.html#7491" class="Bound">x</a> <a id="7534" href="Meta.Search.Base.html#7494" class="Bound">r</a>

      <a id="7543" href="Meta.Search.Base.html#7543" class="Function">extend-n</a> <a id="7552" class="Symbol">:</a> <a id="7554" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7556" class="Symbol">→</a> <a id="7558" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="7561" class="Symbol">((</a><a id="7563" href="Meta.Search.Base.html#7563" class="Bound">A</a> <a id="7565" class="Symbol">:</a> <a id="7567" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="7572" href="Meta.Search.Base.html#1674" class="Generalizable">ℓ</a><a id="7573" class="Symbol">)</a> <a id="7575" class="Symbol">→</a> <a id="7577" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="7580" href="Meta.Search.Base.html#7563" class="Bound">A</a> <a id="7582" class="Symbol">→</a> <a id="7584" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="7587" href="Meta.Search.Base.html#7563" class="Bound">A</a><a id="7588" class="Symbol">)</a>
      <a id="7596" href="Meta.Search.Base.html#7543" class="Function">extend-n</a> <a id="7605" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="7610" class="Symbol">=</a> <a id="7612" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="7617" class="Symbol">λ</a> <a id="7619" href="Meta.Search.Base.html#7619" class="Bound">_</a> <a id="7621" href="Meta.Search.Base.html#7621" class="Bound">x</a> <a id="7623" class="Symbol">→</a> <a id="7625" href="Meta.Search.Base.html#7621" class="Bound">x</a>
      <a id="7633" href="Meta.Search.Base.html#7543" class="Function">extend-n</a> <a id="7642" class="Symbol">(</a><a id="7643" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7647" href="Meta.Search.Base.html#7647" class="Bound">n</a><a id="7648" class="Symbol">)</a> <a id="7650" class="Symbol">=</a> <a id="7652" class="Keyword">do</a>
        <a id="7663" href="Meta.Search.Base.html#7663" class="Bound">rest</a> <a id="7668" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="7670" href="Meta.Search.Base.html#7543" class="Function">extend-n</a> <a id="7679" href="Meta.Search.Base.html#7647" class="Bound">n</a>
        <a id="7689" href="Foundations.Prim.Type.html#599" class="InductiveConstructor">lift</a> <a id="7694" href="Meta.Search.Base.html#7694" class="Bound">mv</a> <a id="7697" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="7699" href="Meta.Search.Base.html#7663" class="Bound">rest</a> <a id="7704" class="Symbol">(</a><a id="7705" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="7710" class="Symbol">_</a> <a id="7712" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a><a id="7716" class="Symbol">)</a> <a id="7718" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="7720" href="Foundations.Prim.Type.html#599" class="InductiveConstructor">lift</a> <a id="7725" href="Meta.Idiom.html#282" class="Field Operator">&lt;$&gt;</a> <a id="7729" href="Meta.Reflection.html#1851" class="Function">new-meta</a> <a id="7738" href="Agda.Builtin.Reflection.html#5288" class="InductiveConstructor">unknown</a>
        <a id="7754" class="Keyword">let</a> <a id="7758" href="Meta.Search.Base.html#7758" class="Bound">domain</a> <a id="7765" class="Symbol">=</a> <a id="7767" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="7771" class="Symbol">(</a><a id="7772" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">arg-info</a> <a id="7781" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="7789" class="Symbol">(</a><a id="7790" href="Agda.Builtin.Reflection.html#3463" class="InductiveConstructor">modality</a> <a id="7799" href="Agda.Builtin.Reflection.html#3019" class="InductiveConstructor">relevant</a> <a id="7808" href="Agda.Builtin.Reflection.html#3241" class="InductiveConstructor">quantity-ω</a><a id="7818" class="Symbol">))</a> <a id="7821" href="Meta.Search.Base.html#7694" class="Bound">mv</a>
        <a id="7832" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="7837" class="Symbol">λ</a> <a id="7839" href="Meta.Search.Base.html#7839" class="Bound">a</a> <a id="7841" href="Meta.Search.Base.html#7841" class="Bound">k</a> <a id="7843" class="Symbol">→</a> <a id="7845" href="Meta.Search.Base.html#7663" class="Bound">rest</a> <a id="7850" href="Meta.Search.Base.html#7839" class="Bound">a</a> <a id="7852" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="7854" href="Agda.Builtin.Reflection.html#8971" class="Postulate">extendContext</a> <a id="7868" class="String">&quot;a&quot;</a> <a id="7872" href="Meta.Search.Base.html#7758" class="Bound">domain</a> <a id="7879" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="7881" href="Meta.Search.Base.html#7841" class="Bound">k</a>

      <a id="7890" href="Meta.Search.Base.html#7890" class="Function">gen-args</a>
        <a id="7907" class="Symbol">:</a> <a id="7909" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>              <a id="7927" class="Comment">-- ^ Are there any alternatives after this one?</a>
        <a id="7983" class="Symbol">→</a> <a id="7985" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a>              <a id="8003" class="Comment">-- ^ What level are we searching for?</a>

        <a id="8050" class="Symbol">→</a> <a id="8052" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>              <a id="8070" class="Comment">-- ^ Name of the lemma,</a>
        <a id="8102" class="Symbol">→</a> <a id="8104" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8109" href="Meta.Search.Base.html#653" class="Datatype">Arg-spec</a>     <a id="8122" class="Comment">-- ^ and the arguments we should invent.</a>

        <a id="8172" class="Symbol">→</a> <a id="8174" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8179" class="Symbol">(</a><a id="8180" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="8184" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a><a id="8188" class="Symbol">)</a>
        <a id="8198" class="Comment">-- ^ Accumulator: computed arguments (criminally, in reverse</a>
        <a id="8267" class="Comment">-- order)</a>
        <a id="8285" class="Symbol">→</a> <a id="8287" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="8290" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
          <a id="8302" class="Comment">-- ^ Accumulator/continuation: what do we need to do after</a>
          <a id="8371" class="Comment">-- unifying the goal with the lemma?. This is both</a>
          <a id="8432" class="Comment">-- continuation (it can be used to run something after the</a>
          <a id="8501" class="Comment">-- arguments are built) and accumulator (searching recursively</a>
          <a id="8574" class="Comment">-- is done last).</a>
        <a id="8600" class="Symbol">→</a> <a id="8602" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="8605" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>              <a id="8620" class="Comment">-- ^ Returns nada</a>
      <a id="8644" href="Meta.Search.Base.html#7890" class="Function">gen-args</a> <a id="8653" href="Meta.Search.Base.html#8653" class="Bound">has-alts</a> <a id="8662" href="Meta.Search.Base.html#8662" class="Bound">level</a> <a id="8668" href="Meta.Search.Base.html#8668" class="Bound">defn</a> <a id="8673" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8676" href="Meta.Search.Base.html#8676" class="Bound">accum</a> <a id="8682" href="Meta.Search.Base.html#8682" class="Bound">cont</a> <a id="8687" class="Symbol">=</a> <a id="8689" class="Keyword">do</a>
        <a id="8700" class="Comment">-- If we have no arguments to generate, then we can go ahead and</a>
        <a id="8773" class="Comment">-- use the accumulator as-is.</a>
        <a id="8811" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="8817" href="Meta.Search.Base.html#5884" class="Bound">goal</a> <a id="8822" class="Symbol">(</a><a id="8823" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="8827" href="Meta.Search.Base.html#8668" class="Bound">defn</a> <a id="8832" class="Symbol">(</a><a id="8833" href="Data.List.Base.html#972" class="Function">reverse-fast</a> <a id="8846" href="Meta.Search.Base.html#8676" class="Bound">accum</a><a id="8851" class="Symbol">))</a>
        <a id="8862" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="8873" class="String">&quot;tactic.search&quot;</a> <a id="8889" class="Number">10</a>
          <a id="8902" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="8904" class="String">&quot;Committed to solution: &quot;</a> <a id="8930" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8932" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="8940" class="Symbol">(</a><a id="8941" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="8945" href="Meta.Search.Base.html#8668" class="Bound">defn</a> <a id="8950" class="Symbol">(</a><a id="8951" href="Data.List.Base.html#883" class="Function">reverse</a> <a id="8959" href="Meta.Search.Base.html#8676" class="Bound">accum</a><a id="8964" class="Symbol">))</a> <a id="8967" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="8977" href="Meta.Search.Base.html#8682" class="Bound">cont</a>

      <a id="8989" href="Meta.Search.Base.html#7890" class="Function">gen-args</a> <a id="8998" href="Meta.Search.Base.html#8998" class="Bound">has-alts</a> <a id="9007" href="Meta.Search.Base.html#9007" class="Bound">level</a> <a id="9013" href="Meta.Search.Base.html#9013" class="Bound">defn</a> <a id="9018" class="Symbol">(</a><a id="9019" href="Meta.Search.Base.html#9019" class="Bound">x</a> <a id="9021" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9023" href="Meta.Search.Base.html#9023" class="Bound">args</a><a id="9027" class="Symbol">)</a> <a id="9029" href="Meta.Search.Base.html#9029" class="Bound">accum</a> <a id="9035" href="Meta.Search.Base.html#9035" class="Bound">cont</a> <a id="9040" class="Keyword">with</a> <a id="9045" href="Meta.Search.Base.html#9019" class="Bound">x</a>
      <a id="9053" class="Symbol">...</a> <a id="9057" class="Symbol">|</a> <a id="9059" href="Meta.Search.Base.html#677" class="InductiveConstructor">`level</a> <a id="9066" class="Symbol">(</a><a id="9067" href="Meta.Search.Base.html#579" class="InductiveConstructor">`verbatim</a> <a id="9077" href="Meta.Search.Base.html#9077" class="Bound">n</a><a id="9078" class="Symbol">)</a> <a id="9080" class="Symbol">=</a> <a id="9082" class="Keyword">do</a>
        <a id="9093" class="Keyword">let</a> <a id="9097" href="Meta.Search.Base.html#9097" class="Bound">level′</a> <a id="9104" class="Symbol">=</a> <a id="9106" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="9110" class="Symbol">(</a><a id="9111" href="Agda.Builtin.Reflection.html#4113" class="InductiveConstructor">nat</a> <a id="9115" href="Meta.Search.Base.html#9077" class="Bound">n</a><a id="9116" class="Symbol">)</a>
        <a id="9126" href="Meta.Search.Base.html#7890" class="Function">gen-args</a> <a id="9135" class="Bound">has-alts</a> <a id="9144" class="Bound">level</a> <a id="9150" class="Bound">defn</a> <a id="9155" class="Bound">args</a> <a id="9160" class="Symbol">(</a><a id="9161" href="Meta.Search.Base.html#9097" class="Bound">level′</a> <a id="9168" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="9171" class="Bound">accum</a><a id="9176" class="Symbol">)</a> <a id="9178" class="Bound">cont</a>
      <a id="9189" class="Symbol">...</a> <a id="9193" class="Symbol">|</a> <a id="9195" href="Meta.Search.Base.html#677" class="InductiveConstructor">`level</a> <a id="9202" class="Symbol">(</a><a id="9203" href="Meta.Search.Base.html#614" class="InductiveConstructor">`minus</a> <a id="9210" class="Number">0</a><a id="9211" class="Symbol">)</a> <a id="9213" class="Symbol">=</a> <a id="9215" href="Meta.Search.Base.html#7890" class="Function">gen-args</a> <a id="9224" class="Bound">has-alts</a> <a id="9233" class="Bound">level</a> <a id="9239" class="Bound">defn</a> <a id="9244" class="Bound">args</a> <a id="9249" class="Symbol">(</a><a id="9250" class="Bound">level</a> <a id="9256" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="9259" class="Bound">accum</a><a id="9264" class="Symbol">)</a> <a id="9266" class="Bound">cont</a>
      <a id="9277" class="Symbol">...</a> <a id="9281" class="Symbol">|</a> <a id="9283" href="Meta.Search.Base.html#677" class="InductiveConstructor">`level</a> <a id="9290" class="Symbol">(</a><a id="9291" href="Meta.Search.Base.html#614" class="InductiveConstructor">`minus</a> <a id="9298" href="Meta.Search.Base.html#9298" class="Bound">n</a><a id="9299" class="Symbol">@(</a><a id="9301" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="9305" class="Symbol">_))</a> <a id="9309" class="Symbol">=</a>
        <a id="9319" class="Keyword">do</a>
          <a id="9332" href="Meta.Search.Base.html#9332" class="Bound">level</a> <a id="9338" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="9340" href="Agda.Builtin.Reflection.html#8651" class="Postulate">normalise</a> <a id="9350" class="Bound">level</a>
          <a id="9366" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="9377" class="String">&quot;tactic.hlevel&quot;</a> <a id="9393" class="Number">10</a>
            <a id="9408" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="9410" class="String">&quot;Hint demands offset, performing symbolic monus, subtracting from\n&quot;</a>
            <a id="9491" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9493" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="9501" href="Meta.Search.Base.html#9332" class="Bound">level</a> <a id="9507" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
          <a id="9519" href="Meta.Search.Base.html#9519" class="Bound">level′</a> <a id="9526" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="9528" href="Meta.Search.Base.html#9633" class="Function">monus</a> <a id="9534" href="Meta.Search.Base.html#9332" class="Bound">level</a> <a id="9540" href="Meta.Search.Base.html#9298" class="Bound">n</a>
          <a id="9552" href="Meta.Search.Base.html#7890" class="Function">gen-args</a> <a id="9561" class="Bound">has-alts</a> <a id="9570" href="Meta.Search.Base.html#9332" class="Bound">level</a> <a id="9576" class="Bound">defn</a> <a id="9581" class="Bound">args</a> <a id="9586" class="Symbol">(</a><a id="9587" href="Meta.Search.Base.html#9519" class="Bound">level′</a> <a id="9594" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="9597" class="Bound">accum</a><a id="9602" class="Symbol">)</a> <a id="9604" class="Bound">cont</a>
        <a id="9617" class="Keyword">where</a>
          <a id="9633" href="Meta.Search.Base.html#9633" class="Function">monus</a> <a id="9639" class="Symbol">:</a> <a id="9641" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="9646" class="Symbol">→</a> <a id="9648" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9650" class="Symbol">→</a> <a id="9652" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="9655" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a>
          <a id="9670" href="Meta.Search.Base.html#9633" class="Function">monus</a> <a id="9676" class="Symbol">(</a><a id="9677" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="9681" class="Symbol">(</a><a id="9682" href="Agda.Builtin.Reflection.html#4113" class="InductiveConstructor">nat</a> <a id="9686" href="Meta.Search.Base.html#9686" class="Bound">n</a><a id="9687" class="Symbol">))</a> <a id="9690" href="Meta.Search.Base.html#9690" class="Bound">k</a> <a id="9692" class="Symbol">=</a> <a id="9694" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="9699" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="9701" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="9705" class="Symbol">(</a><a id="9706" href="Agda.Builtin.Reflection.html#4113" class="InductiveConstructor">nat</a> <a id="9710" class="Symbol">(</a><a id="9711" href="Meta.Search.Base.html#9686" class="Bound">n</a> <a id="9713" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">-</a> <a id="9715" href="Meta.Search.Base.html#9690" class="Bound">k</a><a id="9716" class="Symbol">))</a>
          <a id="9729" href="Meta.Search.Base.html#9633" class="CatchallClause Function">monus</a><a id="9734" class="CatchallClause"> </a><a id="9735" href="Meta.Search.Base.html#9735" class="CatchallClause Bound">tm</a><a id="9737" class="CatchallClause"> </a><a id="9738" href="Agda.Builtin.Nat.html#221" class="CatchallClause InductiveConstructor">zero</a> <a id="9743" class="Symbol">=</a> <a id="9745" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="9750" href="Meta.Search.Base.html#9735" class="Bound">tm</a>
          <a id="9763" href="Meta.Search.Base.html#9633" class="Function">monus</a> <a id="9769" href="Meta.Search.Base.html#9769" class="Bound">thezero</a><a id="9776" class="Symbol">@(</a><a id="9778" href="Agda.Builtin.Reflection.html#4888" class="InductiveConstructor">con</a> <a id="9782" class="Symbol">(</a><a id="9783" class="Keyword">quote</a> <a id="9789" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="9793" class="Symbol">)</a> <a id="9795" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="9797" class="Symbol">)</a> <a id="9799" class="Symbol">(</a><a id="9800" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="9804" href="Meta.Search.Base.html#9804" class="Bound">it</a><a id="9806" class="Symbol">)</a> <a id="9808" class="Symbol">=</a> <a id="9810" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="9815" href="Meta.Search.Base.html#9769" class="Bound">thezero</a>
          <a id="9833" href="Meta.Search.Base.html#9633" class="Function">monus</a> <a id="9839" class="Symbol">(</a><a id="9840" href="Agda.Builtin.Reflection.html#4888" class="InductiveConstructor">con</a> <a id="9844" class="Symbol">(</a><a id="9845" class="Keyword">quote</a> <a id="9851" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="9854" class="Symbol">)</a> <a id="9856" class="Symbol">(</a><a id="9857" href="Meta.Search.Base.html#9857" class="Bound">x</a> <a id="9859" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="9862" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="9864" class="Symbol">))</a> <a id="9867" class="Symbol">(</a><a id="9868" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="9872" href="Meta.Search.Base.html#9872" class="Bound">it</a><a id="9874" class="Symbol">)</a> <a id="9876" class="Symbol">=</a> <a id="9878" class="Keyword">do</a>
            <a id="9893" href="Meta.Search.Base.html#9893" class="Bound">x</a> <a id="9895" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="9897" href="Agda.Builtin.Reflection.html#8687" class="Postulate">reduce</a> <a id="9904" href="Meta.Search.Base.html#9857" class="Bound">x</a>
            <a id="9918" href="Meta.Search.Base.html#9633" class="Function">monus</a> <a id="9924" href="Meta.Search.Base.html#9893" class="Bound">x</a> <a id="9926" href="Meta.Search.Base.html#9872" class="Bound">it</a>
          <a id="9939" href="Meta.Search.Base.html#9633" class="CatchallClause Function">monus</a><a id="9944" class="CatchallClause"> </a><a id="9945" href="Meta.Search.Base.html#9945" class="CatchallClause Bound">tm</a><a id="9947" class="CatchallClause"> </a><a id="9948" class="CatchallClause Symbol">(</a><a id="9949" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="9952" class="CatchallClause"> </a><a id="9953" href="Meta.Search.Base.html#9953" class="CatchallClause Bound">it</a><a id="9955" class="CatchallClause Symbol">)</a> <a id="9957" class="Symbol">=</a> <a id="9959" class="Keyword">do</a>
            <a id="9974" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="9985" class="String">&quot;tactic.search&quot;</a> <a id="10001" class="Number">10</a> <a id="10004" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="10006" class="String">&quot;Dunno how to take 1 from &quot;</a> <a id="10034" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10036" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="10044" href="Meta.Search.Base.html#9945" class="Bound">tm</a> <a id="10047" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
            <a id="10061" href="Agda.Builtin.Reflection.html#8509" class="Postulate">typeError</a> <a id="10071" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

      <a id="10081" class="Symbol">...</a> <a id="10085" class="Symbol">|</a> <a id="10087" href="Meta.Search.Base.html#771" class="InductiveConstructor">`meta</a> <a id="10093" class="Symbol">=</a> <a id="10095" href="Meta.Search.Base.html#7890" class="Function">gen-args</a> <a id="10104" class="Bound">has-alts</a> <a id="10113" class="Bound">level</a> <a id="10119" class="Bound">defn</a> <a id="10124" class="Bound">args</a> <a id="10129" class="Symbol">(</a><a id="10130" href="Agda.Builtin.Reflection.html#5288" class="InductiveConstructor">unknown</a> <a id="10138" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="10141" class="Bound">accum</a><a id="10146" class="Symbol">)</a> <a id="10148" class="Bound">cont</a>

      <a id="10160" class="Symbol">...</a> <a id="10164" class="Symbol">|</a> <a id="10166" href="Meta.Search.Base.html#717" class="InductiveConstructor">`search-under</a> <a id="10180" href="Meta.Search.Base.html#10180" class="Bound">under</a> <a id="10186" href="Meta.Search.Base.html#10186" class="Bound">subgoal-name</a> <a id="10199" class="Symbol">=</a> <a id="10201" class="Keyword">do</a>
        <a id="10212" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="10223" class="String">&quot;tactic.search&quot;</a> <a id="10239" class="Number">10</a> <a id="10242" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="10244" class="String">&quot;Going under &quot;</a> <a id="10259" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10261" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="10269" class="Symbol">(</a><a id="10270" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="10274" class="Symbol">(</a><a id="10275" href="Agda.Builtin.Reflection.html#4113" class="InductiveConstructor">nat</a> <a id="10279" href="Meta.Search.Base.html#10180" class="Bound">under</a><a id="10284" class="Symbol">))</a> <a id="10287" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="10297" href="Meta.Search.Base.html#10297" class="Bound">go-under</a> <a id="10306" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10308" href="Meta.Search.Base.html#7543" class="Function">extend-n</a> <a id="10317" href="Meta.Search.Base.html#10180" class="Bound">under</a>
        <a id="10331" href="Meta.Search.Base.html#10331" class="Bound">mv</a> <a id="10334" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10336" href="Meta.Search.Base.html#10297" class="Bound">go-under</a> <a id="10345" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="10350" class="Keyword">do</a>
          <a id="10363" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="10374" class="String">&quot;tactic.search&quot;</a> <a id="10390" class="Number">10</a> <a id="10393" class="String">&quot;In extended context&quot;</a>
          <a id="10425" href="Meta.Reflection.html#1851" class="Function">new-meta</a> <a id="10434" href="Agda.Builtin.Reflection.html#5288" class="InductiveConstructor">unknown</a>
        <a id="10450" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="10461" class="String">&quot;tactic.search&quot;</a> <a id="10477" class="Number">10</a> <a id="10480" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="10482" class="String">&quot;Metavariable: &quot;</a> <a id="10499" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10501" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="10509" class="Symbol">(</a><a id="10510" href="Meta.Search.Base.html#7415" class="Function">wrap-lams</a> <a id="10520" href="Meta.Search.Base.html#10180" class="Bound">under</a> <a id="10526" href="Meta.Search.Base.html#10331" class="Bound">mv</a><a id="10528" class="Symbol">)</a> <a id="10530" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="10540" href="Meta.Search.Base.html#7890" class="Function">gen-args</a> <a id="10549" class="Bound">has-alts</a> <a id="10558" class="Bound">level</a> <a id="10564" class="Bound">defn</a> <a id="10569" class="Bound">args</a> <a id="10574" class="Symbol">(</a><a id="10575" href="Meta.Search.Base.html#7415" class="Function">wrap-lams</a> <a id="10585" href="Meta.Search.Base.html#10180" class="Bound">under</a> <a id="10591" href="Meta.Search.Base.html#10331" class="Bound">mv</a> <a id="10594" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="10597" class="Bound">accum</a><a id="10602" class="Symbol">)</a> <a id="10604" class="Keyword">do</a>
          <a id="10617" class="Bound">cont</a>
          <a id="10632" href="Meta.Search.Base.html#10632" class="Bound">tactic-instance</a> <a id="10648" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10650" class="Keyword">do</a>
            <a id="10665" href="Meta.Search.Base.html#10665" class="Bound">solved</a><a id="10671" class="Symbol">@(</a><a id="10673" href="Agda.Builtin.Reflection.html#5238" class="InductiveConstructor">meta</a> <a id="10678" href="Meta.Search.Base.html#10678" class="Bound">mv′</a> <a id="10682" class="Symbol">_)</a> <a id="10685" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10687" href="Meta.Reflection.html#1851" class="Function">new-meta</a> <a id="10696" class="Symbol">(</a><a id="10697" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="10701" class="Symbol">(</a><a id="10702" class="Keyword">quote</a> <a id="10708" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a><a id="10719" class="Symbol">)</a> <a id="10721" class="Symbol">(</a><a id="10722" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="10726" class="Symbol">(</a><a id="10727" href="Agda.Builtin.Reflection.html#4283" class="InductiveConstructor">name</a> <a id="10732" href="Meta.Search.Base.html#10186" class="Bound">subgoal-name</a><a id="10744" class="Symbol">)</a> <a id="10746" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="10749" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="10751" class="Symbol">))</a>
              <a id="10768" class="Keyword">where</a> <a id="10774" class="CatchallClause Symbol">_</a> <a id="10776" class="Symbol">→</a> <a id="10778" href="Agda.Builtin.Reflection.html#8509" class="Postulate">typeError</a> <a id="10788" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="10790" class="String">&quot;Could not get instances:&quot;</a> <a id="10817" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10819" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="10827" href="Meta.Search.Base.html#5884" class="Bound">goal</a> <a id="10832" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
            <a id="10846" class="Symbol">(</a><a id="10847" href="Meta.Search.Base.html#10847" class="Bound">ti</a> <a id="10850" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10852" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="10854" class="Symbol">)</a> <a id="10856" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10858" href="Agda.Builtin.Reflection.html#11315" class="Postulate">getInstances</a> <a id="10871" href="Meta.Search.Base.html#10678" class="Bound">mv′</a> <a id="10875" class="Keyword">where</a>
              <a id="10895" class="CatchallClause Symbol">_</a> <a id="10897" class="Symbol">→</a> <a id="10899" href="Agda.Builtin.Reflection.html#8509" class="Postulate">typeError</a> <a id="10909" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="10911" class="String">&quot;Too few (or many) tactic instances:&quot;</a> <a id="10949" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10951" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="10959" href="Meta.Search.Base.html#5884" class="Bound">goal</a> <a id="10964" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
            <a id="10978" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="10984" href="Meta.Search.Base.html#10665" class="Bound">solved</a> <a id="10991" href="Meta.Search.Base.html#10847" class="Bound">ti</a>
            <a id="11006" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="11011" href="Meta.Search.Base.html#10847" class="Bound">ti</a>
          <a id="11024" href="Meta.Search.Base.html#11024" class="Bound">next-td</a> <a id="11032" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11034" href="Agda.Builtin.Reflection.html#8836" class="Postulate">unquoteTC</a> <a id="11044" class="Symbol">{</a><a id="11045" class="Argument">A</a> <a id="11047" class="Symbol">=</a> <a id="11049" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="11061" href="Meta.Search.Base.html#10186" class="Bound">subgoal-name</a><a id="11073" class="Symbol">}</a> <a id="11075" href="Meta.Search.Base.html#10632" class="Bound">tactic-instance</a>
          <a id="11101" href="Meta.Search.Base.html#10297" class="Bound">go-under</a> <a id="11110" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="11112" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="11114" href="Meta.Search.Base.html#5701" class="Function">search</a> <a id="11121" href="Meta.Search.Base.html#11024" class="Bound">next-td</a> <a id="11129" class="Bound">has-alts</a> <a id="11138" href="Agda.Builtin.Reflection.html#5288" class="InductiveConstructor">unknown</a> <a id="11146" href="Meta.Search.Base.html#5881" class="Bound">n</a> <a id="11148" href="Meta.Search.Base.html#10331" class="Bound">mv</a>

      <a id="11158" href="Meta.Search.Base.html#11158" class="Function">use-decomp-hints</a> <a id="11175" class="Symbol">:</a> <a id="11177" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="11182" href="Foundations.Sigma.Base.html#498" class="Function Operator">×</a> <a id="11184" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="11189" class="Symbol">→</a> <a id="11191" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="11196" class="Symbol">→</a> <a id="11198" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="11203" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="11208" class="Symbol">→</a> <a id="11210" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="11213" class="Symbol">(</a><a id="11214" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="11216" href="Foundations.Sigma.Base.html#498" class="Function Operator">×</a> <a id="11218" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="11222" class="Symbol">)</a>
      <a id="11230" href="Meta.Search.Base.html#11158" class="Function">use-decomp-hints</a> <a id="11247" class="Symbol">(</a><a id="11248" href="Meta.Search.Base.html#11248" class="Bound">lv</a> <a id="11251" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11253" href="Meta.Search.Base.html#11253" class="Bound">goal-ty</a><a id="11260" class="Symbol">)</a> <a id="11262" href="Meta.Search.Base.html#11262" class="Bound">solved</a> <a id="11269" class="Symbol">(</a><a id="11270" href="Meta.Search.Base.html#11270" class="Bound">c₁</a> <a id="11273" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11275" href="Meta.Search.Base.html#11275" class="Bound">cs</a><a id="11277" class="Symbol">)</a> <a id="11279" class="Symbol">=</a> <a id="11281" class="Keyword">do</a>
        <a id="11292" href="Meta.Search.Base.html#11292" class="Bound">ty</a>  <a id="11296" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11298" href="Agda.Builtin.Reflection.html#8572" class="Postulate">inferType</a> <a id="11308" href="Meta.Search.Base.html#11270" class="Bound">c₁</a>
        <a id="11319" href="Meta.Search.Base.html#11319" class="Bound">c₁′</a> <a id="11323" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11325" href="Agda.Builtin.Reflection.html#8687" class="Postulate">reduce</a> <a id="11332" href="Meta.Search.Base.html#11270" class="Bound">c₁</a>
        <a id="11343" class="Symbol">(</a><a id="11344" href="Meta.Search.Base.html#7185" class="Function">remove-invisible</a> <a id="11361" href="Meta.Search.Base.html#11319" class="Bound">c₁′</a> <a id="11365" href="Meta.Search.Base.html#11292" class="Bound">ty</a> <a id="11368" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="11372" class="Symbol">λ</a> <a id="11374" class="Keyword">where</a>
          <a id="11390" class="Symbol">(</a><a id="11391" href="Agda.Builtin.Reflection.html#4888" class="InductiveConstructor">con</a> <a id="11395" class="Symbol">(</a><a id="11396" class="Keyword">quote</a> <a id="11402" href="Meta.Search.Base.html#998" class="InductiveConstructor">decomp</a><a id="11408" class="Symbol">)</a> <a id="11410" class="Symbol">(_</a> <a id="11413" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11415" class="Symbol">_</a> <a id="11417" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11419" class="Symbol">_</a> <a id="11421" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11423" href="Meta.Search.Base.html#11423" class="Bound">nm</a> <a id="11426" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="11429" href="Meta.Search.Base.html#11429" class="Bound">argspec</a> <a id="11437" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="11440" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="11442" class="Symbol">))</a> <a id="11445" class="Symbol">→</a> <a id="11447" class="Keyword">do</a>
            <a id="11462" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="11473" class="String">&quot;tactic.search&quot;</a> <a id="11489" class="Number">10</a>
              <a id="11506" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="11508" class="String">&quot;Using &quot;</a> <a id="11517" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11519" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="11527" href="Meta.Search.Base.html#11423" class="Bound">nm</a> <a id="11530" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11532" class="String">&quot; decomposition for:\n&quot;</a>
              <a id="11570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11572" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="11580" class="Symbol">(</a><a id="11581" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="11585" href="Meta.Search.Base.html#5847" class="Bound">goal-name</a> <a id="11595" class="Symbol">(</a><a id="11596" href="Meta.Search.Base.html#11248" class="Bound">lv</a> <a id="11599" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="11602" href="Meta.Search.Base.html#11253" class="Bound">goal-ty</a> <a id="11610" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="11613" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="11615" class="Symbol">))</a> <a id="11618" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

            <a id="11633" href="Meta.Search.Base.html#11633" class="Bound">nm′</a> <a id="11637" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11639" href="Agda.Builtin.Reflection.html#8836" class="Postulate">unquoteTC</a> <a id="11649" href="Meta.Search.Base.html#11423" class="Bound">nm</a>
            <a id="11664" href="Meta.Search.Base.html#11664" class="Bound">argsp</a> <a id="11670" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11672" href="Agda.Builtin.Reflection.html#8836" class="Postulate">unquoteTC</a> <a id="11682" href="Meta.Search.Base.html#11429" class="Bound">argspec</a>
            <a id="11702" href="Meta.Search.Base.html#7890" class="Function">gen-args</a> <a id="11711" class="Symbol">(</a><a id="11712" href="Data.Bool.Base.html#169" class="Function">not</a> <a id="11716" class="Symbol">(</a><a id="11717" href="Data.List.Operations.html#440" class="Function">length</a> <a id="11724" href="Meta.Search.Base.html#11275" class="Bound">cs</a> <a id="11727" href="Agda.Builtin.Nat.html#631" class="Primitive Operator">==</a> <a id="11730" class="Number">0</a><a id="11731" class="Symbol">))</a> <a id="11734" href="Meta.Search.Base.html#11248" class="Bound">lv</a> <a id="11737" href="Meta.Search.Base.html#11633" class="Bound">nm′</a> <a id="11741" href="Meta.Search.Base.html#11664" class="Bound">argsp</a> <a id="11747" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11750" class="Symbol">(</a><a id="11751" href="Agda.Builtin.Reflection.html#8339" class="Postulate">returnTC</a> <a id="11760" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="11762" class="Symbol">)</a>
            <a id="11776" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="11782" href="Meta.Search.Base.html#11262" class="Bound">solved</a> <a id="11789" href="Meta.Search.Base.html#11270" class="Bound">c₁</a>

            <a id="11805" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="11810" class="Symbol">(</a><a id="11811" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="11814" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11816" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="11820" class="Symbol">)</a>

          <a id="11833" href="Meta.Search.Base.html#11833" class="CatchallClause Bound">t</a> <a id="11835" class="Symbol">→</a> <a id="11837" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="11847" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="11849" class="String">&quot;Non-canonical hint: &quot;</a> <a id="11872" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11874" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="11882" href="Meta.Search.Base.html#11833" class="Bound">t</a> <a id="11884" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a><a id="11885" class="Symbol">)</a>

          <a id="11898" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="11902" href="Meta.Search.Base.html#11158" class="Function">use-decomp-hints</a> <a id="11919" class="Symbol">(</a><a id="11920" href="Meta.Search.Base.html#11248" class="Bound">lv</a> <a id="11923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11925" href="Meta.Search.Base.html#11253" class="Bound">goal-ty</a><a id="11932" class="Symbol">)</a> <a id="11934" href="Meta.Search.Base.html#11262" class="Bound">solved</a> <a id="11941" href="Meta.Search.Base.html#11275" class="Bound">cs</a>

      <a id="11951" href="Meta.Search.Base.html#11158" class="Function">use-decomp-hints</a> <a id="11968" class="Symbol">(_</a> <a id="11971" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11973" href="Meta.Search.Base.html#11973" class="Bound">goal-ty</a><a id="11980" class="Symbol">)</a> <a id="11982" class="Symbol">_</a> <a id="11984" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11987" class="Symbol">=</a>
        <a id="11997" href="Meta.Search.Base.html#1743" class="Function">backtrack</a> <a id="12007" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="12009" class="String">&quot;Ran out of decomposition hints for &quot;</a> <a id="12047" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12049" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="12057" href="Meta.Search.Base.html#11973" class="Bound">goal-ty</a> <a id="12065" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

      <a id="12074" href="Meta.Search.Base.html#12074" class="Function">use-hints</a> <a id="12084" class="Symbol">:</a> <a id="12086" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="12089" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="12097" href="Meta.Search.Base.html#12074" class="Function">use-hints</a> <a id="12107" class="Symbol">=</a> <a id="12109" href="Agda.Builtin.Reflection.html#11120" class="Postulate">runSpeculative</a> <a id="12124" class="Keyword">do</a>
        <a id="12135" class="Symbol">(</a><a id="12136" href="Meta.Search.Base.html#12136" class="Bound">lv</a> <a id="12139" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12141" href="Meta.Search.Base.html#12141" class="Bound">ty</a><a id="12143" class="Symbol">)</a> <a id="12145" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12147" href="Meta.Search.Base.html#2311" class="Function">decompose-goal</a> <a id="12162" href="Meta.Search.Base.html#5858" class="Bound">td</a> <a id="12165" href="Meta.Search.Base.html#5884" class="Bound">goal</a>
        <a id="12178" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="12183" href="Meta.Search.Base.html#12141" class="Bound">ty</a> <a id="12186" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="12190" class="Symbol">λ</a> <a id="12192" class="Keyword">where</a>
          <a id="12208" class="Symbol">(</a><a id="12209" href="Agda.Builtin.Reflection.html#5238" class="InductiveConstructor">meta</a> <a id="12214" href="Meta.Search.Base.html#12214" class="Bound">m</a> <a id="12216" class="Symbol">_)</a> <a id="12219" class="Symbol">→</a> <a id="12221" class="Keyword">do</a>
            <a id="12236" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="12247" class="String">&quot;tactic.search&quot;</a> <a id="12263" class="Number">10</a>
              <a id="12280" class="String">&quot;Type under goal is metavariable, blocking to avoid infinite loop&quot;</a>
            <a id="12359" href="Agda.Builtin.Reflection.html#9468" class="Postulate">blockOnMeta</a> <a id="12371" href="Meta.Search.Base.html#12214" class="Bound">m</a>
          <a id="12383" class="CatchallClause Symbol">_</a> <a id="12385" class="Symbol">→</a> <a id="12387" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="12392" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>

        <a id="12404" href="Meta.Search.Base.html#12404" class="Bound">solved</a><a id="12410" class="Symbol">@(</a><a id="12412" href="Agda.Builtin.Reflection.html#5238" class="InductiveConstructor">meta</a> <a id="12417" href="Meta.Search.Base.html#12417" class="Bound">mv</a> <a id="12420" class="Symbol">_)</a> <a id="12423" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12425" href="Meta.Reflection.html#1851" class="Function">new-meta</a> <a id="12434" class="Symbol">(</a><a id="12435" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="12439" class="Symbol">(</a><a id="12440" class="Keyword">quote</a> <a id="12446" href="Meta.Search.Base.html#933" class="Datatype">goal-decomposition</a><a id="12464" class="Symbol">)</a> <a id="12466" class="Symbol">(</a><a id="12467" href="Agda.Builtin.Reflection.html#5203" class="InductiveConstructor">lit</a> <a id="12471" class="Symbol">(</a><a id="12472" href="Agda.Builtin.Reflection.html#4283" class="InductiveConstructor">name</a> <a id="12477" href="Meta.Search.Base.html#5847" class="Bound">goal-name</a><a id="12486" class="Symbol">)</a> <a id="12488" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="12491" href="Meta.Search.Base.html#12141" class="Bound">ty</a> <a id="12494" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="12497" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="12499" class="Symbol">))</a>
          <a id="12512" class="Keyword">where</a> <a id="12518" class="CatchallClause Symbol">_</a> <a id="12520" class="Symbol">→</a> <a id="12522" href="Agda.Builtin.Reflection.html#8509" class="Postulate">typeError</a> <a id="12532" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="12534" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="12542" href="Meta.Search.Base.html#12141" class="Bound">ty</a> <a id="12545" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
        <a id="12555" href="Meta.Search.Base.html#12555" class="Bound">instances</a> <a id="12565" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12567" href="Agda.Builtin.Reflection.html#11315" class="Postulate">getInstances</a> <a id="12580" href="Meta.Search.Base.html#12417" class="Bound">mv</a>

        <a id="12592" href="Meta.Search.Base.html#12592" class="Bound">t</a> <a id="12594" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12596" href="Agda.Builtin.Reflection.html#8783" class="Postulate">quoteTC</a> <a id="12604" href="Meta.Search.Base.html#12555" class="Bound">instances</a>
        <a id="12622" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="12633" class="String">&quot;tactic.search&quot;</a> <a id="12649" class="Number">10</a>
          <a id="12662" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="12664" class="String">&quot;Finding decompositions for\n&quot;</a> <a id="12695" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12697" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="12705" href="Meta.Search.Base.html#12141" class="Bound">ty</a>
          <a id="12718" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12720" class="String">&quot;\nFound candidates\n &quot;</a>        <a id="12751" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12753" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="12761" href="Meta.Search.Base.html#12592" class="Bound">t</a> <a id="12763" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

        <a id="12774" href="Meta.Search.Base.html#11158" class="Function">use-decomp-hints</a> <a id="12791" class="Symbol">(</a><a id="12792" href="Meta.Search.Base.html#12136" class="Bound">lv</a> <a id="12795" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12797" href="Meta.Search.Base.html#12141" class="Bound">ty</a><a id="12799" class="Symbol">)</a> <a id="12801" href="Meta.Search.Base.html#12404" class="Bound">solved</a> <a id="12808" href="Meta.Search.Base.html#12555" class="Bound">instances</a>


  <a id="12822" class="Comment">-- FIXME sometimes fails to get under functions</a>
  <a id="decompose-goal-top"></a><a id="12872" href="Meta.Search.Base.html#12872" class="Function">decompose-goal-top</a>
    <a id="12895" class="Symbol">:</a> <a id="12897" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="12909" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="12919" class="Symbol">→</a> <a id="12921" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="12926" class="Symbol">→</a> <a id="12928" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="12931" class="Symbol">(</a><a id="12932" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="12937" href="Foundations.Sigma.Base.html#498" class="Function Operator">×</a> <a id="12939" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="12944" href="Foundations.Sigma.Base.html#498" class="Function Operator">×</a> <a id="12946" class="Symbol">(</a><a id="12947" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="12950" href="Meta.Search.Base.html#1686" class="Generalizable">A</a> <a id="12952" class="Symbol">→</a> <a id="12954" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="12957" href="Meta.Search.Base.html#1686" class="Generalizable">A</a><a id="12958" class="Symbol">)</a> <a id="12960" href="Foundations.Sigma.Base.html#498" class="Function Operator">×</a> <a id="12962" class="Symbol">(</a><a id="12963" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="12968" class="Symbol">→</a> <a id="12970" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a><a id="12974" class="Symbol">))</a>
  <a id="12979" href="Meta.Search.Base.html#12872" class="Function">decompose-goal-top</a> <a id="12998" href="Meta.Search.Base.html#12998" class="Bound">td</a> <a id="13001" href="Meta.Search.Base.html#13001" class="Bound">goal</a> <a id="13006" class="Symbol">=</a> <a id="13008" class="Keyword">do</a>
      <a id="13017" class="Keyword">let</a> <a id="13021" class="Keyword">module</a> <a id="13028" href="Meta.Search.Base.html#13028" class="Module">tac</a> <a id="13032" class="Symbol">=</a> <a id="13034" href="Meta.Search.Base.html#1103" class="Module">Tactic-desc</a> <a id="13046" href="Meta.Search.Base.html#12998" class="Bound">td</a>
      <a id="13055" href="Meta.Search.Base.html#13055" class="Bound">ty</a> <a id="13058" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="13060" href="Agda.Builtin.Reflection.html#10460" class="Postulate">withReduceDefs</a> <a id="13075" class="Symbol">(</a><a id="13076" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13084" href="Meta.Search.Base.html#1366" class="Function">tac.atoms</a><a id="13093" class="Symbol">)</a> <a id="13095" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a>
        <a id="13105" class="Symbol">(</a><a id="13106" href="Agda.Builtin.Reflection.html#8572" class="Postulate">inferType</a> <a id="13116" href="Meta.Search.Base.html#13001" class="Bound">goal</a> <a id="13121" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="13125" href="Agda.Builtin.Reflection.html#8687" class="Postulate">reduce</a><a id="13131" class="Symbol">)</a> <a id="13133" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="13137" href="Meta.Reflection.html#5373" class="Function">wait-just-a-bit</a>
      <a id="13159" href="Meta.Search.Base.html#13181" class="Function">go</a> <a id="13162" href="Meta.Search.Base.html#13055" class="Bound">ty</a>
    <a id="13169" class="Keyword">where</a>
      <a id="13181" href="Meta.Search.Base.html#13181" class="Function">go</a> <a id="13184" class="Symbol">:</a> <a id="13186" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="13191" class="Symbol">→</a> <a id="13193" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="13196" class="Symbol">_</a>
      <a id="13204" href="Meta.Search.Base.html#13181" class="Function">go</a> <a id="13207" class="Symbol">(</a><a id="13208" href="Agda.Builtin.Reflection.html#5120" class="InductiveConstructor">pi</a> <a id="13211" class="Symbol">(</a><a id="13212" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="13216" href="Meta.Search.Base.html#13216" class="Bound">as</a> <a id="13219" href="Meta.Search.Base.html#13219" class="Bound">at</a><a id="13221" class="Symbol">)</a> <a id="13223" class="Symbol">(</a><a id="13224" href="Agda.Builtin.Reflection.html#3979" class="InductiveConstructor">abs</a> <a id="13228" href="Meta.Search.Base.html#13228" class="Bound">vn</a> <a id="13231" href="Meta.Search.Base.html#13231" class="Bound">cd</a><a id="13233" class="Symbol">))</a> <a id="13236" class="Symbol">=</a> <a id="13238" class="Keyword">do</a>
        <a id="13249" class="Symbol">(</a><a id="13250" href="Meta.Search.Base.html#13250" class="Bound">lv</a> <a id="13253" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13255" href="Meta.Search.Base.html#13255" class="Bound">inner</a> <a id="13261" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13263" href="Meta.Search.Base.html#13263" class="Bound">enter</a> <a id="13269" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13271" href="Meta.Search.Base.html#13271" class="Bound">leave</a><a id="13276" class="Symbol">)</a> <a id="13278" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="13280" href="Meta.Search.Base.html#13181" class="Function">go</a> <a id="13283" href="Meta.Search.Base.html#13231" class="Bound">cd</a>
        <a id="13294" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="13299" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="13301" href="Meta.Search.Base.html#13250" class="Bound">lv</a> <a id="13304" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13306" href="Meta.Search.Base.html#13255" class="Bound">inner</a> <a id="13312" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13314" href="Agda.Builtin.Reflection.html#8971" class="Postulate">extendContext</a> <a id="13328" href="Meta.Search.Base.html#13228" class="Bound">vn</a> <a id="13331" class="Symbol">(</a><a id="13332" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="13336" href="Meta.Search.Base.html#13216" class="Bound">as</a> <a id="13339" href="Meta.Search.Base.html#13219" class="Bound">at</a><a id="13341" class="Symbol">)</a> <a id="13343" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13345" class="Symbol">λ</a> <a id="13347" href="Meta.Search.Base.html#13347" class="Bound">t</a> <a id="13349" class="Symbol">→</a> <a id="13351" href="Agda.Builtin.Reflection.html#5002" class="InductiveConstructor">lam</a> <a id="13355" class="Symbol">(</a><a id="13356" href="Meta.Reflection.html#1207" class="Function">arg-vis</a> <a id="13364" href="Meta.Search.Base.html#13216" class="Bound">as</a><a id="13366" class="Symbol">)</a> <a id="13368" class="Symbol">(</a><a id="13369" href="Agda.Builtin.Reflection.html#3979" class="InductiveConstructor">abs</a> <a id="13373" href="Meta.Search.Base.html#13228" class="Bound">vn</a> <a id="13376" href="Meta.Search.Base.html#13347" class="Bound">t</a><a id="13377" class="Symbol">)</a>
      <a id="13385" href="Meta.Search.Base.html#13181" class="CatchallClause Function">go</a><a id="13387" class="CatchallClause"> </a><a id="13388" href="Meta.Search.Base.html#13388" class="CatchallClause Bound">tm</a> <a id="13391" class="Symbol">=</a> <a id="13393" class="Keyword">do</a>
        <a id="13404" class="Symbol">(</a><a id="13405" href="Meta.Search.Base.html#13405" class="Bound">lv</a> <a id="13408" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13410" href="Meta.Search.Base.html#13410" class="Bound">inner</a><a id="13415" class="Symbol">)</a> <a id="13417" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="13419" href="Meta.Search.Base.html#2008" class="Function">decompose-goal′</a> <a id="13435" href="Meta.Search.Base.html#12998" class="Bound">td</a> <a id="13438" href="Meta.Search.Base.html#13388" class="Bound">tm</a>
        <a id="13449" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="13454" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="13456" href="Meta.Search.Base.html#13405" class="Bound">lv</a> <a id="13459" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13461" href="Meta.Search.Base.html#13410" class="Bound">inner</a> <a id="13467" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13469" href="Foundations.Pi.Base.html#673" class="Function">id</a> <a id="13472" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13474" href="Foundations.Pi.Base.html#673" class="Function">id</a>


<a id="13479" class="Comment">-- this is the way</a>
<a id="search-tactic-worker"></a><a id="13498" href="Meta.Search.Base.html#13498" class="Function">search-tactic-worker</a> <a id="13519" class="Symbol">:</a> <a id="13521" href="Meta.Search.Base.html#1103" class="Record">Tactic-desc</a> <a id="13533" href="Meta.Search.Base.html#1699" class="Generalizable">goal-name</a> <a id="13543" class="Symbol">→</a> <a id="13545" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="13550" class="Symbol">→</a> <a id="13552" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="13555" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="13557" href="Meta.Search.Base.html#13498" class="Function">search-tactic-worker</a> <a id="13578" class="Symbol">{</a><a id="13579" href="Meta.Search.Base.html#13579" class="Bound">goal-name</a><a id="13588" class="Symbol">}</a> <a id="13590" href="Meta.Search.Base.html#13590" class="Bound">td</a> <a id="13593" href="Meta.Search.Base.html#13593" class="Bound">goal</a> <a id="13598" class="Symbol">=</a> <a id="13600" class="Keyword">do</a>
  <a id="13605" class="Keyword">let</a> <a id="13609" class="Keyword">module</a> <a id="tac"></a><a id="13616" href="Meta.Search.Base.html#13616" class="Module">tac</a> <a id="13620" class="Symbol">=</a> <a id="13622" href="Meta.Search.Base.html#1103" class="Module">Tactic-desc</a> <a id="13634" href="Meta.Search.Base.html#13590" class="Bound">td</a>
  <a id="13639" href="Meta.Search.Base.html#13639" class="Bound">ty</a> <a id="13642" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="13644" href="Agda.Builtin.Reflection.html#10460" class="Postulate">withReduceDefs</a> <a id="13659" class="Symbol">(</a><a id="13660" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13666" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13668" href="Meta.Search.Base.html#1366" class="Function">tac.atoms</a><a id="13677" class="Symbol">)</a> <a id="13679" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="13681" href="Agda.Builtin.Reflection.html#8572" class="Postulate">inferType</a> <a id="13691" href="Meta.Search.Base.html#13593" class="Bound">goal</a> <a id="13696" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="13700" href="Agda.Builtin.Reflection.html#8687" class="Postulate">reduce</a>
  <a id="13709" href="Agda.Builtin.Reflection.html#10748" class="Postulate">debugPrint</a> <a id="13720" class="String">&quot;tactic.search&quot;</a> <a id="13736" class="Number">10</a> <a id="13739" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="13741" class="String">&quot;Target type: &quot;</a> <a id="13757" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13759" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="13767" href="Meta.Search.Base.html#13639" class="Bound">ty</a> <a id="13770" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
  <a id="13774" class="Symbol">(</a><a id="13775" href="Meta.Search.Base.html#13775" class="Bound">lv</a> <a id="13778" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13780" href="Meta.Search.Base.html#13780" class="Bound">ty</a> <a id="13783" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13785" href="Meta.Search.Base.html#13785" class="Bound">enter</a> <a id="13791" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13793" href="Meta.Search.Base.html#13793" class="Bound">leave</a><a id="13798" class="Symbol">)</a> <a id="13800" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="13802" href="Meta.Search.Base.html#12872" class="Function">decompose-goal-top</a> <a id="13821" href="Meta.Search.Base.html#13590" class="Bound">td</a> <a id="13824" href="Meta.Search.Base.html#13593" class="Bound">goal</a>
    <a id="13833" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="13837" href="Agda.Builtin.Reflection.html#8509" class="Postulate">typeError</a>
      <a id="13853" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="13855" class="String">&quot;Goal type is not of the form ‶&quot;</a> <a id="13888" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13890" href="Agda.Builtin.Reflection.html#8009" class="InductiveConstructor">nameErr</a> <a id="13898" href="Meta.Search.Base.html#13579" class="Bound">goal-name</a> <a id="13908" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13910" class="String">&quot;″:\n&quot;</a>
      <a id="13923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="13925" href="Agda.Builtin.Reflection.html#7948" class="InductiveConstructor">termErr</a> <a id="13933" href="Meta.Search.Base.html#13639" class="Bound">ty</a> <a id="13936" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>

  <a id="13941" href="Meta.Search.Base.html#13941" class="Bound">solved</a> <a id="13948" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="13950" href="Meta.Search.Base.html#13785" class="Bound">enter</a> <a id="13956" class="Keyword">do</a>
    <a id="13963" href="Meta.Search.Base.html#13963" class="Bound">goal′</a> <a id="13969" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="13971" href="Meta.Reflection.html#1851" class="Function">new-meta</a> <a id="13980" class="Symbol">(</a><a id="13981" href="Agda.Builtin.Reflection.html#4945" class="InductiveConstructor">def</a> <a id="13985" href="Meta.Search.Base.html#13579" class="Bound">goal-name</a> <a id="13995" class="Symbol">(</a><a id="13996" href="Meta.Search.Base.html#13775" class="Bound">lv</a> <a id="13999" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="14002" href="Meta.Search.Base.html#13780" class="Bound">ty</a> <a id="14005" href="Meta.Reflection.html#2374" class="InductiveConstructor Operator">v∷</a> <a id="14008" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="14010" class="Symbol">))</a>
    <a id="14017" href="Meta.Search.Base.html#5701" class="Function">search</a> <a id="14024" href="Meta.Search.Base.html#13590" class="Bound">td</a> <a id="14027" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="14033" href="Meta.Search.Base.html#13775" class="Bound">lv</a> <a id="14036" class="Number">15</a> <a id="14039" href="Meta.Search.Base.html#13963" class="Bound">goal′</a>
    <a id="14049" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="14054" href="Meta.Search.Base.html#13963" class="Bound">goal′</a>
  <a id="14062" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="14068" href="Meta.Search.Base.html#13593" class="Bound">goal</a> <a id="14073" class="Symbol">(</a><a id="14074" href="Meta.Search.Base.html#13793" class="Bound">leave</a> <a id="14080" href="Meta.Search.Base.html#13941" class="Bound">solved</a><a id="14086" class="Symbol">)</a>
</pre></body></html>