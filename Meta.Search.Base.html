<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Search.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Comment">-- -vtactic.search:20 -vtc.def:10</a>
<a id="58" class="Keyword">module</a> <a id="65" href="Meta.Search.Base.html" class="Module">Meta.Search.Base</a> <a id="82" class="Keyword">where</a>

<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Meta.Foldable.html" class="Module">Meta.Foldable</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>

<a id="174" class="Keyword">open</a> <a id="179" class="Keyword">import</a> <a id="186" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="201" class="Symbol">as</a> <a id="204" class="Module">Bool</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Data.Empty.Base.html" class="Module">Data.Empty.Base</a>
<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a>
<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="290" class="Symbol">as</a> <a id="293" class="Module">List</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.List.Operations.html" class="Module">Data.List.Operations</a> <a id="331" class="Keyword">using</a> <a id="337" class="Symbol">(</a><a id="338" href="Data.List.Operations.html#440" class="Function">length</a><a id="344" class="Symbol">)</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Data.List.Instances.Foldable.html" class="Module">Data.List.Instances.Foldable</a>
<a id="387" class="Keyword">open</a> <a id="392" class="Keyword">import</a> <a id="399" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="431" class="Keyword">open</a> <a id="436" class="Keyword">import</a> <a id="443" href="Data.List.Instances.Idiom.html" class="Module">Data.List.Instances.Idiom</a>
<a id="469" class="Keyword">open</a> <a id="474" class="Keyword">import</a> <a id="481" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="497" class="Keyword">open</a> <a id="502" class="Keyword">import</a> <a id="509" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Data.Vec.Operations.Inductive.html" class="Module">Data.Vec.Operations.Inductive</a>

<a id="566" class="Keyword">data</a> <a id="Goal-strat"></a><a id="571" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a> <a id="582" class="Symbol">:</a> <a id="584" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="589" class="Keyword">where</a>
  <a id="Goal-strat.none"></a><a id="597" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a> <a id="Goal-strat.by-hlevel"></a><a id="602" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="612" class="Symbol">:</a> <a id="614" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a>

<a id="626" class="Keyword">private</a> <a id="634" class="Keyword">variable</a>
  <a id="645" href="Meta.Search.Base.html#645" class="Generalizable">ℓ</a> <a id="647" class="Symbol">:</a> <a id="649" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="657" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="668" class="Symbol">:</a> <a id="670" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a>

<a id="682" class="Keyword">private</a>
  <a id="goal-strat-elim"></a><a id="692" href="Meta.Search.Base.html#692" class="Function">goal-strat-elim</a> <a id="708" class="Symbol">:</a> <a id="710" class="Symbol">{</a><a id="711" href="Meta.Search.Base.html#711" class="Bound">P</a> <a id="713" class="Symbol">:</a> <a id="715" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a> <a id="726" class="Symbol">→</a> <a id="728" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="733" href="Meta.Search.Base.html#645" class="Generalizable">ℓ</a><a id="734" class="Symbol">}</a> <a id="736" class="Symbol">→</a> <a id="738" href="Meta.Search.Base.html#711" class="Bound">P</a> <a id="740" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="750" class="Symbol">→</a> <a id="752" href="Meta.Search.Base.html#711" class="Bound">P</a> <a id="754" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a> <a id="759" class="Symbol">→</a> <a id="761" class="Symbol">(</a><a id="762" href="Meta.Search.Base.html#762" class="Bound">gs</a> <a id="765" class="Symbol">:</a> <a id="767" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a><a id="777" class="Symbol">)</a> <a id="779" class="Symbol">→</a> <a id="781" href="Meta.Search.Base.html#711" class="Bound">P</a> <a id="783" href="Meta.Search.Base.html#762" class="Bound">gs</a>
  <a id="788" href="Meta.Search.Base.html#692" class="Function">goal-strat-elim</a> <a id="804" href="Meta.Search.Base.html#804" class="Bound">x</a> <a id="806" class="Symbol">_</a> <a id="808" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="818" class="Symbol">=</a> <a id="820" href="Meta.Search.Base.html#804" class="Bound">x</a>
  <a id="824" href="Meta.Search.Base.html#692" class="Function">goal-strat-elim</a> <a id="840" class="Symbol">_</a> <a id="842" href="Meta.Search.Base.html#842" class="Bound">y</a> <a id="844" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a> <a id="849" class="Symbol">=</a> <a id="851" href="Meta.Search.Base.html#842" class="Bound">y</a>

  <a id="goal-strat-rec"></a><a id="856" href="Meta.Search.Base.html#856" class="Function">goal-strat-rec</a> <a id="871" class="Symbol">:</a> <a id="873" class="Symbol">{</a><a id="874" href="Meta.Search.Base.html#874" class="Bound">ℓ</a> <a id="876" class="Symbol">:</a> <a id="878" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="883" class="Symbol">}</a> <a id="885" class="Symbol">{</a><a id="886" href="Meta.Search.Base.html#886" class="Bound">A</a> <a id="888" class="Symbol">:</a> <a id="890" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="895" href="Meta.Search.Base.html#874" class="Bound">ℓ</a><a id="896" class="Symbol">}</a> <a id="898" class="Symbol">→</a> <a id="900" href="Meta.Search.Base.html#886" class="Bound">A</a> <a id="902" class="Symbol">→</a> <a id="904" href="Meta.Search.Base.html#886" class="Bound">A</a> <a id="906" class="Symbol">→</a> <a id="908" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a> <a id="919" class="Symbol">→</a> <a id="921" href="Meta.Search.Base.html#886" class="Bound">A</a>
  <a id="925" href="Meta.Search.Base.html#856" class="Function">goal-strat-rec</a> <a id="940" class="Symbol">=</a> <a id="942" href="Meta.Search.Base.html#692" class="Function">goal-strat-elim</a>

  <a id="goal-is-stratified"></a><a id="961" href="Meta.Search.Base.html#961" class="Function">goal-is-stratified</a> <a id="980" class="Symbol">:</a> <a id="982" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a> <a id="993" class="Symbol">→</a> <a id="995" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
  <a id="1002" href="Meta.Search.Base.html#961" class="Function">goal-is-stratified</a> <a id="1021" class="Symbol">=</a> <a id="1023" href="Meta.Search.Base.html#856" class="Function">goal-strat-rec</a> <a id="1038" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="1040" href="Data.Empty.Base.html#125" class="Datatype">⊥</a>

  <a id="Selector"></a><a id="1045" href="Meta.Search.Base.html#1045" class="Function">Selector</a> <a id="1054" class="Symbol">:</a> <a id="1056" class="Symbol">@</a><a id="1057" class="Symbol">0</a> <a id="1059" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1061" class="Symbol">→</a> <a id="1063" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
  <a id="1070" href="Meta.Search.Base.html#1045" class="Function">Selector</a> <a id="1079" class="Symbol">=</a> <a id="1081" href="Data.Fin.Base.html#187" class="Datatype">Fin</a>

<a id="select-arg"></a><a id="1086" href="Meta.Search.Base.html#1086" class="Function">select-arg</a> <a id="1097" class="Symbol">:</a> <a id="1099" href="Agda.Builtin.Reflection.html#2737" class="Datatype">Visibility</a> <a id="1110" class="Symbol">→</a> <a id="1112" class="Symbol">{@</a><a id="1114" class="Symbol">0</a> <a id="1116" href="Meta.Search.Base.html#1116" class="Bound">m</a> <a id="1118" class="Symbol">:</a> <a id="1120" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1121" class="Symbol">}</a> <a id="1123" class="Symbol">→</a> <a id="1125" href="Meta.Search.Base.html#1045" class="Function">Selector</a> <a id="1134" href="Meta.Search.Base.html#1116" class="Bound">m</a> <a id="1136" class="Symbol">→</a> <a id="1138" href="Data.Vec.Base.html#235" class="Datatype">Vec</a> <a id="1142" class="Symbol">(</a><a id="1143" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="1147" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1151" class="Symbol">)</a> <a id="1153" href="Meta.Search.Base.html#1116" class="Bound">m</a> <a id="1155" class="Symbol">→</a> <a id="1157" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1160" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="1165" href="Meta.Search.Base.html#1086" class="Function">select-arg</a> <a id="1176" href="Meta.Search.Base.html#1176" class="Bound">vis</a> <a id="1180" href="Meta.Search.Base.html#1180" class="Bound">idx</a> <a id="1184" href="Meta.Search.Base.html#1184" class="Bound">args</a> <a id="1189" class="Symbol">=</a> <a id="1191" class="Keyword">do</a>
  <a id="1196" href="Meta.Reflection.html#2513" class="InductiveConstructor">vis-arg</a> <a id="1204" href="Meta.Search.Base.html#1204" class="Bound">v</a> <a id="1206" href="Meta.Search.Base.html#1206" class="Bound">x</a> <a id="1208" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="1210" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="1215" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="1217" href="Data.Vec.Operations.Inductive.html#436" class="Function">lookup</a> <a id="1224" href="Meta.Search.Base.html#1184" class="Bound">args</a> <a id="1229" href="Meta.Search.Base.html#1180" class="Bound">idx</a> <a id="1233" class="Keyword">where</a>
    <a id="1243" class="CatchallClause Symbol">_</a> <a id="1245" class="Symbol">→</a> <a id="1247" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="1257" class="String">&quot;Bad argument selector&quot;</a>
  <a id="1283" href="Meta.Alt.html#580" class="Function">guard</a> <a id="1289" class="Symbol">(</a><a id="1290" href="Meta.Search.Base.html#1204" class="Bound">v</a> <a id="1292" href="Meta.Reflection.html#3526" class="Function Operator">visibility=?</a> <a id="1305" href="Meta.Search.Base.html#1176" class="Bound">vis</a><a id="1308" class="Symbol">)</a>
  <a id="1312" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="1317" href="Meta.Search.Base.html#1206" class="Bound">x</a>

<a id="Level-data"></a><a id="1320" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="1331" class="Symbol">:</a> <a id="1333" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a> <a id="1344" class="Symbol">→</a> <a id="1346" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
<a id="1351" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="1362" class="Symbol">=</a> <a id="1364" href="Meta.Search.Base.html#856" class="Function">goal-strat-rec</a> <a id="1379" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1384" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="dummy-level"></a><a id="1387" href="Meta.Search.Base.html#1387" class="Function">dummy-level</a> <a id="1399" class="Symbol">:</a> <a id="1401" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="1412" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a>
<a id="1423" href="Meta.Search.Base.html#1387" class="Function">dummy-level</a> <a id="1435" class="Symbol">{(</a><a id="1437" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a><a id="1441" class="Symbol">)}</a> <a id="1444" class="Symbol">=</a> <a id="1446" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="1449" href="Meta.Search.Base.html#1387" class="Function">dummy-level</a> <a id="1461" class="Symbol">{(</a><a id="1463" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a><a id="1472" class="Symbol">)}</a> <a id="1475" class="Symbol">=</a> <a id="1477" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>

<a id="fixed-level"></a><a id="1486" href="Meta.Search.Base.html#1486" class="Function">fixed-level</a> <a id="1498" class="Symbol">:</a> <a id="1500" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1502" class="Symbol">→</a> <a id="1504" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="1515" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a>
<a id="1526" href="Meta.Search.Base.html#1486" class="Function">fixed-level</a> <a id="1538" class="Symbol">{(</a><a id="1540" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a><a id="1544" class="Symbol">)}</a> <a id="1547" class="Symbol">_</a> <a id="1549" class="Symbol">=</a> <a id="1551" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="1554" href="Meta.Search.Base.html#1486" class="Function">fixed-level</a> <a id="1566" class="Symbol">{(</a><a id="1568" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a><a id="1577" class="Symbol">)}</a> <a id="1580" href="Meta.Search.Base.html#1580" class="Bound">n</a> <a id="1582" class="Symbol">=</a> <a id="1584" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="1588" class="Symbol">(</a><a id="1589" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="1593" href="Meta.Search.Base.html#1580" class="Bound">n</a><a id="1594" class="Symbol">)</a>

<a id="level-term"></a><a id="1597" href="Meta.Search.Base.html#1597" class="Function">level-term</a> <a id="1608" class="Symbol">:</a> <a id="1610" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="1621" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="1632" class="Symbol">→</a> <a id="1634" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="1639" href="Meta.Search.Base.html#1597" class="Function">level-term</a> <a id="1650" class="Symbol">{(</a><a id="1652" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a><a id="1656" class="Symbol">)}</a> <a id="1659" class="Symbol">_</a> <a id="1661" class="Symbol">=</a> <a id="1663" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="1667" class="Symbol">(</a><a id="1668" href="Agda.Builtin.Reflection.html#4555" class="InductiveConstructor">string</a> <a id="1675" class="String">&quot;dummy&quot;</a><a id="1682" class="Symbol">)</a>
<a id="1684" href="Meta.Search.Base.html#1597" class="Function">level-term</a> <a id="1695" class="Symbol">{(</a><a id="1697" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a><a id="1706" class="Symbol">)}</a> <a id="1709" class="Symbol">=</a> <a id="1711" href="Foundations.Pi.Base.html#734" class="Function">id</a>

<a id="Goal-data"></a><a id="1715" href="Meta.Search.Base.html#1715" class="Function">Goal-data</a> <a id="1725" class="Symbol">:</a> <a id="1727" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
<a id="1732" href="Meta.Search.Base.html#1715" class="Function">Goal-data</a> <a id="1742" class="Symbol">=</a> <a id="1744" href="Foundations.Sigma.Base.html#436" class="Function">Σ[</a> <a id="1747" href="Meta.Search.Base.html#1747" class="Bound">args-length</a> <a id="1759" href="Foundations.Sigma.Base.html#436" class="Function">꞉</a> <a id="1761" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1763" href="Foundations.Sigma.Base.html#436" class="Function">]</a> <a id="1765" href="Meta.Search.Base.html#1045" class="Function">Selector</a> <a id="1774" href="Meta.Search.Base.html#1747" class="Bound">args-length</a>

<a id="1787" class="Keyword">record</a> <a id="Tactic-desc"></a><a id="1794" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="1806" class="Symbol">(</a><a id="1807" href="Meta.Search.Base.html#1807" class="Bound">goal-name</a> <a id="1817" class="Symbol">:</a> <a id="1819" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="1823" class="Symbol">)</a> <a id="1825" class="Symbol">(</a><a id="1826" href="Meta.Search.Base.html#1826" class="Bound">goal-strat</a> <a id="1837" class="Symbol">:</a> <a id="1839" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a><a id="1849" class="Symbol">)</a> <a id="1851" class="Symbol">:</a> <a id="1853" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="1858" class="Keyword">where</a>
  <a id="1866" class="Keyword">field</a>
    <a id="Tactic-desc.args-length"></a><a id="1876" href="Meta.Search.Base.html#1876" class="Field">args-length</a> <a id="1888" class="Symbol">:</a> <a id="1890" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Tactic-desc.goal-selector"></a><a id="1896" href="Meta.Search.Base.html#1896" class="Field">goal-selector</a> <a id="1910" class="Symbol">:</a> <a id="1912" href="Meta.Search.Base.html#1045" class="Function">Selector</a> <a id="1921" href="Meta.Search.Base.html#1876" class="Field">args-length</a>
    <a id="Tactic-desc.level-selector"></a><a id="1937" href="Meta.Search.Base.html#1937" class="Field">level-selector</a>
      <a id="1958" class="Symbol">:</a> <a id="1960" class="Symbol">{</a><a id="1961" href="Meta.Search.Base.html#1961" class="Bound">w</a> <a id="1963" class="Symbol">:</a> <a id="1965" href="Meta.Search.Base.html#961" class="Function">goal-is-stratified</a> <a id="1984" href="Meta.Search.Base.html#1826" class="Bound">goal-strat</a><a id="1994" class="Symbol">}</a> <a id="1996" class="Symbol">→</a> <a id="1998" href="Meta.Search.Base.html#1045" class="Function">Selector</a> <a id="2007" href="Meta.Search.Base.html#1876" class="Field">args-length</a>
    <a id="Tactic-desc.aliases"></a><a id="2023" href="Meta.Search.Base.html#2023" class="Field">aliases</a>
      <a id="2037" class="Symbol">:</a> <a id="2039" class="Symbol">{</a><a id="2040" href="Meta.Search.Base.html#2040" class="Bound">w</a> <a id="2042" class="Symbol">:</a> <a id="2044" href="Meta.Search.Base.html#961" class="Function">goal-is-stratified</a> <a id="2063" href="Meta.Search.Base.html#1826" class="Bound">goal-strat</a><a id="2073" class="Symbol">}</a>
      <a id="2081" class="Symbol">→</a> <a id="2083" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2088" class="Symbol">(</a><a id="2089" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="2094" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="2096" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2098" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="2100" href="Meta.Search.Base.html#1715" class="Function">Goal-data</a><a id="2109" class="Symbol">)</a>
    <a id="Tactic-desc.other-atoms"></a><a id="2115" href="Meta.Search.Base.html#2115" class="Field">other-atoms</a> <a id="2127" class="Symbol">:</a> <a id="2129" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2134" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Tactic-desc.instance-helper"></a><a id="2143" href="Meta.Search.Base.html#2143" class="Field">instance-helper</a> <a id="2159" class="Symbol">:</a> <a id="2161" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Tactic-desc.upwards-closure"></a><a id="2170" href="Meta.Search.Base.html#2170" class="Field">upwards-closure</a> <a id="2186" class="Symbol">:</a> <a id="2188" class="Symbol">{</a><a id="2189" href="Meta.Search.Base.html#2189" class="Bound">w</a> <a id="2191" class="Symbol">:</a> <a id="2193" href="Meta.Search.Base.html#961" class="Function">goal-is-stratified</a> <a id="2212" href="Meta.Search.Base.html#1826" class="Bound">goal-strat</a><a id="2222" class="Symbol">}</a> <a id="2224" class="Symbol">→</a> <a id="2226" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2232" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="2241" class="Comment">-- ^ it should have a following signature</a>
    <a id="2287" class="Comment">--   (h₀ h₁ : HLevel) → whatever h₀ A → whatever (h₁ + h₀) A</a>

  <a id="Tactic-desc.atoms"></a><a id="2351" href="Meta.Search.Base.html#2351" class="Function">atoms</a> <a id="2357" class="Symbol">:</a> <a id="2359" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2364" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
  <a id="2371" href="Meta.Search.Base.html#2351" class="Function">atoms</a> <a id="2377" class="Symbol">=</a> <a id="2379" href="Meta.Search.Base.html#1807" class="Bound">goal-name</a> <a id="2389" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2391" href="Meta.Search.Base.html#2115" class="Field">other-atoms</a>

<a id="2404" class="Keyword">open</a> <a id="2409" href="Meta.Search.Base.html#1794" class="Module">Tactic-desc</a>

<a id="2422" class="Keyword">data</a> <a id="Arg-spec"></a><a id="2427" href="Meta.Search.Base.html#2427" class="Datatype">Arg-spec</a> <a id="2436" class="Symbol">:</a> <a id="2438" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a> <a id="2449" class="Symbol">→</a> <a id="2451" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="2456" class="Keyword">where</a>
  <a id="Arg-spec.`level-suc"></a><a id="2464" href="Meta.Search.Base.html#2464" class="InductiveConstructor">`level-suc</a>    <a id="2478" class="Symbol">:</a> <a id="2480" href="Meta.Search.Base.html#2427" class="Datatype">Arg-spec</a> <a id="2489" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a>
  <a id="Arg-spec.`level-minus"></a><a id="2501" href="Meta.Search.Base.html#2501" class="InductiveConstructor">`level-minus</a>  <a id="2515" class="Symbol">:</a> <a id="2517" class="Symbol">(</a><a id="2518" href="Meta.Search.Base.html#2518" class="Bound">n</a> <a id="2520" class="Symbol">:</a> <a id="2522" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2523" class="Symbol">)</a> <a id="2525" class="Symbol">→</a> <a id="2527" href="Meta.Search.Base.html#2427" class="Datatype">Arg-spec</a> <a id="2536" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a>
  <a id="Arg-spec.`search-under"></a><a id="2548" href="Meta.Search.Base.html#2548" class="InductiveConstructor">`search-under</a> <a id="2562" class="Symbol">:</a> <a id="2564" class="Symbol">(</a><a id="2565" href="Meta.Search.Base.html#2565" class="Bound">n</a> <a id="2567" class="Symbol">:</a> <a id="2569" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2570" class="Symbol">)</a> <a id="2572" class="Symbol">(</a><a id="2573" href="Meta.Search.Base.html#2573" class="Bound">subgoal</a> <a id="2581" class="Symbol">:</a> <a id="2583" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2587" class="Symbol">)</a> <a id="2589" class="Symbol">→</a> <a id="2591" href="Meta.Search.Base.html#2427" class="Datatype">Arg-spec</a> <a id="2600" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a>
  <a id="Arg-spec.`term"></a><a id="2613" href="Meta.Search.Base.html#2613" class="InductiveConstructor">`term</a>         <a id="2627" class="Symbol">:</a> <a id="2629" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2634" class="Symbol">→</a> <a id="2636" href="Meta.Search.Base.html#2427" class="Datatype">Arg-spec</a> <a id="2645" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a>

<a id="2657" class="Keyword">pattern</a> <a id="`search"></a><a id="2665" href="Meta.Search.Base.html#2665" class="InductiveConstructor">`search</a> <a id="2673" href="Meta.Search.Base.html#2695" class="Bound">sg</a>  <a id="2677" class="Symbol">=</a> <a id="2679" href="Meta.Search.Base.html#2548" class="InductiveConstructor">`search-under</a> <a id="2693" class="Number">0</a> <a id="2695" href="Meta.Search.Base.html#2695" class="Bound">sg</a>
<a id="2698" class="Keyword">pattern</a> <a id="`level-same"></a><a id="2706" href="Meta.Search.Base.html#2706" class="InductiveConstructor">`level-same</a> <a id="2718" class="Symbol">=</a> <a id="2720" href="Meta.Search.Base.html#2501" class="InductiveConstructor">`level-minus</a> <a id="2733" class="Number">0</a>
<a id="2735" class="Keyword">pattern</a> <a id="`meta"></a><a id="2743" href="Meta.Search.Base.html#2743" class="InductiveConstructor">`meta</a>       <a id="2755" class="Symbol">=</a> <a id="2757" href="Meta.Search.Base.html#2613" class="InductiveConstructor">`term</a> <a id="2763" class="InductiveConstructor">unknown</a>

<a id="2772" class="Keyword">data</a> <a id="goal-decomposition"></a><a id="2777" href="Meta.Search.Base.html#2777" class="Datatype">goal-decomposition</a>
  <a id="2798" class="Symbol">{</a><a id="2799" href="Meta.Search.Base.html#2799" class="Bound">ℓ</a><a id="2800" class="Symbol">}</a> <a id="2802" class="Symbol">(</a><a id="2803" href="Meta.Search.Base.html#2803" class="Bound">goal-name</a> <a id="2813" class="Symbol">:</a> <a id="2815" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2819" class="Symbol">)</a> <a id="2821" class="Symbol">{</a><a id="2822" href="Meta.Search.Base.html#2822" class="Bound">goal-strat</a> <a id="2833" class="Symbol">:</a> <a id="2835" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a><a id="2845" class="Symbol">}</a>
  <a id="2849" class="Symbol">⦃</a> <a id="2851" class="Symbol">@</a>irr <a id="2856" href="Meta.Search.Base.html#2856" class="Bound">what</a> <a id="2861" class="Symbol">:</a> <a id="2863" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="2875" href="Meta.Search.Base.html#2803" class="Bound">goal-name</a> <a id="2885" href="Meta.Search.Base.html#2822" class="Bound">goal-strat</a> <a id="2896" class="Symbol">⦄</a> <a id="2898" class="Symbol">(</a><a id="2899" href="Meta.Search.Base.html#2899" class="Bound">T</a> <a id="2901" class="Symbol">:</a> <a id="2903" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="2908" href="Meta.Search.Base.html#2799" class="Bound">ℓ</a><a id="2909" class="Symbol">)</a> <a id="2911" class="Symbol">:</a> <a id="2913" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="2918" class="Keyword">where</a>
    <a id="goal-decomposition.decomp"></a><a id="2928" href="Meta.Search.Base.html#2928" class="InductiveConstructor">decomp</a> <a id="2935" class="Symbol">:</a> <a id="2937" class="Symbol">(</a><a id="2938" href="Meta.Search.Base.html#2938" class="Bound">search-lemma</a> <a id="2951" class="Symbol">:</a> <a id="2953" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2957" class="Symbol">)</a> <a id="2959" class="Symbol">(</a><a id="2960" href="Meta.Search.Base.html#2960" class="Bound">arguments</a> <a id="2970" class="Symbol">:</a> <a id="2972" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2977" class="Symbol">(</a><a id="2978" href="Meta.Search.Base.html#2427" class="Datatype">Arg-spec</a> <a id="2987" href="Meta.Search.Base.html#2822" class="Bound">goal-strat</a><a id="2997" class="Symbol">))</a>
           <a id="3011" class="Symbol">→</a> <a id="3013" href="Meta.Search.Base.html#2777" class="Datatype">goal-decomposition</a> <a id="3032" href="Meta.Search.Base.html#2803" class="Bound">goal-name</a> <a id="3042" href="Meta.Search.Base.html#2899" class="Bound">T</a>

<a id="3045" class="Keyword">private</a>
  <a id="goal-is-native"></a><a id="3055" href="Meta.Search.Base.html#3055" class="Function">goal-is-native</a> <a id="3070" class="Symbol">:</a> <a id="3072" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="3077" class="Symbol">→</a> <a id="3079" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a>
  <a id="3086" href="Meta.Search.Base.html#3055" class="Function">goal-is-native</a> <a id="3101" class="Symbol">=</a> <a id="3103" href="Data.Bool.Base.html#351" class="Function">Bool.rec</a> <a id="3112" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="3114" href="Data.Empty.Base.html#125" class="Datatype">⊥</a>

<a id="3117" class="Keyword">record</a> <a id="Struct-proj-desc"></a><a id="3124" href="Meta.Search.Base.html#3124" class="Record">Struct-proj-desc</a>
  <a id="3143" class="Symbol">(</a><a id="3144" href="Meta.Search.Base.html#3144" class="Bound">goal-name</a> <a id="3154" class="Symbol">:</a> <a id="3156" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="3160" class="Symbol">)</a> <a id="3162" class="Symbol">(</a><a id="3163" href="Meta.Search.Base.html#3163" class="Bound">goal-strat</a> <a id="3174" class="Symbol">:</a> <a id="3176" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a><a id="3186" class="Symbol">)</a>
  <a id="3190" class="Symbol">(</a><a id="3191" href="Meta.Search.Base.html#3191" class="Bound">carrier-name</a> <a id="3204" class="Symbol">:</a> <a id="3206" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="3210" class="Symbol">)</a> <a id="3212" class="Symbol">(</a><a id="3213" href="Meta.Search.Base.html#3213" class="Bound">goal-nat</a> <a id="3222" class="Symbol">:</a> <a id="3224" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="3228" class="Symbol">)</a> <a id="3230" class="Symbol">:</a> <a id="3232" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3237" class="Keyword">where</a>
  <a id="3245" class="Keyword">field</a>
    <a id="Struct-proj-desc.struct-name"></a><a id="3255" href="Meta.Search.Base.html#3255" class="Field">struct-name</a>            <a id="3278" class="Symbol">:</a> <a id="3280" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Struct-proj-desc.struct-args-length"></a><a id="3289" href="Meta.Search.Base.html#3289" class="Field">struct-args-length</a>     <a id="3312" class="Symbol">:</a> <a id="3314" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Struct-proj-desc.goal-projection"></a><a id="3320" href="Meta.Search.Base.html#3320" class="Field">goal-projection</a>        <a id="3343" class="Symbol">:</a> <a id="3345" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Struct-proj-desc.projection-args-length"></a><a id="3354" href="Meta.Search.Base.html#3354" class="Field">projection-args-length</a> <a id="3377" class="Symbol">:</a> <a id="3379" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="Struct-proj-desc.level-selector"></a><a id="3385" href="Meta.Search.Base.html#3385" class="Field">level-selector</a>
      <a id="3406" class="Symbol">:</a> <a id="3408" class="Symbol">{</a><a id="3409" href="Meta.Search.Base.html#3409" class="Bound">z</a> <a id="3411" class="Symbol">:</a> <a id="3413" href="Meta.Search.Base.html#3055" class="Function">goal-is-native</a> <a id="3428" href="Meta.Search.Base.html#3213" class="Bound">goal-nat</a><a id="3436" class="Symbol">}</a> <a id="3438" class="Symbol">{</a><a id="3439" href="Meta.Search.Base.html#3439" class="Bound">w</a> <a id="3441" class="Symbol">:</a> <a id="3443" href="Meta.Search.Base.html#961" class="Function">goal-is-stratified</a> <a id="3462" href="Meta.Search.Base.html#3163" class="Bound">goal-strat</a><a id="3472" class="Symbol">}</a>
      <a id="3480" class="Symbol">→</a> <a id="3482" href="Meta.Search.Base.html#1045" class="Function">Selector</a> <a id="3491" href="Meta.Search.Base.html#3289" class="Field">struct-args-length</a>
    <a id="Struct-proj-desc.carrier-selector"></a><a id="3514" href="Meta.Search.Base.html#3514" class="Field">carrier-selector</a>       <a id="3537" class="Symbol">:</a> <a id="3539" href="Meta.Search.Base.html#1045" class="Function">Selector</a> <a id="3548" href="Meta.Search.Base.html#3354" class="Field">projection-args-length</a>

<a id="3572" class="Keyword">open</a> <a id="3577" href="Meta.Search.Base.html#3124" class="Module">Struct-proj-desc</a>

<a id="3595" class="Keyword">private</a> <a id="3603" class="Keyword">variable</a>
  <a id="3614" href="Meta.Search.Base.html#3614" class="Generalizable">A</a> <a id="3616" class="Symbol">:</a> <a id="3618" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3623" href="Meta.Search.Base.html#645" class="Generalizable">ℓ</a>
  <a id="3627" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="3637" href="Meta.Search.Base.html#3637" class="Generalizable">carrier-name</a> <a id="3650" class="Symbol">:</a> <a id="3652" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
  <a id="3659" href="Meta.Search.Base.html#3659" class="Generalizable">goal-nat</a> <a id="3668" class="Symbol">:</a> <a id="3670" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
  <a id="3677" href="Meta.Search.Base.html#3677" class="Generalizable">n</a> <a id="3679" class="Symbol">:</a> <a id="3681" href="Foundations.Base.html#10777" class="Function">HLevel</a>

<a id="backtrack"></a><a id="3689" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="3699" class="Symbol">:</a> <a id="3701" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3706" href="Agda.Builtin.Reflection.html#8199" class="Datatype">ErrorPart</a> <a id="3716" class="Symbol">→</a> <a id="3718" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3721" href="Meta.Search.Base.html#3614" class="Generalizable">A</a>
<a id="3723" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="3733" href="Meta.Search.Base.html#3733" class="Bound">note</a> <a id="3738" class="Symbol">=</a> <a id="3740" class="Keyword">do</a>
  <a id="3745" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="3756" class="String">&quot;tactic.search&quot;</a> <a id="3772" class="Number">10</a> <a id="3775" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="3777" class="String">&quot;Backtracking search... &quot;</a> <a id="3803" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3805" href="Meta.Search.Base.html#3733" class="Bound">note</a>
  <a id="3812" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="3822" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="3824" class="String">&quot;Search hit a dead-end: &quot;</a> <a id="3850" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3852" href="Meta.Search.Base.html#3733" class="Bound">note</a>

<a id="3858" class="Keyword">private</a>
  <a id="args-list→args-vec"></a><a id="3868" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="3887" class="Symbol">:</a> <a id="3889" class="Symbol">(</a><a id="3890" href="Meta.Search.Base.html#3890" class="Bound">desired-length</a> <a id="3905" class="Symbol">:</a> <a id="3907" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3908" class="Symbol">)</a> <a id="3910" class="Symbol">→</a> <a id="3912" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3917" class="Symbol">(</a><a id="3918" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="3922" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3926" class="Symbol">)</a> <a id="3928" class="Symbol">→</a> <a id="3930" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3933" class="Symbol">(</a><a id="3934" href="Data.Vec.Base.html#235" class="Datatype">Vec</a> <a id="3938" class="Symbol">(</a><a id="3939" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="3943" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3947" class="Symbol">)</a> <a id="3949" href="Meta.Search.Base.html#3890" class="Bound">desired-length</a><a id="3963" class="Symbol">)</a>
  <a id="3967" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="3986" class="Number">0</a> <a id="3988" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3991" class="Symbol">=</a> <a id="3993" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="3998" href="Data.Vec.Base.html#276" class="InductiveConstructor">[]</a>
  <a id="4003" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="4022" class="Number">0</a> <a id="4024" class="Symbol">(_</a> <a id="4027" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4029" class="Symbol">_)</a> <a id="4032" class="Symbol">=</a> <a id="4034" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="4044" class="String">&quot;Too many arguments&quot;</a>
  <a id="4067" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="4086" class="Symbol">(</a><a id="4087" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4091" class="Symbol">_)</a> <a id="4094" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4097" class="Symbol">=</a> <a id="4099" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="4109" class="String">&quot;Too few arguments&quot;</a>
  <a id="4131" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="4150" class="Symbol">(</a><a id="4151" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4155" href="Meta.Search.Base.html#4155" class="Bound">dl</a><a id="4157" class="Symbol">)</a> <a id="4159" class="Symbol">(</a><a id="4160" href="Meta.Search.Base.html#4160" class="Bound">x</a> <a id="4162" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4164" href="Meta.Search.Base.html#4164" class="Bound">xs</a><a id="4166" class="Symbol">)</a> <a id="4168" class="Symbol">=</a> <a id="4170" class="Keyword">do</a>
    <a id="4177" href="Meta.Search.Base.html#4177" class="Bound">ih</a> <a id="4180" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="4182" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="4201" href="Meta.Search.Base.html#4155" class="Bound">dl</a> <a id="4204" href="Meta.Search.Base.html#4164" class="Bound">xs</a>
    <a id="4211" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="4216" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="4218" href="Meta.Search.Base.html#4160" class="Bound">x</a> <a id="4220" href="Data.Vec.Base.html#295" class="InductiveConstructor Operator">∷</a> <a id="4222" href="Meta.Search.Base.html#4177" class="Bound">ih</a>

  <a id="compose-goal"></a><a id="4228" href="Meta.Search.Base.html#4228" class="Function">compose-goal</a> <a id="4241" class="Symbol">:</a> <a id="4243" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="4255" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="4265" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="4276" class="Symbol">→</a> <a id="4278" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="4289" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="4300" class="Symbol">→</a> <a id="4302" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4307" class="Symbol">→</a> <a id="4309" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="4316" href="Meta.Search.Base.html#4228" class="Function">compose-goal</a> <a id="4329" class="Symbol">{</a><a id="4330" href="Meta.Search.Base.html#4330" class="Bound">goal-name</a><a id="4339" class="Symbol">}</a> <a id="4341" href="Meta.Search.Base.html#4341" class="Bound">td</a> <a id="4344" href="Meta.Search.Base.html#4344" class="Bound">xlv</a> <a id="4348" href="Meta.Search.Base.html#4348" class="Bound">ty</a> <a id="4351" class="Symbol">=</a> <a id="4353" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="4357" href="Meta.Search.Base.html#4330" class="Bound">goal-name</a> <a id="4367" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="4369" href="Data.Vec.Operations.Inductive.html#662" class="Function">vec→list</a> <a id="4378" class="Symbol">(</a><a id="4379" href="Meta.Search.Base.html#4519" class="Function">go</a> <a id="4382" href="Meta.Search.Base.html#4341" class="Bound">td</a> <a id="4385" href="Meta.Search.Base.html#4344" class="Bound">xlv</a> <a id="4389" href="Meta.Search.Base.html#4415" class="Function">base-args</a><a id="4398" class="Symbol">)</a> <a id="4400" class="Symbol">.</a><a id="4401" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="4405" class="Keyword">where</a>
    <a id="4415" href="Meta.Search.Base.html#4415" class="Function">base-args</a> <a id="4425" class="Symbol">=</a> <a id="4427" href="Data.Vec.Operations.Inductive.html#534" class="Function">replace</a> <a id="4435" class="Symbol">(</a><a id="4436" href="Meta.Search.Base.html#4341" class="Bound">td</a> <a id="4439" class="Symbol">.</a><a id="4440" href="Meta.Search.Base.html#1896" class="Field">goal-selector</a><a id="4453" class="Symbol">)</a> <a id="4455" class="Symbol">(</a><a id="4456" href="Meta.Reflection.html#2586" class="InductiveConstructor">varg</a> <a id="4461" href="Meta.Search.Base.html#4348" class="Bound">ty</a><a id="4463" class="Symbol">)</a> <a id="4465" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="4467" href="Data.Vec.Base.html#797" class="Function">replicate</a> <a id="4477" class="Symbol">(</a><a id="4478" href="Meta.Search.Base.html#4341" class="Bound">td</a> <a id="4481" class="Symbol">.</a><a id="4482" href="Meta.Search.Base.html#1876" class="Field">args-length</a><a id="4493" class="Symbol">)</a> <a id="4495" class="Symbol">(</a><a id="4496" href="Meta.Reflection.html#2621" class="InductiveConstructor">harg</a> <a id="4501" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">Term.unknown</a><a id="4513" class="Symbol">)</a>
    <a id="4519" href="Meta.Search.Base.html#4519" class="Function">go</a> <a id="4522" class="Symbol">:</a> <a id="4524" class="Symbol">∀{</a><a id="4526" href="Meta.Search.Base.html#4526" class="Bound">gn</a> <a id="4529" href="Meta.Search.Base.html#4529" class="Bound">gs</a><a id="4531" class="Symbol">}</a> <a id="4533" class="Symbol">(</a><a id="4534" href="Meta.Search.Base.html#4534" class="Bound">td</a> <a id="4537" class="Symbol">:</a> <a id="4539" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="4551" href="Meta.Search.Base.html#4526" class="Bound">gn</a> <a id="4554" href="Meta.Search.Base.html#4529" class="Bound">gs</a><a id="4556" class="Symbol">)</a> <a id="4558" class="Symbol">→</a> <a id="4560" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="4571" href="Meta.Search.Base.html#4529" class="Bound">gs</a> <a id="4574" class="Symbol">→</a> <a id="4576" href="Data.Vec.Base.html#235" class="Datatype">Vec</a> <a id="4580" class="Symbol">_</a> <a id="4582" class="Symbol">(</a><a id="4583" href="Meta.Search.Base.html#4534" class="Bound">td</a> <a id="4586" class="Symbol">.</a><a id="4587" href="Meta.Search.Base.html#1876" class="Field">args-length</a><a id="4598" class="Symbol">)</a> <a id="4600" class="Symbol">→</a> <a id="4602" href="Data.Vec.Base.html#235" class="Datatype">Vec</a> <a id="4606" class="Symbol">_</a> <a id="4608" class="Symbol">(</a><a id="4609" href="Meta.Search.Base.html#4534" class="Bound">td</a> <a id="4612" class="Symbol">.</a><a id="4613" href="Meta.Search.Base.html#1876" class="Field">args-length</a><a id="4624" class="Symbol">)</a>
    <a id="4630" href="Meta.Search.Base.html#4519" class="Function">go</a> <a id="4633" class="Symbol">{</a><a id="4634" class="Argument">gs</a> <a id="4637" class="Symbol">=</a> <a id="4639" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a><a id="4648" class="Symbol">}</a> <a id="4650" href="Meta.Search.Base.html#4650" class="Bound">td</a> <a id="4653" href="Meta.Search.Base.html#4653" class="Bound">xlv</a> <a id="4657" class="Symbol">=</a> <a id="4659" href="Data.Vec.Operations.Inductive.html#534" class="Function">replace</a> <a id="4667" class="Symbol">(</a><a id="4668" href="Meta.Search.Base.html#4650" class="Bound">td</a> <a id="4671" class="Symbol">.</a><a id="4672" href="Meta.Search.Base.html#1937" class="Field">level-selector</a><a id="4686" class="Symbol">)</a> <a id="4688" class="Symbol">(</a><a id="4689" href="Meta.Reflection.html#2586" class="InductiveConstructor">varg</a> <a id="4694" href="Meta.Search.Base.html#4653" class="Bound">xlv</a><a id="4697" class="Symbol">)</a>
    <a id="4703" href="Meta.Search.Base.html#4519" class="Function">go</a> <a id="4706" class="Symbol">{</a><a id="4707" class="Argument">gs</a> <a id="4710" class="Symbol">=</a> <a id="4712" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a><a id="4716" class="Symbol">}</a> <a id="4718" class="Symbol">_</a> <a id="4720" class="Symbol">_</a> <a id="4722" class="Symbol">=</a> <a id="4724" href="Foundations.Pi.Base.html#734" class="Function">id</a>

  <a id="decompose-alias"></a><a id="4730" href="Meta.Search.Base.html#4730" class="Function">decompose-alias</a>
    <a id="4750" class="Symbol">:</a> <a id="4752" class="Symbol">(</a><a id="4753" href="Meta.Search.Base.html#4753" class="Bound">actual</a> <a id="4760" class="Symbol">:</a> <a id="4762" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="4766" class="Symbol">)</a>
      <a id="4774" class="Symbol">(</a><a id="4775" href="Meta.Search.Base.html#4775" class="Bound">target</a> <a id="4782" class="Symbol">:</a> <a id="4784" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="4788" class="Symbol">)</a>
      <a id="4796" class="Symbol">(</a><a id="4797" href="Meta.Search.Base.html#4797" class="Bound">args</a> <a id="4802" class="Symbol">:</a> <a id="4804" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="4809" class="Symbol">(</a><a id="4810" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="4814" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="4818" class="Symbol">))</a>
    <a id="4825" class="Symbol">→</a> <a id="4827" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="4832" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="4834" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="4836" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="4838" href="Meta.Search.Base.html#1715" class="Function">Goal-data</a>
    <a id="4852" class="Symbol">→</a> <a id="4854" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="4857" class="Symbol">(</a><a id="4858" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="4869" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="4880" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="4882" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="4886" class="Symbol">)</a>
  <a id="4890" href="Meta.Search.Base.html#4730" class="Function">decompose-alias</a> <a id="4906" href="Meta.Search.Base.html#4906" class="Bound">actual</a> <a id="4913" href="Meta.Search.Base.html#4913" class="Bound">target</a> <a id="4920" href="Meta.Search.Base.html#4920" class="Bound">args</a> <a id="4925" class="Symbol">(</a><a id="4926" href="Meta.Search.Base.html#4926" class="Bound">alias-name</a> <a id="4937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4939" href="Meta.Search.Base.html#4939" class="Bound">lv</a> <a id="4942" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4944" href="Meta.Search.Base.html#4944" class="Bound">alias-args-length</a> <a id="4962" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4964" href="Meta.Search.Base.html#4964" class="Bound">sel</a><a id="4967" class="Symbol">)</a> <a id="4969" class="Symbol">=</a> <a id="4971" class="Keyword">do</a>
    <a id="4978" href="Meta.Alt.html#580" class="Function">guard</a> <a id="4984" class="Symbol">(</a><a id="4985" href="Meta.Search.Base.html#4906" class="Bound">actual</a> <a id="4992" href="Meta.Reflection.html#3460" class="Function Operator">name=?</a> <a id="4999" href="Meta.Search.Base.html#4926" class="Bound">alias-name</a><a id="5009" class="Symbol">)</a>
    <a id="5015" href="Meta.Search.Base.html#5015" class="Bound">argsᵥ</a> <a id="5021" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5023" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="5042" href="Meta.Search.Base.html#4944" class="Bound">alias-args-length</a> <a id="5060" href="Meta.Search.Base.html#4920" class="Bound">args</a>
    <a id="5069" href="Meta.Search.Base.html#5069" class="Bound">ty</a> <a id="5072" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5074" href="Meta.Search.Base.html#1086" class="Function">select-arg</a> <a id="5085" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="5093" href="Meta.Search.Base.html#4964" class="Bound">sel</a> <a id="5097" href="Meta.Search.Base.html#5015" class="Bound">argsᵥ</a>
    <a id="5107" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="5112" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="5114" href="Meta.Search.Base.html#1486" class="Function">fixed-level</a> <a id="5126" href="Meta.Search.Base.html#4939" class="Bound">lv</a> <a id="5129" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5131" href="Meta.Search.Base.html#5069" class="Bound">ty</a>

  <a id="5137" class="Comment">-- TODO refactor this abomination</a>
  <a id="decompose-goal′"></a><a id="5173" href="Meta.Search.Base.html#5173" class="Function">decompose-goal′</a> <a id="5189" class="Symbol">:</a> <a id="5191" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="5203" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="5213" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="5224" class="Symbol">→</a> <a id="5226" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5231" class="Symbol">→</a> <a id="5233" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="5236" class="Symbol">(</a><a id="5237" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="5248" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="5259" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="5261" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5265" class="Symbol">)</a>
  <a id="5269" href="Meta.Search.Base.html#5173" class="Function">decompose-goal′</a> <a id="5285" class="Symbol">{</a><a id="5286" href="Meta.Search.Base.html#5286" class="Bound">goal-name</a><a id="5295" class="Symbol">}</a> <a id="5297" class="Symbol">{</a><a id="5298" class="Argument">goal-strat</a> <a id="5309" class="Symbol">=</a> <a id="5311" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a><a id="5315" class="Symbol">}</a> <a id="5317" href="Meta.Search.Base.html#5317" class="Bound">td</a> <a id="5320" href="Meta.Search.Base.html#5320" class="Bound">ty</a> <a id="5323" class="Symbol">=</a> <a id="5325" class="Keyword">do</a>
    <a id="5332" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="5336" href="Meta.Search.Base.html#5336" class="Bound">actual-goal-name</a> <a id="5353" href="Meta.Search.Base.html#5353" class="Bound">args</a> <a id="5358" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5360" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="5365" href="Meta.Search.Base.html#5320" class="Bound">ty</a> <a id="5368" class="Keyword">where</a>
      <a id="5380" href="Meta.Search.Base.html#5380" class="CatchallClause Bound">x</a> <a id="5382" class="Symbol">→</a> <a id="5384" href="Meta.Search.Base.html#3689" class="Function">backtrack</a>
            <a id="5406" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="5408" class="String">&quot;Goal type isn&#39;t an application of &quot;</a> <a id="5445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5447" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="5455" href="Meta.Search.Base.html#5286" class="Bound">goal-name</a>
            <a id="5477" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5479" class="String">&quot;\nIt&#39;s &quot;</a> <a id="5489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5491" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="5499" href="Meta.Search.Base.html#5380" class="Bound">x</a> <a id="5501" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
    <a id="5507" href="Meta.Alt.html#580" class="Function">guard</a> <a id="5513" class="Symbol">(</a><a id="5514" href="Meta.Search.Base.html#5336" class="Bound">actual-goal-name</a> <a id="5531" href="Meta.Reflection.html#3460" class="Function Operator">name=?</a> <a id="5538" href="Meta.Search.Base.html#5286" class="Bound">goal-name</a><a id="5547" class="Symbol">)</a>
    <a id="5553" href="Meta.Search.Base.html#5553" class="Bound">argsᵥ</a> <a id="5559" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5561" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="5580" class="Symbol">(</a><a id="5581" href="Meta.Search.Base.html#5317" class="Bound">td</a> <a id="5584" class="Symbol">.</a><a id="5585" href="Meta.Search.Base.html#1876" class="Field">args-length</a><a id="5596" class="Symbol">)</a> <a id="5598" href="Meta.Search.Base.html#5353" class="Bound">args</a>
    <a id="5607" href="Meta.Search.Base.html#5607" class="Bound">ty</a> <a id="5610" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5612" href="Meta.Search.Base.html#1086" class="Function">select-arg</a> <a id="5623" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="5631" class="Symbol">(</a><a id="5632" href="Meta.Search.Base.html#5317" class="Bound">td</a> <a id="5635" class="Symbol">.</a><a id="5636" href="Meta.Search.Base.html#1896" class="Field">goal-selector</a><a id="5649" class="Symbol">)</a> <a id="5651" href="Meta.Search.Base.html#5553" class="Bound">argsᵥ</a>
    <a id="5661" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="5666" class="Symbol">(</a><a id="5667" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="5670" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5672" href="Meta.Search.Base.html#5607" class="Bound">ty</a><a id="5674" class="Symbol">)</a>
  <a id="5678" href="Meta.Search.Base.html#5173" class="Function">decompose-goal′</a> <a id="5694" class="Symbol">{</a><a id="5695" href="Meta.Search.Base.html#5695" class="Bound">goal-name</a><a id="5704" class="Symbol">}</a> <a id="5706" class="Symbol">{</a><a id="5707" class="Argument">goal-strat</a> <a id="5718" class="Symbol">=</a> <a id="5720" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a><a id="5729" class="Symbol">}</a> <a id="5731" href="Meta.Search.Base.html#5731" class="Bound">td</a> <a id="5734" href="Meta.Search.Base.html#5734" class="Bound">ty</a> <a id="5737" class="Symbol">=</a> <a id="5739" class="Keyword">do</a>
    <a id="5746" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="5750" href="Meta.Search.Base.html#5750" class="Bound">actual-goal-name</a> <a id="5767" href="Meta.Search.Base.html#5767" class="Bound">args</a> <a id="5772" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="5774" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="5779" href="Meta.Search.Base.html#5734" class="Bound">ty</a> <a id="5782" class="Keyword">where</a>
      <a id="5794" class="CatchallClause Symbol">_</a> <a id="5796" class="Symbol">→</a> <a id="5798" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="5808" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="5810" class="String">&quot;Goal type isn&#39;t an application of &quot;</a> <a id="5847" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5849" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="5857" href="Meta.Search.Base.html#5695" class="Bound">goal-name</a> <a id="5867" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
    <a id="5873" href="Meta.Foldable.html#489" class="Function">nondet</a> <a id="5880" class="Symbol">(</a><a id="5881" href="Meta.Idiom.html#181" class="InductiveConstructor">eff</a> <a id="5885" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="5889" class="Symbol">)</a> <a id="5891" class="Symbol">(</a><a id="5892" href="Meta.Search.Base.html#5731" class="Bound">td</a> <a id="5895" class="Symbol">.</a><a id="5896" href="Meta.Search.Base.html#2023" class="Field">aliases</a><a id="5903" class="Symbol">)</a> <a id="5905" class="Symbol">(</a><a id="5906" href="Meta.Search.Base.html#4730" class="Function">decompose-alias</a> <a id="5922" href="Meta.Search.Base.html#5750" class="Bound">actual-goal-name</a> <a id="5939" href="Meta.Search.Base.html#5734" class="Bound">ty</a> <a id="5942" href="Meta.Search.Base.html#5767" class="Bound">args</a><a id="5946" class="Symbol">)</a> <a id="5948" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="5952" class="Keyword">do</a>
      <a id="5961" href="Meta.Alt.html#580" class="Function">guard</a> <a id="5967" class="Symbol">(</a><a id="5968" href="Meta.Search.Base.html#5750" class="Bound">actual-goal-name</a> <a id="5985" href="Meta.Reflection.html#3460" class="Function Operator">name=?</a> <a id="5992" href="Meta.Search.Base.html#5695" class="Bound">goal-name</a><a id="6001" class="Symbol">)</a>
      <a id="6009" href="Meta.Search.Base.html#6009" class="Bound">argsᵥ</a> <a id="6015" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6017" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="6036" class="Symbol">(</a><a id="6037" href="Meta.Search.Base.html#5731" class="Bound">td</a> <a id="6040" class="Symbol">.</a><a id="6041" href="Meta.Search.Base.html#1876" class="Field">args-length</a><a id="6052" class="Symbol">)</a> <a id="6054" href="Meta.Search.Base.html#5767" class="Bound">args</a>
      <a id="6065" href="Meta.Search.Base.html#6065" class="Bound">ty</a> <a id="6068" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6070" href="Meta.Search.Base.html#1086" class="Function">select-arg</a> <a id="6081" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="6089" class="Symbol">(</a><a id="6090" href="Meta.Search.Base.html#5731" class="Bound">td</a> <a id="6093" class="Symbol">.</a><a id="6094" href="Meta.Search.Base.html#1896" class="Field">goal-selector</a><a id="6107" class="Symbol">)</a> <a id="6109" href="Meta.Search.Base.html#6009" class="Bound">argsᵥ</a>
      <a id="6121" href="Meta.Search.Base.html#6121" class="Bound">xlv</a> <a id="6125" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6127" href="Meta.Search.Base.html#1086" class="Function">select-arg</a> <a id="6138" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="6146" class="Symbol">(</a><a id="6147" href="Meta.Search.Base.html#5731" class="Bound">td</a> <a id="6150" class="Symbol">.</a><a id="6151" href="Meta.Search.Base.html#1937" class="Field">level-selector</a><a id="6165" class="Symbol">)</a> <a id="6167" href="Meta.Search.Base.html#6009" class="Bound">argsᵥ</a>
      <a id="6179" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="6184" class="Symbol">(</a><a id="6185" href="Meta.Search.Base.html#6121" class="Bound">xlv</a> <a id="6189" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6191" href="Meta.Search.Base.html#6065" class="Bound">ty</a><a id="6193" class="Symbol">)</a>

  <a id="decompose-goal"></a><a id="6198" href="Meta.Search.Base.html#6198" class="Function">decompose-goal</a> <a id="6213" class="Symbol">:</a> <a id="6215" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="6227" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="6237" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="6248" class="Symbol">→</a> <a id="6250" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6255" class="Symbol">→</a> <a id="6257" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="6260" class="Symbol">(</a><a id="6261" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="6272" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="6283" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="6285" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="6289" class="Symbol">)</a>
  <a id="6293" href="Meta.Search.Base.html#6198" class="Function">decompose-goal</a> <a id="6308" href="Meta.Search.Base.html#6308" class="Bound">td</a> <a id="6311" href="Meta.Search.Base.html#6311" class="Bound">goal</a> <a id="6316" class="Symbol">=</a> <a id="6318" class="Keyword">do</a>
    <a id="6325" href="Meta.Search.Base.html#6325" class="Bound">ty</a> <a id="6328" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6330" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="6345" class="Symbol">(</a><a id="6346" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="6352" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6354" href="Meta.Search.Base.html#2351" class="Function">atoms</a> <a id="6360" href="Meta.Search.Base.html#6308" class="Bound">td</a><a id="6362" class="Symbol">)</a> <a id="6364" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="6366" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="6376" href="Meta.Search.Base.html#6311" class="Bound">goal</a> <a id="6381" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="6385" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
    <a id="6396" href="Meta.Search.Base.html#5173" class="Function">decompose-goal′</a> <a id="6412" href="Meta.Search.Base.html#6308" class="Bound">td</a> <a id="6415" href="Meta.Search.Base.html#6325" class="Bound">ty</a>

  <a id="lift-sol"></a><a id="6421" href="Meta.Search.Base.html#6421" class="Function">lift-sol</a> <a id="6430" class="Symbol">:</a> <a id="6432" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="6444" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="6454" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="6464" class="Symbol">→</a> <a id="6466" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6471" class="Symbol">→</a> <a id="6473" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6478" class="Symbol">→</a> <a id="6480" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="6482" class="Symbol">→</a> <a id="6484" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="6487" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="6494" href="Meta.Search.Base.html#6421" class="Function">lift-sol</a> <a id="6503" href="Meta.Search.Base.html#6503" class="Bound">td</a> <a id="6506" href="Meta.Search.Base.html#6506" class="Bound">tm</a> <a id="6509" class="Symbol">_</a> <a id="6511" class="Number">0</a>  <a id="6514" class="Symbol">=</a> <a id="6516" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="6521" href="Meta.Search.Base.html#6506" class="Bound">tm</a>
  <a id="6526" href="Meta.Search.Base.html#6421" class="CatchallClause Function">lift-sol</a><a id="6534" class="CatchallClause"> </a><a id="6535" href="Meta.Search.Base.html#6535" class="CatchallClause Bound">td</a><a id="6537" class="CatchallClause"> </a><a id="6538" href="Meta.Search.Base.html#6538" class="CatchallClause Bound">tm</a><a id="6540" class="CatchallClause"> </a><a id="6541" href="Meta.Search.Base.html#6541" class="CatchallClause Bound">l₁</a><a id="6543" class="CatchallClause"> </a><a id="6544" href="Meta.Search.Base.html#6544" class="CatchallClause Bound">l</a> <a id="6546" class="Symbol">=</a> <a id="6548" class="Keyword">do</a>
    <a id="6555" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6560" href="Meta.Search.Base.html#6560" class="Bound">uc</a> <a id="6563" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="6565" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="6570" class="Symbol">(</a><a id="6571" href="Meta.Search.Base.html#6535" class="Bound">td</a> <a id="6574" class="Symbol">.</a><a id="6575" href="Meta.Search.Base.html#2170" class="Field">upwards-closure</a><a id="6590" class="Symbol">)</a> <a id="6592" class="Keyword">where</a>
      <a id="6604" class="CatchallClause Symbol">_</a> <a id="6606" class="Symbol">→</a> <a id="6608" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="6618" class="String">&quot;Goal is not liftable&quot;</a>
    <a id="6645" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="6650" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="6652" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="6656" href="Meta.Search.Base.html#6560" class="Bound">uc</a> <a id="6659" class="Symbol">(</a><a id="6660" href="Meta.Search.Base.html#6541" class="Bound">l₁</a> <a id="6663" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="6666" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6670" class="Symbol">(</a><a id="6671" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6675" href="Meta.Search.Base.html#6544" class="Bound">l</a><a id="6676" class="Symbol">)</a> <a id="6678" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="6681" href="Meta.Search.Base.html#6538" class="Bound">tm</a> <a id="6684" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="6687" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6689" class="Symbol">)</a>

  <a id="suc-term"></a><a id="6694" href="Meta.Search.Base.html#6694" class="Function">suc-term</a> <a id="6703" class="Symbol">:</a> <a id="6705" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6710" class="Symbol">→</a> <a id="6712" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="6719" href="Meta.Search.Base.html#6694" class="Function">suc-term</a> <a id="6728" class="Symbol">(</a><a id="6729" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6733" class="Symbol">(</a><a id="6734" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6738" href="Meta.Search.Base.html#6738" class="Bound">n</a><a id="6739" class="Symbol">))</a> <a id="6742" class="Symbol">=</a> <a id="6744" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6748" class="Symbol">(</a><a id="6749" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6753" class="Symbol">(</a><a id="6754" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6758" href="Meta.Search.Base.html#6738" class="Bound">n</a><a id="6759" class="Symbol">))</a>
  <a id="6764" href="Meta.Search.Base.html#6694" class="CatchallClause Function">suc-term</a><a id="6772" class="CatchallClause"> </a><a id="6773" href="Meta.Search.Base.html#6773" class="CatchallClause Bound">t</a> <a id="6775" class="Symbol">=</a> <a id="6777" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="6781" class="Symbol">(</a><a id="6782" class="Keyword">quote</a> <a id="6788" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="6791" class="Symbol">)</a> <a id="6793" class="Symbol">(</a><a id="6794" href="Meta.Search.Base.html#6773" class="Bound">t</a> <a id="6796" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="6799" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6801" class="Symbol">)</a>

  <a id="pred-term"></a><a id="6806" href="Meta.Search.Base.html#6806" class="Function">pred-term</a> <a id="6816" class="Symbol">:</a> <a id="6818" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6823" class="Symbol">→</a> <a id="6825" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6831" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="6838" href="Meta.Search.Base.html#6806" class="Function">pred-term</a> <a id="6848" class="Symbol">(</a><a id="6849" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="6853" class="Symbol">(</a><a id="6854" class="Keyword">quote</a> <a id="6860" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="6863" class="Symbol">)</a> <a id="6865" class="Symbol">(</a><a id="6866" href="Meta.Search.Base.html#6866" class="Bound">x</a> <a id="6868" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="6871" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6873" class="Symbol">))</a> <a id="6876" class="Symbol">=</a> <a id="6878" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6883" href="Meta.Search.Base.html#6866" class="Bound">x</a>
  <a id="6887" href="Meta.Search.Base.html#6806" class="Function">pred-term</a> <a id="6897" class="Symbol">(</a><a id="6898" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6902" class="Symbol">(</a><a id="6903" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6907" href="Meta.Search.Base.html#6907" class="Bound">n</a><a id="6908" class="Symbol">))</a> <a id="6911" class="Keyword">with</a> <a id="6916" href="Meta.Search.Base.html#6907" class="Bound">n</a>
  <a id="6920" class="Symbol">...</a> <a id="6924" class="Symbol">|</a> <a id="6926" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6930" href="Meta.Search.Base.html#6930" class="Bound">k</a> <a id="6932" class="Symbol">=</a> <a id="6934" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6939" class="Symbol">(</a><a id="6940" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6944" class="Symbol">(</a><a id="6945" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="6949" href="Meta.Search.Base.html#6930" class="Bound">k</a><a id="6950" class="Symbol">))</a>
  <a id="6955" class="CatchallClause Symbol">...</a><a id="6958" class="CatchallClause"> </a><a id="6959" class="CatchallClause Symbol">|</a><a id="6960" class="CatchallClause"> </a><a id="6961" class="CatchallClause Symbol">_</a> <a id="6963" class="Symbol">=</a> <a id="6965" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="6975" href="Meta.Search.Base.html#6806" class="CatchallClause Function">pred-term</a><a id="6984" class="CatchallClause"> </a><a id="6985" class="CatchallClause Symbol">_</a> <a id="6987" class="Symbol">=</a> <a id="6989" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="lifting-loop"></a><a id="7000" href="Meta.Search.Base.html#7000" class="Function">lifting-loop</a> <a id="7013" class="Symbol">:</a> <a id="7015" class="Symbol">(</a><a id="7016" href="Meta.Search.Base.html#7016" class="Bound">fuel</a> <a id="7021" class="Symbol">:</a> <a id="7023" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="7024" class="Symbol">)</a> <a id="7026" class="Symbol">→</a> <a id="7028" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="7040" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="7050" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="7060" class="Symbol">→</a> <a id="7062" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7064" class="Symbol">→</a> <a id="7066" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7071" class="Symbol">→</a> <a id="7073" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7078" class="Symbol">→</a> <a id="7080" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7085" class="Symbol">→</a> <a id="7087" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7092" class="Symbol">→</a> <a id="7094" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="7097" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="7101" href="Meta.Search.Base.html#7000" class="Function">lifting-loop</a> <a id="7114" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>       <a id="7125" href="Meta.Search.Base.html#7125" class="Bound">td</a> <a id="7128" class="Symbol">_</a> <a id="7130" class="Symbol">_</a> <a id="7132" class="Symbol">_</a> <a id="7134" class="Symbol">_</a> <a id="7136" class="Symbol">_</a> <a id="7138" class="Symbol">=</a> <a id="7140" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="7150" class="String">&quot;Lifting loop ran out of fuel&quot;</a>
  <a id="7183" href="Meta.Search.Base.html#7000" class="Function">lifting-loop</a> <a id="7196" class="Symbol">(</a><a id="7197" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7201" href="Meta.Search.Base.html#7201" class="Bound">fuel</a><a id="7205" class="Symbol">)</a> <a id="7207" href="Meta.Search.Base.html#7207" class="Bound">td</a> <a id="7210" href="Meta.Search.Base.html#7210" class="Bound">it</a> <a id="7213" href="Meta.Search.Base.html#7213" class="Bound">solution</a> <a id="7222" href="Meta.Search.Base.html#7222" class="Bound">goal</a> <a id="7227" href="Meta.Search.Base.html#7227" class="Bound">l₁</a> <a id="7230" href="Meta.Search.Base.html#7230" class="Bound">l₂</a> <a id="7233" class="Symbol">=</a>
    <a id="7239" href="Meta.Search.Base.html#7455" class="Function">let&#39;s-hope</a> <a id="7250" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="7254" class="Keyword">do</a>
      <a id="7263" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7268" href="Meta.Search.Base.html#7268" class="Bound">l₂′</a> <a id="7272" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="7274" href="Meta.Search.Base.html#6806" class="Function">pred-term</a> <a id="7284" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="7288" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="7298" href="Meta.Search.Base.html#7230" class="Bound">l₂</a> <a id="7301" class="Keyword">where</a>
        <a id="7315" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="7323" class="Symbol">→</a> <a id="7325" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="7335" class="String">&quot;Lifting loop reached its end with no success&quot;</a>
      <a id="7388" href="Meta.Search.Base.html#7000" class="Function">lifting-loop</a> <a id="7401" href="Meta.Search.Base.html#7201" class="Bound">fuel</a> <a id="7406" href="Meta.Search.Base.html#7207" class="Bound">td</a> <a id="7409" class="Symbol">(</a><a id="7410" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="7414" href="Meta.Search.Base.html#7210" class="Bound">it</a><a id="7416" class="Symbol">)</a> <a id="7418" href="Meta.Search.Base.html#7213" class="Bound">solution</a> <a id="7427" href="Meta.Search.Base.html#7222" class="Bound">goal</a> <a id="7432" href="Meta.Search.Base.html#7227" class="Bound">l₁</a> <a id="7435" href="Meta.Search.Base.html#7268" class="Bound">l₂′</a>
    <a id="7443" class="Keyword">where</a>
      <a id="7455" href="Meta.Search.Base.html#7455" class="Function">let&#39;s-hope</a> <a id="7466" class="Symbol">:</a> <a id="7468" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="7471" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="7479" href="Meta.Search.Base.html#7455" class="Function">let&#39;s-hope</a> <a id="7490" class="Symbol">=</a> <a id="7492" class="Keyword">do</a>
        <a id="7503" href="Meta.Search.Base.html#7503" class="Bound">final-solution</a> <a id="7518" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="7520" href="Meta.Search.Base.html#6421" class="Function">lift-sol</a> <a id="7529" href="Meta.Search.Base.html#7207" class="Bound">td</a> <a id="7532" href="Meta.Search.Base.html#7213" class="Bound">solution</a> <a id="7541" href="Meta.Search.Base.html#7227" class="Bound">l₁</a> <a id="7544" href="Meta.Search.Base.html#7210" class="Bound">it</a>
        <a id="7555" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="7566" class="String">&quot;tactic.search&quot;</a> <a id="7582" class="Number">30</a>
          <a id="7595" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="7597" class="String">&quot;Lifting loop: Trying &quot;</a> <a id="7621" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7623" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="7631" href="Meta.Search.Base.html#7503" class="Bound">final-solution</a> <a id="7646" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7648" class="String">&quot; for level &quot;</a> <a id="7662" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7664" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="7672" href="Meta.Search.Base.html#7230" class="Bound">l₂</a> <a id="7675" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
        <a id="7685" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="7691" href="Meta.Search.Base.html#7222" class="Bound">goal</a> <a id="7696" href="Meta.Search.Base.html#7503" class="Bound">final-solution</a>

  <a id="get-level-from-struct"></a><a id="7714" href="Meta.Search.Base.html#7714" class="Function">get-level-from-struct</a> <a id="7736" class="Symbol">:</a> <a id="7738" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="7750" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="7760" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="7771" class="Symbol">→</a> <a id="7773" href="Meta.Search.Base.html#3124" class="Record">Struct-proj-desc</a> <a id="7790" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="7800" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="7811" href="Meta.Search.Base.html#3637" class="Generalizable">carrier-name</a> <a id="7824" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="7829" class="Symbol">→</a> <a id="7831" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7836" class="Symbol">→</a> <a id="7838" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="7841" class="Symbol">(</a><a id="7842" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="7853" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a><a id="7863" class="Symbol">)</a>
  <a id="7867" href="Meta.Search.Base.html#7714" class="Function">get-level-from-struct</a> <a id="7889" class="Symbol">{</a><a id="7890" class="Argument">goal-strat</a> <a id="7901" class="Symbol">=</a> <a id="7903" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a><a id="7907" class="Symbol">}</a> <a id="7909" class="Symbol">_</a> <a id="7911" class="Symbol">_</a> <a id="7913" class="Symbol">_</a> <a id="7915" class="Symbol">=</a> <a id="7917" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="7922" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
  <a id="7927" href="Meta.Search.Base.html#7714" class="Function">get-level-from-struct</a> <a id="7949" class="Symbol">{</a><a id="7950" href="Meta.Search.Base.html#7950" class="Bound">goal-name</a><a id="7959" class="Symbol">}</a> <a id="7961" class="Symbol">{</a><a id="7962" class="Argument">goal-strat</a> <a id="7973" class="Symbol">=</a> <a id="7975" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a><a id="7984" class="Symbol">}</a> <a id="7986" href="Meta.Search.Base.html#7986" class="Bound">td</a> <a id="7989" href="Meta.Search.Base.html#7989" class="Bound">spd</a> <a id="7993" href="Meta.Search.Base.html#7993" class="Bound">ty</a> <a id="7996" class="Symbol">=</a> <a id="7998" class="Keyword">do</a>
    <a id="8005" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="8009" href="Meta.Search.Base.html#8009" class="Bound">actual-goal-name</a> <a id="8026" href="Meta.Search.Base.html#8026" class="Bound">args</a> <a id="8031" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8033" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="8040" href="Meta.Search.Base.html#7993" class="Bound">ty</a> <a id="8043" class="Keyword">where</a>
      <a id="8055" class="CatchallClause Symbol">_</a> <a id="8057" class="Symbol">→</a> <a id="8059" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="8069" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="8071" class="String">&quot;Structure type isn&#39;t an application of &quot;</a> <a id="8113" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8115" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="8123" href="Meta.Search.Base.html#7950" class="Bound">goal-name</a> <a id="8133" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
    <a id="8139" href="Meta.Alt.html#580" class="Function">guard</a> <a id="8145" class="Symbol">(</a><a id="8146" href="Meta.Search.Base.html#8009" class="Bound">actual-goal-name</a> <a id="8163" href="Meta.Reflection.html#3460" class="Function Operator">name=?</a> <a id="8170" class="Symbol">(</a><a id="8171" href="Meta.Search.Base.html#7989" class="Bound">spd</a> <a id="8175" class="Symbol">.</a><a id="8176" href="Meta.Search.Base.html#3255" class="Field">struct-name</a><a id="8187" class="Symbol">))</a>
    <a id="8194" href="Meta.Search.Base.html#8194" class="Bound">argsᵥ</a> <a id="8200" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8202" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="8221" class="Symbol">(</a><a id="8222" href="Meta.Search.Base.html#7989" class="Bound">spd</a> <a id="8226" class="Symbol">.</a><a id="8227" href="Meta.Search.Base.html#3289" class="Field">struct-args-length</a><a id="8245" class="Symbol">)</a> <a id="8247" href="Meta.Search.Base.html#8026" class="Bound">args</a>
    <a id="8256" href="Meta.Search.Base.html#8256" class="Bound">lv</a> <a id="8259" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8261" href="Meta.Search.Base.html#1086" class="Function">select-arg</a> <a id="8272" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="8280" class="Symbol">(</a><a id="8281" href="Meta.Search.Base.html#7989" class="Bound">spd</a> <a id="8285" class="Symbol">.</a><a id="8286" href="Meta.Search.Base.html#3385" class="Field">level-selector</a><a id="8300" class="Symbol">)</a> <a id="8302" href="Meta.Search.Base.html#8194" class="Bound">argsᵥ</a>
    <a id="8312" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="8322" href="Meta.Search.Base.html#8256" class="Bound">lv</a>

  <a id="treat-as-structured-type"></a><a id="8328" href="Meta.Search.Base.html#8328" class="Function">treat-as-structured-type</a> <a id="8353" class="Symbol">:</a> <a id="8355" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="8367" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="8377" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="8388" class="Symbol">→</a> <a id="8390" href="Meta.Search.Base.html#3124" class="Record">Struct-proj-desc</a> <a id="8407" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="8417" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="8428" href="Meta.Search.Base.html#3637" class="Generalizable">carrier-name</a> <a id="8441" href="Meta.Search.Base.html#3659" class="Generalizable">goal-nat</a> <a id="8450" class="Symbol">→</a> <a id="8452" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8457" class="Symbol">→</a> <a id="8459" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="8462" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="8466" href="Meta.Search.Base.html#8328" class="Function">treat-as-structured-type</a> <a id="8491" href="Meta.Search.Base.html#8491" class="Bound">td</a> <a id="8494" href="Meta.Search.Base.html#8494" class="Bound">spd</a> <a id="8498" href="Meta.Search.Base.html#8498" class="Bound">goal</a> <a id="8503" class="Symbol">=</a> <a id="8505" class="Keyword">do</a>
    <a id="8512" class="Symbol">(</a><a id="8513" href="Meta.Search.Base.html#8513" class="Bound">wanted-xlevel</a> <a id="8527" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8529" href="Meta.Search.Base.html#8529" class="Bound">ty</a><a id="8531" class="Symbol">)</a> <a id="8533" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8535" href="Meta.Search.Base.html#6198" class="Function">decompose-goal</a> <a id="8550" href="Meta.Search.Base.html#8491" class="Bound">td</a> <a id="8553" href="Meta.Search.Base.html#8498" class="Bound">goal</a>

    <a id="8563" href="Meta.Search.Base.html#8563" class="Bound">ty</a> <a id="8566" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8568" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="8575" href="Meta.Search.Base.html#8529" class="Bound">ty</a>

    <a id="8583" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="8587" href="Meta.Search.Base.html#8587" class="Bound">namen</a> <a id="8593" href="Meta.Search.Base.html#8593" class="Bound">args</a> <a id="8598" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8600" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="8605" href="Meta.Search.Base.html#8563" class="Bound">ty</a>
      <a id="8614" class="Keyword">where</a> <a id="8620" href="Meta.Search.Base.html#8620" class="CatchallClause Bound">what</a> <a id="8625" class="Symbol">→</a> <a id="8627" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="8637" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="8639" class="String">&quot;Thing isn&#39;t an application, it is &quot;</a> <a id="8676" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8678" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="8686" href="Meta.Search.Base.html#8620" class="Bound">what</a> <a id="8691" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

    <a id="8698" href="Meta.Search.Base.html#8698" class="Bound">argsᵥ</a> <a id="8704" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8706" href="Meta.Search.Base.html#3868" class="Function">args-list→args-vec</a> <a id="8725" class="Symbol">(</a><a id="8726" href="Meta.Search.Base.html#8494" class="Bound">spd</a> <a id="8730" class="Symbol">.</a><a id="8731" href="Meta.Search.Base.html#3354" class="Field">projection-args-length</a><a id="8753" class="Symbol">)</a> <a id="8755" href="Meta.Search.Base.html#8593" class="Bound">args</a>
    <a id="8764" href="Meta.Search.Base.html#8764" class="Bound">carrier-term</a> <a id="8777" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="8779" href="Meta.Search.Base.html#1086" class="Function">select-arg</a> <a id="8790" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="8798" class="Symbol">(</a><a id="8799" href="Meta.Search.Base.html#8494" class="Bound">spd</a> <a id="8803" class="Symbol">.</a><a id="8804" href="Meta.Search.Base.html#3514" class="Field">carrier-selector</a><a id="8820" class="Symbol">)</a> <a id="8822" href="Meta.Search.Base.html#8698" class="Bound">argsᵥ</a>
    <a id="8832" href="Meta.Search.Base.html#8885" class="Function">go</a> <a id="8835" href="Meta.Search.Base.html#8491" class="Bound">td</a> <a id="8838" href="Meta.Search.Base.html#8494" class="Bound">spd</a> <a id="8842" href="Meta.Search.Base.html#8513" class="Bound">wanted-xlevel</a> <a id="8856" href="Meta.Search.Base.html#8764" class="Bound">carrier-term</a>
    <a id="8873" class="Keyword">where</a>
      <a id="8885" href="Meta.Search.Base.html#8885" class="Function">go</a> <a id="8888" class="Symbol">:</a> <a id="8890" class="Symbol">∀{</a><a id="8892" href="Meta.Search.Base.html#8892" class="Bound">gn</a> <a id="8895" href="Meta.Search.Base.html#8895" class="Bound">gs</a> <a id="8898" href="Meta.Search.Base.html#8898" class="Bound">gin</a><a id="8901" class="Symbol">}</a> <a id="8903" class="Symbol">(</a><a id="8904" href="Meta.Search.Base.html#8904" class="Bound">td</a> <a id="8907" class="Symbol">:</a> <a id="8909" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="8921" href="Meta.Search.Base.html#8892" class="Bound">gn</a> <a id="8924" href="Meta.Search.Base.html#8895" class="Bound">gs</a><a id="8926" class="Symbol">)</a> <a id="8928" class="Symbol">(</a><a id="8929" href="Meta.Search.Base.html#8929" class="Bound">spd</a> <a id="8933" class="Symbol">:</a> <a id="8935" href="Meta.Search.Base.html#3124" class="Record">Struct-proj-desc</a> <a id="8952" href="Meta.Search.Base.html#8892" class="Bound">gn</a> <a id="8955" href="Meta.Search.Base.html#8895" class="Bound">gs</a> <a id="8958" href="Meta.Search.Base.html#3637" class="Generalizable">carrier-name</a> <a id="8971" href="Meta.Search.Base.html#8898" class="Bound">gin</a><a id="8974" class="Symbol">)</a> <a id="8976" class="Symbol">→</a> <a id="8978" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="8989" href="Meta.Search.Base.html#8895" class="Bound">gs</a> <a id="8992" class="Symbol">→</a> <a id="8994" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8999" class="Symbol">→</a> <a id="9001" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="9004" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="9012" href="Meta.Search.Base.html#8885" class="Function">go</a> <a id="9015" class="Symbol">{</a><a id="9016" class="Argument">gs</a> <a id="9019" class="Symbol">=</a> <a id="9021" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a><a id="9030" class="Symbol">}</a> <a id="9032" class="Symbol">{</a><a id="9033" class="Argument">gin</a> <a id="9037" class="Symbol">=</a> <a id="9039" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="9043" class="Symbol">}</a> <a id="9045" href="Meta.Search.Base.html#9045" class="Bound">td</a> <a id="9048" href="Meta.Search.Base.html#9048" class="Bound">spd</a> <a id="9052" href="Meta.Search.Base.html#9052" class="Bound">wanted-xlevel</a> <a id="9066" href="Meta.Search.Base.html#9066" class="Bound">carrier-term</a> <a id="9079" class="Symbol">=</a> <a id="9081" class="Keyword">do</a>
        <a id="9092" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="9103" class="String">&quot;tactic.search&quot;</a> <a id="9119" class="Number">10</a>
          <a id="9132" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="9134" class="String">&quot;Attempting to treat as &quot;</a> <a id="9160" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9162" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="9170" class="Symbol">(</a><a id="9171" href="Meta.Search.Base.html#9048" class="Bound">spd</a> <a id="9175" class="Symbol">.</a><a id="9176" href="Meta.Search.Base.html#3255" class="Field">struct-name</a><a id="9187" class="Symbol">)</a> <a id="9189" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9191" class="String">&quot; &quot;</a> <a id="9195" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9197" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="9205" href="Meta.Search.Base.html#9052" class="Bound">wanted-xlevel</a> <a id="9219" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
        <a id="9229" href="Meta.Search.Base.html#9229" class="Bound">actual-level</a> <a id="9242" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="9244" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="9254" href="Meta.Search.Base.html#9066" class="Bound">carrier-term</a> <a id="9267" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="9271" href="Meta.Search.Base.html#7714" class="Function">get-level-from-struct</a> <a id="9293" href="Meta.Search.Base.html#9045" class="Bound">td</a> <a id="9296" href="Meta.Search.Base.html#9048" class="Bound">spd</a>
        <a id="9308" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="9319" class="String">&quot;tactic.search&quot;</a> <a id="9335" class="Number">10</a>
          <a id="9348" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="9350" class="String">&quot;... but it&#39;s actually a(n) &quot;</a> <a id="9380" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9382" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="9390" class="Symbol">(</a><a id="9391" href="Meta.Search.Base.html#9048" class="Bound">spd</a> <a id="9395" class="Symbol">.</a><a id="9396" href="Meta.Search.Base.html#3255" class="Field">struct-name</a><a id="9407" class="Symbol">)</a> <a id="9409" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9411" class="String">&quot; &quot;</a> <a id="9415" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9417" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="9425" href="Meta.Search.Base.html#9229" class="Bound">actual-level</a> <a id="9438" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
        <a id="9448" href="Meta.Search.Base.html#9448" class="Bound">lv</a> <a id="9451" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="9453" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="9463" href="Meta.Search.Base.html#9052" class="Bound">wanted-xlevel</a>
        <a id="9485" href="Meta.Search.Base.html#9485" class="Bound">lv′</a> <a id="9489" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="9491" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="9501" href="Meta.Search.Base.html#9229" class="Bound">actual-level</a>
        <a id="9522" href="Meta.Search.Base.html#7000" class="Function">lifting-loop</a> <a id="9535" class="Number">10000</a> <a id="9541" href="Meta.Search.Base.html#9045" class="Bound">td</a> <a id="9544" class="Number">0</a> <a id="9546" class="Symbol">(</a><a id="9547" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="9551" class="Symbol">(</a><a id="9552" href="Meta.Search.Base.html#9048" class="Bound">spd</a> <a id="9556" class="Symbol">.</a><a id="9557" href="Meta.Search.Base.html#3320" class="Field">goal-projection</a><a id="9572" class="Symbol">)</a> <a id="9574" class="Symbol">(</a><a id="9575" href="Meta.Search.Base.html#9066" class="Bound">carrier-term</a> <a id="9588" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="9591" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="9593" class="Symbol">))</a> <a id="9596" href="Meta.Search.Base.html#8498" class="Bound">goal</a> <a id="9601" href="Meta.Search.Base.html#9485" class="Bound">lv′</a> <a id="9605" href="Meta.Search.Base.html#9448" class="Bound">lv</a>
        <a id="9616" href="Agda.Builtin.Reflection.html#9830" class="Postulate">commitTC</a>
      <a id="9631" href="Meta.Search.Base.html#8885" class="CatchallClause Function">go</a><a id="9633" class="CatchallClause"> </a><a id="9634" href="Meta.Search.Base.html#9634" class="CatchallClause Bound">td</a><a id="9636" class="CatchallClause"> </a><a id="9637" href="Meta.Search.Base.html#9637" class="CatchallClause Bound">spd</a><a id="9640" class="CatchallClause"> </a><a id="9641" class="CatchallClause Symbol">_</a><a id="9642" class="CatchallClause"> </a><a id="9643" href="Meta.Search.Base.html#9643" class="CatchallClause Bound">carrier-term</a> <a id="9656" class="Symbol">=</a> <a id="9658" class="Keyword">do</a> <a id="9661" class="Comment">-- seems like it is ok</a>
        <a id="9692" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="9698" href="Meta.Search.Base.html#8498" class="Bound">goal</a> <a id="9703" class="Symbol">(</a><a id="9704" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="9708" class="Symbol">(</a><a id="9709" href="Meta.Search.Base.html#9637" class="Bound">spd</a> <a id="9713" class="Symbol">.</a><a id="9714" href="Meta.Search.Base.html#3320" class="Field">goal-projection</a><a id="9729" class="Symbol">)</a> <a id="9731" class="Symbol">(</a><a id="9732" href="Meta.Search.Base.html#9643" class="Bound">carrier-term</a> <a id="9745" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="9748" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="9750" class="Symbol">))</a>
        <a id="9761" href="Agda.Builtin.Reflection.html#9830" class="Postulate">commitTC</a>


  <a id="compose-instance-helper"></a><a id="9774" href="Meta.Search.Base.html#9774" class="Function">compose-instance-helper</a> <a id="9798" class="Symbol">:</a> <a id="9800" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="9812" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="9822" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="9833" class="Symbol">→</a> <a id="9835" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="9846" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="9857" class="Symbol">→</a> <a id="9859" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="9866" href="Meta.Search.Base.html#9774" class="Function">compose-instance-helper</a> <a id="9890" class="Symbol">{</a><a id="9891" class="Argument">goal-strat</a> <a id="9902" class="Symbol">=</a> <a id="9904" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a><a id="9908" class="Symbol">}</a> <a id="9910" href="Meta.Search.Base.html#9910" class="Bound">td</a> <a id="9913" class="Symbol">_</a> <a id="9915" class="Symbol">=</a> <a id="9917" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="9921" class="Symbol">(</a><a id="9922" href="Meta.Search.Base.html#9910" class="Bound">td</a> <a id="9925" class="Symbol">.</a><a id="9926" href="Meta.Search.Base.html#2143" class="Field">instance-helper</a><a id="9941" class="Symbol">)</a> <a id="9943" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="9948" href="Meta.Search.Base.html#9774" class="Function">compose-instance-helper</a> <a id="9972" class="Symbol">{</a><a id="9973" class="Argument">goal-strat</a> <a id="9984" class="Symbol">=</a> <a id="9986" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a><a id="9995" class="Symbol">}</a> <a id="9997" href="Meta.Search.Base.html#9997" class="Bound">td</a> <a id="10000" href="Meta.Search.Base.html#10000" class="Bound">lv</a> <a id="10003" class="Symbol">=</a> <a id="10005" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="10009" class="Symbol">(</a><a id="10010" href="Meta.Search.Base.html#9997" class="Bound">td</a> <a id="10013" class="Symbol">.</a><a id="10014" href="Meta.Search.Base.html#2143" class="Field">instance-helper</a><a id="10029" class="Symbol">)</a> <a id="10031" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="10033" href="Meta.Search.Base.html#10000" class="Bound">lv</a> <a id="10036" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="10039" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

  <a id="use-instance-search"></a><a id="10045" href="Meta.Search.Base.html#10045" class="Function">use-instance-search</a> <a id="10065" class="Symbol">:</a> <a id="10067" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="10079" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="10089" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="10100" class="Symbol">→</a> <a id="10102" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="10107" class="Symbol">→</a> <a id="10109" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="10114" class="Symbol">→</a> <a id="10116" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="10119" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="10123" href="Meta.Search.Base.html#10045" class="Function">use-instance-search</a> <a id="10143" class="Symbol">{</a><a id="10144" href="Meta.Search.Base.html#10144" class="Bound">goal-name</a><a id="10153" class="Symbol">}</a> <a id="10155" href="Meta.Search.Base.html#10155" class="Bound">td</a> <a id="10158" href="Meta.Search.Base.html#10158" class="Bound">has-alts</a> <a id="10167" href="Meta.Search.Base.html#10167" class="Bound">goal</a> <a id="10172" class="Symbol">=</a> <a id="10174" href="Agda.Builtin.Reflection.html#11429" class="Postulate">runSpeculative</a> <a id="10189" class="Keyword">do</a>
    <a id="10196" class="Symbol">(</a><a id="10197" href="Meta.Search.Base.html#10197" class="Bound">lv</a> <a id="10200" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10202" href="Meta.Search.Base.html#10202" class="Bound">ty</a><a id="10204" class="Symbol">)</a> <a id="10206" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10208" href="Meta.Search.Base.html#6198" class="Function">decompose-goal</a> <a id="10223" href="Meta.Search.Base.html#10155" class="Bound">td</a> <a id="10226" href="Meta.Search.Base.html#10167" class="Bound">goal</a>
    <a id="10235" href="Meta.Search.Base.html#10235" class="Bound">solved</a><a id="10241" class="Symbol">@(</a><a id="10243" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="10248" href="Meta.Search.Base.html#10248" class="Bound">mv</a> <a id="10251" class="Symbol">_)</a> <a id="10254" href="Meta.Bind.html#190" class="Field Operator">←</a>
      <a id="10262" href="Meta.Reflection.html#1990" class="Function">new-meta</a> <a id="10271" class="Symbol">(</a><a id="10272" href="Meta.Search.Base.html#4228" class="Function">compose-goal</a> <a id="10285" href="Meta.Search.Base.html#10155" class="Bound">td</a> <a id="10288" href="Meta.Search.Base.html#10197" class="Bound">lv</a> <a id="10291" href="Meta.Search.Base.html#10202" class="Bound">ty</a><a id="10293" class="Symbol">)</a> <a id="10295" class="Keyword">where</a> <a id="10301" class="CatchallClause Symbol">_</a> <a id="10303" class="Symbol">→</a> <a id="10305" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="10315" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="10322" href="Meta.Search.Base.html#10322" class="Bound">instances</a> <a id="10332" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10334" href="Agda.Builtin.Reflection.html#11624" class="Postulate">getInstances</a> <a id="10347" href="Meta.Search.Base.html#10248" class="Bound">mv</a>

    <a id="10355" href="Meta.Search.Base.html#10355" class="Bound">t</a> <a id="10357" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="10359" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="10367" href="Meta.Search.Base.html#10322" class="Bound">instances</a>
    <a id="10381" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="10392" class="String">&quot;tactic.search&quot;</a> <a id="10408" class="Number">10</a>
      <a id="10417" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="10419" class="String">&quot;Using instance search for\n&quot;</a> <a id="10449" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10451" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="10459" href="Meta.Search.Base.html#10202" class="Bound">ty</a>
      <a id="10468" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10470" class="String">&quot;\nFound candidates\n &quot;</a>       <a id="10500" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10502" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="10510" href="Meta.Search.Base.html#10355" class="Bound">t</a> <a id="10512" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

    <a id="10519" class="Keyword">let</a>
      <a id="10529" href="Meta.Search.Base.html#10529" class="Bound">go</a> <a id="10532" class="Symbol">:</a> <a id="10534" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="10539" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="10544" class="Symbol">→</a> <a id="10546" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="10549" class="Symbol">(</a><a id="10550" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="10552" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="10554" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="10558" class="Symbol">)</a>
      <a id="10566" href="Meta.Search.Base.html#10529" class="Bound">go</a> <a id="10569" class="Symbol">=</a> <a id="10571" class="Symbol">λ</a> <a id="10573" class="Keyword">where</a>
        <a id="10587" class="Symbol">(</a><a id="10588" href="Meta.Search.Base.html#10588" class="Bound">x</a> <a id="10590" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10592" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="10594" class="Symbol">)</a> <a id="10596" class="Symbol">→</a> <a id="10598" class="Keyword">do</a>
          <a id="10611" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="10617" href="Meta.Search.Base.html#10235" class="Bound">solved</a> <a id="10624" href="Meta.Search.Base.html#10588" class="Bound">x</a>
          <a id="10636" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="10651" class="Symbol">(</a><a id="10652" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="10658" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10660" href="Meta.Search.Base.html#10155" class="Bound">td</a> <a id="10663" class="Symbol">.</a><a id="10664" href="Meta.Search.Base.html#2143" class="Field">instance-helper</a> <a id="10680" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10682" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="10684" class="Symbol">)</a> <a id="10686" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="10688" href="Agda.Builtin.Reflection.html#10372" class="Postulate">withReconstructed</a> <a id="10706" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="10711" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a>
            <a id="10725" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="10731" href="Meta.Search.Base.html#10167" class="Bound">goal</a> <a id="10736" class="Symbol">(</a><a id="10737" href="Meta.Search.Base.html#9774" class="Function">compose-instance-helper</a> <a id="10761" href="Meta.Search.Base.html#10155" class="Bound">td</a> <a id="10764" href="Meta.Search.Base.html#10197" class="Bound">lv</a><a id="10766" class="Symbol">)</a>
          <a id="10778" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="10783" class="Symbol">(</a><a id="10784" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="10787" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10789" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="10793" class="Symbol">)</a>

        <a id="10804" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10807" class="Symbol">→</a> <a id="10809" href="Data.Bool.Base.html#709" class="Function Operator">if</a> <a id="10812" href="Meta.Search.Base.html#10158" class="Bound">has-alts</a>
          <a id="10831" href="Data.Bool.Base.html#709" class="Function Operator">then</a> <a id="10836" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="10846" class="String">&quot;No possible instances, but have other decompositions to try&quot;</a>
          <a id="10918" href="Data.Bool.Base.html#709" class="Function Operator">else</a> <a id="10923" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="10928" class="Symbol">(</a><a id="10929" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="10932" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10934" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="10939" class="Symbol">)</a>

        <a id="10950" class="CatchallClause Symbol">_</a> <a id="10952" class="Symbol">→</a> <a id="10954" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="10964" class="String">&quot;Too many possible instances; will not use instance search for this goal&quot;</a>
    <a id="11042" href="Meta.Search.Base.html#10529" class="Bound">go</a> <a id="11045" href="Meta.Search.Base.html#10322" class="Bound">instances</a>


  <a id="use-projections"></a><a id="11059" href="Meta.Search.Base.html#11059" class="Function">use-projections</a> <a id="11075" class="Symbol">:</a> <a id="11077" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="11089" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="11099" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="11110" class="Symbol">→</a> <a id="11112" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="11117" class="Symbol">→</a> <a id="11119" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="11122" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="11126" href="Meta.Search.Base.html#11059" class="Function">use-projections</a> <a id="11142" class="Symbol">{</a><a id="11143" href="Meta.Search.Base.html#11143" class="Bound">goal-name</a><a id="11152" class="Symbol">}</a> <a id="11154" class="Symbol">{</a><a id="11155" href="Meta.Search.Base.html#11155" class="Bound">goal-strat</a><a id="11165" class="Symbol">}</a> <a id="11167" href="Meta.Search.Base.html#11167" class="Bound">td</a> <a id="11170" href="Meta.Search.Base.html#11170" class="Bound">goal</a> <a id="11175" class="Symbol">=</a> <a id="11177" class="Keyword">do</a>
    <a id="11184" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="11188" href="Meta.Search.Base.html#11188" class="Bound">qn</a> <a id="11191" class="Symbol">_</a> <a id="11193" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11195" class="Symbol">(</a><a id="11196" href="Agda.Builtin.Sigma.html#263" class="Field">snd</a> <a id="11200" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="11204" href="Meta.Search.Base.html#6198" class="Function">decompose-goal</a> <a id="11219" href="Meta.Search.Base.html#11167" class="Bound">td</a> <a id="11222" href="Meta.Search.Base.html#11170" class="Bound">goal</a><a id="11226" class="Symbol">)</a> <a id="11228" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="11232" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
      <a id="11245" class="Keyword">where</a> <a id="11251" class="CatchallClause Symbol">_</a> <a id="11253" class="Symbol">→</a> <a id="11255" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="11265" class="String">&quot;Term is not headed by a definition; ignoring projections.&quot;</a>

    <a id="11330" href="Meta.Search.Base.html#11330" class="Bound">go-alt</a> <a id="11337" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11339" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="11349" href="Meta.Search.Base.html#11170" class="Bound">goal</a>
    <a id="11358" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="11369" class="String">&quot;tactic.search&quot;</a> <a id="11385" class="Number">20</a>
      <a id="11394" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="11396" class="String">&quot;Will attempt to use projections for goal\n&quot;</a> <a id="11441" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11443" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="11451" href="Meta.Search.Base.html#11330" class="Bound">go-alt</a> <a id="11458" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

    <a id="11465" class="Symbol">(</a><a id="11466" href="Meta.Search.Base.html#11466" class="Bound">solved</a> <a id="11473" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11475" href="Meta.Search.Base.html#11475" class="Bound">instances</a><a id="11484" class="Symbol">)</a> <a id="11486" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11488" href="Agda.Builtin.Reflection.html#11429" class="Postulate">runSpeculative</a> <a id="11503" class="Keyword">do</a>
      <a id="11512" href="Meta.Search.Base.html#11512" class="Bound">goal-strat-term</a> <a id="11528" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11530" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="11538" href="Meta.Search.Base.html#11155" class="Bound">goal-strat</a> <a id="11549" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="11553" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a>
      <a id="11569" href="Meta.Search.Base.html#11569" class="Bound">solved</a><a id="11575" class="Symbol">@(</a><a id="11577" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="11582" href="Meta.Search.Base.html#11582" class="Bound">mv</a> <a id="11585" class="Symbol">_)</a> <a id="11588" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11590" href="Meta.Reflection.html#1990" class="Function">new-meta</a> <a id="11599" class="Symbol">(</a><a id="11600" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="11604" class="Symbol">(</a><a id="11605" class="Keyword">quote</a> <a id="11611" href="Meta.Search.Base.html#3124" class="Record">Struct-proj-desc</a><a id="11627" class="Symbol">)</a> <a id="11629" class="Symbol">(</a><a id="11630" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="11634" class="Symbol">(</a><a id="11635" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="11640" href="Meta.Search.Base.html#11143" class="Bound">goal-name</a><a id="11649" class="Symbol">)</a> <a id="11651" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="11654" href="Meta.Search.Base.html#11512" class="Bound">goal-strat-term</a> <a id="11670" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="11673" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="11677" class="Symbol">(</a><a id="11678" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="11683" href="Meta.Search.Base.html#11188" class="Bound">qn</a><a id="11685" class="Symbol">)</a> <a id="11687" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="11690" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="11698" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="11701" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="11703" class="Symbol">))</a>
        <a id="11714" class="Keyword">where</a> <a id="11720" class="CatchallClause Symbol">_</a> <a id="11722" class="Symbol">→</a> <a id="11724" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="11734" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="11736" class="String">&quot;No projections found for: &quot;</a> <a id="11765" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11767" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="11775" href="Meta.Search.Base.html#11170" class="Bound">goal</a> <a id="11780" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

      <a id="11789" class="Symbol">(</a><a id="11790" href="Meta.Search.Base.html#11790" class="Bound">x</a> <a id="11792" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11794" href="Meta.Search.Base.html#11794" class="Bound">xs</a><a id="11796" class="Symbol">)</a> <a id="11798" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11800" href="Agda.Builtin.Reflection.html#11624" class="Postulate">getInstances</a> <a id="11813" href="Meta.Search.Base.html#11582" class="Bound">mv</a>
        <a id="11824" class="Keyword">where</a> <a id="11830" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="11833" class="Symbol">→</a> <a id="11835" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="11840" class="Symbol">((</a><a id="11842" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="11850" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11852" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="11854" class="Symbol">)</a> <a id="11856" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11858" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a><a id="11863" class="Symbol">)</a>

      <a id="11872" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="11877" class="Symbol">((</a><a id="11879" href="Meta.Search.Base.html#11569" class="Bound">solved</a> <a id="11886" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11888" href="Meta.Search.Base.html#11790" class="Bound">x</a> <a id="11890" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="11892" href="Meta.Search.Base.html#11794" class="Bound">xs</a><a id="11894" class="Symbol">)</a> <a id="11896" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11898" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="11902" class="Symbol">)</a>

    <a id="11909" href="Meta.Foldable.html#489" class="Function">nondet</a> <a id="11916" class="Symbol">(</a><a id="11917" href="Meta.Idiom.html#181" class="InductiveConstructor">eff</a> <a id="11921" href="Agda.Builtin.List.html#147" class="Datatype">List</a><a id="11925" class="Symbol">)</a> <a id="11927" href="Meta.Search.Base.html#11475" class="Bound">instances</a> <a id="11937" class="Symbol">λ</a> <a id="11939" href="Meta.Search.Base.html#11939" class="Bound">a</a> <a id="11941" class="Symbol">→</a> <a id="11943" class="Keyword">do</a>
      <a id="11952" href="Meta.Search.Base.html#11952" class="Bound">ty</a> <a id="11955" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="11957" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="11972" class="Symbol">(</a><a id="11973" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="11979" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11981" href="Meta.Search.Base.html#2351" class="Function">atoms</a> <a id="11987" href="Meta.Search.Base.html#11167" class="Bound">td</a><a id="11989" class="Symbol">)</a> <a id="11991" class="Symbol">(</a><a id="11992" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="12002" href="Meta.Search.Base.html#11170" class="Bound">goal</a> <a id="12007" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="12011" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a><a id="12017" class="Symbol">)</a>
      <a id="12025" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="12036" class="String">&quot;tactic.search&quot;</a> <a id="12052" class="Number">20</a> <a id="12055" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a>
        <a id="12065" class="String">&quot;Outer type: &quot;</a> <a id="12080" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12082" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="12090" href="Meta.Search.Base.html#11952" class="Bound">ty</a> <a id="12093" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12095" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="12104" href="Meta.Search.Base.html#12104" class="Bound">projection-type</a> <a id="12120" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12122" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="12132" href="Meta.Search.Base.html#11939" class="Bound">a</a>
      <a id="12140" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="12144" class="Symbol">_</a> <a id="12146" class="Symbol">(_</a> <a id="12149" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12151" class="Symbol">_</a> <a id="12153" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12155" class="Symbol">_</a> <a id="12157" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="12159" href="Meta.Search.Base.html#12159" class="Bound">goal-nat-term</a> <a id="12173" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="12176" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="12178" class="Symbol">)</a> <a id="12180" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12182" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="12192" href="Meta.Search.Base.html#11939" class="Bound">a</a> <a id="12194" class="Keyword">where</a>
        <a id="12208" class="CatchallClause Symbol">_</a> <a id="12210" class="Symbol">→</a> <a id="12212" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="12222" class="String">&quot;Sorry, this shouldn&#39;t have happened&quot;</a>
      <a id="12266" href="Meta.Search.Base.html#12266" class="Bound">goal-nat</a> <a id="12275" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12277" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="12287" class="Symbol">{</a><a id="12288" class="Argument">A</a> <a id="12290" class="Symbol">=</a> <a id="12292" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="12296" class="Symbol">}</a> <a id="12298" href="Meta.Search.Base.html#12159" class="Bound">goal-nat-term</a>
      <a id="12318" href="Meta.Search.Base.html#12318" class="Bound">projection</a> <a id="12329" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12331" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="12341" class="Symbol">{</a><a id="12342" class="Argument">A</a> <a id="12344" class="Symbol">=</a> <a id="12346" href="Meta.Search.Base.html#3124" class="Record">Struct-proj-desc</a> <a id="12363" href="Meta.Search.Base.html#11143" class="Bound">goal-name</a> <a id="12373" href="Meta.Search.Base.html#11155" class="Bound">goal-strat</a> <a id="12384" href="Meta.Search.Base.html#11188" class="Bound">qn</a> <a id="12387" href="Meta.Search.Base.html#12266" class="Bound">goal-nat</a><a id="12395" class="Symbol">}</a> <a id="12397" href="Meta.Search.Base.html#11939" class="Bound">a</a>
      <a id="12405" href="Meta.Search.Base.html#8328" class="Function">treat-as-structured-type</a> <a id="12430" href="Meta.Search.Base.html#11167" class="Bound">td</a> <a id="12433" href="Meta.Search.Base.html#12318" class="Bound">projection</a> <a id="12444" href="Meta.Search.Base.html#11170" class="Bound">goal</a>
      <a id="12455" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="12461" href="Meta.Search.Base.html#11466" class="Bound">solved</a> <a id="12468" href="Meta.Search.Base.html#11939" class="Bound">a</a>

  <a id="remove-invisible"></a><a id="12473" href="Meta.Search.Base.html#12473" class="Function">remove-invisible</a> <a id="12490" class="Symbol">:</a> <a id="12492" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="12497" class="Symbol">→</a> <a id="12499" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="12504" class="Symbol">→</a> <a id="12506" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="12509" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="12516" href="Meta.Search.Base.html#12473" class="Function">remove-invisible</a>
    <a id="12537" class="Symbol">(</a><a id="12538" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="12542" class="Symbol">_</a> <a id="12544" class="Symbol">(</a><a id="12545" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="12549" class="Symbol">_</a> <a id="12551" href="Meta.Search.Base.html#12551" class="Bound">t</a><a id="12552" class="Symbol">))</a>
    <a id="12559" class="Symbol">(</a><a id="12560" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="12563" class="Symbol">(</a><a id="12564" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="12568" class="Symbol">(</a><a id="12569" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">arg-info</a> <a id="12578" href="Meta.Search.Base.html#12578" class="Bound">invisible</a> <a id="12588" class="Symbol">_)</a> <a id="12591" class="Symbol">_)</a> <a id="12594" class="Symbol">(</a><a id="12595" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="12599" class="Symbol">_</a> <a id="12601" href="Meta.Search.Base.html#12601" class="Bound">ret</a><a id="12604" class="Symbol">))</a>
    <a id="12611" class="Symbol">=</a> <a id="12613" href="Meta.Search.Base.html#12473" class="Function">remove-invisible</a> <a id="12630" href="Meta.Search.Base.html#12551" class="Bound">t</a> <a id="12632" href="Meta.Search.Base.html#12601" class="Bound">ret</a>
  <a id="12638" href="Meta.Search.Base.html#12473" class="CatchallClause Function">remove-invisible</a><a id="12654" class="CatchallClause"> </a><a id="12655" href="Meta.Search.Base.html#12655" class="CatchallClause Bound">inner</a><a id="12660" class="CatchallClause"> </a><a id="12661" class="CatchallClause Symbol">_</a> <a id="12663" class="Symbol">=</a> <a id="12665" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="12670" href="Meta.Search.Base.html#12655" class="Bound">inner</a>

  <a id="wrap-lams"></a><a id="12679" href="Meta.Search.Base.html#12679" class="Function">wrap-lams</a> <a id="12689" class="Symbol">:</a> <a id="12691" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="12693" class="Symbol">→</a> <a id="12695" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="12700" class="Symbol">→</a> <a id="12702" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="12709" href="Meta.Search.Base.html#12679" class="Function">wrap-lams</a> <a id="12719" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="12724" href="Meta.Search.Base.html#12724" class="Bound">r</a> <a id="12726" class="Symbol">=</a> <a id="12728" href="Meta.Search.Base.html#12724" class="Bound">r</a>
  <a id="12732" href="Meta.Search.Base.html#12679" class="Function">wrap-lams</a> <a id="12742" class="Symbol">(</a><a id="12743" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="12747" href="Meta.Search.Base.html#12747" class="Bound">x</a><a id="12748" class="Symbol">)</a> <a id="12750" href="Meta.Search.Base.html#12750" class="Bound">r</a> <a id="12752" class="Symbol">=</a> <a id="12754" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="12758" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="12766" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="12768" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="12772" class="String">&quot;a&quot;</a> <a id="12776" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="12778" href="Meta.Search.Base.html#12679" class="Function">wrap-lams</a> <a id="12788" href="Meta.Search.Base.html#12747" class="Bound">x</a> <a id="12790" href="Meta.Search.Base.html#12750" class="Bound">r</a>

  <a id="extend-n"></a><a id="12795" href="Meta.Search.Base.html#12795" class="Function">extend-n</a> <a id="12804" class="Symbol">:</a> <a id="12806" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="12808" class="Symbol">→</a> <a id="12810" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="12813" class="Symbol">((</a><a id="12815" href="Meta.Search.Base.html#12815" class="Bound">A</a> <a id="12817" class="Symbol">:</a> <a id="12819" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="12824" href="Meta.Search.Base.html#645" class="Generalizable">ℓ</a><a id="12825" class="Symbol">)</a> <a id="12827" class="Symbol">→</a> <a id="12829" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="12832" href="Meta.Search.Base.html#12815" class="Bound">A</a> <a id="12834" class="Symbol">→</a> <a id="12836" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="12839" href="Meta.Search.Base.html#12815" class="Bound">A</a><a id="12840" class="Symbol">)</a>
  <a id="12844" href="Meta.Search.Base.html#12795" class="Function">extend-n</a> <a id="12853" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="12858" class="Symbol">=</a> <a id="12860" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="12865" class="Symbol">λ</a> <a id="12867" href="Meta.Search.Base.html#12867" class="Bound">_</a> <a id="12869" href="Meta.Search.Base.html#12869" class="Bound">x</a> <a id="12871" class="Symbol">→</a> <a id="12873" href="Meta.Search.Base.html#12869" class="Bound">x</a>
  <a id="12877" href="Meta.Search.Base.html#12795" class="Function">extend-n</a> <a id="12886" class="Symbol">(</a><a id="12887" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="12891" href="Meta.Search.Base.html#12891" class="Bound">n</a><a id="12892" class="Symbol">)</a> <a id="12894" class="Symbol">=</a> <a id="12896" class="Keyword">do</a>
    <a id="12903" href="Meta.Search.Base.html#12903" class="Bound">rest</a> <a id="12908" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12910" href="Meta.Search.Base.html#12795" class="Function">extend-n</a> <a id="12919" href="Meta.Search.Base.html#12891" class="Bound">n</a>
    <a id="12925" href="Foundations.Prim.Type.html#599" class="InductiveConstructor">lift</a> <a id="12930" href="Meta.Search.Base.html#12930" class="Bound">mv</a> <a id="12933" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="12935" href="Meta.Search.Base.html#12903" class="Bound">rest</a> <a id="12940" class="Symbol">(</a><a id="12941" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="12946" class="Symbol">_</a> <a id="12948" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="12952" class="Symbol">)</a> <a id="12954" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="12956" href="Foundations.Prim.Type.html#599" class="InductiveConstructor">lift</a> <a id="12961" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="12965" href="Meta.Reflection.html#1990" class="Function">new-meta</a> <a id="12974" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>
    <a id="12986" class="Keyword">let</a> <a id="12990" href="Meta.Search.Base.html#12990" class="Bound">domain</a> <a id="12997" class="Symbol">=</a> <a id="12999" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="13003" class="Symbol">(</a><a id="13004" href="Agda.Builtin.Reflection.html#3637" class="InductiveConstructor">arg-info</a> <a id="13013" href="Agda.Builtin.Reflection.html#2762" class="InductiveConstructor">visible</a> <a id="13021" class="Symbol">(</a><a id="13022" href="Agda.Builtin.Reflection.html#3463" class="InductiveConstructor">modality</a> <a id="13031" href="Agda.Builtin.Reflection.html#3019" class="InductiveConstructor">relevant</a> <a id="13040" href="Agda.Builtin.Reflection.html#3241" class="InductiveConstructor">quantity-ω</a><a id="13050" class="Symbol">))</a> <a id="13053" href="Meta.Search.Base.html#12930" class="Bound">mv</a>
    <a id="13060" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="13065" class="Symbol">λ</a> <a id="13067" href="Meta.Search.Base.html#13067" class="Bound">a</a> <a id="13069" href="Meta.Search.Base.html#13069" class="Bound">k</a> <a id="13071" class="Symbol">→</a> <a id="13073" href="Meta.Search.Base.html#12903" class="Bound">rest</a> <a id="13078" href="Meta.Search.Base.html#13067" class="Bound">a</a> <a id="13080" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="13082" href="Agda.Builtin.Reflection.html#9277" class="Postulate">extendContext</a> <a id="13096" class="String">&quot;a&quot;</a> <a id="13100" href="Meta.Search.Base.html#12990" class="Bound">domain</a> <a id="13107" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="13109" href="Meta.Search.Base.html#13069" class="Bound">k</a>

  <a id="search"></a><a id="13114" href="Meta.Search.Base.html#13114" class="Function">search</a> <a id="13121" class="Symbol">:</a> <a id="13123" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="13135" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="13145" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="13156" class="Symbol">→</a> <a id="13158" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="13163" class="Symbol">→</a> <a id="13165" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="13176" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="13187" class="Symbol">→</a> <a id="13189" class="Symbol">(</a><a id="13190" href="Meta.Search.Base.html#13190" class="Bound">fuel</a> <a id="13195" class="Symbol">:</a> <a id="13197" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="13198" class="Symbol">)</a> <a id="13200" class="Symbol">→</a> <a id="13202" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="13207" class="Symbol">→</a> <a id="13209" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="13212" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

  <a id="gen-args"></a><a id="13217" href="Meta.Search.Base.html#13217" class="Function">gen-args</a>
    <a id="13230" class="Symbol">:</a> <a id="13232" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>                  <a id="13251" class="Comment">-- ^ fuel</a>
    <a id="13265" class="Symbol">→</a> <a id="13267" class="Symbol">(</a><a id="13268" href="Meta.Search.Base.html#13268" class="Bound">gs</a> <a id="13271" class="Symbol">:</a> <a id="13273" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a><a id="13283" class="Symbol">)</a>  <a id="13286" class="Comment">-- ^ simple or indexed</a>
    <a id="13313" class="Symbol">→</a> <a id="13315" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>               <a id="13334" class="Comment">-- ^ Are there any alternatives after this one?</a>
    <a id="13386" class="Symbol">→</a> <a id="13388" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="13399" href="Meta.Search.Base.html#13268" class="Bound">gs</a>      <a id="13407" class="Comment">-- ^ What level are we searching for?</a>
    <a id="13449" class="Symbol">→</a> <a id="13451" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>               <a id="13470" class="Comment">-- ^ Goal</a>
    <a id="13484" class="Symbol">→</a> <a id="13486" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>               <a id="13505" class="Comment">-- ^ Name of the lemma,</a>
    <a id="13533" class="Symbol">→</a> <a id="13535" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="13540" class="Symbol">(</a><a id="13541" href="Meta.Search.Base.html#2427" class="Datatype">Arg-spec</a> <a id="13550" href="Meta.Search.Base.html#13268" class="Bound">gs</a><a id="13552" class="Symbol">)</a> <a id="13554" class="Comment">-- ^ and the arguments we should invent.</a>

    <a id="13600" class="Symbol">→</a> <a id="13602" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="13607" class="Symbol">(</a><a id="13608" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="13612" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="13616" class="Symbol">)</a>
    <a id="13622" class="Comment">-- ^ Accumulator: computed arguments (criminally, in reverse</a>
    <a id="13687" class="Comment">-- order)</a>
    <a id="13701" class="Symbol">→</a> <a id="13703" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="13706" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
      <a id="13714" class="Comment">-- ^ Accumulator/continuation: what do we need to do after</a>
      <a id="13779" class="Comment">-- unifying the goal with the lemma?. This is both</a>
      <a id="13836" class="Comment">-- continuation (it can be used to run something after the</a>
      <a id="13901" class="Comment">-- arguments are built) and accumulator (searching recursively</a>
      <a id="13970" class="Comment">-- is done last).</a>
    <a id="13992" class="Symbol">→</a> <a id="13994" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="13997" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>              <a id="14012" class="Comment">-- ^ Returns nada</a>
  <a id="14032" href="Meta.Search.Base.html#13217" class="Function">gen-args</a> <a id="14041" class="Number">0</a> <a id="14043" class="Symbol">_</a> <a id="14045" class="Symbol">_</a> <a id="14047" class="Symbol">_</a> <a id="14049" class="Symbol">_</a> <a id="14051" class="Symbol">_</a> <a id="14053" class="Symbol">_</a> <a id="14055" class="Symbol">_</a> <a id="14057" class="Symbol">_</a> <a id="14059" class="Symbol">=</a> <a id="14061" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="14071" class="String">&quot;gen-args: no fuel&quot;</a>
  <a id="14093" href="Meta.Search.Base.html#13217" class="Function">gen-args</a> <a id="14102" class="Symbol">(</a><a id="14103" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="14107" href="Meta.Search.Base.html#14107" class="Bound">fuel</a><a id="14111" class="Symbol">)</a> <a id="14113" href="Meta.Search.Base.html#14113" class="Bound">gs</a> <a id="14116" href="Meta.Search.Base.html#14116" class="Bound">has-alts</a> <a id="14125" href="Meta.Search.Base.html#14125" class="Bound">level</a> <a id="14131" href="Meta.Search.Base.html#14131" class="Bound">goal</a> <a id="14136" href="Meta.Search.Base.html#14136" class="Bound">defn</a> <a id="14141" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="14144" href="Meta.Search.Base.html#14144" class="Bound">accum</a> <a id="14150" href="Meta.Search.Base.html#14150" class="Bound">cont</a> <a id="14155" class="Symbol">=</a> <a id="14157" class="Keyword">do</a>
    <a id="14164" class="Comment">-- If we have no arguments to generate, then we can go ahead and</a>
    <a id="14233" class="Comment">-- use the accumulator as-is.</a>
    <a id="14267" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="14273" href="Meta.Search.Base.html#14131" class="Bound">goal</a> <a id="14278" class="Symbol">(</a><a id="14279" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="14283" href="Meta.Search.Base.html#14136" class="Bound">defn</a> <a id="14288" class="Symbol">(</a><a id="14289" href="Data.List.Base.html#1031" class="Function">reverse-fast</a> <a id="14302" href="Meta.Search.Base.html#14144" class="Bound">accum</a><a id="14307" class="Symbol">))</a>
    <a id="14314" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="14325" class="String">&quot;tactic.search&quot;</a> <a id="14341" class="Number">10</a>
      <a id="14350" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="14352" class="String">&quot;Committed to solution: &quot;</a> <a id="14378" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14380" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="14388" class="Symbol">(</a><a id="14389" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="14393" href="Meta.Search.Base.html#14136" class="Bound">defn</a> <a id="14398" class="Symbol">(</a><a id="14399" href="Data.List.Base.html#942" class="Function">reverse</a> <a id="14407" href="Meta.Search.Base.html#14144" class="Bound">accum</a><a id="14412" class="Symbol">))</a> <a id="14415" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
    <a id="14421" href="Meta.Search.Base.html#14150" class="Bound">cont</a>

  <a id="14429" href="Meta.Search.Base.html#13217" class="Function">gen-args</a> <a id="14438" class="Symbol">(</a><a id="14439" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="14443" href="Meta.Search.Base.html#14443" class="Bound">fuel</a><a id="14447" class="Symbol">)</a> <a id="14449" href="Meta.Search.Base.html#14449" class="Bound">gs</a> <a id="14452" href="Meta.Search.Base.html#14452" class="Bound">has-alts</a> <a id="14461" href="Meta.Search.Base.html#14461" class="Bound">level</a> <a id="14467" href="Meta.Search.Base.html#14467" class="Bound">goal</a> <a id="14472" href="Meta.Search.Base.html#14472" class="Bound">defn</a> <a id="14477" class="Symbol">(</a><a id="14478" href="Meta.Search.Base.html#14478" class="Bound">x</a> <a id="14480" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="14482" href="Meta.Search.Base.html#14482" class="Bound">args</a><a id="14486" class="Symbol">)</a> <a id="14488" href="Meta.Search.Base.html#14488" class="Bound">accum</a> <a id="14494" href="Meta.Search.Base.html#14494" class="Bound">cont</a> <a id="14499" class="Keyword">with</a> <a id="14504" href="Meta.Search.Base.html#14449" class="Bound">gs</a> <a id="14507" class="Symbol">|</a> <a id="14509" href="Meta.Search.Base.html#14478" class="Bound">x</a>
  <a id="14513" class="Symbol">...</a> <a id="14517" class="Symbol">|</a> <a id="14519" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="14529" class="Symbol">|</a> <a id="14531" href="Meta.Search.Base.html#2464" class="InductiveConstructor">`level-suc</a> <a id="14542" class="Symbol">=</a> <a id="14544" href="Meta.Search.Base.html#13217" class="Function">gen-args</a> <a id="14553" class="Bound">fuel</a> <a id="14558" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="14568" class="Bound">has-alts</a> <a id="14577" class="Symbol">(</a><a id="14578" href="Meta.Search.Base.html#6694" class="Function">suc-term</a> <a id="14587" class="Bound">level</a><a id="14592" class="Symbol">)</a> <a id="14594" class="Bound">goal</a> <a id="14599" class="Bound">defn</a> <a id="14604" class="Bound">args</a> <a id="14609" class="Symbol">(</a><a id="14610" class="Bound">level</a> <a id="14616" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="14619" class="Bound">accum</a><a id="14624" class="Symbol">)</a> <a id="14626" class="Bound">cont</a>
  <a id="14633" class="Symbol">...</a> <a id="14637" class="Symbol">|</a> <a id="14639" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="14649" class="Symbol">|</a> <a id="14651" href="Meta.Search.Base.html#2501" class="InductiveConstructor">`level-minus</a> <a id="14664" class="Number">0</a> <a id="14666" class="Symbol">=</a> <a id="14668" href="Meta.Search.Base.html#13217" class="Function">gen-args</a> <a id="14677" class="Bound">fuel</a> <a id="14682" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="14692" class="Bound">has-alts</a> <a id="14701" class="Bound">level</a> <a id="14707" class="Bound">goal</a> <a id="14712" class="Bound">defn</a> <a id="14717" class="Bound">args</a> <a id="14722" class="Symbol">(</a><a id="14723" class="Bound">level</a> <a id="14729" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="14732" class="Bound">accum</a><a id="14737" class="Symbol">)</a> <a id="14739" class="Bound">cont</a>
  <a id="14746" class="Symbol">...</a> <a id="14750" class="Symbol">|</a> <a id="14752" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="14762" class="Symbol">|</a> <a id="14764" href="Meta.Search.Base.html#2501" class="InductiveConstructor">`level-minus</a> <a id="14777" href="Meta.Search.Base.html#14777" class="Bound">n</a><a id="14778" class="Symbol">@(</a><a id="14780" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="14784" class="Symbol">_)</a> <a id="14787" class="Symbol">=</a>
    <a id="14793" class="Keyword">do</a>
      <a id="14802" href="Meta.Search.Base.html#14802" class="Bound">level</a> <a id="14808" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="14810" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="14820" class="Bound">level</a>
      <a id="14832" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="14843" class="String">&quot;tactic.search&quot;</a> <a id="14859" class="Number">10</a>
        <a id="14870" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="14872" class="String">&quot;Hint demands offset, performing symbolic monus, subtracting from\n&quot;</a>
        <a id="14949" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="14951" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="14959" href="Meta.Search.Base.html#14802" class="Bound">level</a> <a id="14965" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
      <a id="14973" href="Meta.Search.Base.html#14973" class="Bound">level′</a> <a id="14980" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="14982" href="Meta.Search.Base.html#15095" class="Function">monus</a> <a id="14988" href="Meta.Search.Base.html#14802" class="Bound">level</a> <a id="14994" href="Meta.Search.Base.html#14777" class="Bound">n</a>
      <a id="15002" href="Meta.Search.Base.html#13217" class="Function">gen-args</a> <a id="15011" class="Bound">fuel</a> <a id="15016" href="Meta.Search.Base.html#602" class="InductiveConstructor">by-hlevel</a> <a id="15026" class="Bound">has-alts</a> <a id="15035" href="Meta.Search.Base.html#14802" class="Bound">level</a> <a id="15041" class="Bound">goal</a> <a id="15046" class="Bound">defn</a> <a id="15051" class="Bound">args</a> <a id="15056" class="Symbol">(</a><a id="15057" href="Meta.Search.Base.html#14973" class="Bound">level′</a> <a id="15064" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="15067" class="Bound">accum</a><a id="15072" class="Symbol">)</a> <a id="15074" class="Bound">cont</a>
    <a id="15083" class="Keyword">where</a>
      <a id="15095" href="Meta.Search.Base.html#15095" class="Function">monus</a> <a id="15101" class="Symbol">:</a> <a id="15103" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="15108" class="Symbol">→</a> <a id="15110" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="15112" class="Symbol">→</a> <a id="15114" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="15117" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
      <a id="15128" href="Meta.Search.Base.html#15095" class="Function">monus</a> <a id="15134" class="Symbol">(</a><a id="15135" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="15139" class="Symbol">(</a><a id="15140" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="15144" href="Meta.Search.Base.html#15144" class="Bound">n</a><a id="15145" class="Symbol">))</a> <a id="15148" href="Meta.Search.Base.html#15148" class="Bound">k</a> <a id="15150" class="Symbol">=</a> <a id="15152" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="15157" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="15159" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="15163" class="Symbol">(</a><a id="15164" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="15168" class="Symbol">(</a><a id="15169" href="Meta.Search.Base.html#15144" class="Bound">n</a> <a id="15171" href="Data.Nat.Base.html#320" class="Primitive Operator">∸</a> <a id="15173" href="Meta.Search.Base.html#15148" class="Bound">k</a><a id="15174" class="Symbol">))</a>
      <a id="15183" href="Meta.Search.Base.html#15095" class="CatchallClause Function">monus</a><a id="15188" class="CatchallClause"> </a><a id="15189" href="Meta.Search.Base.html#15189" class="CatchallClause Bound">tm</a><a id="15191" class="CatchallClause"> </a><a id="15192" href="Agda.Builtin.Nat.html#221" class="CatchallClause InductiveConstructor">zero</a> <a id="15197" class="Symbol">=</a> <a id="15199" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="15204" href="Meta.Search.Base.html#15189" class="Bound">tm</a>
      <a id="15213" href="Meta.Search.Base.html#15095" class="Function">monus</a> <a id="15219" href="Meta.Search.Base.html#15219" class="Bound">thezero</a><a id="15226" class="Symbol">@(</a><a id="15228" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="15232" class="Symbol">(</a><a id="15233" class="Keyword">quote</a> <a id="15239" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="15243" class="Symbol">)</a> <a id="15245" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="15247" class="Symbol">)</a> <a id="15249" class="Symbol">(</a><a id="15250" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="15254" href="Meta.Search.Base.html#15254" class="Bound">it</a><a id="15256" class="Symbol">)</a> <a id="15258" class="Symbol">=</a> <a id="15260" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="15265" href="Meta.Search.Base.html#15219" class="Bound">thezero</a>
      <a id="15279" href="Meta.Search.Base.html#15095" class="Function">monus</a> <a id="15285" class="Symbol">(</a><a id="15286" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="15290" class="Symbol">(</a><a id="15291" class="Keyword">quote</a> <a id="15297" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="15300" class="Symbol">)</a> <a id="15302" class="Symbol">(</a><a id="15303" href="Meta.Search.Base.html#15303" class="Bound">x</a> <a id="15305" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="15308" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="15310" class="Symbol">))</a> <a id="15313" class="Symbol">(</a><a id="15314" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="15318" href="Meta.Search.Base.html#15318" class="Bound">it</a><a id="15320" class="Symbol">)</a> <a id="15322" class="Symbol">=</a> <a id="15324" class="Keyword">do</a>
        <a id="15335" href="Meta.Search.Base.html#15335" class="Bound">x</a> <a id="15337" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="15339" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="15346" href="Meta.Search.Base.html#15303" class="Bound">x</a>
        <a id="15356" href="Meta.Search.Base.html#15095" class="Function">monus</a> <a id="15362" href="Meta.Search.Base.html#15335" class="Bound">x</a> <a id="15364" href="Meta.Search.Base.html#15318" class="Bound">it</a>
      <a id="15373" href="Meta.Search.Base.html#15095" class="CatchallClause Function">monus</a><a id="15378" class="CatchallClause"> </a><a id="15379" href="Meta.Search.Base.html#15379" class="CatchallClause Bound">tm</a><a id="15381" class="CatchallClause"> </a><a id="15382" class="CatchallClause Symbol">(</a><a id="15383" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="15386" class="CatchallClause"> </a><a id="15387" href="Meta.Search.Base.html#15387" class="CatchallClause Bound">it</a><a id="15389" class="CatchallClause Symbol">)</a> <a id="15391" class="Symbol">=</a> <a id="15393" class="Keyword">do</a>
        <a id="15404" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="15415" class="String">&quot;tactic.search&quot;</a> <a id="15431" class="Number">10</a> <a id="15434" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="15436" class="String">&quot;Dunno how to take 1 from &quot;</a> <a id="15464" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15466" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="15474" href="Meta.Search.Base.html#15379" class="Bound">tm</a> <a id="15477" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
        <a id="15487" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="15497" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

  <a id="15503" class="CatchallClause Symbol">...</a><a id="15506" class="CatchallClause"> </a><a id="15507" class="CatchallClause Symbol">|</a><a id="15508" class="CatchallClause"> </a><a id="15509" href="Meta.Search.Base.html#15509" class="CatchallClause Bound">gs</a><a id="15511" class="CatchallClause"> </a><a id="15512" class="CatchallClause Symbol">|</a><a id="15513" class="CatchallClause"> </a><a id="15514" href="Meta.Search.Base.html#2613" class="CatchallClause InductiveConstructor">`term</a><a id="15519" class="CatchallClause"> </a><a id="15520" href="Meta.Search.Base.html#15520" class="CatchallClause Bound">t</a> <a id="15522" class="Symbol">=</a> <a id="15524" href="Meta.Search.Base.html#13217" class="Function">gen-args</a> <a id="15533" class="Bound">fuel</a> <a id="15538" href="Meta.Search.Base.html#15509" class="Bound">gs</a> <a id="15541" class="Bound">has-alts</a> <a id="15550" class="Bound">level</a> <a id="15556" class="Bound">goal</a> <a id="15561" class="Bound">defn</a> <a id="15566" class="Bound">args</a> <a id="15571" class="Symbol">(</a><a id="15572" href="Meta.Search.Base.html#15520" class="Bound">t</a> <a id="15574" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="15577" class="Bound">accum</a><a id="15582" class="Symbol">)</a> <a id="15584" class="Bound">cont</a>

  <a id="15592" class="CatchallClause Symbol">...</a><a id="15595" class="CatchallClause"> </a><a id="15596" class="CatchallClause Symbol">|</a><a id="15597" class="CatchallClause"> </a><a id="15598" href="Meta.Search.Base.html#15598" class="CatchallClause Bound">gs</a><a id="15600" class="CatchallClause"> </a><a id="15601" class="CatchallClause Symbol">|</a><a id="15602" class="CatchallClause"> </a><a id="15603" href="Meta.Search.Base.html#2548" class="CatchallClause InductiveConstructor">`search-under</a><a id="15616" class="CatchallClause"> </a><a id="15617" href="Meta.Search.Base.html#15617" class="CatchallClause Bound">under</a><a id="15622" class="CatchallClause"> </a><a id="15623" href="Meta.Search.Base.html#15623" class="CatchallClause Bound">subgoal-name</a> <a id="15636" class="Symbol">=</a> <a id="15638" class="Keyword">do</a>
    <a id="15645" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="15656" class="String">&quot;tactic.search&quot;</a> <a id="15672" class="Number">10</a> <a id="15675" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="15677" class="String">&quot;Going under &quot;</a> <a id="15692" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15694" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="15702" class="Symbol">(</a><a id="15703" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="15707" class="Symbol">(</a><a id="15708" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="15712" href="Meta.Search.Base.html#15617" class="Bound">under</a><a id="15717" class="Symbol">))</a> <a id="15720" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
    <a id="15726" href="Meta.Search.Base.html#15726" class="Bound">go-under</a> <a id="15735" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="15737" href="Meta.Search.Base.html#12795" class="Function">extend-n</a> <a id="15746" href="Meta.Search.Base.html#15617" class="Bound">under</a>
    <a id="15756" href="Meta.Search.Base.html#15756" class="Bound">mv</a> <a id="15759" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="15761" href="Meta.Search.Base.html#15726" class="Bound">go-under</a> <a id="15770" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="15775" class="Keyword">do</a>
      <a id="15784" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="15795" class="String">&quot;tactic.search&quot;</a> <a id="15811" class="Number">10</a> <a id="15814" class="String">&quot;In extended context&quot;</a>
      <a id="15842" href="Meta.Reflection.html#1990" class="Function">new-meta</a> <a id="15851" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>
    <a id="15863" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="15874" class="String">&quot;tactic.search&quot;</a> <a id="15890" class="Number">10</a> <a id="15893" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="15895" class="String">&quot;Metavariable: &quot;</a> <a id="15912" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="15914" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="15922" class="Symbol">(</a><a id="15923" href="Meta.Search.Base.html#12679" class="Function">wrap-lams</a> <a id="15933" href="Meta.Search.Base.html#15617" class="Bound">under</a> <a id="15939" href="Meta.Search.Base.html#15756" class="Bound">mv</a><a id="15941" class="Symbol">)</a> <a id="15943" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
    <a id="15949" href="Meta.Search.Base.html#13217" class="Function">gen-args</a> <a id="15958" class="Bound">fuel</a> <a id="15963" href="Meta.Search.Base.html#15598" class="Bound">gs</a> <a id="15966" class="Bound">has-alts</a> <a id="15975" class="Bound">level</a> <a id="15981" class="Bound">goal</a> <a id="15986" class="Bound">defn</a> <a id="15991" class="Bound">args</a> <a id="15996" class="Symbol">(</a><a id="15997" href="Meta.Search.Base.html#12679" class="Function">wrap-lams</a> <a id="16007" href="Meta.Search.Base.html#15617" class="Bound">under</a> <a id="16013" href="Meta.Search.Base.html#15756" class="Bound">mv</a> <a id="16016" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="16019" class="Bound">accum</a><a id="16024" class="Symbol">)</a> <a id="16026" class="Keyword">do</a>
      <a id="16035" class="Bound">cont</a>
      <a id="16046" href="Meta.Search.Base.html#16046" class="Bound">tactic-instance</a> <a id="16062" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16064" class="Keyword">do</a>
        <a id="16075" href="Meta.Search.Base.html#16075" class="Bound">solved</a><a id="16081" class="Symbol">@(</a><a id="16083" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="16088" href="Meta.Search.Base.html#16088" class="Bound">mv′</a> <a id="16092" class="Symbol">_)</a> <a id="16095" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16097" href="Meta.Reflection.html#1990" class="Function">new-meta</a> <a id="16106" class="Symbol">(</a><a id="16107" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="16111" class="Symbol">(</a><a id="16112" class="Keyword">quote</a> <a id="16118" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a><a id="16129" class="Symbol">)</a> <a id="16131" class="Symbol">(</a><a id="16132" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="16136" class="Symbol">(</a><a id="16137" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="16142" href="Meta.Search.Base.html#15623" class="Bound">subgoal-name</a><a id="16154" class="Symbol">)</a> <a id="16156" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="16159" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="16167" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="16170" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="16172" class="Symbol">))</a>
          <a id="16185" class="Keyword">where</a> <a id="16191" class="CatchallClause Symbol">_</a> <a id="16193" class="Symbol">→</a> <a id="16195" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="16205" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="16207" class="String">&quot;Could not get tactic instances:&quot;</a> <a id="16241" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16243" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="16251" class="Bound">goal</a> <a id="16256" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
        <a id="16266" class="Symbol">(</a><a id="16267" href="Meta.Search.Base.html#16267" class="Bound">ti</a> <a id="16270" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16272" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="16274" class="Symbol">)</a> <a id="16276" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16278" href="Agda.Builtin.Reflection.html#11624" class="Postulate">getInstances</a> <a id="16291" href="Meta.Search.Base.html#16088" class="Bound">mv′</a> <a id="16295" class="Keyword">where</a>
          <a id="16311" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="16314" class="Symbol">→</a> <a id="16316" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="16326" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="16328" class="String">&quot;No tactic found for the goal &quot;</a> <a id="16360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16362" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="16370" class="Bound">goal</a> <a id="16375" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
          <a id="16387" class="CatchallClause Symbol">_</a>  <a id="16390" class="Symbol">→</a> <a id="16392" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="16402" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="16404" class="String">&quot;Multiple tactics for the same goal &quot;</a> <a id="16442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="16444" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="16452" class="Bound">goal</a> <a id="16457" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
        <a id="16467" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="16473" href="Meta.Search.Base.html#16075" class="Bound">solved</a> <a id="16480" href="Meta.Search.Base.html#16267" class="Bound">ti</a>
        <a id="16491" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="16496" href="Meta.Search.Base.html#16267" class="Bound">ti</a>
      <a id="16505" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="16509" class="Symbol">_</a> <a id="16511" class="Symbol">(_</a> <a id="16514" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="16516" href="Meta.Search.Base.html#16516" class="Bound">subgoal-strat-term</a> <a id="16535" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="16538" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="16540" class="Symbol">)</a> <a id="16542" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16544" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="16554" href="Meta.Search.Base.html#16046" class="Bound">tactic-instance</a> <a id="16570" class="Keyword">where</a>
        <a id="16584" class="CatchallClause Symbol">_</a> <a id="16586" class="Symbol">→</a> <a id="16588" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="16598" class="String">&quot;Sorry, this shouldn&#39;t have happened&quot;</a>
      <a id="16642" href="Meta.Search.Base.html#16642" class="Bound">subgoal-strat</a> <a id="16656" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16658" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="16668" class="Symbol">{</a><a id="16669" class="Argument">A</a> <a id="16671" class="Symbol">=</a> <a id="16673" href="Meta.Search.Base.html#571" class="Datatype">Goal-strat</a><a id="16683" class="Symbol">}</a> <a id="16685" href="Meta.Search.Base.html#16516" class="Bound">subgoal-strat-term</a>
      <a id="16710" href="Meta.Search.Base.html#16710" class="Bound">next-td</a> <a id="16718" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="16720" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="16730" class="Symbol">{</a><a id="16731" class="Argument">A</a> <a id="16733" class="Symbol">=</a> <a id="16735" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="16747" href="Meta.Search.Base.html#15623" class="Bound">subgoal-name</a> <a id="16760" href="Meta.Search.Base.html#16642" class="Bound">subgoal-strat</a><a id="16773" class="Symbol">}</a> <a id="16775" href="Meta.Search.Base.html#16046" class="Bound">tactic-instance</a>
      <a id="16797" href="Meta.Search.Base.html#15726" class="Bound">go-under</a> <a id="16806" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="16808" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="16810" href="Meta.Search.Base.html#13114" class="Function">search</a> <a id="16817" href="Meta.Search.Base.html#16710" class="Bound">next-td</a> <a id="16825" class="Bound">has-alts</a> <a id="16834" href="Meta.Search.Base.html#1387" class="Function">dummy-level</a> <a id="16846" class="Bound">fuel</a> <a id="16851" href="Meta.Search.Base.html#15756" class="Bound">mv</a>


  <a id="use-decomp-hints"></a><a id="16858" href="Meta.Search.Base.html#16858" class="Function">use-decomp-hints</a>
    <a id="16879" class="Symbol">:</a> <a id="16881" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="16893" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="16903" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a>
    <a id="16918" class="Symbol">→</a> <a id="16920" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
    <a id="16926" class="Symbol">→</a> <a id="16928" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="16939" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="16950" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="16952" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="16961" class="Symbol">→</a> <a id="16963" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="16972" class="Symbol">→</a> <a id="16974" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="16983" class="Symbol">→</a> <a id="16985" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="16990" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="16999" class="Symbol">→</a> <a id="17001" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="17004" class="Symbol">(</a><a id="17005" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a> <a id="17007" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="17009" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="17013" class="Symbol">)</a>
  <a id="17017" href="Meta.Search.Base.html#16858" class="Function">use-decomp-hints</a> <a id="17034" class="Symbol">_</a> <a id="17036" class="Number">0</a> <a id="17038" class="Symbol">_</a> <a id="17040" class="Symbol">_</a> <a id="17042" class="Symbol">_</a> <a id="17044" class="Symbol">_</a> <a id="17046" class="Symbol">=</a> <a id="17048" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="17058" class="String">&quot;use-decomp-hints: no fuel&quot;</a>
  <a id="17088" href="Meta.Search.Base.html#16858" class="Function">use-decomp-hints</a> <a id="17105" class="Symbol">{</a><a id="17106" href="Meta.Search.Base.html#17106" class="Bound">goal-name</a><a id="17115" class="Symbol">}</a> <a id="17117" class="Symbol">{</a><a id="17118" href="Meta.Search.Base.html#17118" class="Bound">goal-strat</a><a id="17128" class="Symbol">}</a> <a id="17130" href="Meta.Search.Base.html#17130" class="Bound">td</a> <a id="17133" class="Symbol">(</a><a id="17134" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="17138" href="Meta.Search.Base.html#17138" class="Bound">fuel</a><a id="17142" class="Symbol">)</a> <a id="17144" class="Symbol">(</a><a id="17145" href="Meta.Search.Base.html#17145" class="Bound">lv</a> <a id="17148" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17150" href="Meta.Search.Base.html#17150" class="Bound">goal-ty</a><a id="17157" class="Symbol">)</a> <a id="17159" href="Meta.Search.Base.html#17159" class="Bound">goal</a> <a id="17164" href="Meta.Search.Base.html#17164" class="Bound">solved</a> <a id="17171" class="Symbol">(</a><a id="17172" href="Meta.Search.Base.html#17172" class="Bound">c₁</a> <a id="17175" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17177" href="Meta.Search.Base.html#17177" class="Bound">cs</a><a id="17179" class="Symbol">)</a> <a id="17181" class="Symbol">=</a> <a id="17183" class="Keyword">do</a>
    <a id="17190" href="Meta.Search.Base.html#17190" class="Bound">ty</a>  <a id="17194" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="17196" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="17206" href="Meta.Search.Base.html#17172" class="Bound">c₁</a>
    <a id="17213" href="Meta.Search.Base.html#17213" class="Bound">c₁′</a> <a id="17217" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="17219" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="17226" href="Meta.Search.Base.html#17172" class="Bound">c₁</a>
    <a id="17233" class="Symbol">(</a><a id="17234" href="Meta.Search.Base.html#12473" class="Function">remove-invisible</a> <a id="17251" href="Meta.Search.Base.html#17213" class="Bound">c₁′</a> <a id="17255" href="Meta.Search.Base.html#17190" class="Bound">ty</a> <a id="17258" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="17262" class="Symbol">λ</a> <a id="17264" class="Keyword">where</a>
      <a id="17276" class="Symbol">(</a><a id="17277" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="17281" class="Symbol">(</a><a id="17282" class="Keyword">quote</a> <a id="17288" href="Meta.Search.Base.html#2928" class="InductiveConstructor">decomp</a><a id="17294" class="Symbol">)</a> <a id="17296" class="Symbol">(_</a> <a id="17299" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17301" class="Symbol">_</a> <a id="17303" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17305" class="Symbol">_</a> <a id="17307" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17309" class="Symbol">_</a> <a id="17311" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17313" class="Symbol">_</a> <a id="17315" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="17317" href="Meta.Search.Base.html#17317" class="Bound">nm</a> <a id="17320" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="17323" href="Meta.Search.Base.html#17323" class="Bound">argspec</a> <a id="17331" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="17334" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="17336" class="Symbol">))</a> <a id="17339" class="Symbol">→</a> <a id="17341" class="Keyword">do</a>
        <a id="17352" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="17363" class="String">&quot;tactic.search&quot;</a> <a id="17379" class="Number">10</a>
          <a id="17392" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="17394" class="String">&quot;Using &quot;</a> <a id="17403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17405" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="17413" href="Meta.Search.Base.html#17317" class="Bound">nm</a> <a id="17416" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17418" class="String">&quot; decomposition for:\n&quot;</a>
          <a id="17452" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17454" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="17462" class="Symbol">(</a><a id="17463" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="17467" href="Meta.Search.Base.html#17106" class="Bound">goal-name</a> <a id="17477" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="17479" href="Meta.Search.Base.html#1597" class="Function">level-term</a> <a id="17490" href="Meta.Search.Base.html#17145" class="Bound">lv</a> <a id="17493" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="17496" href="Meta.Search.Base.html#17150" class="Bound">goal-ty</a> <a id="17504" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="17507" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="17509" class="Symbol">)</a> <a id="17511" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

        <a id="17522" href="Meta.Search.Base.html#17522" class="Bound">nm′</a> <a id="17526" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="17528" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="17538" href="Meta.Search.Base.html#17317" class="Bound">nm</a>
        <a id="17549" href="Meta.Search.Base.html#17549" class="Bound">argsp</a> <a id="17555" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="17557" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="17567" href="Meta.Search.Base.html#17323" class="Bound">argspec</a>
        <a id="17583" href="Meta.Search.Base.html#13217" class="Function">gen-args</a> <a id="17592" href="Meta.Search.Base.html#17138" class="Bound">fuel</a> <a id="17597" href="Meta.Search.Base.html#17118" class="Bound">goal-strat</a> <a id="17608" class="Symbol">(</a><a id="17609" href="Data.Bool.Base.html#386" class="Function">not</a> <a id="17613" class="Symbol">(</a><a id="17614" href="Data.List.Operations.html#440" class="Function">length</a> <a id="17621" href="Meta.Search.Base.html#17177" class="Bound">cs</a> <a id="17624" href="Agda.Builtin.Nat.html#631" class="Primitive Operator">==</a> <a id="17627" class="Number">0</a><a id="17628" class="Symbol">))</a> <a id="17631" href="Meta.Search.Base.html#17145" class="Bound">lv</a> <a id="17634" href="Meta.Search.Base.html#17159" class="Bound">goal</a> <a id="17639" href="Meta.Search.Base.html#17522" class="Bound">nm′</a> <a id="17643" href="Meta.Search.Base.html#17549" class="Bound">argsp</a> <a id="17649" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="17652" class="Symbol">(</a><a id="17653" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="17658" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="17660" class="Symbol">)</a>
        <a id="17670" href="Agda.Builtin.Reflection.html#11202" class="Postulate">noConstraints</a> <a id="17684" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="17686" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="17692" href="Meta.Search.Base.html#17164" class="Bound">solved</a> <a id="17699" href="Meta.Search.Base.html#17172" class="Bound">c₁</a>

        <a id="17711" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="17716" class="Symbol">(</a><a id="17717" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="17720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17722" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a><a id="17726" class="Symbol">)</a>

      <a id="17735" href="Meta.Search.Base.html#17735" class="CatchallClause Bound">t</a> <a id="17737" class="Symbol">→</a> <a id="17739" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="17749" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="17751" class="String">&quot;Non-canonical hint: &quot;</a> <a id="17774" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17776" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="17784" href="Meta.Search.Base.html#17735" class="Bound">t</a> <a id="17786" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a><a id="17787" class="Symbol">)</a>

      <a id="17796" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="17800" href="Meta.Search.Base.html#16858" class="Function">use-decomp-hints</a> <a id="17817" href="Meta.Search.Base.html#17130" class="Bound">td</a> <a id="17820" href="Meta.Search.Base.html#17138" class="Bound">fuel</a> <a id="17825" class="Symbol">(</a><a id="17826" href="Meta.Search.Base.html#17145" class="Bound">lv</a> <a id="17829" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17831" href="Meta.Search.Base.html#17150" class="Bound">goal-ty</a><a id="17838" class="Symbol">)</a> <a id="17840" href="Meta.Search.Base.html#17159" class="Bound">goal</a> <a id="17845" href="Meta.Search.Base.html#17164" class="Bound">solved</a> <a id="17852" href="Meta.Search.Base.html#17177" class="Bound">cs</a>

  <a id="17858" href="Meta.Search.Base.html#16858" class="CatchallClause Function">use-decomp-hints</a><a id="17874" class="CatchallClause"> </a><a id="17875" class="CatchallClause Symbol">_</a><a id="17876" class="CatchallClause"> </a><a id="17877" class="CatchallClause Symbol">_</a><a id="17878" class="CatchallClause"> </a><a id="17879" class="CatchallClause Symbol">(_</a><a id="17881" class="CatchallClause"> </a><a id="17882" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="17883" class="CatchallClause"> </a><a id="17884" href="Meta.Search.Base.html#17884" class="CatchallClause Bound">goal-ty</a><a id="17891" class="CatchallClause Symbol">)</a><a id="17892" class="CatchallClause"> </a><a id="17893" class="CatchallClause Symbol">_</a><a id="17894" class="CatchallClause"> </a><a id="17895" class="CatchallClause Symbol">_</a><a id="17896" class="CatchallClause"> </a><a id="17897" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a> <a id="17900" class="Symbol">=</a>
    <a id="17906" href="Meta.Search.Base.html#3689" class="Function">backtrack</a> <a id="17916" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="17918" class="String">&quot;Ran out of decomposition hints for &quot;</a> <a id="17956" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="17958" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="17966" href="Meta.Search.Base.html#17884" class="Bound">goal-ty</a> <a id="17974" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

  <a id="drop-pis"></a><a id="17979" href="Meta.Search.Base.html#17979" class="Function">drop-pis</a> <a id="17988" class="Symbol">:</a> <a id="17990" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="17995" class="Symbol">→</a> <a id="17997" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="18004" href="Meta.Search.Base.html#17979" class="Function">drop-pis</a> <a id="18013" class="Symbol">(</a><a id="18014" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="18017" class="Symbol">_</a> <a id="18019" class="Symbol">(</a><a id="18020" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="18024" class="Symbol">_</a> <a id="18026" href="Meta.Search.Base.html#18026" class="Bound">x</a><a id="18027" class="Symbol">))</a> <a id="18030" class="Symbol">=</a> <a id="18032" href="Meta.Search.Base.html#17979" class="Function">drop-pis</a> <a id="18041" href="Meta.Search.Base.html#18026" class="Bound">x</a>
  <a id="18045" href="Meta.Search.Base.html#17979" class="CatchallClause Function">drop-pis</a><a id="18053" class="CatchallClause"> </a><a id="18054" href="Meta.Search.Base.html#18054" class="CatchallClause Bound">x</a> <a id="18056" class="Symbol">=</a> <a id="18058" href="Meta.Search.Base.html#18054" class="Bound">x</a>

  <a id="18063" class="Comment">-- TODO use name</a>
  <a id="sort-decomps-by-generality"></a><a id="18082" href="Meta.Search.Base.html#18082" class="Function">sort-decomps-by-generality</a> <a id="18109" class="Symbol">:</a> <a id="18111" class="Symbol">(</a><a id="18112" href="Meta.Search.Base.html#18112" class="Bound">gn</a> <a id="18115" class="Symbol">:</a> <a id="18117" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="18121" class="Symbol">)</a> <a id="18123" class="Symbol">→</a> <a id="18125" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="18130" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18135" class="Symbol">→</a> <a id="18137" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="18140" class="Symbol">(</a><a id="18141" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="18146" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="18150" class="Symbol">)</a>
  <a id="18154" href="Meta.Search.Base.html#18082" class="Function">sort-decomps-by-generality</a> <a id="18181" href="Meta.Search.Base.html#18181" class="Bound">gn</a> <a id="18184" class="Symbol">=</a> <a id="18186" href="Meta.Search.Base.html#19183" class="Function">insertion-sort</a> <a id="18201" class="Keyword">where</a>
    <a id="18211" href="Meta.Search.Base.html#18211" class="Function Operator">_less-general-than_</a> <a id="18231" class="Symbol">:</a> <a id="18233" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18238" class="Symbol">→</a> <a id="18240" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18245" class="Symbol">→</a> <a id="18247" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="18256" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="18261" class="Symbol">_</a> <a id="18263" class="Symbol">_</a> <a id="18265" href="Meta.Search.Base.html#18211" class="Function Operator">less-general-than</a> <a id="18283" class="Symbol">_</a> <a id="18285" class="Symbol">=</a> <a id="18287" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="18297" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>  <a id="18306" href="Meta.Search.Base.html#18211" class="Function Operator">less-general-than</a> <a id="18324" class="Symbol">_</a> <a id="18326" class="Symbol">=</a> <a id="18328" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="18338" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="18342" class="Symbol">_</a> <a id="18344" class="Symbol">_</a>  <a id="18347" href="Meta.Search.Base.html#18211" class="Function Operator">less-general-than</a> <a id="18365" class="Symbol">_</a> <a id="18367" class="Symbol">=</a> <a id="18369" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
    <a id="18379" class="CatchallClause Symbol">_</a><a id="18380" class="CatchallClause">        </a><a id="18388" href="Meta.Search.Base.html#18211" class="CatchallClause Function Operator">less-general-than</a><a id="18405" class="CatchallClause"> </a><a id="18406" class="CatchallClause Symbol">_</a> <a id="18408" class="Symbol">=</a> <a id="18410" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

    <a id="18420" href="Meta.Search.Base.html#18420" class="Function Operator">_decomp≤?_</a> <a id="18431" class="Symbol">:</a> <a id="18433" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18438" class="Symbol">→</a> <a id="18440" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18445" class="Symbol">→</a> <a id="18447" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="18450" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>
    <a id="18459" href="Meta.Search.Base.html#18420" class="Function Operator">_decomp≤?_</a> <a id="18470" href="Meta.Search.Base.html#18470" class="Bound">x</a> <a id="18472" href="Meta.Search.Base.html#18472" class="Bound">y</a> <a id="18474" class="Symbol">=</a> <a id="18476" class="Keyword">do</a>
      <a id="18485" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="18490" href="Meta.Search.Base.html#18490" class="Bound">decomp-name₁</a> <a id="18503" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18505" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="18510" href="Meta.Search.Base.html#18510" class="Bound">decomp-name₂</a> <a id="18523" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="18525" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="18530" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="18532" href="Meta.Reflection.html#3353" class="Function">get-name</a> <a id="18541" href="Meta.Search.Base.html#18470" class="Bound">x</a> <a id="18543" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="18545" href="Meta.Reflection.html#3353" class="Function">get-name</a> <a id="18554" href="Meta.Search.Base.html#18472" class="Bound">y</a> <a id="18556" class="Keyword">where</a>
        <a id="18570" class="CatchallClause Symbol">_</a> <a id="18572" class="Symbol">→</a> <a id="18574" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="18584" class="String">&quot;Panic: malformed decompositions&quot;</a>
      <a id="18624" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="18628" class="Symbol">_</a> <a id="18630" class="Symbol">(_</a> <a id="18633" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18635" class="Symbol">_</a> <a id="18637" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18639" class="Symbol">_</a> <a id="18641" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18643" class="Symbol">_</a> <a id="18645" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18647" href="Meta.Search.Base.html#18647" class="Bound">decomp-ty₁</a> <a id="18658" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="18661" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="18663" class="Symbol">)</a> <a id="18665" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="18667" href="Meta.Search.Base.html#17979" class="Function">drop-pis</a> <a id="18676" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="18680" href="Agda.Builtin.Reflection.html#9696" class="Postulate">getType</a> <a id="18688" href="Meta.Search.Base.html#18490" class="Bound">decomp-name₁</a> <a id="18701" class="Keyword">where</a>
        <a id="18715" class="CatchallClause Symbol">_</a> <a id="18717" class="Symbol">→</a> <a id="18719" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="18729" class="String">&quot;Panic: malformed decompositionss&quot;</a>
      <a id="18770" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="18774" class="Symbol">_</a> <a id="18776" class="Symbol">(_</a> <a id="18779" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18781" class="Symbol">_</a> <a id="18783" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18785" class="Symbol">_</a> <a id="18787" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18789" class="Symbol">_</a> <a id="18791" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="18793" href="Meta.Search.Base.html#18793" class="Bound">decomp-ty₂</a> <a id="18804" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="18807" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="18809" class="Symbol">)</a> <a id="18811" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="18813" href="Meta.Search.Base.html#17979" class="Function">drop-pis</a> <a id="18822" href="Meta.Idiom.html#334" class="Field Operator">&lt;$&gt;</a> <a id="18826" href="Agda.Builtin.Reflection.html#9696" class="Postulate">getType</a> <a id="18834" href="Meta.Search.Base.html#18510" class="Bound">decomp-name₂</a> <a id="18847" class="Keyword">where</a>
        <a id="18861" class="CatchallClause Symbol">_</a> <a id="18863" class="Symbol">→</a> <a id="18865" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="18875" class="String">&quot;Panic: malformed decompositionss&quot;</a>
      <a id="18916" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="18921" class="Symbol">(</a><a id="18922" href="Meta.Search.Base.html#18647" class="Bound">decomp-ty₁</a> <a id="18933" href="Meta.Search.Base.html#18211" class="Function Operator">less-general-than</a> <a id="18951" href="Meta.Search.Base.html#18793" class="Bound">decomp-ty₂</a><a id="18961" class="Symbol">)</a>

    <a id="18968" href="Meta.Search.Base.html#18968" class="Function">insert</a> <a id="18975" class="Symbol">:</a> <a id="18977" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18982" class="Symbol">→</a> <a id="18984" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="18989" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="18994" class="Symbol">→</a> <a id="18996" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="18999" class="Symbol">(</a><a id="19000" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19005" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="19009" class="Symbol">)</a>
    <a id="19015" href="Meta.Search.Base.html#18968" class="Function">insert</a> <a id="19022" href="Meta.Search.Base.html#19022" class="Bound">x</a> <a id="19024" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19027" class="Symbol">=</a> <a id="19029" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19034" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="19036" href="Meta.Search.Base.html#19022" class="Bound">x</a> <a id="19038" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
    <a id="19044" href="Meta.Search.Base.html#18968" class="Function">insert</a> <a id="19051" href="Meta.Search.Base.html#19051" class="Bound">x</a> <a id="19053" class="Symbol">(</a><a id="19054" href="Meta.Search.Base.html#19054" class="Bound">a</a> <a id="19056" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19058" href="Meta.Search.Base.html#19058" class="Bound">as</a><a id="19060" class="Symbol">)</a> <a id="19062" class="Symbol">=</a> <a id="19064" class="Keyword">do</a>
      <a id="19073" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="19079" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19081" href="Meta.Search.Base.html#19051" class="Bound">x</a> <a id="19083" href="Meta.Search.Base.html#18420" class="Function Operator">decomp≤?</a> <a id="19092" href="Meta.Search.Base.html#19054" class="Bound">a</a> <a id="19094" class="Keyword">where</a>
        <a id="19108" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="19113" class="Symbol">→</a> <a id="19115" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19120" class="Symbol">(</a><a id="19121" href="Meta.Search.Base.html#19051" class="Bound">x</a> <a id="19123" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19125" href="Meta.Search.Base.html#19054" class="Bound">a</a> <a id="19127" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19129" href="Meta.Search.Base.html#19058" class="Bound">as</a><a id="19131" class="Symbol">)</a>
      <a id="19139" href="Meta.Search.Base.html#19139" class="Bound">as′</a> <a id="19143" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19145" href="Meta.Search.Base.html#18968" class="Function">insert</a> <a id="19152" href="Meta.Search.Base.html#19051" class="Bound">x</a> <a id="19154" href="Meta.Search.Base.html#19058" class="Bound">as</a>
      <a id="19163" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19168" class="Symbol">(</a><a id="19169" href="Meta.Search.Base.html#19054" class="Bound">a</a> <a id="19171" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19173" href="Meta.Search.Base.html#19139" class="Bound">as′</a><a id="19176" class="Symbol">)</a>

    <a id="19183" href="Meta.Search.Base.html#19183" class="Function">insertion-sort</a> <a id="19198" class="Symbol">:</a> <a id="19200" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19205" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="19210" class="Symbol">→</a> <a id="19212" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="19215" class="Symbol">(</a><a id="19216" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="19221" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="19225" class="Symbol">)</a>
    <a id="19231" href="Meta.Search.Base.html#19183" class="Function">insertion-sort</a> <a id="19246" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="19249" class="Symbol">=</a> <a id="19251" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19256" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="19263" href="Meta.Search.Base.html#19183" class="Function">insertion-sort</a> <a id="19278" class="Symbol">(</a><a id="19279" href="Meta.Search.Base.html#19279" class="Bound">a</a> <a id="19281" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="19283" href="Meta.Search.Base.html#19283" class="Bound">as</a><a id="19285" class="Symbol">)</a> <a id="19287" class="Symbol">=</a> <a id="19289" class="Keyword">do</a>
      <a id="19298" href="Meta.Search.Base.html#19298" class="Bound">as′</a> <a id="19302" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19304" href="Meta.Search.Base.html#19183" class="Function">insertion-sort</a> <a id="19319" href="Meta.Search.Base.html#19283" class="Bound">as</a>
      <a id="19328" href="Meta.Search.Base.html#18968" class="Function">insert</a> <a id="19335" href="Meta.Search.Base.html#19279" class="Bound">a</a> <a id="19337" href="Meta.Search.Base.html#19298" class="Bound">as′</a>

  <a id="use-hints"></a><a id="19344" href="Meta.Search.Base.html#19344" class="Function">use-hints</a> <a id="19354" class="Symbol">:</a> <a id="19356" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="19368" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="19378" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="19389" class="Symbol">→</a> <a id="19391" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="19393" class="Symbol">→</a> <a id="19395" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="19400" class="Symbol">→</a> <a id="19402" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="19405" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="19409" href="Meta.Search.Base.html#19344" class="Function">use-hints</a> <a id="19419" class="Symbol">_</a> <a id="19421" class="Number">0</a> <a id="19423" class="Symbol">_</a> <a id="19425" class="Symbol">=</a> <a id="19427" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="19437" class="String">&quot;use-hints: no fuel&quot;</a>
  <a id="19460" href="Meta.Search.Base.html#19344" class="Function">use-hints</a> <a id="19470" class="Symbol">{</a><a id="19471" href="Meta.Search.Base.html#19471" class="Bound">goal-name</a><a id="19480" class="Symbol">}</a> <a id="19482" href="Meta.Search.Base.html#19482" class="Bound">td</a> <a id="19485" class="Symbol">(</a><a id="19486" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="19490" href="Meta.Search.Base.html#19490" class="Bound">fuel</a><a id="19494" class="Symbol">)</a> <a id="19496" href="Meta.Search.Base.html#19496" class="Bound">goal</a> <a id="19501" class="Symbol">=</a> <a id="19503" href="Agda.Builtin.Reflection.html#11429" class="Postulate">runSpeculative</a> <a id="19518" class="Keyword">do</a>
    <a id="19525" class="Symbol">(</a><a id="19526" href="Meta.Search.Base.html#19526" class="Bound">lv</a> <a id="19529" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="19531" href="Meta.Search.Base.html#19531" class="Bound">ty</a><a id="19533" class="Symbol">)</a> <a id="19535" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19537" href="Meta.Search.Base.html#6198" class="Function">decompose-goal</a> <a id="19552" href="Meta.Search.Base.html#19482" class="Bound">td</a> <a id="19555" href="Meta.Search.Base.html#19496" class="Bound">goal</a>
    <a id="19564" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19569" href="Meta.Search.Base.html#19531" class="Bound">ty</a> <a id="19572" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="19576" class="Symbol">λ</a> <a id="19578" class="Keyword">where</a>
      <a id="19590" class="Symbol">(</a><a id="19591" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="19596" href="Meta.Search.Base.html#19596" class="Bound">m</a> <a id="19598" class="Symbol">_)</a> <a id="19601" class="Symbol">→</a> <a id="19603" class="Keyword">do</a>
        <a id="19614" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="19625" class="String">&quot;tactic.search&quot;</a> <a id="19641" class="Number">10</a>
          <a id="19654" class="String">&quot;Type under goal is metavariable, blocking to avoid infinite loop&quot;</a>
        <a id="19729" href="Agda.Builtin.Reflection.html#19136" class="Function">blockOnMeta</a> <a id="19741" href="Meta.Search.Base.html#19596" class="Bound">m</a>
      <a id="19749" class="CatchallClause Symbol">_</a> <a id="19751" class="Symbol">→</a> <a id="19753" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="19758" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>

    <a id="19766" href="Meta.Search.Base.html#19766" class="Bound">solved</a><a id="19772" class="Symbol">@(</a><a id="19774" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="19779" href="Meta.Search.Base.html#19779" class="Bound">mv</a> <a id="19782" class="Symbol">_)</a> <a id="19785" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19787" href="Meta.Reflection.html#1990" class="Function">new-meta</a> <a id="19796" class="Symbol">(</a><a id="19797" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="19801" class="Symbol">(</a><a id="19802" class="Keyword">quote</a> <a id="19808" href="Meta.Search.Base.html#2777" class="Datatype">goal-decomposition</a><a id="19826" class="Symbol">)</a> <a id="19828" class="Symbol">(</a><a id="19829" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="19833" class="Symbol">(</a><a id="19834" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="19839" href="Meta.Search.Base.html#19471" class="Bound">goal-name</a><a id="19848" class="Symbol">)</a> <a id="19850" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="19853" href="Meta.Search.Base.html#19531" class="Bound">ty</a> <a id="19856" href="Meta.Reflection.html#2693" class="InductiveConstructor Operator">v∷</a> <a id="19859" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="19861" class="Symbol">))</a>
      <a id="19870" class="Keyword">where</a> <a id="19876" class="CatchallClause Symbol">_</a> <a id="19878" class="Symbol">→</a> <a id="19880" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="19890" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="19892" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="19900" href="Meta.Search.Base.html#19531" class="Bound">ty</a> <a id="19903" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
    <a id="19909" href="Meta.Search.Base.html#19909" class="Bound">decomp-instances</a> <a id="19926" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19928" href="Agda.Builtin.Reflection.html#11624" class="Postulate">getInstances</a> <a id="19941" href="Meta.Search.Base.html#19779" class="Bound">mv</a> <a id="19944" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="19948" href="Meta.Search.Base.html#18082" class="Function">sort-decomps-by-generality</a> <a id="19975" href="Meta.Search.Base.html#19471" class="Bound">goal-name</a>

    <a id="19990" href="Meta.Search.Base.html#19990" class="Bound">t</a> <a id="19992" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="19994" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="20002" href="Meta.Search.Base.html#19909" class="Bound">decomp-instances</a> <a id="20019" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="20023" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a>
    <a id="20037" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="20048" class="String">&quot;tactic.search&quot;</a> <a id="20064" class="Number">10</a>
      <a id="20073" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="20075" class="String">&quot;Finding decompositions for\n&quot;</a> <a id="20106" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20108" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="20116" href="Meta.Search.Base.html#19531" class="Bound">ty</a>
      <a id="20125" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20127" class="String">&quot;\nFound candidates\n &quot;</a>        <a id="20158" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20160" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="20168" href="Meta.Search.Base.html#19990" class="Bound">t</a> <a id="20170" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

    <a id="20177" href="Meta.Search.Base.html#16858" class="Function">use-decomp-hints</a> <a id="20194" href="Meta.Search.Base.html#19482" class="Bound">td</a> <a id="20197" href="Meta.Search.Base.html#19490" class="Bound">fuel</a> <a id="20202" class="Symbol">(</a><a id="20203" href="Meta.Search.Base.html#19526" class="Bound">lv</a> <a id="20206" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20208" href="Meta.Search.Base.html#19531" class="Bound">ty</a><a id="20210" class="Symbol">)</a> <a id="20212" href="Meta.Search.Base.html#19496" class="Bound">goal</a> <a id="20217" href="Meta.Search.Base.html#19766" class="Bound">solved</a> <a id="20224" href="Meta.Search.Base.html#19909" class="Bound">decomp-instances</a>


  <a id="20245" href="Meta.Search.Base.html#13114" class="Function">search</a> <a id="20252" href="Meta.Search.Base.html#20252" class="Bound">td</a> <a id="20255" href="Meta.Search.Base.html#20255" class="Bound">has-alts</a> <a id="20264" class="Symbol">_</a>     <a id="20270" class="Number">0</a>          <a id="20281" href="Meta.Search.Base.html#20281" class="Bound">goal</a> <a id="20286" class="Symbol">=</a> <a id="20288" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="20294" href="Meta.Search.Base.html#20281" class="Bound">goal</a> <a id="20299" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>
  <a id="20309" href="Meta.Search.Base.html#13114" class="Function">search</a> <a id="20316" href="Meta.Search.Base.html#20316" class="Bound">td</a> <a id="20319" href="Meta.Search.Base.html#20319" class="Bound">has-alts</a> <a id="20328" href="Meta.Search.Base.html#20328" class="Bound">level</a> <a id="20334" class="Symbol">(</a><a id="20335" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="20339" href="Meta.Search.Base.html#20339" class="Bound">fuel</a><a id="20343" class="Symbol">)</a> <a id="20345" href="Meta.Search.Base.html#20345" class="Bound">goal</a>
    <a id="20354" class="Symbol">=</a>   <a id="20358" href="Meta.Search.Base.html#11059" class="Function">use-projections</a> <a id="20374" href="Meta.Search.Base.html#20316" class="Bound">td</a> <a id="20377" href="Meta.Search.Base.html#20345" class="Bound">goal</a>
    <a id="20386" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="20390" href="Meta.Search.Base.html#19344" class="Function">use-hints</a> <a id="20400" href="Meta.Search.Base.html#20316" class="Bound">td</a> <a id="20403" href="Meta.Search.Base.html#20339" class="Bound">fuel</a> <a id="20408" href="Meta.Search.Base.html#20345" class="Bound">goal</a>
    <a id="20417" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="20421" href="Meta.Search.Base.html#10045" class="Function">use-instance-search</a> <a id="20441" href="Meta.Search.Base.html#20316" class="Bound">td</a> <a id="20444" href="Meta.Search.Base.html#20319" class="Bound">has-alts</a> <a id="20453" href="Meta.Search.Base.html#20345" class="Bound">goal</a>
    <a id="20462" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="20466" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="20476" class="String">&quot;Search failed!&quot;</a>


  <a id="decompose-goal-top"></a><a id="20497" href="Meta.Search.Base.html#20497" class="Function">decompose-goal-top</a>
    <a id="20520" class="Symbol">:</a> <a id="20522" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="20534" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="20544" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="20555" class="Symbol">→</a> <a id="20557" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="20562" class="Symbol">→</a> <a id="20564" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="20567" class="Symbol">(</a><a id="20568" href="Meta.Search.Base.html#1320" class="Function">Level-data</a> <a id="20579" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="20590" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="20592" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="20597" href="Foundations.Sigma.Base.html#588" class="Function Operator">×</a> <a id="20599" href="Agda.Builtin.Reflection.html#5076" class="Function">Telescope</a><a id="20608" class="Symbol">)</a>
  <a id="20612" href="Meta.Search.Base.html#20497" class="Function">decompose-goal-top</a> <a id="20631" href="Meta.Search.Base.html#20631" class="Bound">td</a> <a id="20634" href="Meta.Search.Base.html#20634" class="Bound">goal</a> <a id="20639" class="Symbol">=</a> <a id="20641" class="Keyword">do</a>
      <a id="20650" href="Meta.Search.Base.html#20650" class="Bound">ty</a> <a id="20653" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="20655" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="20670" class="Symbol">(</a><a id="20671" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="20677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20679" href="Meta.Search.Base.html#2351" class="Function">atoms</a> <a id="20685" href="Meta.Search.Base.html#20631" class="Bound">td</a><a id="20687" class="Symbol">)</a> <a id="20689" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a>
        <a id="20699" class="Symbol">(</a><a id="20700" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="20710" href="Meta.Search.Base.html#20634" class="Bound">goal</a> <a id="20715" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="20719" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a><a id="20725" class="Symbol">)</a> <a id="20727" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="20731" href="Meta.Reflection.html#6463" class="Function">wait-just-a-bit</a>
      <a id="20753" href="Meta.Search.Base.html#20775" class="Function">go</a> <a id="20756" href="Meta.Search.Base.html#20650" class="Bound">ty</a>
    <a id="20763" class="Keyword">where</a>
      <a id="20775" href="Meta.Search.Base.html#20775" class="Function">go</a> <a id="20778" class="Symbol">:</a> <a id="20780" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="20785" class="Symbol">→</a> <a id="20787" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="20790" class="Symbol">_</a>
      <a id="20798" href="Meta.Search.Base.html#20775" class="Function">go</a> <a id="20801" class="Symbol">(</a><a id="20802" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="20805" class="Symbol">(</a><a id="20806" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="20810" href="Meta.Search.Base.html#20810" class="Bound">as</a> <a id="20813" href="Meta.Search.Base.html#20813" class="Bound">at</a><a id="20815" class="Symbol">)</a> <a id="20817" class="Symbol">(</a><a id="20818" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="20822" href="Meta.Search.Base.html#20822" class="Bound">vn</a> <a id="20825" href="Meta.Search.Base.html#20825" class="Bound">cd</a><a id="20827" class="Symbol">))</a> <a id="20830" class="Symbol">=</a> <a id="20832" class="Keyword">do</a>
        <a id="20843" class="Symbol">(</a><a id="20844" href="Meta.Search.Base.html#20844" class="Bound">lv</a> <a id="20847" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20849" href="Meta.Search.Base.html#20849" class="Bound">inner</a> <a id="20855" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20857" href="Meta.Search.Base.html#20857" class="Bound">delta</a><a id="20862" class="Symbol">)</a> <a id="20864" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="20866" href="Meta.Search.Base.html#20775" class="Function">go</a> <a id="20869" href="Meta.Search.Base.html#20825" class="Bound">cd</a>
        <a id="20880" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="20885" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="20887" href="Meta.Search.Base.html#20844" class="Bound">lv</a> <a id="20890" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20892" href="Meta.Search.Base.html#20849" class="Bound">inner</a> <a id="20898" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20900" class="Symbol">(</a><a id="20901" href="Meta.Search.Base.html#20822" class="Bound">vn</a> <a id="20904" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20906" class="Symbol">(</a><a id="20907" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="20911" href="Meta.Search.Base.html#20810" class="Bound">as</a> <a id="20914" href="Meta.Search.Base.html#20813" class="Bound">at</a><a id="20916" class="Symbol">))</a> <a id="20919" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="20921" href="Meta.Search.Base.html#20857" class="Bound">delta</a>
      <a id="20933" href="Meta.Search.Base.html#20775" class="CatchallClause Function">go</a><a id="20935" class="CatchallClause"> </a><a id="20936" href="Meta.Search.Base.html#20936" class="CatchallClause Bound">tm</a> <a id="20939" class="Symbol">=</a> <a id="20941" class="Keyword">do</a>
        <a id="20952" class="Symbol">(</a><a id="20953" href="Meta.Search.Base.html#20953" class="Bound">lv</a> <a id="20956" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="20958" href="Meta.Search.Base.html#20958" class="Bound">inner</a><a id="20963" class="Symbol">)</a> <a id="20965" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="20967" href="Meta.Search.Base.html#5173" class="Function">decompose-goal′</a> <a id="20983" href="Meta.Search.Base.html#20631" class="Bound">td</a> <a id="20986" href="Meta.Search.Base.html#20936" class="Bound">tm</a>
        <a id="20997" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="21002" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="21004" href="Meta.Search.Base.html#20953" class="Bound">lv</a> <a id="21007" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21009" href="Meta.Search.Base.html#20958" class="Bound">inner</a> <a id="21015" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21017" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="21021" class="Comment">-- this is the way</a>
<a id="search-tactic-worker"></a><a id="21040" href="Meta.Search.Base.html#21040" class="Function">search-tactic-worker</a> <a id="21061" class="Symbol">:</a> <a id="21063" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="21075" href="Meta.Search.Base.html#3627" class="Generalizable">goal-name</a> <a id="21085" href="Meta.Search.Base.html#657" class="Generalizable">goal-strat</a> <a id="21096" class="Symbol">→</a> <a id="21098" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="21103" class="Symbol">→</a> <a id="21105" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="21108" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="21110" href="Meta.Search.Base.html#21040" class="Function">search-tactic-worker</a> <a id="21131" class="Symbol">{</a><a id="21132" href="Meta.Search.Base.html#21132" class="Bound">goal-name</a><a id="21141" class="Symbol">}</a> <a id="21143" href="Meta.Search.Base.html#21143" class="Bound">td</a> <a id="21146" href="Meta.Search.Base.html#21146" class="Bound">goal</a> <a id="21151" class="Symbol">=</a> <a id="21153" class="Keyword">do</a>
  <a id="21158" href="Meta.Search.Base.html#21158" class="Bound">ty</a> <a id="21161" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="21163" href="Agda.Builtin.Reflection.html#10769" class="Postulate">withReduceDefs</a> <a id="21178" class="Symbol">(</a><a id="21179" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="21185" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21187" href="Meta.Search.Base.html#2351" class="Function">atoms</a> <a id="21193" href="Meta.Search.Base.html#21143" class="Bound">td</a><a id="21195" class="Symbol">)</a> <a id="21197" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="21199" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="21209" href="Meta.Search.Base.html#21146" class="Bound">goal</a> <a id="21214" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="21218" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
  <a id="21227" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debugPrint</a> <a id="21238" class="String">&quot;tactic.search&quot;</a> <a id="21254" class="Number">10</a> <a id="21257" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="21259" class="String">&quot;Target type: &quot;</a> <a id="21275" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21277" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="21285" href="Meta.Search.Base.html#21158" class="Bound">ty</a> <a id="21288" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
  <a id="21292" class="Symbol">(</a><a id="21293" href="Meta.Search.Base.html#21293" class="Bound">lv</a> <a id="21296" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21298" href="Meta.Search.Base.html#21298" class="Bound">ty</a> <a id="21301" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21303" href="Meta.Search.Base.html#21303" class="Bound">delta</a><a id="21308" class="Symbol">)</a> <a id="21310" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="21312" href="Meta.Search.Base.html#20497" class="Function">decompose-goal-top</a> <a id="21331" href="Meta.Search.Base.html#21143" class="Bound">td</a> <a id="21334" href="Meta.Search.Base.html#21146" class="Bound">goal</a>
    <a id="21343" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="21347" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a>
      <a id="21363" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="21365" class="String">&quot;Goal type is not of the form ‶&quot;</a> <a id="21398" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21400" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="21408" href="Meta.Search.Base.html#21132" class="Bound">goal-name</a> <a id="21418" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21420" class="String">&quot;″:\n&quot;</a>
      <a id="21433" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="21435" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="21443" href="Meta.Search.Base.html#21158" class="Bound">ty</a> <a id="21446" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

  <a id="21451" class="Keyword">let</a> <a id="21455" href="Meta.Search.Base.html#21455" class="Bound">delta</a> <a id="21461" class="Symbol">=</a> <a id="21463" href="Data.List.Base.html#1031" class="Function">reverse-fast</a> <a id="21476" href="Meta.Search.Base.html#21303" class="Bound">delta</a>
  <a id="21484" href="Meta.Search.Base.html#21484" class="Bound">solved</a> <a id="21491" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="21493" href="Meta.Reflection.html#9077" class="Function">enter</a> <a id="21499" href="Meta.Search.Base.html#21455" class="Bound">delta</a> <a id="21505" class="Keyword">do</a>
    <a id="21512" href="Meta.Search.Base.html#21512" class="Bound">goal′</a> <a id="21518" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="21520" href="Meta.Reflection.html#1990" class="Function">new-meta</a> <a id="21529" href="Foundations.Pi.Base.html#1019" class="Function Operator">$</a> <a id="21531" href="Meta.Search.Base.html#4228" class="Function">compose-goal</a> <a id="21544" href="Meta.Search.Base.html#21143" class="Bound">td</a> <a id="21547" href="Meta.Search.Base.html#21293" class="Bound">lv</a> <a id="21550" href="Meta.Search.Base.html#21298" class="Bound">ty</a>
    <a id="21557" href="Meta.Search.Base.html#13114" class="Function">search</a> <a id="21564" href="Meta.Search.Base.html#21143" class="Bound">td</a> <a id="21567" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="21573" href="Meta.Search.Base.html#21293" class="Bound">lv</a> <a id="21576" class="Number">50</a> <a id="21579" href="Meta.Search.Base.html#21512" class="Bound">goal′</a>
    <a id="21589" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="21594" href="Meta.Search.Base.html#21512" class="Bound">goal′</a>
  <a id="21602" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="21608" href="Meta.Search.Base.html#21146" class="Bound">goal</a> <a id="21613" class="Symbol">(</a><a id="21614" href="Meta.Reflection.html#8962" class="Function">leave</a> <a id="21620" href="Meta.Search.Base.html#21455" class="Bound">delta</a> <a id="21626" href="Meta.Search.Base.html#21484" class="Bound">solved</a><a id="21632" class="Symbol">)</a>
</pre></body></html>