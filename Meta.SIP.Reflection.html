<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.SIP.Reflection</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.SIP.Reflection.html" class="Module">Meta.SIP.Reflection</a> <a id="51" class="Keyword">where</a>

<a id="58" class="Keyword">open</a> <a id="63" class="Keyword">import</a> <a id="70" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="88" class="Keyword">open</a> <a id="93" class="Keyword">import</a> <a id="100" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>
<a id="116" class="Keyword">open</a> <a id="121" class="Keyword">import</a> <a id="128" href="Meta.SIP.Base.html" class="Module">Meta.SIP.Base</a>

<a id="143" class="Keyword">open</a> <a id="148" class="Keyword">import</a> <a id="155" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="Data.Nat.Instances.Number.html" class="Module">Data.Nat.Instances.Number</a>
<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="Data.String.Instances.IsString.html" class="Module">Data.String.Instances.IsString</a>

<a id="makeAutoStr-term"></a><a id="278" href="Meta.SIP.Reflection.html#278" class="Function">makeAutoStr-term</a> <a id="295" class="Symbol">:</a> <a id="297" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="299" class="Symbol">→</a> <a id="301" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="306" class="Symbol">→</a> <a id="308" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="311" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="313" href="Meta.SIP.Reflection.html#278" class="Function">makeAutoStr-term</a> <a id="330" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="335" href="Meta.SIP.Reflection.html#335" class="Bound">t</a> <a id="337" class="Symbol">=</a> <a id="339" href="Agda.Builtin.Reflection.html#8509" class="Postulate">typeError</a> <a id="349" class="Symbol">(</a><a id="350" href="Agda.Builtin.Reflection.html#7917" class="InductiveConstructor">strErr</a> <a id="357" class="String">&quot;autoDesc ran out of fuel&quot;</a> <a id="384" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="386" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="388" class="Symbol">)</a>
<a id="390" href="Meta.SIP.Reflection.html#278" class="Function">makeAutoStr-term</a> <a id="407" class="Symbol">(</a><a id="408" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="412" href="Meta.SIP.Reflection.html#412" class="Bound">n</a><a id="413" class="Symbol">)</a> <a id="415" href="Meta.SIP.Reflection.html#415" class="Bound">t</a> <a id="417" class="Symbol">=</a>
  <a id="421" href="Meta.SIP.Reflection.html#515" class="Function">tryPoint</a>
    <a id="434" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="438" href="Meta.SIP.Reflection.html#568" class="Function">tryBin</a> <a id="445" class="Symbol">(</a><a id="446" class="Keyword">quote</a> <a id="452" href="Meta.SIP.Base.html#401" class="InductiveConstructor Operator">_s→_</a><a id="456" class="Symbol">)</a>
    <a id="462" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="466" href="Meta.SIP.Reflection.html#568" class="Function">tryBin</a> <a id="473" class="Symbol">(</a><a id="474" class="Keyword">quote</a> <a id="480" href="Meta.SIP.Base.html#512" class="InductiveConstructor Operator">_s×_</a><a id="484" class="Symbol">)</a>
    <a id="490" href="Meta.Alt.html#315" class="Field Operator">&lt;|&gt;</a> <a id="494" href="Meta.SIP.Reflection.html#781" class="Function">useConst</a>
  <a id="505" class="Keyword">where</a>
    <a id="515" href="Meta.SIP.Reflection.html#515" class="Function">tryPoint</a> <a id="524" class="Symbol">=</a> <a id="526" class="Keyword">do</a>
      <a id="535" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="541" href="Meta.SIP.Reflection.html#415" class="Bound">t</a> <a id="543" class="Symbol">(</a><a id="544" href="Agda.Builtin.Reflection.html#4888" class="InductiveConstructor">con</a> <a id="548" class="Symbol">(</a><a id="549" class="Keyword">quote</a> <a id="555" href="Meta.SIP.Base.html#377" class="InductiveConstructor">s∙</a><a id="557" class="Symbol">)</a> <a id="559" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="561" class="Symbol">)</a>

    <a id="568" href="Meta.SIP.Reflection.html#568" class="Function">tryBin</a> <a id="575" class="Symbol">:</a> <a id="577" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="582" class="Symbol">→</a> <a id="584" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="587" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="593" href="Meta.SIP.Reflection.html#568" class="Function">tryBin</a> <a id="600" href="Meta.SIP.Reflection.html#600" class="Bound">namen</a> <a id="606" class="Symbol">=</a> <a id="608" class="Keyword">do</a>
      <a id="617" href="Meta.SIP.Reflection.html#617" class="Bound">h1</a> <a id="620" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="622" href="Meta.Reflection.html#1925" class="Function">new-meta</a> <a id="631" href="Agda.Builtin.Reflection.html#5288" class="InductiveConstructor">unknown</a>
      <a id="645" href="Meta.SIP.Reflection.html#645" class="Bound">h2</a> <a id="648" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="650" href="Meta.Reflection.html#1925" class="Function">new-meta</a> <a id="659" href="Agda.Builtin.Reflection.html#5288" class="InductiveConstructor">unknown</a>
      <a id="673" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="676" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="678" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="684" class="Symbol">(</a><a id="685" href="Agda.Builtin.Reflection.html#4888" class="InductiveConstructor">con</a> <a id="689" href="Meta.SIP.Reflection.html#600" class="Bound">namen</a> <a id="695" class="Symbol">(</a><a id="696" href="Meta.SIP.Reflection.html#617" class="Bound">h1</a> <a id="699" href="Meta.Reflection.html#2448" class="InductiveConstructor Operator">v∷</a> <a id="702" href="Meta.SIP.Reflection.html#645" class="Bound">h2</a> <a id="705" href="Meta.Reflection.html#2448" class="InductiveConstructor Operator">v∷</a> <a id="708" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="710" class="Symbol">))</a> <a id="713" href="Meta.SIP.Reflection.html#415" class="Bound">t</a>
      <a id="721" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a> <a id="724" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="726" href="Meta.SIP.Reflection.html#278" class="Function">makeAutoStr-term</a> <a id="743" href="Meta.SIP.Reflection.html#412" class="Bound">n</a> <a id="745" href="Meta.SIP.Reflection.html#617" class="Bound">h1</a>
      <a id="754" href="Meta.SIP.Reflection.html#278" class="Function">makeAutoStr-term</a> <a id="771" href="Meta.SIP.Reflection.html#412" class="Bound">n</a> <a id="773" href="Meta.SIP.Reflection.html#645" class="Bound">h2</a>

    <a id="781" href="Meta.SIP.Reflection.html#781" class="Function">useConst</a> <a id="790" class="Symbol">=</a> <a id="792" class="Keyword">do</a>
      <a id="801" href="Agda.Builtin.Reflection.html#8469" class="Postulate">unify</a> <a id="807" href="Meta.SIP.Reflection.html#415" class="Bound">t</a> <a id="809" class="Symbol">(</a><a id="810" href="Agda.Builtin.Reflection.html#4888" class="InductiveConstructor">con</a> <a id="814" class="Symbol">(</a><a id="815" class="Keyword">quote</a> <a id="821" href="Meta.SIP.Base.html#318" class="InductiveConstructor">s-const</a><a id="828" class="Symbol">)</a> <a id="830" class="Symbol">(</a><a id="831" href="Agda.Builtin.Reflection.html#5288" class="InductiveConstructor">unknown</a> <a id="839" href="Meta.Reflection.html#2448" class="InductiveConstructor Operator">v∷</a> <a id="842" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="844" class="Symbol">))</a>

<a id="848" class="Keyword">macro</a>
  <a id="auto-str-term"></a><a id="856" href="Meta.SIP.Reflection.html#856" class="Function">auto-str-term</a> <a id="870" class="Symbol">:</a> <a id="872" href="Agda.Builtin.Reflection.html#4687" class="Datatype">Term</a> <a id="877" class="Symbol">→</a> <a id="879" href="Agda.Builtin.Reflection.html#8296" class="Postulate">TC</a> <a id="882" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="886" href="Meta.SIP.Reflection.html#856" class="Function">auto-str-term</a> <a id="900" class="Symbol">=</a> <a id="902" href="Meta.SIP.Reflection.html#278" class="Function">makeAutoStr-term</a> <a id="919" class="Number">100</a>
</pre></body></html>