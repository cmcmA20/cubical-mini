<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Foundations.Notation.Composition</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Foundations.Notation.Composition.html" class="Module">Foundations.Notation.Composition</a> <a id="64" class="Keyword">where</a>

<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="Foundations.Prim.Type.html" class="Module">Foundations.Prim.Type</a>
<a id="105" class="Keyword">open</a> <a id="110" class="Keyword">import</a> <a id="117" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a>

<a id="136" class="Keyword">private</a> <a id="144" class="Keyword">variable</a>
  <a id="155" href="Foundations.Notation.Composition.html#155" class="Generalizable">ℓ</a> <a id="157" class="Symbol">:</a> <a id="159" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="167" href="Foundations.Notation.Composition.html#167" class="Generalizable">A</a> <a id="169" class="Symbol">:</a> <a id="171" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="173" href="Foundations.Notation.Composition.html#155" class="Generalizable">ℓ</a>

<a id="176" class="Keyword">module</a> <a id="183" href="Foundations.Notation.Composition.html#183" class="Module">_</a>
  <a id="187" class="Symbol">{</a><a id="188" href="Foundations.Notation.Composition.html#188" class="Bound">ℓa</a> <a id="191" href="Foundations.Notation.Composition.html#191" class="Bound">ℓb</a> <a id="194" href="Foundations.Notation.Composition.html#194" class="Bound">ℓc</a> <a id="197" href="Foundations.Notation.Composition.html#197" class="Bound">ℓi</a> <a id="200" href="Foundations.Notation.Composition.html#200" class="Bound">ℓo</a> <a id="203" href="Foundations.Notation.Composition.html#203" class="Bound">ℓ∙</a> <a id="206" class="Symbol">:</a> <a id="208" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="213" class="Symbol">}</a> <a id="215" class="Symbol">{</a><a id="216" href="Foundations.Notation.Composition.html#216" class="Bound">A</a> <a id="218" class="Symbol">:</a> <a id="220" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="222" href="Foundations.Notation.Composition.html#188" class="Bound">ℓa</a><a id="224" class="Symbol">}</a> <a id="226" class="Symbol">{</a><a id="227" href="Foundations.Notation.Composition.html#227" class="Bound">B</a> <a id="229" class="Symbol">:</a> <a id="231" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="233" href="Foundations.Notation.Composition.html#191" class="Bound">ℓb</a><a id="235" class="Symbol">}</a> <a id="237" class="Symbol">{</a><a id="238" href="Foundations.Notation.Composition.html#238" class="Bound">C</a> <a id="240" class="Symbol">:</a> <a id="242" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="244" href="Foundations.Notation.Composition.html#194" class="Bound">ℓc</a><a id="246" class="Symbol">}</a>
  <a id="250" class="Symbol">(</a><a id="251" href="Foundations.Notation.Composition.html#251" class="Bound">I</a> <a id="253" class="Symbol">:</a> <a id="255" href="Foundations.Notation.Composition.html#216" class="Bound">A</a> <a id="257" class="Symbol">→</a> <a id="259" href="Foundations.Notation.Composition.html#227" class="Bound">B</a> <a id="261" class="Symbol">→</a> <a id="263" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="265" href="Foundations.Notation.Composition.html#197" class="Bound">ℓi</a><a id="267" class="Symbol">)</a> <a id="269" class="Symbol">(</a><a id="270" href="Foundations.Notation.Composition.html#270" class="Bound">O</a> <a id="272" class="Symbol">:</a> <a id="274" href="Foundations.Notation.Composition.html#227" class="Bound">B</a> <a id="276" class="Symbol">→</a> <a id="278" href="Foundations.Notation.Composition.html#238" class="Bound">C</a> <a id="280" class="Symbol">→</a> <a id="282" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="284" href="Foundations.Notation.Composition.html#200" class="Bound">ℓo</a><a id="286" class="Symbol">)</a> <a id="288" class="Symbol">(</a><a id="289" href="Foundations.Notation.Composition.html#289" class="Bound">I∙O</a> <a id="293" class="Symbol">:</a> <a id="295" href="Foundations.Notation.Composition.html#216" class="Bound">A</a> <a id="297" class="Symbol">→</a> <a id="299" href="Foundations.Notation.Composition.html#238" class="Bound">C</a> <a id="301" class="Symbol">→</a> <a id="303" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="305" href="Foundations.Notation.Composition.html#203" class="Bound">ℓ∙</a><a id="307" class="Symbol">)</a> <a id="309" class="Keyword">where</a>

  <a id="318" href="Foundations.Notation.Composition.html#318" class="Function">Composition</a> <a id="330" class="Symbol">:</a> <a id="332" class="Symbol">{</a><a id="333" href="Foundations.Notation.Composition.html#333" class="Bound">x</a> <a id="335" class="Symbol">:</a> <a id="337" href="Foundations.Notation.Composition.html#216" class="Bound">A</a><a id="338" class="Symbol">}</a> <a id="340" class="Symbol">{</a><a id="341" href="Foundations.Notation.Composition.html#341" class="Bound">y</a> <a id="343" class="Symbol">:</a> <a id="345" href="Foundations.Notation.Composition.html#227" class="Bound">B</a><a id="346" class="Symbol">}</a> <a id="348" class="Symbol">{</a><a id="349" href="Foundations.Notation.Composition.html#349" class="Bound">z</a> <a id="351" class="Symbol">:</a> <a id="353" href="Foundations.Notation.Composition.html#238" class="Bound">C</a><a id="354" class="Symbol">}</a> <a id="356" class="Symbol">(</a><a id="357" href="Foundations.Notation.Composition.html#357" class="Bound">i</a> <a id="359" class="Symbol">:</a> <a id="361" href="Foundations.Notation.Composition.html#251" class="Bound">I</a> <a id="363" href="Foundations.Notation.Composition.html#333" class="Bound">x</a> <a id="365" href="Foundations.Notation.Composition.html#341" class="Bound">y</a><a id="366" class="Symbol">)</a> <a id="368" class="Symbol">(</a><a id="369" href="Foundations.Notation.Composition.html#369" class="Bound">o</a> <a id="371" class="Symbol">:</a> <a id="373" href="Foundations.Notation.Composition.html#270" class="Bound">O</a> <a id="375" href="Foundations.Notation.Composition.html#341" class="Bound">y</a> <a id="377" href="Foundations.Notation.Composition.html#349" class="Bound">z</a><a id="378" class="Symbol">)</a> <a id="380" class="Symbol">→</a> <a id="382" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="384" href="Foundations.Notation.Composition.html#203" class="Bound">ℓ∙</a>
  <a id="389" href="Foundations.Notation.Composition.html#318" class="Function">Composition</a> <a id="401" class="Symbol">{</a><a id="402" href="Foundations.Notation.Composition.html#402" class="Bound">x</a><a id="403" class="Symbol">}</a> <a id="405" class="Symbol">{</a><a id="406" href="Foundations.Notation.Composition.html#406" class="Bound">y</a><a id="407" class="Symbol">}</a> <a id="409" class="Symbol">{</a><a id="410" href="Foundations.Notation.Composition.html#410" class="Bound">z</a><a id="411" class="Symbol">}</a> <a id="413" href="Foundations.Notation.Composition.html#413" class="Bound">i</a> <a id="415" href="Foundations.Notation.Composition.html#415" class="Bound">o</a> <a id="417" class="Symbol">=</a> <a id="419" href="Foundations.Notation.Composition.html#289" class="Bound">I∙O</a> <a id="423" href="Foundations.Notation.Composition.html#402" class="Bound">x</a> <a id="425" href="Foundations.Notation.Composition.html#410" class="Bound">z</a>

  <a id="430" class="Keyword">record</a> <a id="437" href="Foundations.Notation.Composition.html#437" class="Record">Comp</a> <a id="442" class="Symbol">:</a> <a id="444" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="446" class="Symbol">(</a><a id="447" href="Foundations.Notation.Composition.html#188" class="Bound">ℓa</a> <a id="450" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="452" href="Foundations.Notation.Composition.html#191" class="Bound">ℓb</a> <a id="455" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="457" href="Foundations.Notation.Composition.html#194" class="Bound">ℓc</a> <a id="460" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="462" href="Foundations.Notation.Composition.html#197" class="Bound">ℓi</a> <a id="465" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="467" href="Foundations.Notation.Composition.html#200" class="Bound">ℓo</a> <a id="470" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="472" href="Foundations.Notation.Composition.html#203" class="Bound">ℓ∙</a><a id="474" class="Symbol">)</a> <a id="476" class="Keyword">where</a>
    <a id="486" class="Keyword">no-eta-equality</a>
    <a id="506" class="Keyword">infixr</a> <a id="513" class="Number">30</a> <a id="516" href="Foundations.Notation.Composition.html#530" class="Field Operator">_∙_</a>
    <a id="524" class="Keyword">field</a> <a id="530" href="Foundations.Notation.Composition.html#530" class="Field Operator">_∙_</a> <a id="534" class="Symbol">:</a> <a id="536" class="Symbol">{</a><a id="537" href="Foundations.Notation.Composition.html#537" class="Bound">x</a> <a id="539" class="Symbol">:</a> <a id="541" href="Foundations.Notation.Composition.html#216" class="Bound">A</a><a id="542" class="Symbol">}</a> <a id="544" class="Symbol">{</a><a id="545" href="Foundations.Notation.Composition.html#545" class="Bound">y</a> <a id="547" class="Symbol">:</a> <a id="549" href="Foundations.Notation.Composition.html#227" class="Bound">B</a><a id="550" class="Symbol">}</a> <a id="552" class="Symbol">{</a><a id="553" href="Foundations.Notation.Composition.html#553" class="Bound">z</a> <a id="555" class="Symbol">:</a> <a id="557" href="Foundations.Notation.Composition.html#238" class="Bound">C</a><a id="558" class="Symbol">}</a> <a id="560" class="Symbol">(</a><a id="561" href="Foundations.Notation.Composition.html#561" class="Bound">i</a> <a id="563" class="Symbol">:</a> <a id="565" href="Foundations.Notation.Composition.html#251" class="Bound">I</a> <a id="567" href="Foundations.Notation.Composition.html#537" class="Bound">x</a> <a id="569" href="Foundations.Notation.Composition.html#545" class="Bound">y</a><a id="570" class="Symbol">)</a> <a id="572" class="Symbol">(</a><a id="573" href="Foundations.Notation.Composition.html#573" class="Bound">o</a> <a id="575" class="Symbol">:</a> <a id="577" href="Foundations.Notation.Composition.html#270" class="Bound">O</a> <a id="579" href="Foundations.Notation.Composition.html#545" class="Bound">y</a> <a id="581" href="Foundations.Notation.Composition.html#553" class="Bound">z</a><a id="582" class="Symbol">)</a> <a id="584" class="Symbol">→</a> <a id="586" href="Foundations.Notation.Composition.html#318" class="Function">Composition</a> <a id="598" href="Foundations.Notation.Composition.html#561" class="Bound">i</a> <a id="600" href="Foundations.Notation.Composition.html#573" class="Bound">o</a>

    <a id="607" class="Comment">-- FIXME garbage naming</a>
    <a id="635" class="Keyword">infixr</a> <a id="642" class="Number">9</a> <a id="644" href="Foundations.Notation.Composition.html#653" class="Function Operator">_∘ˢ_</a>
    <a id="653" href="Foundations.Notation.Composition.html#653" class="Function Operator">_∘ˢ_</a> <a id="658" class="Symbol">:</a> <a id="660" class="Symbol">{</a><a id="661" href="Foundations.Notation.Composition.html#661" class="Bound">x</a> <a id="663" class="Symbol">:</a> <a id="665" href="Foundations.Notation.Composition.html#216" class="Bound">A</a><a id="666" class="Symbol">}</a> <a id="668" class="Symbol">{</a><a id="669" href="Foundations.Notation.Composition.html#669" class="Bound">y</a> <a id="671" class="Symbol">:</a> <a id="673" href="Foundations.Notation.Composition.html#227" class="Bound">B</a><a id="674" class="Symbol">}</a> <a id="676" class="Symbol">{</a><a id="677" href="Foundations.Notation.Composition.html#677" class="Bound">z</a> <a id="679" class="Symbol">:</a> <a id="681" href="Foundations.Notation.Composition.html#238" class="Bound">C</a><a id="682" class="Symbol">}</a> <a id="684" class="Symbol">(</a><a id="685" href="Foundations.Notation.Composition.html#685" class="Bound">o</a> <a id="687" class="Symbol">:</a> <a id="689" href="Foundations.Notation.Composition.html#270" class="Bound">O</a> <a id="691" href="Foundations.Notation.Composition.html#669" class="Bound">y</a> <a id="693" href="Foundations.Notation.Composition.html#677" class="Bound">z</a><a id="694" class="Symbol">)</a> <a id="696" class="Symbol">(</a><a id="697" href="Foundations.Notation.Composition.html#697" class="Bound">i</a> <a id="699" class="Symbol">:</a> <a id="701" href="Foundations.Notation.Composition.html#251" class="Bound">I</a> <a id="703" href="Foundations.Notation.Composition.html#661" class="Bound">x</a> <a id="705" href="Foundations.Notation.Composition.html#669" class="Bound">y</a><a id="706" class="Symbol">)</a> <a id="708" class="Symbol">→</a> <a id="710" href="Foundations.Notation.Composition.html#318" class="Function">Composition</a> <a id="722" href="Foundations.Notation.Composition.html#697" class="Bound">i</a> <a id="724" href="Foundations.Notation.Composition.html#685" class="Bound">o</a>
    <a id="730" href="Foundations.Notation.Composition.html#653" class="Function Operator">_∘ˢ_</a> <a id="735" href="Foundations.Notation.Composition.html#735" class="Bound">r</a> <a id="737" href="Foundations.Notation.Composition.html#737" class="Bound">l</a> <a id="739" class="Symbol">=</a> <a id="741" href="Foundations.Notation.Composition.html#737" class="Bound">l</a> <a id="743" href="Foundations.Notation.Composition.html#530" class="Field Operator">∙</a> <a id="745" href="Foundations.Notation.Composition.html#735" class="Bound">r</a>

<a id="748" class="Keyword">open</a> <a id="753" href="Foundations.Notation.Composition.html#437" class="Module">Comp</a> <a id="758" class="Symbol">⦃</a> <a id="760" class="Symbol">...</a> <a id="764" class="Symbol">⦄</a> <a id="766" class="Keyword">public</a>
<a id="773" class="Symbol">{-#</a> <a id="777" class="Keyword">DISPLAY</a> <a id="785" href="Foundations.Notation.Composition.html#530" class="Field Operator">Comp._∙_</a> <a id="794" class="Pragma">_</a> <a id="796" href="Foundations.Notation.Composition.html#796" class="Bound">a</a> <a id="798" href="Foundations.Notation.Composition.html#798" class="Bound">b</a> <a id="800" class="Pragma">=</a> <a id="802" href="Foundations.Notation.Composition.html#796" class="Bound">a</a> <a id="804" href="Foundations.Notation.Composition.html#530" class="Field Operator">∙</a> <a id="806" href="Foundations.Notation.Composition.html#798" class="Bound">b</a> <a id="808" class="Symbol">#-}</a>
<a id="812" class="Symbol">{-#</a> <a id="816" class="Keyword">DISPLAY</a> <a id="824" href="Foundations.Notation.Composition.html#653" class="Function Operator">Comp._∘ˢ_</a> <a id="834" class="Pragma">_</a> <a id="836" href="Foundations.Notation.Composition.html#836" class="Bound">a</a> <a id="838" href="Foundations.Notation.Composition.html#838" class="Bound">b</a> <a id="840" class="Pragma">=</a> <a id="842" href="Foundations.Notation.Composition.html#836" class="Bound">a</a> <a id="844" href="Foundations.Notation.Composition.html#653" class="Function Operator">∘ˢ</a> <a id="847" href="Foundations.Notation.Composition.html#838" class="Bound">b</a> <a id="849" class="Symbol">#-}</a>


<a id="855" class="Comment">-- homogeneous composition is transitivity</a>
<a id="Trans"></a><a id="898" href="Foundations.Notation.Composition.html#898" class="Function">Trans</a> <a id="904" class="Symbol">:</a> <a id="906" class="Symbol">(</a><a id="907" href="Foundations.Notation.Composition.html#167" class="Generalizable">A</a> <a id="909" class="Symbol">→</a> <a id="911" href="Foundations.Notation.Composition.html#167" class="Generalizable">A</a> <a id="913" class="Symbol">→</a> <a id="915" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="917" href="Foundations.Notation.Composition.html#155" class="Generalizable">ℓ</a><a id="918" class="Symbol">)</a> <a id="920" class="Symbol">→</a> <a id="922" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="924" class="Symbol">_</a>
<a id="926" href="Foundations.Notation.Composition.html#898" class="Function">Trans</a> <a id="932" href="Foundations.Notation.Composition.html#932" class="Bound">R</a> <a id="934" class="Symbol">=</a> <a id="936" href="Foundations.Notation.Composition.html#437" class="Record">Comp</a> <a id="941" href="Foundations.Notation.Composition.html#932" class="Bound">R</a> <a id="943" href="Foundations.Notation.Composition.html#932" class="Bound">R</a> <a id="945" href="Foundations.Notation.Composition.html#932" class="Bound">R</a>


<a id="949" class="Comment">-- unindexed composition is having a chosen binary operation</a>
<a id="1010" class="Keyword">record</a> <a id="Has-binary-op"></a><a id="1017" href="Foundations.Notation.Composition.html#1017" class="Record">Has-binary-op</a> <a id="1031" class="Symbol">{</a><a id="1032" href="Foundations.Notation.Composition.html#1032" class="Bound">ℓ</a><a id="1033" class="Symbol">}</a> <a id="1035" class="Symbol">(</a><a id="1036" href="Foundations.Notation.Composition.html#1036" class="Bound">A</a> <a id="1038" class="Symbol">:</a> <a id="1040" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="1042" href="Foundations.Notation.Composition.html#1032" class="Bound">ℓ</a><a id="1043" class="Symbol">)</a> <a id="1045" class="Symbol">:</a> <a id="1047" href="Foundations.Prim.Type.html#322" class="Primitive">𝒰</a> <a id="1049" href="Foundations.Notation.Composition.html#1032" class="Bound">ℓ</a> <a id="1051" class="Keyword">where</a>
  <a id="1059" class="Keyword">no-eta-equality</a>
  <a id="1077" class="Keyword">infixr</a> <a id="1084" class="Number">6</a> <a id="1086" href="Foundations.Notation.Composition.html#1099" class="Field Operator">_&lt;&gt;_</a>
  <a id="1093" class="Keyword">field</a> <a id="Has-binary-op._&lt;&gt;_"></a><a id="1099" href="Foundations.Notation.Composition.html#1099" class="Field Operator">_&lt;&gt;_</a> <a id="1104" class="Symbol">:</a> <a id="1106" href="Foundations.Notation.Composition.html#1036" class="Bound">A</a> <a id="1108" class="Symbol">→</a> <a id="1110" href="Foundations.Notation.Composition.html#1036" class="Bound">A</a> <a id="1112" class="Symbol">→</a> <a id="1114" href="Foundations.Notation.Composition.html#1036" class="Bound">A</a>
<a id="1116" class="Keyword">open</a> <a id="1121" href="Foundations.Notation.Composition.html#1017" class="Module">Has-binary-op</a> <a id="1135" class="Symbol">⦃</a> <a id="1137" class="Symbol">...</a> <a id="1141" class="Symbol">⦄</a> <a id="1143" class="Keyword">public</a>
<a id="1150" class="Symbol">{-#</a> <a id="1154" class="Keyword">DISPLAY</a> <a id="1162" href="Foundations.Notation.Composition.html#1099" class="Field Operator">Has-binary-op._&lt;&gt;_</a> <a id="1181" class="Pragma">_</a> <a id="1183" href="Foundations.Notation.Composition.html#1183" class="Bound">a</a> <a id="1185" href="Foundations.Notation.Composition.html#1185" class="Bound">b</a> <a id="1187" class="Pragma">=</a> <a id="1189" href="Foundations.Notation.Composition.html#1183" class="Bound">a</a> <a id="1191" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="1194" href="Foundations.Notation.Composition.html#1185" class="Bound">b</a> <a id="1196" class="Symbol">#-}</a>


<a id="1202" class="Keyword">instance</a>
  <a id="Has-binary-op→Trans"></a><a id="1213" href="Foundations.Notation.Composition.html#1213" class="Function">Has-binary-op→Trans</a>
    <a id="1237" class="Symbol">:</a> <a id="1239" class="Symbol">⦃</a> <a id="1241" href="Foundations.Notation.Composition.html#1017" class="Record">Has-binary-op</a> <a id="1255" href="Foundations.Notation.Composition.html#167" class="Generalizable">A</a> <a id="1257" class="Symbol">⦄</a>
    <a id="1263" class="Symbol">→</a> <a id="1265" href="Foundations.Notation.Composition.html#898" class="Function">Trans</a> <a id="1271" class="Symbol">{</a><a id="1272" class="Argument">A</a> <a id="1274" class="Symbol">=</a> <a id="1276" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="1277" class="Symbol">}</a> <a id="1279" class="Symbol">(λ</a> <a id="1282" href="Foundations.Notation.Composition.html#1282" class="Bound">_</a> <a id="1284" href="Foundations.Notation.Composition.html#1284" class="Bound">_</a> <a id="1286" class="Symbol">→</a> <a id="1288" href="Foundations.Notation.Composition.html#167" class="Generalizable">A</a><a id="1289" class="Symbol">)</a>
  <a id="1293" href="Foundations.Notation.Composition.html#1213" class="Function">Has-binary-op→Trans</a> <a id="1313" class="Symbol">.</a><a id="1314" href="Foundations.Notation.Composition.html#530" class="Field Operator">_∙_</a> <a id="1318" class="Symbol">=</a> <a id="1320" href="Foundations.Notation.Composition.html#1099" class="Field Operator">_&lt;&gt;_</a>
  <a id="1327" class="Symbol">{-#</a> <a id="1331" class="Keyword">INCOHERENT</a> <a id="1342" href="Foundations.Notation.Composition.html#1213" class="Function">Has-binary-op→Trans</a> <a id="1362" class="Symbol">#-}</a>
</pre></body></html>