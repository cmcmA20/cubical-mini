<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.IO</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--guardedness</a> <a id="27" class="Symbol">#-}</a>

<a id="32" class="Keyword">module</a> <a id="39" href="Cubical.IO.html" class="Module">Cubical.IO</a> <a id="50" class="Keyword">where</a>

<a id="57" class="Keyword">open</a> <a id="62" class="Keyword">import</a> <a id="69" href="Agda.Builtin.Coinduction.html" class="Module">Agda.Builtin.Coinduction</a>
<a id="94" class="Comment">-- open import Codata.Musical.Costring</a>
<a id="133" class="Keyword">open</a> <a id="138" class="Keyword">import</a> <a id="145" href="Cubical.Data.Unit.Base.html" class="Module">Cubical.Data.Unit.Base</a>
<a id="168" class="Keyword">open</a> <a id="173" class="Keyword">import</a> <a id="180" href="Cubical.Data.String.Base.html" class="Module">Cubical.Data.String.Base</a>
<a id="205" class="Comment">-- import Data.Unit.Base as Unit0</a>
<a id="239" class="Keyword">open</a> <a id="244" class="Keyword">import</a> <a id="251" href="Cubical.Foundations.Function.html" class="Module">Cubical.Foundations.Function</a>
<a id="280" class="Keyword">import</a> <a id="287" href="Cubical.IO.Primitive.html" class="Module">Cubical.IO.Primitive</a> <a id="308" class="Symbol">as</a> <a id="311" class="Module">Prim</a>
<a id="316" class="Keyword">open</a> <a id="321" class="Keyword">import</a> <a id="328" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>

<a id="357" class="Keyword">private</a>
  <a id="367" class="Keyword">variable</a>
    <a id="380" href="Cubical.IO.html#380" class="Generalizable">ℓᵃ</a> <a id="383" href="Cubical.IO.html#383" class="Generalizable">ℓᵇ</a> <a id="386" class="Symbol">:</a> <a id="388" href="Agda.Primitive.html#644" class="Postulate">Level</a>
    <a id="398" href="Cubical.IO.html#398" class="Generalizable">A</a> <a id="400" class="Symbol">:</a> <a id="402" href="Agda.Primitive.html#337" class="Primitive">Type</a> <a id="407" href="Cubical.IO.html#380" class="Generalizable">ℓᵃ</a>
    <a id="414" href="Cubical.IO.html#414" class="Generalizable">B</a> <a id="416" class="Symbol">:</a> <a id="418" href="Agda.Primitive.html#337" class="Primitive">Type</a> <a id="423" href="Cubical.IO.html#383" class="Generalizable">ℓᵇ</a>

<a id="427" class="Comment">------------------------------------------------------------------------</a>
<a id="500" class="Comment">-- Re-exporting the basic type and functions</a>

<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Cubical.IO.Base.html" class="Module">Cubical.IO.Base</a> <a id="574" class="Keyword">public</a>

<a id="582" class="Comment">------------------------------------------------------------------------</a>
<a id="655" class="Comment">-- Utilities</a>

<a id="669" class="Keyword">module</a> <a id="List"></a><a id="676" href="Cubical.IO.html#676" class="Module">List</a> <a id="681" class="Keyword">where</a>

  <a id="690" class="Keyword">open</a> <a id="695" class="Keyword">import</a> <a id="702" href="Cubical.Data.List.Base.html" class="Module">Cubical.Data.List.Base</a>

  <a id="List.sequence"></a><a id="728" href="Cubical.IO.html#728" class="Function">sequence</a> <a id="737" class="Symbol">:</a> <a id="739" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="744" class="Symbol">(</a><a id="745" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="748" href="Cubical.IO.html#398" class="Generalizable">A</a><a id="749" class="Symbol">)</a> <a id="751" class="Symbol">→</a> <a id="753" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="756" class="Symbol">(</a><a id="757" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="762" href="Cubical.IO.html#398" class="Generalizable">A</a><a id="763" class="Symbol">)</a>
  <a id="767" href="Cubical.IO.html#728" class="Function">sequence</a> <a id="776" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>       <a id="785" class="Symbol">=</a> <a id="787" class="Symbol">⦇</a> <a id="789" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="792" class="Symbol">⦈</a>
  <a id="796" href="Cubical.IO.html#728" class="Function">sequence</a> <a id="805" class="Symbol">(</a><a id="806" href="Cubical.IO.html#806" class="Bound">c</a> <a id="808" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="810" href="Cubical.IO.html#810" class="Bound">cs</a><a id="812" class="Symbol">)</a> <a id="814" class="Symbol">=</a> <a id="816" class="Symbol">⦇</a> <a id="818" href="Cubical.IO.html#806" class="Bound">c</a> <a id="820" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="822" href="Cubical.IO.html#728" class="Function">sequence</a> <a id="831" href="Cubical.IO.html#810" class="Bound">cs</a> <a id="834" class="Symbol">⦈</a>

  <a id="839" class="Comment">-- The reason for not defining sequence′ in terms of sequence is</a>
  <a id="906" class="Comment">-- efficiency (the unused results could cause unnecessary memory use).</a>

  <a id="List.sequence′"></a><a id="980" href="Cubical.IO.html#980" class="Function">sequence′</a> <a id="990" class="Symbol">:</a> <a id="992" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="997" class="Symbol">(</a><a id="998" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1001" href="Cubical.IO.html#398" class="Generalizable">A</a><a id="1002" class="Symbol">)</a> <a id="1004" class="Symbol">→</a> <a id="1006" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1009" href="Cubical.Data.Unit.Base.html#211" class="Function">Unit*</a>
  <a id="1017" href="Cubical.IO.html#980" class="Function">sequence′</a> <a id="1027" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>       <a id="1036" class="Symbol">=</a> <a id="1038" href="Cubical.IO.Base.html#955" class="InductiveConstructor">pure</a> <a id="1043" class="Symbol">_</a>
  <a id="1047" href="Cubical.IO.html#980" class="Function">sequence′</a> <a id="1057" class="Symbol">(</a><a id="1058" href="Cubical.IO.html#1058" class="Bound">c</a> <a id="1060" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1062" href="Cubical.IO.html#1062" class="Bound">cs</a><a id="1064" class="Symbol">)</a> <a id="1066" class="Symbol">=</a> <a id="1068" href="Cubical.IO.html#1058" class="Bound">c</a> <a id="1070" href="Cubical.IO.Base.html#1940" class="Function Operator">&gt;&gt;</a> <a id="1073" href="Cubical.IO.html#980" class="Function">sequence′</a> <a id="1083" href="Cubical.IO.html#1062" class="Bound">cs</a>

  <a id="List.mapM"></a><a id="1089" href="Cubical.IO.html#1089" class="Function">mapM</a> <a id="1094" class="Symbol">:</a> <a id="1096" class="Symbol">(</a><a id="1097" href="Cubical.IO.html#398" class="Generalizable">A</a> <a id="1099" class="Symbol">→</a> <a id="1101" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1104" href="Cubical.IO.html#414" class="Generalizable">B</a><a id="1105" class="Symbol">)</a> <a id="1107" class="Symbol">→</a> <a id="1109" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1114" href="Cubical.IO.html#398" class="Generalizable">A</a> <a id="1116" class="Symbol">→</a> <a id="1118" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1121" class="Symbol">(</a><a id="1122" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1127" href="Cubical.IO.html#414" class="Generalizable">B</a><a id="1128" class="Symbol">)</a>
  <a id="1132" href="Cubical.IO.html#1089" class="Function">mapM</a> <a id="1137" href="Cubical.IO.html#1137" class="Bound">f</a> <a id="1139" class="Symbol">=</a> <a id="1141" href="Cubical.IO.html#728" class="Function">sequence</a> <a id="1150" href="Cubical.Foundations.Function.html#653" class="Function Operator">∘</a> <a id="1152" href="Cubical.Data.List.Base.html#600" class="Function">map</a> <a id="1156" href="Cubical.IO.html#1137" class="Bound">f</a>

  <a id="List.mapM′"></a><a id="1161" href="Cubical.IO.html#1161" class="Function">mapM′</a> <a id="1167" class="Symbol">:</a> <a id="1169" class="Symbol">(</a><a id="1170" href="Cubical.IO.html#398" class="Generalizable">A</a> <a id="1172" class="Symbol">→</a> <a id="1174" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1177" href="Cubical.IO.html#414" class="Generalizable">B</a><a id="1178" class="Symbol">)</a> <a id="1180" class="Symbol">→</a> <a id="1182" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1187" href="Cubical.IO.html#398" class="Generalizable">A</a> <a id="1189" class="Symbol">→</a> <a id="1191" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1194" href="Cubical.Data.Unit.Base.html#211" class="Function">Unit*</a>
  <a id="1202" href="Cubical.IO.html#1161" class="Function">mapM′</a> <a id="1208" href="Cubical.IO.html#1208" class="Bound">f</a> <a id="1210" class="Symbol">=</a> <a id="1212" href="Cubical.IO.html#980" class="Function">sequence′</a> <a id="1222" href="Cubical.Foundations.Function.html#653" class="Function Operator">∘</a> <a id="1224" href="Cubical.Data.List.Base.html#600" class="Function">map</a> <a id="1228" href="Cubical.IO.html#1208" class="Bound">f</a>

  <a id="List.forM"></a><a id="1233" href="Cubical.IO.html#1233" class="Function">forM</a> <a id="1238" class="Symbol">:</a> <a id="1240" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1245" href="Cubical.IO.html#398" class="Generalizable">A</a> <a id="1247" class="Symbol">→</a> <a id="1249" class="Symbol">(</a><a id="1250" href="Cubical.IO.html#398" class="Generalizable">A</a> <a id="1252" class="Symbol">→</a> <a id="1254" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1257" href="Cubical.IO.html#414" class="Generalizable">B</a><a id="1258" class="Symbol">)</a> <a id="1260" class="Symbol">→</a> <a id="1262" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1265" class="Symbol">(</a><a id="1266" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1271" href="Cubical.IO.html#414" class="Generalizable">B</a><a id="1272" class="Symbol">)</a>
  <a id="1276" href="Cubical.IO.html#1233" class="Function">forM</a> <a id="1281" class="Symbol">=</a> <a id="1283" href="Cubical.Foundations.Function.html#1124" class="Function">flip</a> <a id="1288" href="Cubical.IO.html#1089" class="Function">mapM</a>

  <a id="List.forM′"></a><a id="1296" href="Cubical.IO.html#1296" class="Function">forM′</a> <a id="1302" class="Symbol">:</a> <a id="1304" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1309" href="Cubical.IO.html#398" class="Generalizable">A</a> <a id="1311" class="Symbol">→</a> <a id="1313" class="Symbol">(</a><a id="1314" href="Cubical.IO.html#398" class="Generalizable">A</a> <a id="1316" class="Symbol">→</a> <a id="1318" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1321" href="Cubical.IO.html#414" class="Generalizable">B</a><a id="1322" class="Symbol">)</a> <a id="1324" class="Symbol">→</a> <a id="1326" href="Cubical.IO.Base.html#880" class="Datatype">IO</a> <a id="1329" href="Cubical.Data.Unit.Base.html#211" class="Function">Unit*</a>
  <a id="1337" href="Cubical.IO.html#1296" class="Function">forM′</a> <a id="1343" class="Symbol">=</a> <a id="1345" href="Cubical.Foundations.Function.html#1124" class="Function">flip</a> <a id="1350" href="Cubical.IO.html#1161" class="Function">mapM′</a>

<a id="1357" class="Comment">------------------------------------------------------------------------</a>
<a id="1430" class="Comment">-- Simple lazy IO</a>

<a id="1449" class="Comment">-- Note that the functions below produce commands which, when</a>
<a id="1511" class="Comment">-- executed, may raise exceptions.</a>

<a id="1547" class="Comment">-- Note also that the semantics of these functions depends on the</a>
<a id="1613" class="Comment">-- version of the Haskell base library. If the version is 4.2.0.0 (or</a>
<a id="1683" class="Comment">-- later?), then the functions use the character encoding specified by</a>
<a id="1754" class="Comment">-- the locale. For older versions of the library (going back to at</a>
<a id="1821" class="Comment">-- least version 3) the functions use ISO-8859-1.</a>

<a id="1872" class="Keyword">open</a> <a id="1877" class="Keyword">import</a> <a id="1884" href="Cubical.IO.Finite.html" class="Module">Cubical.IO.Finite</a> <a id="1902" class="Keyword">public</a>
  <a id="1911" class="Keyword">renaming</a> <a id="1920" class="Symbol">(</a><a id="1921" href="Cubical.IO.Finite.html#1064" class="Function">readFile</a> <a id="1930" class="Symbol">to</a> <a id="1933" class="Function">readFiniteFile</a><a id="1947" class="Symbol">)</a>

<a id="1950" class="Comment">-- open import IO.Infinite public</a>
<a id="1984" class="Comment">--   renaming ( writeFile  to writeFile∞</a>
<a id="2025" class="Comment">--            ; appendFile to appendFile∞</a>
<a id="2067" class="Comment">--            ; putStr     to putStr∞</a>
<a id="2105" class="Comment">--            ; putStrLn   to putStrLn∞</a>
<a id="2145" class="Comment">--            )</a>
</pre></body></html>