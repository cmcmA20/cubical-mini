<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Deriving.Elim</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- Naïm Favier 2023</a>
<a id="21" class="Symbol">{-#</a> <a id="25" class="Keyword">OPTIONS</a> <a id="33" class="Pragma">--safe</a> <a id="40" class="Symbol">#-}</a>
<a id="44" class="Keyword">module</a> <a id="51" href="Meta.Deriving.Elim.html" class="Module">Meta.Deriving.Elim</a> <a id="70" class="Keyword">where</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Meta.Prelude.html" class="Module">Meta.Prelude</a>

<a id="103" class="Keyword">open</a> <a id="108" class="Keyword">import</a> <a id="115" href="Meta.Effect.Alt.html" class="Module">Meta.Effect.Alt</a>
<a id="131" class="Keyword">open</a> <a id="136" class="Keyword">import</a> <a id="143" href="Meta.Effect.Traversable.html" class="Module">Meta.Effect.Traversable</a>
<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Meta.Reflection.Argument.html" class="Module">Meta.Reflection.Argument</a>
<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Meta.Reflection.Base.html" class="Module">Meta.Reflection.Base</a>
<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Meta.Reflection.Neutral.html" class="Module">Meta.Reflection.Neutral</a>
<a id="273" class="Keyword">open</a> <a id="278" class="Keyword">import</a> <a id="285" href="Meta.Reflection.Signature.html" class="Module">Meta.Reflection.Signature</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Meta.Reflection.Subst.html" class="Module">Meta.Reflection.Subst</a>

<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Logic.Discreteness.html" class="Module">Logic.Discreteness</a>

<a id="378" class="Keyword">open</a> <a id="383" class="Keyword">import</a> <a id="390" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Data.Dec.Base.html" class="Module">Data.Dec.Base</a>
<a id="431" class="Keyword">open</a> <a id="436" class="Keyword">import</a> <a id="443" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="459" class="Symbol">as</a> <a id="462" class="Module">Maybe</a>
<a id="468" class="Keyword">open</a> <a id="473" class="Keyword">import</a> <a id="480" href="Data.Maybe.Instances.Bind.html" class="Module">Data.Maybe.Instances.Bind</a>
<a id="506" class="Keyword">open</a> <a id="511" class="Keyword">import</a> <a id="518" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="532" class="Keyword">open</a> <a id="537" class="Keyword">import</a> <a id="544" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="Data.List.Instances.Alt.html" class="Module">Data.List.Instances.Alt</a>
<a id="595" class="Keyword">open</a> <a id="600" class="Keyword">import</a> <a id="607" href="Data.List.Instances.Append.html" class="Module">Data.List.Instances.Append</a>
<a id="634" class="Keyword">open</a> <a id="639" class="Keyword">import</a> <a id="646" href="Data.List.Instances.Discrete.html" class="Module">Data.List.Instances.Discrete</a>
<a id="675" class="Keyword">open</a> <a id="680" class="Keyword">import</a> <a id="687" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="719" class="Keyword">open</a> <a id="724" class="Keyword">import</a> <a id="731" href="Data.List.Instances.Idiom.html" class="Module">Data.List.Instances.Idiom</a>
<a id="757" class="Keyword">open</a> <a id="762" class="Keyword">import</a> <a id="769" href="Data.List.Instances.Traversable.html" class="Module">Data.List.Instances.Traversable</a>
<a id="801" class="Keyword">open</a> <a id="806" class="Keyword">import</a> <a id="813" href="Data.List.Operations.html" class="Module">Data.List.Operations</a>
<a id="834" class="Keyword">open</a> <a id="839" class="Keyword">import</a> <a id="846" href="Data.Maybe.Instances.Alt.html" class="Module">Data.Maybe.Instances.Alt</a>
<a id="871" class="Keyword">open</a> <a id="876" class="Keyword">import</a> <a id="883" href="Data.Maybe.Instances.Traversable.html" class="Module">Data.Maybe.Instances.Traversable</a>
<a id="916" class="Keyword">open</a> <a id="921" class="Keyword">import</a> <a id="928" href="Data.Reflection.html" class="Module">Data.Reflection</a>
<a id="944" class="Keyword">open</a> <a id="949" class="Keyword">import</a> <a id="956" href="Data.String.Instances.Append.html" class="Module">Data.String.Instances.Append</a>

<a id="986" class="Comment">{-
A macro for generating induction principles for (higher, indexed) inductive types.

We support inductive types in the form presented in &quot;Pattern Matching Without K&quot;
by Cockx et al, section 3.1, with the addition of higher inductive types.
Reusing the terminology from that paper, the idea is to translate the constructors
of a data type into corresponding *methods* along with spines that tell us how to
apply them to build the eliminator&#39;s clauses.

When generating an eliminator into (n-2)-types, we automatically omit the methods that
follow from h-level (i.e. those corresponding to constructors with at least n
nested `Pathᴾ`s).

Due to limitations of the reflection interface, path constructors between composites
are not supported.
-}</a>

<a id="Replacements"></a><a id="1732" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a> <a id="1745" class="Symbol">=</a> <a id="1747" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1752" class="Symbol">(</a><a id="1753" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1758" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="1760" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1764" class="Symbol">)</a>

<a id="subst-replacements"></a><a id="1767" href="Meta.Deriving.Elim.html#1767" class="Function">subst-replacements</a> <a id="1786" class="Symbol">:</a> <a id="1788" href="Meta.Reflection.Subst.html#903" class="Datatype">Subst</a> <a id="1794" class="Symbol">→</a> <a id="1796" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a> <a id="1809" class="Symbol">→</a> <a id="1811" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1817" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a>
<a id="1830" href="Meta.Deriving.Elim.html#1767" class="Function">subst-replacements</a> <a id="1849" href="Meta.Deriving.Elim.html#1849" class="Bound">s</a> <a id="1851" href="Meta.Deriving.Elim.html#1851" class="Bound">rs</a> <a id="1854" class="Symbol">=</a> <a id="1856" class="Keyword">do</a>
  <a id="1861" class="Keyword">let</a> <a id="1865" href="Meta.Deriving.Elim.html#1865" class="Bound">u</a> <a id="1867" class="Symbol">=</a> <a id="1869" href="Meta.Effect.Map.html#344" class="Field">map</a> <a id="1873" class="Symbol">(</a><a id="1874" href="Foundations.Sigma.Base.html#868" class="Function">bimap</a> <a id="1880" class="Symbol">(</a><a id="1881" href="Meta.Reflection.Subst.html#2095" class="Field">applyS</a> <a id="1888" href="Meta.Deriving.Elim.html#1849" class="Bound">s</a><a id="1889" class="Symbol">)</a> <a id="1891" class="Symbol">(</a><a id="1892" href="Meta.Reflection.Subst.html#2095" class="Field">applyS</a> <a id="1899" href="Meta.Deriving.Elim.html#1849" class="Bound">s</a><a id="1900" class="Symbol">))</a> <a id="1903" href="Meta.Deriving.Elim.html#1851" class="Bound">rs</a>
  <a id="1908" href="Meta.Effect.Traversable.html#396" class="Function">for</a> <a id="1912" href="Meta.Deriving.Elim.html#1865" class="Bound">u</a> <a id="1914" class="Symbol">λ</a> <a id="1916" class="Keyword">where</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Meta.Deriving.Elim.html#1923" class="Bound">ma</a> <a id="1926" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1928" href="Meta.Deriving.Elim.html#1928" class="Bound">mb</a><a id="1930" class="Symbol">)</a> <a id="1932" class="Symbol">→</a> <a id="1934" class="Symbol">⦇</a> <a id="1936" href="Meta.Deriving.Elim.html#1923" class="Bound">ma</a> <a id="1939" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1941" href="Meta.Deriving.Elim.html#1928" class="Bound">mb</a> <a id="1944" class="Symbol">⦈</a>

<a id="1947" class="Keyword">instance</a>
  <a id="Has-subst-Replacements"></a><a id="1958" href="Meta.Deriving.Elim.html#1958" class="Function">Has-subst-Replacements</a> <a id="1981" class="Symbol">:</a> <a id="1983" href="Meta.Reflection.Subst.html#2038" class="Record">Has-subst</a> <a id="1993" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a>
  <a id="2008" href="Meta.Deriving.Elim.html#1958" class="Function">Has-subst-Replacements</a> <a id="2031" class="Symbol">=</a> <a id="2033" class="Keyword">record</a> <a id="2040" class="Symbol">{</a> <a id="2042" href="Meta.Reflection.Subst.html#2095" class="Field">applyS</a> <a id="2049" class="Symbol">=</a> <a id="2051" href="Meta.Deriving.Elim.html#1767" class="Function">subst-replacements</a> <a id="2070" class="Symbol">}</a>

<a id="2073" class="Keyword">record</a> <a id="Elim-options"></a><a id="2080" href="Meta.Deriving.Elim.html#2080" class="Record">Elim-options</a> <a id="2093" class="Symbol">:</a> <a id="2095" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="2100" class="Keyword">where</a>
  <a id="2108" class="Keyword">field</a>
    <a id="2118" class="Comment">-- Whether to generate an induction principle or a recursion principle.</a>
    <a id="2194" class="Comment">-- (P : D → Type ℓ) vs (P : Type ℓ)</a>
    <a id="Elim-options.induction"></a><a id="2234" href="Meta.Deriving.Elim.html#2234" class="Field">induction</a> <a id="2244" class="Symbol">:</a> <a id="2246" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2256" class="Comment">-- If `just n`, assume the motive has hlevel n and omit methods accordingly.</a>
    <a id="Elim-options.into-hlevel"></a><a id="2337" href="Meta.Deriving.Elim.html#2337" class="Field">into-hlevel</a> <a id="2349" class="Symbol">:</a> <a id="2351" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2357" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

    <a id="2364" class="Comment">-- Hide the motive argument in the eliminator&#39;s type?</a>
    <a id="2422" class="Comment">-- (P : D → Type ℓ) vs. {P : D → Type ℓ}</a>
    <a id="Elim-options.hide-motive"></a><a id="2467" href="Meta.Deriving.Elim.html#2467" class="Field">hide-motive</a> <a id="2479" class="Symbol">:</a> <a id="2481" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2491" class="Comment">-- Hide the indices in the motive&#39;s type?</a>
    <a id="2537" class="Comment">-- (P : (is : Ξ) → D is → Type ℓ) vs. (P : {is : Ξ} → D is → Type ℓ)</a>
    <a id="Elim-options.hide-indices"></a><a id="2610" href="Meta.Deriving.Elim.html#2610" class="Field">hide-indices</a> <a id="2623" class="Symbol">:</a> <a id="2625" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2635" class="Comment">-- Hide non-inductive hypotheses in method types?</a>
    <a id="2689" class="Comment">-- (Psup : (x : A) (f : B x → W A B) (Pf : ∀ b → P (f b)) → P (sup x f))</a>
    <a id="2766" class="Comment">-- vs.</a>
    <a id="2777" class="Comment">-- (Psup : {x : A} {f : B x → W A B} (Pf : ∀ b → P (f b)) → P (sup x f))</a>
    <a id="2854" class="Comment">-- Arguments hidden in the constructor&#39;s type are always hidden.</a>
    <a id="Elim-options.hide-cons-args"></a><a id="2923" href="Meta.Deriving.Elim.html#2923" class="Field">hide-cons-args</a> <a id="2938" class="Symbol">:</a> <a id="2940" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="2946" class="Keyword">private</a>
 <a id="2955" class="Keyword">module</a> <a id="Induction"></a><a id="2962" href="Meta.Deriving.Elim.html#2962" class="Module">Induction</a>
  <a id="2974" class="Symbol">(</a><a id="2975" href="Meta.Deriving.Elim.html#2975" class="Bound">opts</a> <a id="2980" class="Symbol">:</a> <a id="2982" href="Meta.Deriving.Elim.html#2080" class="Record">Elim-options</a><a id="2994" class="Symbol">)</a>
  <a id="2998" class="Symbol">(</a><a id="2999" href="Meta.Deriving.Elim.html#2999" class="Bound">D</a> <a id="3001" class="Symbol">:</a> <a id="3003" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="3007" class="Symbol">)</a> <a id="3009" class="Symbol">(</a><a id="3010" href="Meta.Deriving.Elim.html#3010" class="Bound">pars</a> <a id="3015" class="Symbol">:</a> <a id="3017" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3018" class="Symbol">)</a> <a id="3020" class="Symbol">(</a><a id="3021" href="Meta.Deriving.Elim.html#3021" class="Bound">ix-tel</a> <a id="3028" class="Symbol">:</a> <a id="3030" href="Data.Reflection.Term.html#800" class="Function">Telescope</a><a id="3039" class="Symbol">)</a> <a id="3041" class="Symbol">(</a><a id="3042" href="Meta.Deriving.Elim.html#3042" class="Bound">cs</a> <a id="3045" class="Symbol">:</a> <a id="3047" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3052" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="3056" class="Symbol">)</a>
  <a id="3060" class="Keyword">where</a>

  <a id="3069" class="Keyword">open</a> <a id="3074" href="Meta.Deriving.Elim.html#2080" class="Module">Elim-options</a> <a id="3087" href="Meta.Deriving.Elim.html#2975" class="Bound">opts</a>

  <a id="3095" class="Comment">-- Given a term c : T, produce a replacement c↑ : T↑ (see below).</a>
  <a id="3163" class="Comment">-- The Replacements argument maps constructors and variables to their</a>
  <a id="3235" class="Comment">-- lifted version.</a>
  <a id="Induction.replace"></a><a id="3256" href="Meta.Deriving.Elim.html#3256" class="Function">replace</a>  <a id="3265" class="Symbol">:</a> <a id="3267" class="Symbol">(</a><a id="3268" href="Meta.Deriving.Elim.html#3268" class="Bound">fuel</a> <a id="3273" class="Symbol">:</a> <a id="3275" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3276" class="Symbol">)</a> <a id="3278" class="Symbol">→</a> <a id="3280" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a> <a id="3293" class="Symbol">→</a> <a id="3295" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3300" class="Symbol">→</a> <a id="3302" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3308" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="Induction.replace*"></a><a id="3315" href="Meta.Deriving.Elim.html#3315" class="Function">replace*</a> <a id="3324" class="Symbol">:</a> <a id="3326" class="Symbol">(</a><a id="3327" href="Meta.Deriving.Elim.html#3327" class="Bound">fuel</a> <a id="3332" class="Symbol">:</a> <a id="3334" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3335" class="Symbol">)</a> <a id="3337" class="Symbol">→</a> <a id="3339" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a> <a id="3352" class="Symbol">→</a> <a id="3354" href="Data.Reflection.Term.html#838" class="Function">Args</a> <a id="3359" class="Symbol">→</a> <a id="3361" href="Data.Reflection.Term.html#838" class="Function">Args</a>

  <a id="Induction.lookupR"></a><a id="3369" href="Meta.Deriving.Elim.html#3369" class="Function">lookupR</a> <a id="3377" class="Symbol">:</a> <a id="3379" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3384" class="Symbol">→</a> <a id="3386" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a> <a id="3399" class="Symbol">→</a> <a id="3401" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3407" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="3414" href="Meta.Deriving.Elim.html#3369" class="Function">lookupR</a> <a id="3422" href="Meta.Deriving.Elim.html#3422" class="Bound">t</a> <a id="3424" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3427" class="Symbol">=</a> <a id="3429" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="3439" href="Meta.Deriving.Elim.html#3369" class="Function">lookupR</a> <a id="3447" href="Meta.Deriving.Elim.html#3447" class="Bound">t</a><a id="3448" class="Symbol">@(</a><a id="3450" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3454" href="Meta.Deriving.Elim.html#3454" class="Bound">c</a> <a id="3456" class="Symbol">_)</a> <a id="3459" class="Symbol">((</a><a id="3461" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3465" href="Meta.Deriving.Elim.html#3465" class="Bound">c′</a> <a id="3468" class="Symbol">_</a> <a id="3470" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3472" href="Meta.Deriving.Elim.html#3472" class="Bound">r</a><a id="3473" class="Symbol">)</a> <a id="3475" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3477" href="Meta.Deriving.Elim.html#3477" class="Bound">rs</a><a id="3479" class="Symbol">)</a> <a id="3481" class="Keyword">with</a> <a id="3486" href="Meta.Deriving.Elim.html#3454" class="Bound">c</a> <a id="3488" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">name=?</a> <a id="3495" href="Meta.Deriving.Elim.html#3465" class="Bound">c′</a>
  <a id="3500" class="Symbol">...</a> <a id="3504" class="Symbol">|</a> <a id="3506" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3512" class="Symbol">=</a> <a id="3514" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3519" class="Bound">r</a>
  <a id="3523" class="Symbol">...</a> <a id="3527" class="Symbol">|</a> <a id="3529" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3535" class="Symbol">=</a> <a id="3537" href="Meta.Deriving.Elim.html#3369" class="Function">lookupR</a> <a id="3545" class="Bound">t</a> <a id="3547" class="Bound">rs</a>
  <a id="3552" href="Meta.Deriving.Elim.html#3369" class="Function">lookupR</a> <a id="3560" href="Meta.Deriving.Elim.html#3560" class="Bound">t</a><a id="3561" class="Symbol">@(</a><a id="3563" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3567" href="Meta.Deriving.Elim.html#3567" class="Bound">i</a> <a id="3569" class="Symbol">_)</a> <a id="3572" class="Symbol">((</a><a id="3574" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3578" href="Meta.Deriving.Elim.html#3578" class="Bound">i′</a> <a id="3581" class="Symbol">_</a> <a id="3583" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3585" href="Meta.Deriving.Elim.html#3585" class="Bound">r</a><a id="3586" class="Symbol">)</a> <a id="3588" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3590" href="Meta.Deriving.Elim.html#3590" class="Bound">rs</a><a id="3592" class="Symbol">)</a> <a id="3594" class="Keyword">with</a> <a id="3599" href="Meta.Deriving.Elim.html#3567" class="Bound">i</a> <a id="3601" href="Agda.Builtin.Nat.html#631" class="Primitive Operator">==</a> <a id="3604" href="Meta.Deriving.Elim.html#3578" class="Bound">i′</a>
  <a id="3609" class="Symbol">...</a> <a id="3613" class="Symbol">|</a> <a id="3615" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3621" class="Symbol">=</a> <a id="3623" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3628" class="Bound">r</a>
  <a id="3632" class="Symbol">...</a> <a id="3636" class="Symbol">|</a> <a id="3638" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3644" class="Symbol">=</a> <a id="3646" href="Meta.Deriving.Elim.html#3369" class="Function">lookupR</a> <a id="3654" class="Bound">t</a> <a id="3656" class="Bound">rs</a>
  <a id="3661" href="Meta.Deriving.Elim.html#3369" class="CatchallClause Function">lookupR</a><a id="3668" class="CatchallClause"> </a><a id="3669" href="Meta.Deriving.Elim.html#3669" class="CatchallClause Bound">t</a><a id="3670" class="CatchallClause"> </a><a id="3671" class="CatchallClause Symbol">(_</a><a id="3673" class="CatchallClause"> </a><a id="3674" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3675" class="CatchallClause"> </a><a id="3676" href="Meta.Deriving.Elim.html#3676" class="CatchallClause Bound">rs</a><a id="3678" class="CatchallClause Symbol">)</a> <a id="3680" class="Symbol">=</a> <a id="3682" href="Meta.Deriving.Elim.html#3369" class="Function">lookupR</a> <a id="3690" href="Meta.Deriving.Elim.html#3669" class="Bound">t</a> <a id="3692" href="Meta.Deriving.Elim.html#3676" class="Bound">rs</a>

  <a id="3698" href="Meta.Deriving.Elim.html#3256" class="Function">replace</a> <a id="3706" class="Number">0</a> <a id="3708" class="Symbol">_</a> <a id="3710" class="Symbol">_</a> <a id="3712" class="Symbol">=</a> <a id="3714" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="3724" href="Meta.Deriving.Elim.html#3256" class="Function">replace</a> <a id="3732" class="Symbol">(</a><a id="3733" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3737" href="Meta.Deriving.Elim.html#3737" class="Bound">fuel</a><a id="3741" class="Symbol">)</a> <a id="3743" href="Meta.Deriving.Elim.html#3743" class="Bound">rs</a> <a id="3746" class="Symbol">(</a><a id="3747" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="3751" href="Meta.Deriving.Elim.html#3751" class="Bound">v</a> <a id="3753" class="Symbol">(</a><a id="3754" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3758" href="Meta.Deriving.Elim.html#3758" class="Bound">n</a> <a id="3760" href="Meta.Deriving.Elim.html#3760" class="Bound">t</a><a id="3761" class="Symbol">))</a> <a id="3764" class="Symbol">=</a> <a id="3766" class="Keyword">do</a>
    <a id="3773" href="Meta.Deriving.Elim.html#3773" class="Bound">rs′</a> <a id="3777" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="3779" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="3785" class="Number">1</a> <a id="3787" href="Meta.Deriving.Elim.html#3743" class="Bound">rs</a>
    <a id="3794" href="Meta.Deriving.Elim.html#3794" class="Bound">t′</a>  <a id="3798" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="3800" href="Meta.Deriving.Elim.html#3256" class="Function">replace</a> <a id="3808" href="Meta.Deriving.Elim.html#3737" class="Bound">fuel</a> <a id="3813" href="Meta.Deriving.Elim.html#3773" class="Bound">rs′</a> <a id="3817" href="Meta.Deriving.Elim.html#3760" class="Bound">t</a>
    <a id="3823" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="3828" class="Symbol">(</a><a id="3829" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="3833" href="Meta.Deriving.Elim.html#3751" class="Bound">v</a> <a id="3835" class="Symbol">(</a><a id="3836" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3840" href="Meta.Deriving.Elim.html#3758" class="Bound">n</a> <a id="3842" href="Meta.Deriving.Elim.html#3794" class="Bound">t′</a><a id="3844" class="Symbol">))</a>
  <a id="3849" href="Meta.Deriving.Elim.html#3256" class="Function">replace</a> <a id="3857" class="Symbol">(</a><a id="3858" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3862" href="Meta.Deriving.Elim.html#3862" class="Bound">fuel</a><a id="3866" class="Symbol">)</a> <a id="3868" href="Meta.Deriving.Elim.html#3868" class="Bound">rs</a> <a id="3871" href="Meta.Deriving.Elim.html#3871" class="Bound">t</a><a id="3872" class="Symbol">@(</a><a id="3874" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3878" href="Meta.Deriving.Elim.html#3878" class="Bound">c</a> <a id="3880" href="Meta.Deriving.Elim.html#3880" class="Bound">args</a><a id="3884" class="Symbol">)</a> <a id="3886" class="Symbol">=</a> <a id="3888" class="Keyword">do</a>
    <a id="3895" href="Meta.Deriving.Elim.html#3895" class="Bound">r</a> <a id="3897" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="3899" href="Meta.Deriving.Elim.html#3369" class="Function">lookupR</a> <a id="3907" href="Meta.Deriving.Elim.html#3871" class="Bound">t</a> <a id="3909" href="Meta.Deriving.Elim.html#3868" class="Bound">rs</a>
    <a id="3916" href="Meta.Reflection.Subst.html#3499" class="Function">apply-tm*</a> <a id="3926" href="Meta.Deriving.Elim.html#3862" class="Bound">fuel</a> <a id="3931" href="Meta.Deriving.Elim.html#3895" class="Bound">r</a> <a id="3933" class="Symbol">(</a><a id="3934" href="Meta.Deriving.Elim.html#3315" class="Function">replace*</a> <a id="3943" href="Meta.Deriving.Elim.html#3862" class="Bound">fuel</a> <a id="3948" href="Meta.Deriving.Elim.html#3868" class="Bound">rs</a> <a id="3951" class="Symbol">(</a><a id="3952" href="Data.List.Operations.html#2328" class="Function">drop</a> <a id="3957" href="Meta.Deriving.Elim.html#3010" class="Bound">pars</a> <a id="3962" href="Meta.Deriving.Elim.html#3880" class="Bound">args</a><a id="3966" class="Symbol">))</a>
  <a id="3971" href="Meta.Deriving.Elim.html#3256" class="Function">replace</a> <a id="3979" class="Symbol">(</a><a id="3980" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3984" href="Meta.Deriving.Elim.html#3984" class="Bound">fuel</a><a id="3988" class="Symbol">)</a> <a id="3990" href="Meta.Deriving.Elim.html#3990" class="Bound">rs</a> <a id="3993" href="Meta.Deriving.Elim.html#3993" class="Bound">t</a><a id="3994" class="Symbol">@(</a><a id="3996" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="4000" href="Meta.Deriving.Elim.html#4000" class="Bound">i</a> <a id="4002" href="Meta.Deriving.Elim.html#4002" class="Bound">args</a><a id="4006" class="Symbol">)</a> <a id="4008" class="Symbol">=</a> <a id="4010" class="Keyword">do</a>
    <a id="4017" href="Meta.Deriving.Elim.html#4017" class="Bound">r</a> <a id="4019" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="4021" href="Meta.Deriving.Elim.html#3369" class="Function">lookupR</a> <a id="4029" href="Meta.Deriving.Elim.html#3993" class="Bound">t</a> <a id="4031" href="Meta.Deriving.Elim.html#3990" class="Bound">rs</a>
    <a id="4038" href="Meta.Reflection.Subst.html#3499" class="Function">apply-tm*</a> <a id="4048" href="Meta.Deriving.Elim.html#3984" class="Bound">fuel</a> <a id="4053" href="Meta.Deriving.Elim.html#4017" class="Bound">r</a> <a id="4055" class="Symbol">(</a><a id="4056" href="Meta.Deriving.Elim.html#3315" class="Function">replace*</a> <a id="4065" href="Meta.Deriving.Elim.html#3984" class="Bound">fuel</a> <a id="4070" href="Meta.Deriving.Elim.html#3990" class="Bound">rs</a> <a id="4073" href="Meta.Deriving.Elim.html#4002" class="Bound">args</a><a id="4077" class="Symbol">)</a>
  <a id="4081" href="Meta.Deriving.Elim.html#3256" class="CatchallClause Function">replace</a><a id="4088" class="CatchallClause"> </a><a id="4089" class="CatchallClause Symbol">(</a><a id="4090" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="4093" class="CatchallClause"> </a><a id="4094" href="Meta.Deriving.Elim.html#4094" class="CatchallClause Bound">fuel</a><a id="4098" class="CatchallClause Symbol">)</a><a id="4099" class="CatchallClause"> </a><a id="4100" href="Meta.Deriving.Elim.html#4100" class="CatchallClause Bound">rs</a><a id="4102" class="CatchallClause"> </a><a id="4103" class="CatchallClause Symbol">_</a> <a id="4105" class="Symbol">=</a> <a id="4107" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="4118" href="Meta.Deriving.Elim.html#3315" class="Function">replace*</a> <a id="4127" class="Number">0</a> <a id="4129" class="Symbol">_</a> <a id="4131" class="Symbol">_</a> <a id="4133" class="Symbol">=</a> <a id="4135" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="4140" href="Meta.Deriving.Elim.html#3315" class="Function">replace*</a> <a id="4149" class="Symbol">(</a><a id="4150" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4154" href="Meta.Deriving.Elim.html#4154" class="Bound">fuel</a><a id="4158" class="Symbol">)</a> <a id="4160" href="Meta.Deriving.Elim.html#4160" class="Bound">rs</a> <a id="4163" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4166" class="Symbol">=</a> <a id="4168" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="4173" href="Meta.Deriving.Elim.html#3315" class="Function">replace*</a> <a id="4182" class="Symbol">(</a><a id="4183" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4187" href="Meta.Deriving.Elim.html#4187" class="Bound">fuel</a><a id="4191" class="Symbol">)</a> <a id="4193" href="Meta.Deriving.Elim.html#4193" class="Bound">rs</a> <a id="4196" class="Symbol">(</a><a id="4197" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4201" href="Meta.Deriving.Elim.html#4201" class="Bound">ai</a> <a id="4204" href="Meta.Deriving.Elim.html#4204" class="Bound">t</a> <a id="4206" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4208" href="Meta.Deriving.Elim.html#4208" class="Bound">as</a><a id="4210" class="Symbol">)</a> <a id="4212" class="Keyword">with</a> <a id="4217" href="Meta.Deriving.Elim.html#3256" class="Function">replace</a> <a id="4225" href="Meta.Deriving.Elim.html#4187" class="Bound">fuel</a> <a id="4230" href="Meta.Deriving.Elim.html#4193" class="Bound">rs</a> <a id="4233" href="Meta.Deriving.Elim.html#4204" class="Bound">t</a>
  <a id="4237" class="Symbol">...</a> <a id="4241" class="Symbol">|</a> <a id="4243" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4248" href="Meta.Deriving.Elim.html#4248" class="Bound">t′</a> <a id="4251" class="Symbol">=</a> <a id="4253" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="4261" href="Meta.Deriving.Elim.html#2923" class="Function">hide-cons-args</a> <a id="4276" class="Symbol">(</a><a id="4277" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4281" class="Bound">ai</a> <a id="4284" class="Bound">t</a><a id="4285" class="Symbol">)</a> <a id="4287" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4289" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4293" class="Bound">ai</a> <a id="4296" href="Meta.Deriving.Elim.html#4248" class="Bound">t′</a> <a id="4299" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4301" href="Meta.Deriving.Elim.html#3315" class="Function">replace*</a> <a id="4310" class="Bound">fuel</a> <a id="4315" class="Bound">rs</a> <a id="4318" class="Bound">as</a>
  <a id="4323" class="Symbol">...</a> <a id="4327" class="Symbol">|</a> <a id="4329" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4337" class="Symbol">=</a> <a id="4339" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4343" class="Bound">ai</a> <a id="4346" class="Bound">t</a> <a id="4348" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4350" href="Meta.Deriving.Elim.html#3315" class="Function">replace*</a> <a id="4359" class="Bound">fuel</a> <a id="4364" class="Bound">rs</a> <a id="4367" class="Bound">as</a>

  <a id="4373" class="Comment">{-
  The main part of the algorithm: computes the method associated to a constructor.

  In detail, given
    a motive `P : (is : Ξ) → D ps is → Type ℓ`
    a term `c : T = Δ → D ps is`
  produces
    the &quot;lifted&quot; type `T↑ = Δ↑ → P is (c ρ)`
      where `Δ↑ ⊢ ρ : Δ` is an embedding
      where types of the form `S = Φ → D ps is` in Δ are replaced recursively with `{S}, S↑` in Δ↑
      (this only occurs with a recursion depth of 1 due to strict positivity)
    and a spine α such that
      rec : Π P, Δ ⊢ α : Δ↑
      where Π P = (is : Ξ) → (d : D ps is) → P is d
  or nothing if T doesn&#39;t end in `D ps`.

  Example: W A B
    sup : (a : A) (f : B a → W A B) → W A B
      f : B a → W A B
      display f = ((b : B a) → P (f b))
                , (_ : Π P, b : B a ⊢ b : B a)
    display sup = ((a : A) {f : B a → W A B} (pf : ∀ b → P (f b)) → P (sup a f))
                , (rec : Π P, a : A, f : B a → W A B ⊢ a, {f}, (λ b → rec (f b)))
  -}</a>

  <a id="Induction.display"></a><a id="5324" href="Meta.Deriving.Elim.html#5324" class="Function">display</a>
    <a id="5336" class="Symbol">:</a> <a id="5338" class="Symbol">(</a><a id="5339" href="Meta.Deriving.Elim.html#5339" class="Bound">fuel</a> <a id="5344" href="Meta.Deriving.Elim.html#5344" class="Bound">depth</a> <a id="5350" class="Symbol">:</a> <a id="5352" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="5353" class="Symbol">)</a>
    <a id="5359" class="Symbol">→</a> <a id="5361" class="Symbol">(</a><a id="5362" href="Meta.Deriving.Elim.html#5362" class="Bound">ps</a> <a id="5365" class="Symbol">:</a> <a id="5367" href="Data.Reflection.Term.html#838" class="Function">Args</a><a id="5371" class="Symbol">)</a> <a id="5373" class="Comment">-- D&#39;s parameters</a>
    <a id="5395" class="Symbol">→</a> <a id="5397" class="Symbol">(</a><a id="5398" href="Meta.Deriving.Elim.html#5398" class="Bound">P</a> <a id="5400" class="Symbol">:</a> <a id="5402" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5406" class="Symbol">)</a>
    <a id="5412" class="Symbol">→</a> <a id="5414" class="Symbol">(</a><a id="5415" href="Meta.Deriving.Elim.html#5415" class="Bound">rs</a> <a id="5418" class="Symbol">:</a> <a id="5420" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a><a id="5432" class="Symbol">)</a> <a id="5434" class="Comment">-- a list of replacements from terms to their lifted version,</a>
                          <a id="5522" class="Comment">-- used for correcting path boundaries</a>
    <a id="5565" class="Symbol">→</a> <a id="5567" class="Symbol">(</a><a id="5568" href="Meta.Deriving.Elim.html#5568" class="Bound">rec</a> <a id="5572" class="Symbol">:</a> <a id="5574" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5578" class="Symbol">)</a> <a id="5580" class="Comment">-- a variable for explicit recursion</a>
    <a id="5621" class="Symbol">→</a> <a id="5623" class="Symbol">(</a><a id="5624" href="Meta.Deriving.Elim.html#5624" class="Bound">α</a> <a id="5626" class="Symbol">:</a> <a id="5628" href="Data.Reflection.Term.html#838" class="Function">Args</a><a id="5632" class="Symbol">)</a> <a id="5634" class="Comment">-- accumulator for the spine</a>
    <a id="5667" class="Symbol">→</a> <a id="5669" class="Symbol">(</a><a id="5670" href="Meta.Deriving.Elim.html#5670" class="Bound">c</a> <a id="5672" class="Symbol">:</a> <a id="5674" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5678" class="Symbol">)</a> <a id="5680" class="Symbol">(</a><a id="5681" href="Meta.Deriving.Elim.html#5681" class="Bound">T</a> <a id="5683" class="Symbol">:</a> <a id="5685" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5689" class="Symbol">)</a>
    <a id="5695" class="Symbol">→</a> <a id="5697" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5703" class="Symbol">(</a><a id="5704" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5709" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="5711" href="Data.Reflection.Term.html#838" class="Function">Args</a><a id="5715" class="Symbol">)</a> <a id="5717" class="Comment">-- (T↑ , α)</a>
  <a id="5731" href="Meta.Deriving.Elim.html#5324" class="Function">display</a> <a id="5739" class="Number">0</a> <a id="5741" class="Symbol">_</a> <a id="5743" class="Symbol">_</a> <a id="5745" class="Symbol">_</a> <a id="5747" class="Symbol">_</a> <a id="5749" class="Symbol">_</a> <a id="5751" class="Symbol">_</a> <a id="5753" class="Symbol">_</a> <a id="5755" class="Symbol">_</a> <a id="5757" class="Symbol">=</a> <a id="5759" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="5769" href="Meta.Deriving.Elim.html#5324" class="Function">display</a> <a id="5777" class="Symbol">(</a><a id="5778" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5782" href="Meta.Deriving.Elim.html#5782" class="Bound">fuel</a><a id="5786" class="Symbol">)</a> <a id="5788" href="Meta.Deriving.Elim.html#5788" class="Bound">depth</a> <a id="5794" href="Meta.Deriving.Elim.html#5794" class="Bound">ps</a> <a id="5797" href="Meta.Deriving.Elim.html#5797" class="Bound">P</a> <a id="5799" href="Meta.Deriving.Elim.html#5799" class="Bound">rs</a> <a id="5802" href="Meta.Deriving.Elim.html#5802" class="Bound">rec</a> <a id="5806" href="Meta.Deriving.Elim.html#5806" class="Bound">α</a> <a id="5808" href="Meta.Deriving.Elim.html#5808" class="Bound">c</a> <a id="5810" class="Symbol">(</a><a id="5811" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="5814" class="Symbol">(</a><a id="5815" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5819" href="Meta.Deriving.Elim.html#5819" class="Bound">ai</a> <a id="5822" href="Meta.Deriving.Elim.html#5822" class="Bound">x</a><a id="5823" class="Symbol">)</a> <a id="5825" class="Symbol">(</a><a id="5826" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="5830" href="Meta.Deriving.Elim.html#5830" class="Bound">n</a> <a id="5832" href="Meta.Deriving.Elim.html#5832" class="Bound">y</a><a id="5833" class="Symbol">))</a> <a id="5836" class="Symbol">=</a> <a id="5838" class="Keyword">do</a>
    <a id="5845" href="Meta.Deriving.Elim.html#5845" class="Bound">ps</a>  <a id="5849" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="5851" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="5857" class="Number">1</a> <a id="5859" href="Meta.Deriving.Elim.html#5794" class="Bound">ps</a>
    <a id="5866" href="Meta.Deriving.Elim.html#5866" class="Bound">P</a>   <a id="5870" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="5872" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="5878" class="Number">1</a> <a id="5880" href="Meta.Deriving.Elim.html#5797" class="Bound">P</a>
    <a id="5886" href="Meta.Deriving.Elim.html#5886" class="Bound">rs</a>  <a id="5890" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="5892" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="5898" class="Number">1</a> <a id="5900" href="Meta.Deriving.Elim.html#5799" class="Bound">rs</a>
    <a id="5907" href="Meta.Deriving.Elim.html#5907" class="Bound">rec</a> <a id="5911" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="5913" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="5919" class="Number">1</a> <a id="5921" href="Meta.Deriving.Elim.html#5802" class="Bound">rec</a>
    <a id="5929" href="Meta.Deriving.Elim.html#5929" class="Bound">α</a>   <a id="5933" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="5935" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="5941" class="Number">1</a> <a id="5943" href="Meta.Deriving.Elim.html#5806" class="Bound">α</a>
    <a id="5949" href="Meta.Deriving.Elim.html#5949" class="Bound">c</a>   <a id="5953" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="5955" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="5961" class="Number">1</a> <a id="5963" href="Meta.Deriving.Elim.html#5808" class="Bound">c</a>
    <a id="5969" class="Keyword">let</a> <a id="5973" href="Meta.Deriving.Elim.html#5973" class="Bound">base</a> <a id="5978" class="Symbol">=</a> <a id="5980" class="Keyword">do</a>
      <a id="5989" href="Meta.Deriving.Elim.html#5989" class="Bound">c</a> <a id="5991" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="5993" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="5998" href="Meta.Deriving.Elim.html#5949" class="Bound">c</a> <a id="6000" href="Meta.Reflection.Subst.html#6799" class="Function Operator">&lt;#&gt;</a> <a id="6004" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6008" href="Meta.Deriving.Elim.html#5819" class="Bound">ai</a> <a id="6011" class="Symbol">(</a><a id="6012" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="6017" class="Number">0</a><a id="6018" class="Symbol">)</a>
      <a id="6026" class="Keyword">let</a> <a id="6030" href="Meta.Deriving.Elim.html#6030" class="Bound">α</a> <a id="6032" class="Symbol">=</a> <a id="6034" href="Meta.Deriving.Elim.html#5929" class="Bound">α</a> <a id="6036" href="Data.List.Operations.html#444" class="Function Operator">∷r</a> <a id="6039" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6047" href="Meta.Deriving.Elim.html#2923" class="Function">hide-cons-args</a> <a id="6062" class="Symbol">(</a><a id="6063" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6067" href="Meta.Deriving.Elim.html#5819" class="Bound">ai</a> <a id="6070" class="Symbol">(</a><a id="6071" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="6076" class="Number">0</a><a id="6077" class="Symbol">))</a>
      <a id="6086" href="Meta.Deriving.Elim.html#5324" class="Function">display</a> <a id="6094" href="Meta.Deriving.Elim.html#5782" class="Bound">fuel</a> <a id="6099" href="Meta.Deriving.Elim.html#5788" class="Bound">depth</a> <a id="6105" href="Meta.Deriving.Elim.html#5845" class="Bound">ps</a> <a id="6108" href="Meta.Deriving.Elim.html#5866" class="Bound">P</a> <a id="6110" href="Meta.Deriving.Elim.html#5886" class="Bound">rs</a> <a id="6113" href="Meta.Deriving.Elim.html#5907" class="Bound">rec</a> <a id="6117" href="Meta.Deriving.Elim.html#6030" class="Bound">α</a> <a id="6119" href="Meta.Deriving.Elim.html#5989" class="Bound">c</a> <a id="6121" href="Meta.Deriving.Elim.html#5832" class="Bound">y</a> <a id="6123" href="Meta.Effect.Map.html#604" class="Function Operator">&lt;&amp;&gt;</a> <a id="6127" href="Foundations.Sigma.Base.html#1223" class="Function">first</a> <a id="6133" class="Symbol">λ</a> <a id="6135" href="Meta.Deriving.Elim.html#6135" class="Bound">y</a> <a id="6137" class="Symbol">→</a>
        <a id="6147" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6150" class="Symbol">(</a><a id="6151" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6159" href="Meta.Deriving.Elim.html#2923" class="Function">hide-cons-args</a> <a id="6174" class="Symbol">(</a><a id="6175" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6179" href="Meta.Deriving.Elim.html#5819" class="Bound">ai</a> <a id="6182" href="Meta.Deriving.Elim.html#5822" class="Bound">x</a><a id="6183" class="Symbol">))</a> <a id="6186" class="Symbol">(</a><a id="6187" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6191" href="Meta.Deriving.Elim.html#5830" class="Bound">n</a> <a id="6193" href="Meta.Deriving.Elim.html#6135" class="Bound">y</a><a id="6194" class="Symbol">)</a>
    <a id="6200" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6204" href="Meta.Deriving.Elim.html#6204" class="Bound">depth-1</a> <a id="6212" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6214" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="6219" href="Meta.Deriving.Elim.html#5788" class="Bound">depth</a>
      <a id="6231" class="Keyword">where</a> <a id="6237" class="CatchallClause Symbol">_</a> <a id="6239" class="Symbol">→</a> <a id="6241" href="Meta.Deriving.Elim.html#5973" class="Bound">base</a>
    <a id="6250" href="Meta.Deriving.Elim.html#6250" class="Bound">x′</a> <a id="6253" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6255" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="6261" class="Number">1</a> <a id="6263" href="Meta.Deriving.Elim.html#5822" class="Bound">x</a>
    <a id="6269" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6274" class="Symbol">(</a><a id="6275" href="Meta.Deriving.Elim.html#6275" class="Bound">h</a> <a id="6277" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6279" href="Meta.Deriving.Elim.html#6279" class="Bound">α′</a><a id="6281" class="Symbol">)</a> <a id="6283" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6285" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="6290" class="Symbol">(</a><a id="6291" href="Meta.Deriving.Elim.html#5324" class="Function">display</a> <a id="6299" href="Meta.Deriving.Elim.html#5782" class="Bound">fuel</a> <a id="6304" href="Meta.Deriving.Elim.html#6204" class="Bound">depth-1</a> <a id="6312" href="Meta.Deriving.Elim.html#5845" class="Bound">ps</a> <a id="6315" href="Meta.Deriving.Elim.html#5866" class="Bound">P</a> <a id="6317" href="Meta.Deriving.Elim.html#5886" class="Bound">rs</a> <a id="6320" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="6328" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6331" class="Symbol">(</a><a id="6332" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="6337" class="Number">0</a><a id="6338" class="Symbol">)</a> <a id="6340" href="Meta.Deriving.Elim.html#6250" class="Bound">x′</a><a id="6342" class="Symbol">)</a>
      <a id="6350" class="Keyword">where</a> <a id="6356" class="CatchallClause Symbol">_</a> <a id="6358" class="Symbol">→</a> <a id="6360" href="Meta.Deriving.Elim.html#5973" class="Bound">base</a>

    <a id="6370" href="Meta.Deriving.Elim.html#6370" class="Bound">ps</a> <a id="6373" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6375" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="6381" class="Number">1</a> <a id="6383" href="Meta.Deriving.Elim.html#5845" class="Bound">ps</a>
    <a id="6390" href="Meta.Deriving.Elim.html#6390" class="Bound">P</a>  <a id="6393" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6395" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="6401" class="Number">1</a> <a id="6403" href="Meta.Deriving.Elim.html#5866" class="Bound">P</a>
    <a id="6409" href="Meta.Deriving.Elim.html#6409" class="Bound">rs</a> <a id="6412" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6414" class="Symbol">(</a><a id="6415" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="6420" class="Number">1</a> <a id="6422" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6424" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="6429" class="Number">0</a><a id="6430" class="Symbol">)</a> <a id="6432" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a> <a id="6435" href="Meta.Effect.Map.html#494" class="Function Operator">&lt;$&gt;</a> <a id="6439" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="6445" class="Number">1</a> <a id="6447" href="Meta.Deriving.Elim.html#5886" class="Bound">rs</a>
    <a id="6454" href="Meta.Deriving.Elim.html#6454" class="Bound">c</a> <a id="6456" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6458" class="Keyword">do</a>
      <a id="6467" href="Meta.Deriving.Elim.html#6467" class="Bound">c′</a> <a id="6470" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6472" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="6478" class="Number">1</a> <a id="6480" href="Meta.Deriving.Elim.html#5949" class="Bound">c</a>
      <a id="6488" href="Meta.Reflection.Subst.html#2736" class="Function">apply-tm</a> <a id="6497" href="Meta.Deriving.Elim.html#5782" class="Bound">fuel</a> <a id="6502" href="Meta.Deriving.Elim.html#6467" class="Bound">c′</a> <a id="6505" class="Symbol">(</a><a id="6506" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6510" href="Meta.Deriving.Elim.html#5819" class="Bound">ai</a> <a id="6513" class="Symbol">(</a><a id="6514" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="6519" class="Number">1</a><a id="6520" class="Symbol">))</a>
    <a id="6527" class="Keyword">let</a> <a id="6531" href="Meta.Deriving.Elim.html#6531" class="Bound">h-tel</a> <a id="6537" class="Symbol">=</a> <a id="6539" href="Meta.Reflection.Base.html#4702" class="Function">pi-view-path</a> <a id="6552" href="Meta.Deriving.Elim.html#6275" class="Bound">h</a>
    <a id="6558" href="Meta.Deriving.Elim.html#6558" class="Bound">l</a> <a id="6560" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6562" href="Data.Reflection.Term.html#1873" class="Function">tel→lam</a> <a id="6570" href="Meta.Deriving.Elim.html#6531" class="Bound">h-tel</a> <a id="6576" href="Meta.Effect.Map.html#494" class="Function Operator">&lt;$&gt;</a> <a id="6580" class="Keyword">do</a>
      <a id="6589" href="Meta.Deriving.Elim.html#6589" class="Bound">rec′</a> <a id="6594" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6596" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="6602" class="Symbol">(</a><a id="6603" href="Data.List.Operations.html#812" class="Function">length</a> <a id="6610" href="Meta.Deriving.Elim.html#6531" class="Bound">h-tel</a><a id="6615" class="Symbol">)</a> <a id="6617" href="Meta.Deriving.Elim.html#5907" class="Bound">rec</a>
      <a id="6627" href="Meta.Reflection.Subst.html#3499" class="Function">apply-tm*</a> <a id="6637" href="Meta.Deriving.Elim.html#5782" class="Bound">fuel</a> <a id="6642" href="Meta.Deriving.Elim.html#6589" class="Bound">rec′</a> <a id="6647" class="Symbol">(</a><a id="6648" href="Meta.Reflection.Base.html#4302" class="Function">infer-tel</a> <a id="6658" href="Meta.Deriving.Elim.html#3021" class="Bound">ix-tel</a> <a id="6665" href="Data.List.Operations.html#444" class="Function Operator">∷r</a> <a id="6668" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6673" class="Symbol">(</a><a id="6674" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6678" class="Symbol">(</a><a id="6679" href="Data.List.Operations.html#812" class="Function">length</a> <a id="6686" href="Meta.Deriving.Elim.html#6531" class="Bound">h-tel</a><a id="6691" class="Symbol">)</a> <a id="6693" href="Meta.Deriving.Elim.html#6279" class="Bound">α′</a><a id="6695" class="Symbol">))</a>
    <a id="6702" class="Keyword">let</a> <a id="6706" href="Meta.Deriving.Elim.html#6706" class="Bound">α</a> <a id="6708" class="Symbol">=</a> <a id="6710" href="Meta.Deriving.Elim.html#5929" class="Bound">α</a> <a id="6712" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="6715" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="6717" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6725" href="Meta.Deriving.Elim.html#2923" class="Function">hide-cons-args</a> <a id="6740" class="Symbol">(</a><a id="6741" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6745" href="Meta.Deriving.Elim.html#5819" class="Bound">ai</a> <a id="6748" class="Symbol">(</a><a id="6749" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="6754" class="Number">0</a><a id="6755" class="Symbol">))</a> <a id="6758" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6760" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6765" href="Meta.Deriving.Elim.html#6558" class="Bound">l</a> <a id="6767" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="6773" href="Meta.Deriving.Elim.html#6773" class="Bound">y</a> <a id="6775" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="6777" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="6783" class="Number">1</a> <a id="6785" href="Meta.Deriving.Elim.html#5832" class="Bound">y</a>
    <a id="6791" href="Meta.Deriving.Elim.html#5324" class="Function">display</a> <a id="6799" href="Meta.Deriving.Elim.html#5782" class="Bound">fuel</a> <a id="6804" href="Meta.Deriving.Elim.html#5788" class="Bound">depth</a> <a id="6810" href="Meta.Deriving.Elim.html#6370" class="Bound">ps</a> <a id="6813" href="Meta.Deriving.Elim.html#6390" class="Bound">P</a> <a id="6815" href="Meta.Deriving.Elim.html#6409" class="Bound">rs</a> <a id="6818" href="Meta.Deriving.Elim.html#5907" class="Bound">rec</a> <a id="6822" href="Meta.Deriving.Elim.html#6706" class="Bound">α</a> <a id="6824" href="Meta.Deriving.Elim.html#6454" class="Bound">c</a> <a id="6826" href="Meta.Deriving.Elim.html#6773" class="Bound">y</a> <a id="6828" href="Meta.Effect.Map.html#604" class="Function Operator">&lt;&amp;&gt;</a> <a id="6832" href="Foundations.Sigma.Base.html#1223" class="Function">first</a> <a id="6838" class="Symbol">λ</a> <a id="6840" href="Meta.Deriving.Elim.html#6840" class="Bound">y</a> <a id="6842" class="Symbol">→</a>
      <a id="6850" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6853" class="Symbol">(</a><a id="6854" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6862" href="Meta.Deriving.Elim.html#2923" class="Function">hide-cons-args</a> <a id="6877" class="Symbol">(</a><a id="6878" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6882" href="Meta.Deriving.Elim.html#5819" class="Bound">ai</a> <a id="6885" href="Meta.Deriving.Elim.html#5822" class="Bound">x</a><a id="6886" class="Symbol">))</a> <a id="6889" class="Symbol">(</a><a id="6890" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6894" href="Meta.Deriving.Elim.html#5830" class="Bound">n</a> <a id="6896" class="Symbol">(</a><a id="6897" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6900" class="Symbol">(</a><a id="6901" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6906" href="Meta.Deriving.Elim.html#6275" class="Bound">h</a><a id="6907" class="Symbol">)</a> <a id="6909" class="Symbol">(</a><a id="6910" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6914" class="Symbol">(</a><a id="6915" class="String">&quot;P&quot;</a> <a id="6919" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="6922" href="Meta.Deriving.Elim.html#5830" class="Bound">n</a><a id="6923" class="Symbol">)</a> <a id="6925" href="Meta.Deriving.Elim.html#6840" class="Bound">y</a><a id="6926" class="Symbol">)))</a>

  <a id="6933" href="Meta.Deriving.Elim.html#5324" class="Function">display</a> <a id="6941" class="Symbol">(</a><a id="6942" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6946" href="Meta.Deriving.Elim.html#6946" class="Bound">fuel</a><a id="6950" class="Symbol">)</a> <a id="6952" href="Meta.Deriving.Elim.html#6952" class="Bound">depth</a> <a id="6958" href="Meta.Deriving.Elim.html#6958" class="Bound">ps</a> <a id="6961" href="Meta.Deriving.Elim.html#6961" class="Bound">P</a> <a id="6963" href="Meta.Deriving.Elim.html#6963" class="Bound">rs</a> <a id="6966" href="Meta.Deriving.Elim.html#6966" class="Bound">rec</a> <a id="6970" href="Meta.Deriving.Elim.html#6970" class="Bound">α</a> <a id="6972" href="Meta.Deriving.Elim.html#6972" class="Bound">c</a> <a id="6974" class="Symbol">(</a><a id="6975" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="6979" class="Symbol">(</a><a id="6980" class="Keyword">quote</a> <a id="6986" href="Foundations.Prim.Kan.html#1290" class="Postulate">Pathᴾ</a><a id="6991" class="Symbol">)</a> <a id="6993" class="Symbol">(_</a> <a id="6996" href="Data.Reflection.Argument.html#1397" class="InductiveConstructor Operator">h∷</a> <a id="6999" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="7003" href="Meta.Deriving.Elim.html#7003" class="Bound">v</a> <a id="7005" class="Symbol">(</a><a id="7006" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="7010" href="Meta.Deriving.Elim.html#7010" class="Bound">n</a> <a id="7012" href="Meta.Deriving.Elim.html#7012" class="Bound">y</a><a id="7013" class="Symbol">)</a> <a id="7015" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="7018" href="Meta.Deriving.Elim.html#7018" class="Bound">l</a> <a id="7020" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="7023" href="Meta.Deriving.Elim.html#7023" class="Bound">r</a> <a id="7025" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="7028" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="7030" class="Symbol">))</a> <a id="7033" class="Symbol">=</a> <a id="7035" class="Keyword">do</a>
    <a id="7042" href="Meta.Deriving.Elim.html#7042" class="Bound">l</a>   <a id="7046" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7048" href="Meta.Deriving.Elim.html#3256" class="Function">replace</a> <a id="7056" href="Meta.Deriving.Elim.html#6946" class="Bound">fuel</a> <a id="7061" href="Meta.Deriving.Elim.html#6963" class="Bound">rs</a> <a id="7064" href="Meta.Deriving.Elim.html#7018" class="Bound">l</a>
    <a id="7070" href="Meta.Deriving.Elim.html#7070" class="Bound">r</a>   <a id="7074" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7076" href="Meta.Deriving.Elim.html#3256" class="Function">replace</a> <a id="7084" href="Meta.Deriving.Elim.html#6946" class="Bound">fuel</a> <a id="7089" href="Meta.Deriving.Elim.html#6963" class="Bound">rs</a> <a id="7092" href="Meta.Deriving.Elim.html#7023" class="Bound">r</a>
    <a id="7098" href="Meta.Deriving.Elim.html#7098" class="Bound">ps</a>  <a id="7102" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7104" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="7110" class="Number">1</a> <a id="7112" href="Meta.Deriving.Elim.html#6958" class="Bound">ps</a>
    <a id="7119" href="Meta.Deriving.Elim.html#7119" class="Bound">P</a>   <a id="7123" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7125" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="7131" class="Number">1</a> <a id="7133" href="Meta.Deriving.Elim.html#6961" class="Bound">P</a>
    <a id="7139" href="Meta.Deriving.Elim.html#7139" class="Bound">rs</a>  <a id="7143" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7145" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="7151" class="Number">1</a> <a id="7153" href="Meta.Deriving.Elim.html#6963" class="Bound">rs</a>
    <a id="7160" href="Meta.Deriving.Elim.html#7160" class="Bound">rec</a> <a id="7164" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7166" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="7172" class="Number">1</a> <a id="7174" href="Meta.Deriving.Elim.html#6966" class="Bound">rec</a>
    <a id="7182" href="Meta.Deriving.Elim.html#7182" class="Bound">α</a> <a id="7184" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7186" class="Keyword">do</a>
      <a id="7195" href="Meta.Deriving.Elim.html#7195" class="Bound">α′</a> <a id="7198" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7200" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="7206" class="Number">1</a> <a id="7208" href="Meta.Deriving.Elim.html#6970" class="Bound">α</a>
      <a id="7216" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="7221" class="Symbol">(</a><a id="7222" href="Meta.Deriving.Elim.html#7195" class="Bound">α′</a> <a id="7225" href="Data.List.Operations.html#444" class="Function Operator">∷r</a> <a id="7228" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="7233" class="Symbol">(</a><a id="7234" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="7239" class="Number">0</a><a id="7240" class="Symbol">))</a>
    <a id="7247" href="Meta.Deriving.Elim.html#7247" class="Bound">c</a> <a id="7249" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7251" class="Keyword">do</a>
      <a id="7260" href="Meta.Deriving.Elim.html#7260" class="Bound">c′</a> <a id="7263" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7265" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="7271" class="Number">1</a> <a id="7273" href="Meta.Deriving.Elim.html#6972" class="Bound">c</a>
      <a id="7281" href="Meta.Reflection.Subst.html#2736" class="Function">apply-tm</a> <a id="7290" href="Meta.Deriving.Elim.html#6946" class="Bound">fuel</a> <a id="7295" href="Meta.Deriving.Elim.html#7260" class="Bound">c′</a> <a id="7298" class="Symbol">(</a><a id="7299" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="7304" class="Symbol">(</a><a id="7305" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="7310" class="Number">0</a><a id="7311" class="Symbol">))</a>
    <a id="7318" href="Meta.Deriving.Elim.html#5324" class="Function">display</a> <a id="7326" href="Meta.Deriving.Elim.html#6946" class="Bound">fuel</a> <a id="7331" href="Meta.Deriving.Elim.html#6952" class="Bound">depth</a> <a id="7337" href="Meta.Deriving.Elim.html#7098" class="Bound">ps</a> <a id="7340" href="Meta.Deriving.Elim.html#7119" class="Bound">P</a> <a id="7342" href="Meta.Deriving.Elim.html#7139" class="Bound">rs</a> <a id="7345" href="Meta.Deriving.Elim.html#7160" class="Bound">rec</a> <a id="7349" href="Meta.Deriving.Elim.html#7182" class="Bound">α</a> <a id="7351" href="Meta.Deriving.Elim.html#7247" class="Bound">c</a> <a id="7353" href="Meta.Deriving.Elim.html#7012" class="Bound">y</a> <a id="7355" href="Meta.Effect.Map.html#604" class="Function Operator">&lt;&amp;&gt;</a> <a id="7359" href="Foundations.Sigma.Base.html#1223" class="Function">first</a> <a id="7365" class="Symbol">λ</a> <a id="7367" href="Meta.Deriving.Elim.html#7367" class="Bound">y</a> <a id="7369" class="Symbol">→</a>
      <a id="7377" href="Meta.Reflection.Signature.html#4873" class="Macro">it</a> <a id="7380" href="Foundations.Prim.Kan.html#1290" class="Postulate">Pathᴾ</a> <a id="7386" href="Meta.Reflection.Neutral.html#1450" class="Function Operator">##ₕ</a> <a id="7390" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="7398" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="7402" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="7406" href="Meta.Deriving.Elim.html#7003" class="Bound">v</a> <a id="7408" class="Symbol">(</a><a id="7409" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="7413" href="Meta.Deriving.Elim.html#7010" class="Bound">n</a> <a id="7415" href="Meta.Deriving.Elim.html#7367" class="Bound">y</a><a id="7416" class="Symbol">)</a> <a id="7418" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="7422" href="Meta.Deriving.Elim.html#7042" class="Bound">l</a> <a id="7424" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="7428" href="Meta.Deriving.Elim.html#7070" class="Bound">r</a>

  <a id="7433" href="Meta.Deriving.Elim.html#5324" class="CatchallClause Function">display</a><a id="7440" class="CatchallClause"> </a><a id="7441" class="CatchallClause Symbol">(</a><a id="7442" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="7445" class="CatchallClause"> </a><a id="7446" href="Meta.Deriving.Elim.html#7446" class="CatchallClause Bound">fuel</a><a id="7450" class="CatchallClause Symbol">)</a><a id="7451" class="CatchallClause"> </a><a id="7452" href="Meta.Deriving.Elim.html#7452" class="CatchallClause Bound">depth</a><a id="7457" class="CatchallClause"> </a><a id="7458" href="Meta.Deriving.Elim.html#7458" class="CatchallClause Bound">ps</a><a id="7460" class="CatchallClause"> </a><a id="7461" href="Meta.Deriving.Elim.html#7461" class="CatchallClause Bound">P</a><a id="7462" class="CatchallClause"> </a><a id="7463" href="Meta.Deriving.Elim.html#7463" class="CatchallClause Bound">rs</a><a id="7465" class="CatchallClause"> </a><a id="7466" href="Meta.Deriving.Elim.html#7466" class="CatchallClause Bound">rec</a><a id="7469" class="CatchallClause"> </a><a id="7470" href="Meta.Deriving.Elim.html#7470" class="CatchallClause Bound">α</a><a id="7471" class="CatchallClause"> </a><a id="7472" href="Meta.Deriving.Elim.html#7472" class="CatchallClause Bound">c</a><a id="7473" class="CatchallClause"> </a><a id="7474" class="CatchallClause Symbol">(</a><a id="7475" href="Agda.Builtin.Reflection.html#5251" class="CatchallClause InductiveConstructor">def</a><a id="7478" class="CatchallClause"> </a><a id="7479" href="Meta.Deriving.Elim.html#7479" class="CatchallClause Bound">D′</a><a id="7481" class="CatchallClause"> </a><a id="7482" href="Meta.Deriving.Elim.html#7482" class="CatchallClause Bound">args</a><a id="7486" class="CatchallClause Symbol">)</a> <a id="7488" class="Symbol">=</a> <a id="7490" class="Keyword">do</a>
    <a id="7497" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="7502" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7504" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="7509" class="Symbol">(</a><a id="7510" href="Meta.Deriving.Elim.html#2999" class="Bound">D</a> <a id="7512" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">name=?</a> <a id="7519" href="Meta.Deriving.Elim.html#7479" class="Bound">D′</a><a id="7521" class="Symbol">)</a>
      <a id="7529" class="Keyword">where</a> <a id="7535" class="CatchallClause Symbol">_</a> <a id="7537" class="Symbol">→</a> <a id="7539" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="7551" class="Keyword">let</a> <a id="7555" href="Meta.Deriving.Elim.html#7555" class="Bound">ps′</a> <a id="7559" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7561" href="Meta.Deriving.Elim.html#7561" class="Bound">is</a> <a id="7564" class="Symbol">=</a> <a id="7566" href="Data.List.Operations.html#2928" class="Function">split-at</a> <a id="7575" href="Meta.Deriving.Elim.html#3010" class="Bound">pars</a> <a id="7580" href="Meta.Deriving.Elim.html#7482" class="Bound">args</a>
    <a id="7589" href="Data.Dec.Base.html#597" class="InductiveConstructor">yes</a> <a id="7593" class="Symbol">_</a> <a id="7595" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7597" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="7602" class="Symbol">(</a><a id="7603" href="Meta.Deriving.Elim.html#7458" class="Bound">ps</a> <a id="7606" href="Logic.Discreteness.html#1113" class="Function Operator">≟</a> <a id="7608" href="Meta.Deriving.Elim.html#7555" class="Bound">ps′</a><a id="7611" class="Symbol">)</a>
      <a id="7619" class="Keyword">where</a> <a id="7625" class="CatchallClause Symbol">_</a> <a id="7627" class="Symbol">→</a> <a id="7629" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="7641" href="Meta.Deriving.Elim.html#7641" class="Bound">Pc</a> <a id="7644" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7646" href="Meta.Reflection.Subst.html#3499" class="Function">apply-tm*</a> <a id="7656" href="Meta.Deriving.Elim.html#7446" class="Bound">fuel</a> <a id="7661" href="Meta.Deriving.Elim.html#7461" class="Bound">P</a> <a id="7663" class="Symbol">(</a><a id="7664" href="Data.Bool.Base.html#861" class="Function Operator">if</a> <a id="7667" href="Meta.Deriving.Elim.html#2234" class="Function">induction</a> <a id="7677" href="Data.Bool.Base.html#861" class="Function Operator">then</a> <a id="7682" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="7690" href="Meta.Deriving.Elim.html#2610" class="Function">hide-indices</a> <a id="7703" href="Meta.Deriving.Elim.html#7561" class="Bound">is</a> <a id="7706" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="7709" href="Meta.Deriving.Elim.html#7472" class="Bound">c</a> <a id="7711" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="7714" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="7717" href="Data.Bool.Base.html#861" class="Function Operator">else</a> <a id="7722" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="7724" class="Symbol">)</a>
    <a id="7730" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="7735" class="Symbol">(</a><a id="7736" href="Meta.Deriving.Elim.html#7641" class="Bound">Pc</a> <a id="7739" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7741" href="Meta.Deriving.Elim.html#7470" class="Bound">α</a><a id="7742" class="Symbol">)</a>
  <a id="7746" href="Meta.Deriving.Elim.html#5324" class="CatchallClause Function">display</a><a id="7753" class="CatchallClause"> </a><a id="7754" class="CatchallClause Symbol">(</a><a id="7755" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="7758" class="CatchallClause"> </a><a id="7759" href="Meta.Deriving.Elim.html#7759" class="CatchallClause Bound">fuel</a><a id="7763" class="CatchallClause Symbol">)</a><a id="7764" class="CatchallClause"> </a><a id="7765" href="Meta.Deriving.Elim.html#7765" class="CatchallClause Bound">depth</a><a id="7770" class="CatchallClause"> </a><a id="7771" href="Meta.Deriving.Elim.html#7771" class="CatchallClause Bound">ps</a><a id="7773" class="CatchallClause"> </a><a id="7774" href="Meta.Deriving.Elim.html#7774" class="CatchallClause Bound">P</a><a id="7775" class="CatchallClause"> </a><a id="7776" href="Meta.Deriving.Elim.html#7776" class="CatchallClause Bound">rs</a><a id="7778" class="CatchallClause"> </a><a id="7779" href="Meta.Deriving.Elim.html#7779" class="CatchallClause Bound">rec</a><a id="7782" class="CatchallClause"> </a><a id="7783" href="Meta.Deriving.Elim.html#7783" class="CatchallClause Bound">α</a><a id="7784" class="CatchallClause"> </a><a id="7785" href="Meta.Deriving.Elim.html#7785" class="CatchallClause Bound">c</a><a id="7786" class="CatchallClause"> </a><a id="7787" class="CatchallClause Symbol">_</a> <a id="7789" class="Symbol">=</a> <a id="7791" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="Induction.try-hlevel"></a><a id="7802" href="Meta.Deriving.Elim.html#7802" class="Function">try-hlevel</a> <a id="7813" class="Symbol">:</a> <a id="7815" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7820" class="Symbol">→</a> <a id="7822" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="7825" class="Symbol">(</a><a id="7826" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7832" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="7836" class="Symbol">)</a>
  <a id="7840" href="Meta.Deriving.Elim.html#7802" class="Function">try-hlevel</a> <a id="7851" href="Meta.Deriving.Elim.html#7851" class="Bound">T</a> <a id="7853" class="Symbol">=</a>
    <a id="7859" class="Symbol">(</a><a id="7860" class="Keyword">do</a>
      <a id="7869" href="Data.Maybe.Instances.Alt.html#207" class="Function">maybe→alt</a> <a id="7879" href="Meta.Deriving.Elim.html#2337" class="Function">into-hlevel</a>
      <a id="7897" href="Meta.Deriving.Elim.html#7897" class="Bound">m</a> <a id="7899" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="7901" href="Meta.Reflection.Base.html#3652" class="Function">new-meta</a> <a id="7910" href="Meta.Deriving.Elim.html#7851" class="Bound">T</a>
      <a id="7918" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="7924" href="Meta.Deriving.Elim.html#7897" class="Bound">m</a> <a id="7926" href="Meta.Underlying.html#1738" class="Function Operator">$</a> <a id="7928" href="Meta.Reflection.Signature.html#4873" class="Macro">it</a> <a id="7931" href="Foundations.Base.html#14122" class="Function">centre</a> <a id="7938" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="7942" class="Symbol">(</a><a id="7943" href="Meta.Reflection.Signature.html#4873" class="Macro">it</a> <a id="7946" href="Foundations.HLevel.Base.html#8782" class="Function">hlevel</a> <a id="7953" href="Meta.Reflection.Neutral.html#1450" class="Function Operator">##ₕ</a> <a id="7957" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="7965" href="Meta.Reflection.Neutral.html#1450" class="Function Operator">##ₕ</a> <a id="7969" href="Meta.Deriving.Elim.html#7851" class="Bound">T</a> <a id="7971" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="7975" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="7979" class="Symbol">(</a><a id="7980" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="7984" class="Number">0</a><a id="7985" class="Symbol">))</a>
      <a id="7994" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="7999" class="Symbol">(</a><a id="8000" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8005" href="Meta.Deriving.Elim.html#7897" class="Bound">m</a><a id="8006" class="Symbol">))</a>
    <a id="8013" href="Meta.Effect.Alt.html#320" class="Field Operator">&lt;|&gt;</a> <a id="8017" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="8022" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="Induction.×-map₁₂"></a><a id="8033" href="Meta.Deriving.Elim.html#8033" class="Function">×-map₁₂</a> <a id="8041" class="Symbol">:</a> <a id="8043" class="Symbol">∀</a> <a id="8045" class="Symbol">{</a><a id="8046" href="Meta.Deriving.Elim.html#8046" class="Bound">A</a> <a id="8048" href="Meta.Deriving.Elim.html#8048" class="Bound">B</a> <a id="8050" href="Meta.Deriving.Elim.html#8050" class="Bound">C</a> <a id="8052" class="Symbol">:</a> <a id="8054" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a><a id="8058" class="Symbol">}</a> <a id="8060" class="Symbol">→</a> <a id="8062" class="Symbol">(</a><a id="8063" href="Meta.Deriving.Elim.html#8046" class="Bound">A</a> <a id="8065" class="Symbol">→</a> <a id="8067" href="Meta.Deriving.Elim.html#8046" class="Bound">A</a><a id="8068" class="Symbol">)</a> <a id="8070" class="Symbol">→</a> <a id="8072" class="Symbol">(</a><a id="8073" href="Meta.Deriving.Elim.html#8048" class="Bound">B</a> <a id="8075" class="Symbol">→</a> <a id="8077" href="Meta.Deriving.Elim.html#8048" class="Bound">B</a><a id="8078" class="Symbol">)</a> <a id="8080" class="Symbol">→</a> <a id="8082" href="Meta.Deriving.Elim.html#8046" class="Bound">A</a> <a id="8084" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="8086" href="Meta.Deriving.Elim.html#8048" class="Bound">B</a> <a id="8088" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="8090" href="Meta.Deriving.Elim.html#8050" class="Bound">C</a> <a id="8092" class="Symbol">→</a> <a id="8094" href="Meta.Deriving.Elim.html#8046" class="Bound">A</a> <a id="8096" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="8098" href="Meta.Deriving.Elim.html#8048" class="Bound">B</a> <a id="8100" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="8102" href="Meta.Deriving.Elim.html#8050" class="Bound">C</a>
  <a id="8106" href="Meta.Deriving.Elim.html#8033" class="Function">×-map₁₂</a> <a id="8114" href="Meta.Deriving.Elim.html#8114" class="Bound">f</a> <a id="8116" href="Meta.Deriving.Elim.html#8116" class="Bound">g</a> <a id="8118" class="Symbol">(</a><a id="8119" href="Meta.Deriving.Elim.html#8119" class="Bound">a</a> <a id="8121" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8123" href="Meta.Deriving.Elim.html#8123" class="Bound">b</a> <a id="8125" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8127" href="Meta.Deriving.Elim.html#8127" class="Bound">c</a><a id="8128" class="Symbol">)</a> <a id="8130" class="Symbol">=</a> <a id="8132" class="Symbol">(</a><a id="8133" href="Meta.Deriving.Elim.html#8114" class="Bound">f</a> <a id="8135" href="Meta.Deriving.Elim.html#8119" class="Bound">a</a> <a id="8137" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8139" href="Meta.Deriving.Elim.html#8116" class="Bound">g</a> <a id="8141" href="Meta.Deriving.Elim.html#8123" class="Bound">b</a> <a id="8143" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8145" href="Meta.Deriving.Elim.html#8127" class="Bound">c</a><a id="8146" class="Symbol">)</a>

  <a id="8151" class="Comment">-- Loop over D&#39;s constructors and build the method telescope, constructor</a>
  <a id="8227" class="Comment">-- replacements and spines to apply them to.</a>
  <a id="Induction.methods"></a><a id="8274" href="Meta.Deriving.Elim.html#8274" class="Function">methods</a> <a id="8282" class="Symbol">:</a> <a id="8284" href="Data.Reflection.Term.html#838" class="Function">Args</a> <a id="8289" class="Symbol">→</a> <a id="8291" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8296" class="Symbol">→</a> <a id="8298" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="8301" class="Symbol">(</a><a id="8302" href="Data.Reflection.Term.html#800" class="Function">Telescope</a> <a id="8312" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="8314" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8319" href="Data.Reflection.Term.html#838" class="Function">Args</a> <a id="8324" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="8326" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a><a id="8338" class="Symbol">)</a>
  <a id="8342" href="Meta.Deriving.Elim.html#8274" class="Function">methods</a> <a id="8350" href="Meta.Deriving.Elim.html#8350" class="Bound">ps</a> <a id="8353" href="Meta.Deriving.Elim.html#8353" class="Bound">P</a> <a id="8355" class="Symbol">=</a> <a id="8357" href="Meta.Deriving.Elim.html#8391" class="Function">go</a> <a id="8360" href="Meta.Reflection.Base.html#3177" class="Function">full-tank</a> <a id="8370" href="Meta.Deriving.Elim.html#8350" class="Bound">ps</a> <a id="8373" href="Meta.Deriving.Elim.html#8353" class="Bound">P</a> <a id="8375" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8378" href="Meta.Deriving.Elim.html#3042" class="Bound">cs</a> <a id="8381" class="Keyword">where</a>
    <a id="8391" href="Meta.Deriving.Elim.html#8391" class="Function">go</a> <a id="8394" class="Symbol">:</a> <a id="8396" class="Symbol">(</a><a id="8397" href="Meta.Deriving.Elim.html#8397" class="Bound">fuel</a> <a id="8402" class="Symbol">:</a> <a id="8404" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8405" class="Symbol">)</a> <a id="8407" class="Symbol">→</a> <a id="8409" href="Data.Reflection.Term.html#838" class="Function">Args</a> <a id="8414" class="Symbol">→</a> <a id="8416" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8421" class="Symbol">→</a> <a id="8423" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a> <a id="8436" class="Symbol">→</a> <a id="8438" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8443" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="8448" class="Symbol">→</a> <a id="8450" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="8453" class="Symbol">(</a><a id="8454" href="Data.Reflection.Term.html#800" class="Function">Telescope</a> <a id="8464" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="8466" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8471" href="Data.Reflection.Term.html#838" class="Function">Args</a> <a id="8476" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="8478" href="Meta.Deriving.Elim.html#1732" class="Function">Replacements</a><a id="8490" class="Symbol">)</a>
    <a id="8496" href="Meta.Deriving.Elim.html#8391" class="Function">go</a> <a id="8499" class="Number">0</a> <a id="8501" class="Symbol">_</a> <a id="8503" class="Symbol">_</a> <a id="8505" class="Symbol">_</a> <a id="8507" class="Symbol">_</a> <a id="8509" class="Symbol">=</a> <a id="8511" href="Agda.Builtin.Reflection.html#8815" class="Postulate">type-error</a> <a id="8522" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="8529" href="Meta.Deriving.Elim.html#8391" class="Function">go</a> <a id="8532" class="Symbol">(</a><a id="8533" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8537" href="Meta.Deriving.Elim.html#8537" class="Bound">fuel</a><a id="8541" class="Symbol">)</a> <a id="8543" href="Meta.Deriving.Elim.html#8543" class="Bound">ps</a> <a id="8546" href="Meta.Deriving.Elim.html#8546" class="Bound">P</a> <a id="8548" href="Meta.Deriving.Elim.html#8548" class="Bound">rs</a> <a id="8551" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8554" class="Symbol">=</a> <a id="8556" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="8561" class="Symbol">(</a><a id="8562" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8565" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8567" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8572" href="Meta.Deriving.Elim.html#8548" class="Bound">rs</a><a id="8574" class="Symbol">)</a>
    <a id="8580" href="Meta.Deriving.Elim.html#8391" class="Function">go</a> <a id="8583" class="Symbol">(</a><a id="8584" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8588" href="Meta.Deriving.Elim.html#8588" class="Bound">fuel</a><a id="8592" class="Symbol">)</a> <a id="8594" href="Meta.Deriving.Elim.html#8594" class="Bound">ps</a> <a id="8597" href="Meta.Deriving.Elim.html#8597" class="Bound">P</a> <a id="8599" href="Meta.Deriving.Elim.html#8599" class="Bound">rs</a> <a id="8602" class="Symbol">(</a><a id="8603" href="Meta.Deriving.Elim.html#8603" class="Bound">c</a> <a id="8605" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8607" href="Meta.Deriving.Elim.html#8607" class="Bound">cs</a><a id="8609" class="Symbol">)</a> <a id="8611" class="Symbol">=</a> <a id="8613" class="Keyword">do</a>
      <a id="8622" class="Keyword">let</a> <a id="8626" href="Meta.Deriving.Elim.html#8626" class="Bound">c′</a> <a id="8629" class="Symbol">=</a> <a id="8631" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="8635" href="Meta.Deriving.Elim.html#8603" class="Bound">c</a> <a id="8637" class="Symbol">(</a><a id="8638" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="8643" href="Meta.Deriving.Elim.html#8594" class="Bound">ps</a><a id="8645" class="Symbol">)</a>
      <a id="8653" href="Meta.Deriving.Elim.html#8653" class="Bound">cT</a> <a id="8656" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="8658" class="Keyword">do</a>
        <a id="8669" href="Meta.Deriving.Elim.html#8669" class="Bound">cT</a> <a id="8672" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="8674" href="Agda.Builtin.Reflection.html#9696" class="Postulate">get-type</a> <a id="8683" href="Meta.Deriving.Elim.html#8603" class="Bound">c</a>
        <a id="8693" href="Meta.Deriving.Elim.html#8693" class="Bound">cT</a> <a id="8696" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="8698" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="8708" href="Meta.Deriving.Elim.html#8669" class="Bound">cT</a>
        <a id="8719" href="Meta.Reflection.Subst.html#7296" class="Function">pi-applyTC</a> <a id="8730" href="Meta.Deriving.Elim.html#8693" class="Bound">cT</a> <a id="8733" href="Meta.Deriving.Elim.html#8594" class="Bound">ps</a>
      <a id="8742" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8747" class="Symbol">(</a><a id="8748" href="Meta.Deriving.Elim.html#8748" class="Bound">methodT</a> <a id="8756" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8758" href="Meta.Deriving.Elim.html#8758" class="Bound">α</a><a id="8759" class="Symbol">)</a> <a id="8761" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="8763" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="8768" class="Symbol">(</a><a id="8769" href="Meta.Deriving.Elim.html#5324" class="Function">display</a> <a id="8777" href="Meta.Deriving.Elim.html#8588" class="Bound">fuel</a> <a id="8782" class="Number">1</a> <a id="8784" href="Meta.Deriving.Elim.html#8594" class="Bound">ps</a> <a id="8787" href="Meta.Deriving.Elim.html#8597" class="Bound">P</a> <a id="8789" href="Meta.Deriving.Elim.html#8599" class="Bound">rs</a> <a id="8792" class="Symbol">(</a><a id="8793" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="8798" class="Number">0</a><a id="8799" class="Symbol">)</a> <a id="8801" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8804" href="Meta.Deriving.Elim.html#8626" class="Bound">c′</a> <a id="8807" href="Meta.Deriving.Elim.html#8653" class="Bound">cT</a><a id="8809" class="Symbol">)</a>
        <a id="8819" class="Keyword">where</a> <a id="8825" class="CatchallClause Symbol">_</a> <a id="8827" class="Symbol">→</a> <a id="8829" href="Agda.Builtin.Reflection.html#8815" class="Postulate">type-error</a> <a id="8840" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="8842" class="String">&quot;The type of constructor &quot;</a> <a id="8869" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8871" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="8880" href="Meta.Deriving.Elim.html#8603" class="Bound">c</a> <a id="8882" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8884" class="String">&quot; is not supported&quot;</a> <a id="8904" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
      <a id="8912" href="Meta.Deriving.Elim.html#7802" class="Function">try-hlevel</a> <a id="8923" href="Meta.Deriving.Elim.html#8748" class="Bound">methodT</a> <a id="8931" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="8935" class="Symbol">λ</a> <a id="8937" class="Keyword">where</a>
        <a id="8951" class="Symbol">(</a><a id="8952" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8957" href="Meta.Deriving.Elim.html#8957" class="Bound">m</a><a id="8958" class="Symbol">)</a> <a id="8960" class="Symbol">→</a> <a id="8962" class="Keyword">do</a>
          <a id="8975" class="Comment">-- The type of the method is solvable by hlevel (i.e. contractible):</a>
          <a id="9054" class="Comment">-- we can omit that type from the telescope and replace the method with</a>
          <a id="9136" class="Comment">-- a call to `hlevel 0 .centre`.</a>
          <a id="9179" class="Keyword">let</a> <a id="9183" href="Meta.Deriving.Elim.html#9183" class="Bound">rs</a> <a id="9186" class="Symbol">=</a> <a id="9188" class="Symbol">(</a><a id="9189" href="Meta.Deriving.Elim.html#8626" class="Bound">c′</a> <a id="9192" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9194" href="Meta.Deriving.Elim.html#8957" class="Bound">m</a><a id="9195" class="Symbol">)</a> <a id="9197" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9199" href="Meta.Deriving.Elim.html#8599" class="Bound">rs</a>
          <a id="9212" href="Meta.Deriving.Elim.html#8391" class="Function">go</a> <a id="9215" href="Meta.Deriving.Elim.html#8588" class="Bound">fuel</a> <a id="9220" href="Meta.Deriving.Elim.html#8594" class="Bound">ps</a> <a id="9223" href="Meta.Deriving.Elim.html#8597" class="Bound">P</a> <a id="9225" href="Meta.Deriving.Elim.html#9183" class="Bound">rs</a> <a id="9228" href="Meta.Deriving.Elim.html#8607" class="Bound">cs</a> <a id="9231" href="Meta.Effect.Map.html#604" class="Function Operator">&lt;&amp;&gt;</a> <a id="9235" href="Meta.Deriving.Elim.html#8033" class="Function">×-map₁₂</a> <a id="9243" href="Foundations.Pi.Base.html#1477" class="Function">id</a> <a id="9246" class="Symbol">(</a><a id="9247" href="Meta.Deriving.Elim.html#8758" class="Bound">α</a> <a id="9249" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9251" class="Symbol">)</a>
        <a id="9261" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9269" class="Symbol">→</a> <a id="9271" class="Keyword">do</a>
          <a id="9284" class="Comment">-- Otherwise, add m : T to the telescope and replace the corresponding</a>
          <a id="9365" class="Comment">-- constructor with m henceforth.</a>
          <a id="9409" href="Meta.Deriving.Elim.html#9409" class="Bound">method</a> <a id="9416" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="9418" class="Symbol">(</a><a id="9419" class="String">&quot;P&quot;</a> <a id="9423" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;_</a><a id="9426" class="Symbol">)</a> <a id="9428" href="Meta.Effect.Map.html#494" class="Function Operator">&lt;$&gt;</a> <a id="9432" href="Meta.Reflection.Signature.html#6517" class="Function">render-name</a> <a id="9444" href="Meta.Deriving.Elim.html#8603" class="Bound">c</a>
          <a id="9456" href="Meta.Deriving.Elim.html#9456" class="Bound">ps</a>  <a id="9460" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="9462" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="9470" class="Number">1</a> <a id="9472" href="Meta.Deriving.Elim.html#8594" class="Bound">ps</a>
          <a id="9485" href="Meta.Deriving.Elim.html#9485" class="Bound">P</a>   <a id="9489" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="9491" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="9499" class="Number">1</a> <a id="9501" href="Meta.Deriving.Elim.html#8597" class="Bound">P</a>
          <a id="9513" href="Meta.Deriving.Elim.html#9513" class="Bound">rs</a>  <a id="9517" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="9519" class="Keyword">do</a>
            <a id="9534" href="Meta.Deriving.Elim.html#9534" class="Bound">rs′</a> <a id="9538" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="9540" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="9548" class="Number">1</a> <a id="9550" href="Meta.Deriving.Elim.html#8599" class="Bound">rs</a>
            <a id="9565" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="9570" class="Symbol">((</a><a id="9572" href="Meta.Deriving.Elim.html#8626" class="Bound">c′</a> <a id="9575" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9577" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="9582" class="Number">0</a><a id="9583" class="Symbol">)</a> <a id="9585" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9587" href="Meta.Deriving.Elim.html#9534" class="Bound">rs′</a><a id="9590" class="Symbol">)</a>
          <a id="9602" href="Agda.Builtin.Reflection.html#9277" class="Postulate">extend-context</a> <a id="9617" href="Meta.Deriving.Elim.html#9409" class="Bound">method</a> <a id="9624" class="Symbol">(</a><a id="9625" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="9630" href="Meta.Deriving.Elim.html#8748" class="Bound">methodT</a><a id="9637" class="Symbol">)</a> <a id="9639" class="Symbol">(</a><a id="9640" href="Meta.Deriving.Elim.html#8391" class="Function">go</a> <a id="9643" href="Meta.Deriving.Elim.html#8588" class="Bound">fuel</a> <a id="9648" href="Meta.Deriving.Elim.html#9456" class="Bound">ps</a> <a id="9651" href="Meta.Deriving.Elim.html#9485" class="Bound">P</a> <a id="9653" href="Meta.Deriving.Elim.html#9513" class="Bound">rs</a> <a id="9656" href="Meta.Deriving.Elim.html#8607" class="Bound">cs</a><a id="9658" class="Symbol">)</a> <a id="9660" href="Meta.Effect.Map.html#604" class="Function Operator">&lt;&amp;&gt;</a>
            <a id="9676" href="Meta.Deriving.Elim.html#8033" class="Function">×-map₁₂</a> <a id="9684" class="Symbol">((</a><a id="9686" href="Meta.Deriving.Elim.html#9409" class="Bound">method</a> <a id="9693" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9695" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="9700" href="Meta.Deriving.Elim.html#8748" class="Bound">methodT</a><a id="9707" class="Symbol">)</a> <a id="9709" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9711" class="Symbol">)</a> <a id="9713" class="Symbol">(</a><a id="9714" href="Meta.Deriving.Elim.html#8758" class="Bound">α</a> <a id="9716" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9718" class="Symbol">)</a>

<a id="make-elim-with"></a><a id="9721" href="Meta.Deriving.Elim.html#9721" class="Function">make-elim-with</a> <a id="9736" class="Symbol">:</a> <a id="9738" href="Meta.Deriving.Elim.html#2080" class="Record">Elim-options</a> <a id="9751" class="Symbol">→</a> <a id="9753" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="9758" class="Symbol">→</a> <a id="9760" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="9765" class="Symbol">→</a> <a id="9767" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="9770" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="9772" href="Meta.Deriving.Elim.html#9721" class="Function">make-elim-with</a> <a id="9787" href="Meta.Deriving.Elim.html#9787" class="Bound">opts</a> <a id="9792" href="Meta.Deriving.Elim.html#9792" class="Bound">elim</a> <a id="9797" href="Meta.Deriving.Elim.html#9797" class="Bound">D</a> <a id="9799" class="Symbol">=</a> <a id="9801" href="Agda.Builtin.Reflection.html#10125" class="Postulate">with-normalisation</a> <a id="9820" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="9825" class="Keyword">do</a>
  <a id="9830" href="Meta.Deriving.Elim.html#9830" class="Bound">DT</a> <a id="9833" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="9835" href="Agda.Builtin.Reflection.html#9696" class="Postulate">get-type</a> <a id="9844" href="Meta.Deriving.Elim.html#9797" class="Bound">D</a> <a id="9846" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="9850" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="9860" class="Comment">-- D : (ps : Γ) (is : Ξ) → Type _</a>
  <a id="9896" href="Agda.Builtin.Reflection.html#7558" class="InductiveConstructor">data-type</a> <a id="9906" href="Meta.Deriving.Elim.html#9906" class="Bound">pars</a> <a id="9911" href="Meta.Deriving.Elim.html#9911" class="Bound">cs</a> <a id="9914" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="9916" href="Agda.Builtin.Reflection.html#9732" class="Postulate">get-definition</a> <a id="9931" href="Meta.Deriving.Elim.html#9797" class="Bound">D</a>
    <a id="9937" class="Keyword">where</a> <a id="9943" class="CatchallClause Symbol">_</a> <a id="9945" class="Symbol">→</a> <a id="9947" href="Agda.Builtin.Reflection.html#8815" class="Postulate">type-error</a> <a id="9958" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="9960" class="String">&quot;not a data type: &quot;</a> <a id="9980" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9982" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="9991" href="Meta.Deriving.Elim.html#9797" class="Bound">D</a> <a id="9993" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
  <a id="9997" class="Keyword">let</a>
    <a id="10005" class="Keyword">open</a> <a id="10010" href="Meta.Deriving.Elim.html#2080" class="Module">Elim-options</a> <a id="10023" href="Meta.Deriving.Elim.html#9787" class="Bound">opts</a>
    <a id="10032" href="Meta.Deriving.Elim.html#10032" class="Bound">DTTel</a> <a id="10038" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10040" class="Symbol">_</a> <a id="10042" class="Symbol">=</a> <a id="10044" href="Data.Reflection.Term.html#1405" class="Function">pi-view</a> <a id="10052" href="Meta.Deriving.Elim.html#9830" class="Bound">DT</a>
    <a id="10059" href="Meta.Deriving.Elim.html#10059" class="Bound">par-tel</a> <a id="10067" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10069" href="Meta.Deriving.Elim.html#10069" class="Bound">ix-tel</a> <a id="10076" class="Symbol">=</a> <a id="10078" href="Data.List.Operations.html#2928" class="Function">split-at</a> <a id="10087" href="Meta.Deriving.Elim.html#9906" class="Bound">pars</a> <a id="10092" href="Meta.Deriving.Elim.html#10032" class="Bound">DTTel</a>
    <a id="10102" href="Meta.Deriving.Elim.html#10102" class="Bound">par-telH</a> <a id="10111" class="Symbol">=</a> <a id="10113" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="10118" href="Meta.Deriving.Elim.html#10059" class="Bound">par-tel</a>
    <a id="10130" href="Meta.Deriving.Elim.html#10130" class="Bound">ix-tel</a> <a id="10137" class="Symbol">=</a> <a id="10139" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="10147" href="Meta.Deriving.Elim.html#2610" class="Function">hide-indices</a> <a id="10160" href="Meta.Deriving.Elim.html#10069" class="Bound">ix-tel</a>
    <a id="10171" href="Meta.Deriving.Elim.html#10171" class="Bound">DTel</a> <a id="10176" class="Symbol">=</a> <a id="10178" href="Meta.Deriving.Elim.html#10130" class="Bound">ix-tel</a> <a id="10185" href="Data.List.Operations.html#444" class="Function Operator">∷r</a> <a id="10188" class="Symbol">(</a><a id="10189" class="String">&quot;&quot;</a> <a id="10192" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10194" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="10199" class="Symbol">(</a><a id="10200" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="10204" href="Meta.Deriving.Elim.html#9797" class="Bound">D</a> <a id="10206" class="Symbol">(</a><a id="10207" href="Meta.Reflection.Base.html#5081" class="Function">tel→args</a> <a id="10216" class="Number">0</a> <a id="10218" href="Meta.Deriving.Elim.html#10032" class="Bound">DTTel</a><a id="10223" class="Symbol">)))</a> <a id="10227" class="Comment">-- (is : Ξ) (_ : D ps is)</a>
  <a id="10255" href="Meta.Deriving.Elim.html#10255" class="Bound">DTel</a> <a id="10260" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="10262" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="10270" class="Number">1</a> <a id="10272" href="Meta.Deriving.Elim.html#10171" class="Bound">DTel</a>
  <a id="10279" class="Keyword">let</a>
    <a id="10287" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="10292" class="Symbol">=</a> <a id="10294" href="Data.Bool.Base.html#861" class="Function Operator">if</a> <a id="10297" href="Meta.Deriving.Elim.html#2234" class="Function">induction</a> <a id="10307" href="Data.Bool.Base.html#861" class="Function Operator">then</a> <a id="10312" href="Foundations.Pi.Base.html#1477" class="Function">id</a> <a id="10315" href="Data.Bool.Base.html#861" class="Function Operator">else</a> <a id="10320" class="Symbol">λ</a> <a id="10322" href="Meta.Deriving.Elim.html#10322" class="Bound">_</a> <a id="10324" class="Symbol">→</a> <a id="10326" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="10333" href="Meta.Deriving.Elim.html#10333" class="Bound">argP</a> <a id="10338" class="Symbol">=</a> <a id="10340" href="Data.Bool.Base.html#861" class="Function Operator">if</a> <a id="10343" href="Meta.Deriving.Elim.html#2467" class="Function">hide-motive</a> <a id="10355" href="Data.Bool.Base.html#861" class="Function Operator">then</a> <a id="10360" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="10365" href="Data.Bool.Base.html#861" class="Function Operator">else</a> <a id="10370" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
    <a id="10379" href="Meta.Deriving.Elim.html#10379" class="Bound">motiveTel</a> <a id="10389" class="Symbol">=</a> <a id="10391" class="Symbol">(</a><a id="10392" class="String">&quot;ℓ&quot;</a> <a id="10396" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10398" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="10403" class="Symbol">(</a><a id="10404" class="Keyword">quoteTerm</a> <a id="10414" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="10419" class="Symbol">))</a>
              <a id="10436" class="Comment">-- P : DTel → Type ℓ</a>
              <a id="10471" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10473" class="Symbol">(</a><a id="10474" class="String">&quot;P&quot;</a> <a id="10478" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10480" href="Meta.Deriving.Elim.html#10333" class="Bound">argP</a> <a id="10485" class="Symbol">(</a><a id="10486" href="Data.Reflection.Term.html#1749" class="Function">unpi-view</a> <a id="10496" class="Symbol">(</a><a id="10497" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="10502" href="Meta.Deriving.Elim.html#10255" class="Bound">DTel</a><a id="10506" class="Symbol">)</a> <a id="10508" class="Symbol">(</a><a id="10509" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="10519" class="Symbol">(</a><a id="10520" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="10524" class="Symbol">(</a><a id="10525" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="10530" class="Symbol">(</a><a id="10531" href="Data.List.Operations.html#812" class="Function">length</a> <a id="10538" class="Symbol">(</a><a id="10539" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="10544" href="Meta.Deriving.Elim.html#10255" class="Bound">DTel</a><a id="10548" class="Symbol">)))))))</a>
              <a id="10570" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10572" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="10577" href="Meta.Deriving.Elim.html#10577" class="Bound">DTel</a> <a id="10582" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="10584" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="10592" class="Number">1</a> <a id="10594" href="Meta.Deriving.Elim.html#10255" class="Bound">DTel</a>
    <a id="10603" class="Comment">-- We want to take is-hlevel as an argument, but we need to work in a context</a>
    <a id="10685" class="Comment">-- with an H-Level instance in scope.</a>
    <a id="10727" class="Comment">-- (d : DTel) → is-of-hlevel n (P d)</a>
  <a id="10766" class="Keyword">let</a>
    <a id="10774" href="Meta.Deriving.Elim.html#10774" class="Bound">hlevelTel</a> <a id="10784" class="Symbol">=</a> <a id="10786" href="Data.Maybe.Instances.Alt.html#207" class="Function">maybe→alt</a> <a id="10796" href="Meta.Deriving.Elim.html#2337" class="Function">into-hlevel</a> <a id="10808" href="Meta.Effect.Map.html#604" class="Function Operator">&lt;&amp;&gt;</a> <a id="10812" class="Symbol">λ</a> <a id="10814" href="Meta.Deriving.Elim.html#10814" class="Bound">n</a> <a id="10816" class="Symbol">→</a> <a id="10818" class="String">&quot;h&quot;</a> <a id="10822" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10824" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
      <a id="10835" class="Symbol">(</a><a id="10836" href="Data.Reflection.Term.html#1749" class="Function">unpi-view</a> <a id="10846" class="Symbol">(</a><a id="10847" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="10852" href="Meta.Deriving.Elim.html#10577" class="Bound">DTel</a><a id="10856" class="Symbol">)</a>
        <a id="10866" class="Symbol">(</a><a id="10867" href="Meta.Reflection.Signature.html#4873" class="Macro">it</a> <a id="10870" href="Foundations.Base.html#13854" class="Function">is-of-hlevel</a> <a id="10883" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="10887" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="10891" class="Symbol">(</a><a id="10892" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="10896" href="Meta.Deriving.Elim.html#10814" class="Bound">n</a><a id="10897" class="Symbol">)</a> <a id="10899" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="10903" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="10907" class="Symbol">(</a><a id="10908" href="Data.List.Operations.html#812" class="Function">length</a> <a id="10915" class="Symbol">(</a><a id="10916" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="10921" href="Meta.Deriving.Elim.html#10577" class="Bound">DTel</a><a id="10925" class="Symbol">))</a> <a id="10928" class="Symbol">(</a><a id="10929" href="Meta.Reflection.Base.html#5081" class="Function">tel→args</a> <a id="10938" class="Number">0</a> <a id="10940" class="Symbol">(</a><a id="10941" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="10946" href="Meta.Deriving.Elim.html#10577" class="Bound">DTel</a><a id="10950" class="Symbol">))</a> <a id="10953" class="Symbol">))</a>
    <a id="10960" class="Comment">-- {d : DTel} {k : Nat} → H-Level (n + k) (P d)</a>
    <a id="11012" href="Meta.Deriving.Elim.html#11012" class="Bound">H-LevelTel</a> <a id="11023" class="Symbol">=</a> <a id="11025" href="Data.Maybe.Instances.Alt.html#207" class="Function">maybe→alt</a> <a id="11035" href="Meta.Deriving.Elim.html#2337" class="Function">into-hlevel</a> <a id="11047" href="Meta.Effect.Map.html#604" class="Function Operator">&lt;&amp;&gt;</a> <a id="11051" class="Symbol">λ</a> <a id="11053" href="Meta.Deriving.Elim.html#11053" class="Bound">n</a> <a id="11055" class="Symbol">→</a> <a id="11057" class="String">&quot;h&quot;</a> <a id="11061" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11063" href="Data.Reflection.Argument.html#1583" class="Function">argI</a>
      <a id="11074" class="Symbol">(</a><a id="11075" href="Data.Reflection.Term.html#1749" class="Function">unpi-view</a> <a id="11085" class="Symbol">(</a><a id="11086" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="11091" class="Symbol">(</a><a id="11092" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="11097" href="Meta.Deriving.Elim.html#10577" class="Bound">DTel</a><a id="11101" class="Symbol">))</a> <a id="11104" class="Symbol">(</a><a id="11105" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="11108" class="Symbol">(</a><a id="11109" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="11114" class="Symbol">(</a><a id="11115" class="Keyword">quoteTerm</a> <a id="11125" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="11126" class="Symbol">))</a> <a id="11129" class="Symbol">(</a><a id="11130" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="11134" class="String">&quot;k&quot;</a>
        <a id="11146" class="Symbol">(</a><a id="11147" href="Meta.Reflection.Signature.html#4873" class="Macro">it</a> <a id="11150" href="Foundations.HLevel.Base.html#8603" class="Record">H-Level</a> <a id="11158" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="11162" class="Symbol">(</a><a id="11163" href="Meta.Reflection.Signature.html#4873" class="Macro">it</a> <a id="11166" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="11170" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="11174" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="11178" class="Symbol">(</a><a id="11179" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="11183" href="Meta.Deriving.Elim.html#11053" class="Bound">n</a><a id="11184" class="Symbol">)</a> <a id="11186" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="11190" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="11195" class="Number">0</a><a id="11196" class="Symbol">)</a> <a id="11198" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="11202" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="11206" class="Symbol">(</a><a id="11207" class="Number">1</a> <a id="11209" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11211" href="Data.List.Operations.html#812" class="Function">length</a> <a id="11218" class="Symbol">(</a><a id="11219" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="11224" href="Meta.Deriving.Elim.html#10577" class="Bound">DTel</a><a id="11228" class="Symbol">))</a> <a id="11231" class="Symbol">(</a><a id="11232" href="Meta.Reflection.Base.html#5081" class="Function">tel→args</a> <a id="11241" class="Number">1</a> <a id="11243" class="Symbol">(</a><a id="11244" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="11249" href="Meta.Deriving.Elim.html#10577" class="Bound">DTel</a><a id="11253" class="Symbol">))))))</a>
    <a id="11264" href="Meta.Deriving.Elim.html#11264" class="Bound">ps</a> <a id="11267" class="Symbol">=</a> <a id="11269" href="Meta.Reflection.Base.html#5081" class="Function">tel→args</a> <a id="11278" class="Symbol">(</a><a id="11279" href="Data.List.Operations.html#812" class="Function">length</a> <a id="11286" href="Meta.Deriving.Elim.html#10379" class="Bound">motiveTel</a> <a id="11296" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11298" href="Data.List.Operations.html#812" class="Function">length</a> <a id="11305" href="Meta.Deriving.Elim.html#10774" class="Bound">hlevelTel</a><a id="11314" class="Symbol">)</a> <a id="11316" href="Meta.Deriving.Elim.html#10059" class="Bound">par-tel</a>
    <a id="11328" href="Meta.Deriving.Elim.html#11328" class="Bound">P</a> <a id="11330" class="Symbol">=</a> <a id="11332" href="Data.Reflection.Term.html#2404" class="InductiveConstructor">var₀</a> <a id="11337" class="Symbol">(</a><a id="11338" href="Data.List.Operations.html#812" class="Function">length</a> <a id="11345" href="Meta.Deriving.Elim.html#10774" class="Bound">hlevelTel</a><a id="11354" class="Symbol">)</a>
    <a id="11360" class="Keyword">module</a> <a id="I"></a><a id="11367" href="Meta.Deriving.Elim.html#11367" class="Module">I</a> <a id="11369" class="Symbol">=</a> <a id="11371" href="Meta.Deriving.Elim.html#2962" class="Module">Induction</a> <a id="11381" href="Meta.Deriving.Elim.html#9787" class="Bound">opts</a> <a id="11386" href="Meta.Deriving.Elim.html#9797" class="Bound">D</a> <a id="11388" href="Meta.Deriving.Elim.html#9906" class="Bound">pars</a> <a id="11393" href="Meta.Deriving.Elim.html#10130" class="Bound">ix-tel</a> <a id="11400" href="Meta.Deriving.Elim.html#9911" class="Bound">cs</a>
  <a id="11405" href="Meta.Deriving.Elim.html#11405" class="Bound">methodTel</a> <a id="11415" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11417" href="Meta.Deriving.Elim.html#11417" class="Bound">αs</a> <a id="11420" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11422" href="Meta.Deriving.Elim.html#11422" class="Bound">rs</a> <a id="11425" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="11427" href="Agda.Builtin.Reflection.html#9350" class="Postulate">in-context</a> <a id="11438" class="Symbol">(</a><a id="11439" href="Data.List.Base.html#938" class="Function">reverse-fast</a> <a id="11452" class="Symbol">(</a><a id="11453" href="Meta.Deriving.Elim.html#10102" class="Bound">par-telH</a> <a id="11462" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="11465" href="Meta.Deriving.Elim.html#10379" class="Bound">motiveTel</a> <a id="11475" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="11478" href="Meta.Deriving.Elim.html#11012" class="Bound">H-LevelTel</a><a id="11488" class="Symbol">))</a> <a id="11491" class="Symbol">(</a><a id="11492" href="Meta.Deriving.Elim.html#8274" class="Function">I.methods</a> <a id="11502" href="Meta.Deriving.Elim.html#11264" class="Bound">ps</a> <a id="11505" href="Meta.Deriving.Elim.html#11328" class="Bound">P</a><a id="11506" class="Symbol">)</a>
  <a id="11510" class="Keyword">let</a> <a id="11514" href="Meta.Deriving.Elim.html#11514" class="Bound">baseTel</a> <a id="11522" class="Symbol">=</a> <a id="11524" href="Meta.Deriving.Elim.html#10102" class="Bound">par-telH</a> <a id="11533" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="11536" href="Meta.Deriving.Elim.html#10379" class="Bound">motiveTel</a> <a id="11546" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="11549" href="Meta.Deriving.Elim.html#10774" class="Bound">hlevelTel</a> <a id="11559" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="11562" href="Meta.Deriving.Elim.html#11405" class="Bound">methodTel</a>
  <a id="11574" href="Meta.Deriving.Elim.html#11574" class="Bound">DTel</a> <a id="11579" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="11581" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="11589" class="Symbol">(</a><a id="11590" href="Data.List.Operations.html#812" class="Function">length</a> <a id="11597" href="Meta.Deriving.Elim.html#10774" class="Bound">hlevelTel</a> <a id="11607" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11609" href="Data.List.Operations.html#812" class="Function">length</a> <a id="11616" href="Meta.Deriving.Elim.html#11405" class="Bound">methodTel</a><a id="11625" class="Symbol">)</a> <a id="11627" href="Meta.Deriving.Elim.html#10577" class="Bound">DTel</a>
  <a id="11634" href="Meta.Deriving.Elim.html#11634" class="Bound">P</a> <a id="11636" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="11638" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="11646" class="Symbol">(</a><a id="11647" href="Data.List.Operations.html#812" class="Function">length</a> <a id="11654" href="Meta.Deriving.Elim.html#11405" class="Bound">methodTel</a> <a id="11664" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11666" href="Data.List.Operations.html#812" class="Function">length</a> <a id="11673" href="Meta.Deriving.Elim.html#11574" class="Bound">DTel</a><a id="11677" class="Symbol">)</a> <a id="11679" href="Meta.Deriving.Elim.html#11328" class="Bound">P</a>
  <a id="11683" href="Meta.Deriving.Elim.html#11683" class="Bound">Pd</a> <a id="11686" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="11688" href="Meta.Reflection.Subst.html#7959" class="Function">apply*TC</a> <a id="11697" href="Meta.Deriving.Elim.html#11634" class="Bound">P</a> <a id="11699" class="Symbol">(</a><a id="11700" href="Meta.Reflection.Base.html#5081" class="Function">tel→args</a> <a id="11709" class="Number">0</a> <a id="11711" class="Symbol">(</a><a id="11712" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="11717" href="Meta.Deriving.Elim.html#11574" class="Bound">DTel</a><a id="11721" class="Symbol">))</a>
  <a id="11726" class="Keyword">let</a>
    <a id="11734" class="Comment">-- ∀ (ps : Γ) {ℓ} {P} (h : ∀ d → is-of-hlevel n (P d)) (ms : methodTel) (d : DTel) → P d</a>
    <a id="11827" href="Meta.Deriving.Elim.html#11827" class="Bound">elimT</a> <a id="11833" class="Symbol">=</a> <a id="11835" href="Data.Reflection.Term.html#1749" class="Function">unpi-view</a> <a id="11845" class="Symbol">(</a><a id="11846" href="Meta.Deriving.Elim.html#11514" class="Bound">baseTel</a> <a id="11854" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="11857" href="Meta.Deriving.Elim.html#11574" class="Bound">DTel</a><a id="11861" class="Symbol">)</a> <a id="11863" href="Meta.Deriving.Elim.html#11683" class="Bound">Pd</a>
  <a id="11868" href="Meta.Deriving.Elim.html#11868" class="Bound">elimT′</a> <a id="11875" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="11877" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="11882" href="Meta.Effect.Map.html#494" class="Function Operator">&lt;$&gt;</a> <a id="11886" href="Agda.Builtin.Reflection.html#9696" class="Postulate">get-type</a> <a id="11895" href="Meta.Deriving.Elim.html#9792" class="Bound">elim</a> <a id="11900" href="Meta.Effect.Alt.html#320" class="Field Operator">&lt;|&gt;</a> <a id="11904" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="11912" href="Meta.Effect.Map.html#549" class="Function Operator">&lt;$</a> <a id="11915" href="Agda.Builtin.Reflection.html#9453" class="Postulate">declare-def</a> <a id="11927" class="Symbol">(</a><a id="11928" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="11933" href="Meta.Deriving.Elim.html#9792" class="Bound">elim</a><a id="11937" class="Symbol">)</a> <a id="11939" href="Meta.Deriving.Elim.html#11827" class="Bound">elimT</a>
  <a id="11947" href="Meta.Effect.Traversable.html#396" class="Function">for</a> <a id="11951" href="Meta.Deriving.Elim.html#11868" class="Bound">elimT′</a> <a id="11958" class="Symbol">(</a><a id="11959" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="11965" href="Meta.Deriving.Elim.html#11827" class="Bound">elimT</a><a id="11970" class="Symbol">)</a> <a id="11972" class="Comment">-- Give a nicer error if the types don&#39;t match</a>
  <a id="12021" href="Meta.Deriving.Elim.html#12021" class="Bound">ix-tel</a> <a id="12028" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="12030" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="12038" class="Symbol">(</a><a id="12039" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12046" href="Meta.Deriving.Elim.html#10379" class="Bound">motiveTel</a> <a id="12056" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12058" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12065" href="Meta.Deriving.Elim.html#10774" class="Bound">hlevelTel</a> <a id="12075" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12077" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12084" href="Meta.Deriving.Elim.html#11405" class="Bound">methodTel</a><a id="12093" class="Symbol">)</a> <a id="12095" href="Meta.Deriving.Elim.html#10130" class="Bound">ix-tel</a>
  <a id="12104" href="Meta.Deriving.Elim.html#12104" class="Bound">ps</a> <a id="12107" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="12109" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="12117" class="Symbol">(</a><a id="12118" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12125" href="Meta.Deriving.Elim.html#11405" class="Bound">methodTel</a> <a id="12135" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12137" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12144" href="Meta.Deriving.Elim.html#12021" class="Bound">ix-tel</a><a id="12150" class="Symbol">)</a> <a id="12152" href="Meta.Deriving.Elim.html#11264" class="Bound">ps</a>
  <a id="12157" href="Meta.Deriving.Elim.html#12157" class="Bound">rs</a> <a id="12160" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="12162" href="Meta.Reflection.Subst.html#7456" class="Function">raiseTC</a> <a id="12170" class="Symbol">(</a><a id="12171" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12178" href="Meta.Deriving.Elim.html#12021" class="Bound">ix-tel</a><a id="12184" class="Symbol">)</a> <a id="12186" href="Meta.Deriving.Elim.html#11422" class="Bound">rs</a>
  <a id="12191" class="Comment">-- The replacements are in the H-Level context, so we substitute them back into</a>
  <a id="12273" class="Comment">-- our context using basic-instance.</a>
  <a id="12312" class="Keyword">let</a> <a id="12316" href="Meta.Deriving.Elim.html#12316" class="Bound">h</a> <a id="12318" class="Symbol">=</a> <a id="12320" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12327" href="Meta.Deriving.Elim.html#11405" class="Bound">methodTel</a> <a id="12337" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12339" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12346" href="Meta.Deriving.Elim.html#12021" class="Bound">ix-tel</a>
  <a id="12355" href="Meta.Deriving.Elim.html#12355" class="Bound">rs</a> <a id="12358" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="12360" class="Keyword">do</a>
    <a id="12367" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12372" href="Meta.Deriving.Elim.html#12372" class="Bound">n</a> <a id="12374" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="12376" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="12381" href="Meta.Deriving.Elim.html#2337" class="Function">into-hlevel</a>
      <a id="12399" class="Keyword">where</a> <a id="12405" class="CatchallClause Symbol">_</a> <a id="12407" class="Symbol">→</a> <a id="12409" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="12414" href="Meta.Deriving.Elim.html#12157" class="Bound">rs</a>
    <a id="12421" class="Keyword">let</a> <a id="12425" href="Meta.Deriving.Elim.html#12425" class="Bound">f</a> <a id="12427" class="Symbol">=</a> <a id="12429" href="Meta.Reflection.Subst.html#2095" class="Field">applyS</a> <a id="12436" href="Meta.Underlying.html#1738" class="Function Operator">$</a> <a id="12438" href="Meta.Reflection.Subst.html#1831" class="Function">inplaceS</a> <a id="12447" href="Meta.Deriving.Elim.html#12316" class="Bound">h</a> <a id="12449" href="Meta.Underlying.html#1738" class="Function Operator">$</a> <a id="12451" href="Data.Reflection.Term.html#1873" class="Function">tel→lam</a> <a id="12459" class="Symbol">(</a><a id="12460" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="12465" class="Symbol">(</a><a id="12466" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="12471" href="Meta.Deriving.Elim.html#11574" class="Bound">DTel</a><a id="12475" class="Symbol">))</a>
          <a id="12488" href="Meta.Underlying.html#1738" class="Function Operator">$</a> <a id="12490" href="Meta.Reflection.Signature.html#4873" class="Macro">it</a> <a id="12493" href="Foundations.HLevel.Base.html#9253" class="Function">hlevel-basic-instance</a> <a id="12515" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="12519" class="InductiveConstructor">lit</a> <a id="12523" class="Symbol">(</a><a id="12524" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="12528" href="Meta.Deriving.Elim.html#12372" class="Bound">n</a><a id="12529" class="Symbol">)</a> <a id="12531" href="Meta.Reflection.Neutral.html#1207" class="Function Operator">##ₙ</a> <a id="12535" class="InductiveConstructor">var</a> <a id="12539" class="Symbol">(</a><a id="12540" href="Meta.Deriving.Elim.html#12316" class="Bound">h</a> <a id="12542" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12544" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12551" class="Symbol">(</a><a id="12552" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="12557" href="Meta.Deriving.Elim.html#11574" class="Bound">DTel</a><a id="12561" class="Symbol">))</a> <a id="12564" class="Symbol">(</a><a id="12565" href="Meta.Reflection.Base.html#5081" class="Function">tel→args</a> <a id="12574" class="Number">0</a> <a id="12576" class="Symbol">(</a><a id="12577" href="Meta.Deriving.Elim.html#10287" class="Bound">PTel</a> <a id="12582" href="Meta.Deriving.Elim.html#11574" class="Bound">DTel</a><a id="12586" class="Symbol">))</a>
    <a id="12593" href="Meta.Reflection.Subst.html#7164" class="Function">maybe→tc</a> <a id="12602" class="Symbol">(</a><a id="12603" href="Meta.Deriving.Elim.html#12425" class="Bound">f</a> <a id="12605" href="Meta.Deriving.Elim.html#12157" class="Bound">rs</a><a id="12607" class="Symbol">)</a> <a id="12609" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="12614" href="Meta.Deriving.Elim.html#12614" class="Bound">clauses</a> <a id="12622" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="12624" href="Agda.Builtin.Reflection.html#9350" class="Postulate">in-context</a> <a id="12635" class="Symbol">(</a><a id="12636" href="Data.List.Base.html#938" class="Function">reverse-fast</a> <a id="12649" class="Symbol">(</a><a id="12650" href="Meta.Deriving.Elim.html#11514" class="Bound">baseTel</a> <a id="12658" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="12661" href="Meta.Deriving.Elim.html#12021" class="Bound">ix-tel</a><a id="12667" class="Symbol">))</a> <a id="12670" class="Keyword">do</a>
    <a id="12677" class="Keyword">let</a> <a id="12681" href="Meta.Deriving.Elim.html#12681" class="Bound">get-clause</a> <a id="12692" class="Symbol">=</a> <a id="12694" class="Symbol">λ</a> <a id="12696" class="Symbol">(</a><a id="12697" href="Meta.Deriving.Elim.html#12697" class="Bound">c</a> <a id="12699" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12701" href="Meta.Deriving.Elim.html#12701" class="Bound">α</a><a id="12702" class="Symbol">)</a> <a id="12704" class="Symbol">→</a> <a id="12706" class="Keyword">do</a>
      <a id="12715" href="Meta.Deriving.Elim.html#12715" class="Bound">cT</a> <a id="12718" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="12720" href="Foundations.Pi.Base.html#1221" class="Function">flip</a> <a id="12725" href="Meta.Reflection.Subst.html#7296" class="Function">pi-applyTC</a> <a id="12736" href="Meta.Deriving.Elim.html#12104" class="Bound">ps</a> <a id="12739" href="Meta.Effect.Bind.html#427" class="Function Operator">=&lt;&lt;</a> <a id="12743" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="12753" href="Meta.Effect.Bind.html#427" class="Function Operator">=&lt;&lt;</a> <a id="12757" href="Agda.Builtin.Reflection.html#9696" class="Postulate">get-type</a> <a id="12766" href="Meta.Deriving.Elim.html#12697" class="Bound">c</a>
      <a id="12774" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="12786" class="String">&quot;tactic.derive.elim&quot;</a> <a id="12807" class="Number">20</a> <a id="12810" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="12812" class="String">&quot;cT = &quot;</a> <a id="12820" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12822" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="12831" href="Meta.Deriving.Elim.html#12715" class="Bound">cT</a> <a id="12834" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
      <a id="12842" class="Keyword">let</a> <a id="12846" href="Meta.Deriving.Elim.html#12846" class="Bound">cTel</a> <a id="12851" class="Symbol">=</a> <a id="12853" href="Meta.Reflection.Base.html#4702" class="Function">pi-view-path</a> <a id="12866" href="Meta.Deriving.Elim.html#12715" class="Bound">cT</a>
          <a id="12879" href="Meta.Deriving.Elim.html#12879" class="Bound">pats</a> <a id="12884" class="Symbol">=</a> <a id="12886" href="Meta.Reflection.Base.html#4930" class="Function">tel→pats</a> <a id="12895" class="Symbol">(</a><a id="12896" href="Data.List.Operations.html#812" class="Function">length</a> <a id="12903" href="Meta.Deriving.Elim.html#12846" class="Bound">cTel</a><a id="12907" class="Symbol">)</a> <a id="12909" class="Symbol">(</a><a id="12910" href="Meta.Deriving.Elim.html#11514" class="Bound">baseTel</a> <a id="12918" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="12921" href="Meta.Deriving.Elim.html#12021" class="Bound">ix-tel</a><a id="12927" class="Symbol">)</a> <a id="12929" href="Data.List.Operations.html#444" class="Function Operator">∷r</a> <a id="12932" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="12937" class="Symbol">(</a><a id="12938" href="Agda.Builtin.Reflection.html#5814" class="InductiveConstructor">con</a> <a id="12942" href="Meta.Deriving.Elim.html#12697" class="Bound">c</a> <a id="12944" class="Symbol">(</a><a id="12945" href="Meta.Reflection.Base.html#4930" class="Function">tel→pats</a> <a id="12954" class="Number">0</a> <a id="12956" href="Meta.Deriving.Elim.html#12846" class="Bound">cTel</a><a id="12960" class="Symbol">))</a>
          <a id="12973" href="Meta.Deriving.Elim.html#12973" class="Bound">rec</a> <a id="12977" class="Symbol">=</a> <a id="12979" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="12983" href="Meta.Deriving.Elim.html#9792" class="Bound">elim</a> <a id="12988" class="Symbol">(</a><a id="12989" href="Meta.Reflection.Base.html#5081" class="Function">tel→args</a> <a id="12998" class="Symbol">(</a><a id="12999" href="Data.List.Operations.html#812" class="Function">length</a> <a id="13006" href="Meta.Deriving.Elim.html#12021" class="Bound">ix-tel</a> <a id="13013" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="13015" href="Data.List.Operations.html#812" class="Function">length</a> <a id="13022" href="Meta.Deriving.Elim.html#12846" class="Bound">cTel</a><a id="13026" class="Symbol">)</a> <a id="13028" href="Meta.Deriving.Elim.html#11514" class="Bound">baseTel</a><a id="13035" class="Symbol">)</a>
      <a id="13043" href="Meta.Deriving.Elim.html#13043" class="Bound">α</a> <a id="13045" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="13047" href="Meta.Reflection.Subst.html#7164" class="Function">maybe→tc</a> <a id="13056" class="Symbol">(</a><a id="13057" href="Meta.Reflection.Subst.html#2095" class="Field">applyS</a> <a id="13064" class="Symbol">(</a><a id="13065" href="Meta.Reflection.Subst.html#1619" class="Function">singletonS</a> <a id="13076" class="Symbol">(</a><a id="13077" href="Data.List.Operations.html#812" class="Function">length</a> <a id="13084" href="Meta.Deriving.Elim.html#12846" class="Bound">cTel</a><a id="13088" class="Symbol">)</a> <a id="13090" href="Meta.Deriving.Elim.html#12973" class="Bound">rec</a><a id="13093" class="Symbol">)</a> <a id="13095" href="Meta.Deriving.Elim.html#12701" class="Bound">α</a><a id="13096" class="Symbol">)</a> <a id="13098" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="13107" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13112" href="Meta.Deriving.Elim.html#13112" class="Bound">m</a> <a id="13114" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="13116" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="13121" class="Symbol">(</a><a id="13122" href="Meta.Deriving.Elim.html#3256" class="Function">I.replace</a> <a id="13132" href="Meta.Reflection.Base.html#3177" class="Function">full-tank</a> <a id="13142" href="Meta.Deriving.Elim.html#12355" class="Bound">rs</a> <a id="13145" class="Symbol">(</a><a id="13146" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="13150" href="Meta.Deriving.Elim.html#12697" class="Bound">c</a> <a id="13152" class="Symbol">(</a><a id="13153" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="13158" href="Meta.Deriving.Elim.html#12104" class="Bound">ps</a><a id="13160" class="Symbol">)))</a>
        <a id="13172" class="Keyword">where</a> <a id="13178" class="CatchallClause Symbol">_</a> <a id="13180" class="Symbol">→</a> <a id="13182" href="Agda.Builtin.Reflection.html#8815" class="Postulate">type-error</a> <a id="13193" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="13202" href="Meta.Deriving.Elim.html#13202" class="Bound">m</a> <a id="13204" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="13206" href="Foundations.Pi.Base.html#1221" class="Function">flip</a> <a id="13211" href="Meta.Reflection.Subst.html#7164" class="Function">maybe→tc</a> <a id="13220" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="13223" class="Keyword">do</a>
        <a id="13234" href="Meta.Deriving.Elim.html#13234" class="Bound">m′</a> <a id="13237" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="13239" href="Meta.Reflection.Subst.html#2171" class="Function">raise</a> <a id="13245" class="Symbol">(</a><a id="13246" href="Data.List.Operations.html#812" class="Function">length</a> <a id="13253" href="Meta.Deriving.Elim.html#12846" class="Bound">cTel</a><a id="13257" class="Symbol">)</a> <a id="13259" href="Meta.Deriving.Elim.html#13112" class="Bound">m</a>
        <a id="13269" href="Meta.Reflection.Subst.html#3499" class="Function">apply-tm*</a> <a id="13279" href="Meta.Reflection.Base.html#3177" class="Function">full-tank</a> <a id="13289" href="Meta.Deriving.Elim.html#13234" class="Bound">m′</a> <a id="13292" href="Meta.Deriving.Elim.html#13043" class="Bound">α</a>
      <a id="13300" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="13305" href="Meta.Underlying.html#1738" class="Function Operator">$</a> <a id="13307" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="13314" class="Symbol">(</a><a id="13315" href="Meta.Deriving.Elim.html#11514" class="Bound">baseTel</a> <a id="13323" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="13326" href="Meta.Deriving.Elim.html#12021" class="Bound">ix-tel</a> <a id="13333" href="Foundations.Correspondences.Binary.Transitive.html#876" class="Field Operator">&lt;&gt;</a> <a id="13336" href="Meta.Deriving.Elim.html#12846" class="Bound">cTel</a><a id="13340" class="Symbol">)</a> <a id="13342" href="Meta.Deriving.Elim.html#12879" class="Bound">pats</a> <a id="13347" href="Meta.Deriving.Elim.html#13202" class="Bound">m</a>
    <a id="13353" href="Meta.Effect.Traversable.html#293" class="Field">traverse</a> <a id="13362" href="Meta.Deriving.Elim.html#12681" class="Bound">get-clause</a> <a id="13373" class="Symbol">(</a><a id="13374" href="Data.List.Operations.html#3098" class="Function">zip</a> <a id="13378" href="Meta.Deriving.Elim.html#9911" class="Bound">cs</a> <a id="13381" href="Meta.Deriving.Elim.html#11417" class="Bound">αs</a><a id="13383" class="Symbol">)</a>
  <a id="13387" href="Agda.Builtin.Reflection.html#9649" class="Postulate">define-function</a> <a id="13403" href="Meta.Deriving.Elim.html#9792" class="Bound">elim</a> <a id="13408" href="Meta.Deriving.Elim.html#12614" class="Bound">clauses</a>

<a id="default-elim"></a><a id="13417" href="Meta.Deriving.Elim.html#13417" class="Function">default-elim</a> <a id="13430" class="Symbol">=</a> <a id="13432" class="Keyword">record</a>
  <a id="13441" class="Symbol">{</a> <a id="13443" href="Meta.Deriving.Elim.html#2234" class="Field">induction</a> <a id="13453" class="Symbol">=</a> <a id="13455" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13462" class="Symbol">;</a> <a id="13464" href="Meta.Deriving.Elim.html#2337" class="Field">into-hlevel</a> <a id="13476" class="Symbol">=</a> <a id="13478" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="13488" class="Symbol">;</a> <a id="13490" href="Meta.Deriving.Elim.html#2467" class="Field">hide-motive</a> <a id="13502" class="Symbol">=</a> <a id="13504" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13511" class="Symbol">;</a> <a id="13513" href="Meta.Deriving.Elim.html#2610" class="Field">hide-indices</a> <a id="13526" class="Symbol">=</a> <a id="13528" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13535" class="Symbol">;</a> <a id="13537" href="Meta.Deriving.Elim.html#2923" class="Field">hide-cons-args</a> <a id="13552" class="Symbol">=</a> <a id="13554" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13562" class="Symbol">}</a>

<a id="default-elim-visible"></a><a id="13565" href="Meta.Deriving.Elim.html#13565" class="Function">default-elim-visible</a> <a id="13586" class="Symbol">=</a> <a id="13588" class="Keyword">record</a>
  <a id="13597" class="Symbol">{</a> <a id="13599" href="Meta.Deriving.Elim.html#2234" class="Field">induction</a> <a id="13609" class="Symbol">=</a> <a id="13611" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13618" class="Symbol">;</a> <a id="13620" href="Meta.Deriving.Elim.html#2337" class="Field">into-hlevel</a> <a id="13632" class="Symbol">=</a> <a id="13634" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="13644" class="Symbol">;</a> <a id="13646" href="Meta.Deriving.Elim.html#2467" class="Field">hide-motive</a> <a id="13658" class="Symbol">=</a> <a id="13660" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13668" class="Symbol">;</a> <a id="13670" href="Meta.Deriving.Elim.html#2610" class="Field">hide-indices</a> <a id="13683" class="Symbol">=</a> <a id="13685" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13693" class="Symbol">;</a> <a id="13695" href="Meta.Deriving.Elim.html#2923" class="Field">hide-cons-args</a> <a id="13710" class="Symbol">=</a> <a id="13712" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13720" class="Symbol">}</a>

<a id="default-rec"></a><a id="13723" href="Meta.Deriving.Elim.html#13723" class="Function">default-rec</a> <a id="13735" class="Symbol">=</a> <a id="13737" class="Keyword">record</a> <a id="13744" href="Meta.Deriving.Elim.html#13417" class="Function">default-elim</a> <a id="13757" class="Symbol">{</a> <a id="13759" href="Meta.Deriving.Elim.html#2234" class="Field">induction</a> <a id="13769" class="Symbol">=</a> <a id="13771" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13777" class="Symbol">}</a>
<a id="default-rec-visible"></a><a id="13779" href="Meta.Deriving.Elim.html#13779" class="Function">default-rec-visible</a> <a id="13799" class="Symbol">=</a> <a id="13801" class="Keyword">record</a> <a id="13808" href="Meta.Deriving.Elim.html#13565" class="Function">default-elim-visible</a> <a id="13829" class="Symbol">{</a> <a id="13831" href="Meta.Deriving.Elim.html#2234" class="Field">induction</a> <a id="13841" class="Symbol">=</a> <a id="13843" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13849" class="Symbol">}</a>

<a id="_into_"></a><a id="13852" href="Meta.Deriving.Elim.html#13852" class="Function Operator">_into_</a> <a id="13859" class="Symbol">:</a> <a id="13861" href="Meta.Deriving.Elim.html#2080" class="Record">Elim-options</a> <a id="13874" class="Symbol">→</a> <a id="13876" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="13878" class="Symbol">→</a> <a id="13880" href="Meta.Deriving.Elim.html#2080" class="Record">Elim-options</a>
<a id="13893" href="Meta.Deriving.Elim.html#13893" class="Bound">opts</a> <a id="13898" href="Meta.Deriving.Elim.html#13852" class="Function Operator">into</a> <a id="13903" href="Meta.Deriving.Elim.html#13903" class="Bound">n</a> <a id="13905" class="Symbol">=</a> <a id="13907" class="Keyword">record</a> <a id="13914" href="Meta.Deriving.Elim.html#13893" class="Bound">opts</a> <a id="13919" class="Symbol">{</a> <a id="13921" href="Meta.Deriving.Elim.html#2337" class="Field">into-hlevel</a> <a id="13933" class="Symbol">=</a> <a id="13935" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13940" href="Meta.Deriving.Elim.html#13903" class="Bound">n</a> <a id="13942" class="Symbol">}</a>

<a id="make-elim"></a><a id="13945" href="Meta.Deriving.Elim.html#13945" class="Function">make-elim</a> <a id="make-rec"></a><a id="13955" href="Meta.Deriving.Elim.html#13955" class="Function">make-rec</a> <a id="13964" class="Symbol">:</a> <a id="13966" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="13971" class="Symbol">→</a> <a id="13973" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="13978" class="Symbol">→</a> <a id="13980" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="13983" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="13985" href="Meta.Deriving.Elim.html#13945" class="Function">make-elim</a> <a id="13995" class="Symbol">=</a> <a id="13997" href="Meta.Deriving.Elim.html#9721" class="Function">make-elim-with</a> <a id="14012" href="Meta.Deriving.Elim.html#13417" class="Function">default-elim</a>
<a id="14025" href="Meta.Deriving.Elim.html#13955" class="Function">make-rec</a> <a id="14034" class="Symbol">=</a> <a id="14036" href="Meta.Deriving.Elim.html#9721" class="Function">make-elim-with</a> <a id="14051" href="Meta.Deriving.Elim.html#13723" class="Function">default-rec</a>

<a id="make-elim-n"></a><a id="14064" href="Meta.Deriving.Elim.html#14064" class="Function">make-elim-n</a> <a id="make-rec-n"></a><a id="14076" href="Meta.Deriving.Elim.html#14076" class="Function">make-rec-n</a> <a id="14087" class="Symbol">:</a> <a id="14089" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="14091" class="Symbol">→</a> <a id="14093" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="14098" class="Symbol">→</a> <a id="14100" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="14105" class="Symbol">→</a> <a id="14107" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="14110" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="14112" href="Meta.Deriving.Elim.html#14064" class="Function">make-elim-n</a> <a id="14124" href="Meta.Deriving.Elim.html#14124" class="Bound">n</a> <a id="14126" class="Symbol">=</a> <a id="14128" href="Meta.Deriving.Elim.html#9721" class="Function">make-elim-with</a> <a id="14143" class="Symbol">(</a><a id="14144" href="Meta.Deriving.Elim.html#13417" class="Function">default-elim</a> <a id="14157" href="Meta.Deriving.Elim.html#13852" class="Function Operator">into</a> <a id="14162" href="Meta.Deriving.Elim.html#14124" class="Bound">n</a><a id="14163" class="Symbol">)</a>
<a id="14165" href="Meta.Deriving.Elim.html#14076" class="Function">make-rec-n</a> <a id="14176" href="Meta.Deriving.Elim.html#14176" class="Bound">n</a> <a id="14178" class="Symbol">=</a> <a id="14180" href="Meta.Deriving.Elim.html#9721" class="Function">make-elim-with</a> <a id="14195" class="Symbol">(</a><a id="14196" href="Meta.Deriving.Elim.html#13723" class="Function">default-rec</a> <a id="14208" href="Meta.Deriving.Elim.html#13852" class="Function Operator">into</a> <a id="14213" href="Meta.Deriving.Elim.html#14176" class="Bound">n</a><a id="14214" class="Symbol">)</a>


<a id="14218" class="Comment">-- Examples</a>
<a id="14230" class="Comment">-- be careful, they consume about ~10GB of memory</a>
<a id="14280" class="Comment">-- TODO remove the warning after the fix</a>
<a id="14321" class="Comment">-- module _ where private</a>

  <a id="14350" class="Comment">-- open import Data.Nat.Base</a>
  <a id="14381" class="Comment">-- unquoteDecl ℕ-elim = make-elim ℕ-elim (quote ℕ)</a>
  <a id="14434" class="Comment">-- unquoteDecl ℕ-rec = make-rec ℕ-rec (quote ℕ)</a>

  <a id="14485" class="Comment">-- _ : {ℓ : Level} {P : ℕ → 𝒰 ℓ}</a>
  <a id="14520" class="Comment">--   → P 0</a>
  <a id="14533" class="Comment">--   → Π[ n ꞉ ℕ ] (P n → P (suc n))</a>
  <a id="14571" class="Comment">--   → Π[ n ꞉ ℕ ] P n</a>
  <a id="14595" class="Comment">-- _ = ℕ-elim</a>

  <a id="14612" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ}</a>
  <a id="14643" class="Comment">--   → A</a>
  <a id="14654" class="Comment">--   → (ℕ → A → A)</a>
  <a id="14675" class="Comment">--   → ℕ → A</a>
  <a id="14690" class="Comment">-- _ = ℕ-rec</a>

  <a id="14706" class="Comment">-- open import Data.Fin.Inductive.Base</a>
  <a id="14747" class="Comment">-- unquoteDecl Fin-elim = make-elim Fin-elim (quote Fin)</a>

  <a id="14807" class="Comment">-- _ : {ℓ : Level} {P : {@0 n : ℕ} → Fin n → 𝒰 ℓ}</a>
  <a id="14859" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] P fzero</a>
  <a id="14888" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] Π[ k ꞉ Fin m ] (P k → P (fsuc k))</a>
  <a id="14943" class="Comment">--   → ∀ᴱ[ n ꞉ ℕ ] Π[ x ꞉ Fin n ] P x</a>
  <a id="14983" class="Comment">-- _ = Fin-elim</a>

  <a id="15002" class="Comment">-- open import Data.List.Base</a>
  <a id="15034" class="Comment">-- unquoteDecl List-elim = make-elim List-elim (quote List)</a>
  <a id="15096" class="Comment">-- unquoteDecl List-rec = make-elim-with (record default-rec {hide-cons-args = true}) List-rec (quote List)</a>

  <a id="15207" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {P : List A → 𝒰 ℓ}</a>
  <a id="15271" class="Comment">--   → P []</a>
  <a id="15285" class="Comment">--   → Π[ y ꞉ A ] Π[ ys ꞉ List A ] (P ys → P (y ∷ ys))</a>
  <a id="15342" class="Comment">--   → Π[ xs ꞉ List A ] P xs</a>
  <a id="15373" class="Comment">-- _ = List-elim</a>

  <a id="15393" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {B : 𝒰 ℓ}</a>
  <a id="15448" class="Comment">--   → B</a>
  <a id="15459" class="Comment">--   → ∀[ x ꞉ A ] ∀[ xs ꞉ List A ] (B → B)</a>
  <a id="15504" class="Comment">--   → List A → B</a>
  <a id="15524" class="Comment">-- _ = List-rec</a>

  <a id="15543" class="Comment">-- open import Data.Vec.Inductive.Base</a>
  <a id="15584" class="Comment">-- unquoteDecl Vec-elim = make-elim Vec-elim (quote Vec)</a>

  <a id="15644" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {P : {@0 n : ℕ} → Vec A n → 𝒰 ℓ}</a>
  <a id="15722" class="Comment">--   → P []</a>
  <a id="15736" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] Π[ y ꞉ A ] Π[ ys ꞉ Vec A m ] (P ys → P (y ∷ ys))</a>
  <a id="15806" class="Comment">--   → ∀ᴱ[ n ꞉ ℕ ] Π[ xs ꞉ Vec A n ] P xs</a>
  <a id="15850" class="Comment">-- _ = Vec-elim</a>

  <a id="15869" class="Comment">-- open import Data.Id.Inductive</a>
  <a id="15904" class="Comment">-- unquoteDecl Id-elim = make-elim-with default-elim-visible Id-elim (quote _＝ⁱ_)</a>

  <a id="15989" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {a : A} {ℓ : Level}</a>
  <a id="16042" class="Comment">--     (P : Π[ b ꞉ A ] (a ＝ⁱ b → 𝒰 ℓ))</a>
  <a id="16083" class="Comment">--   → P a reflⁱ</a>
  <a id="16102" class="Comment">--   → Π[ x ꞉ A ] Π[ p ꞉ a ＝ⁱ x ] P x p</a>
  <a id="16144" class="Comment">-- _ = Id-elim</a>

  <a id="16162" class="Comment">-- open import Data.Truncation.Propositional.Base</a>
  <a id="16214" class="Comment">-- unquoteDecl ∥-∥₁-elim = make-elim ∥-∥₁-elim (quote ∥_∥₁)</a>
  <a id="16276" class="Comment">-- unquoteDecl ∥-∥₁-elim-prop = make-elim-n 1 ∥-∥₁-elim-prop (quote ∥_∥₁)</a>

  <a id="16353" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : ∥ A ∥₁ → 𝒰 ℓ′}</a>
  <a id="16417" class="Comment">--   → Π[ a ꞉ A ] P ∣ a ∣₁</a>
  <a id="16446" class="Comment">--   → Π[ a ꞉ ∥ A ∥₁ ] Π[ pᵃ ꞉ P a ] Π[ b ꞉ ∥ A ∥₁ ] Π[ pᵇ ꞉ P b ] ＜ pᵃ ／ (λ i → P (squash₁ a b i)) ＼ pᵇ ＞</a>
  <a id="16555" class="Comment">--   → Π[ x ꞉ ∥ A ∥₁ ] P x</a>
  <a id="16584" class="Comment">-- _ = ∥-∥₁-elim</a>

  <a id="16604" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : ∥ A ∥₁ → 𝒰 ℓ′}</a>
  <a id="16668" class="Comment">--   → Π[ a ꞉ ∥ A ∥₁ ] is-prop (P a)</a>
  <a id="16707" class="Comment">--   → Π[ a ꞉ A ] P ∣ a ∣₁</a>
  <a id="16736" class="Comment">--   → Π[ x ꞉ ∥ A ∥₁ ] P x</a>
  <a id="16765" class="Comment">-- _ = ∥-∥₁-elim-prop</a>

  <a id="16790" class="Comment">-- open import Data.Tree.Binary.Base</a>
  <a id="16829" class="Comment">-- unquoteDecl tree-elim = make-elim-with (record default-elim {hide-cons-args = true}) tree-elim (quote Tree)</a>

  <a id="16943" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : Tree A → 𝒰 ℓ′}</a>
  <a id="17007" class="Comment">--   → P empty</a>
  <a id="17024" class="Comment">--   → ∀[ a ꞉ A ] P (leaf a)</a>
  <a id="17055" class="Comment">--   → ∀[ t₁ ꞉ Tree A ] (P t₁ → ∀[ t₂ ꞉ Tree A ] (P t₂ → P (node t₁ t₂)))</a>
  <a id="17131" class="Comment">--   → Π[ t ꞉ Tree A ] P t</a>
  <a id="17160" class="Comment">-- _ = tree-elim</a>
</pre></body></html>