<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Deriving.Elim</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- Naïm Favier 2023</a>
<a id="21" class="Symbol">{-#</a> <a id="25" class="Keyword">OPTIONS</a> <a id="33" class="Pragma">--safe</a> <a id="40" class="Pragma">--no-exact-split</a> <a id="57" class="Symbol">#-}</a>
<a id="61" class="Keyword">module</a> <a id="68" href="Meta.Deriving.Elim.html" class="Module">Meta.Deriving.Elim</a> <a id="87" class="Keyword">where</a>

<a id="94" class="Keyword">open</a> <a id="99" class="Keyword">import</a> <a id="106" href="Meta.Prelude.html" class="Module">Meta.Prelude</a>
<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>

<a id="148" class="Keyword">open</a> <a id="153" class="Keyword">import</a> <a id="160" href="Logic.Discreteness.html" class="Module">Logic.Discreteness</a>

<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="207" class="Keyword">open</a> <a id="212" class="Keyword">import</a> <a id="219" href="Data.Dec.Base.html" class="Module">Data.Dec.Base</a>
<a id="233" class="Keyword">open</a> <a id="238" class="Keyword">import</a> <a id="245" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="261" class="Symbol">as</a> <a id="264" class="Module">Maybe</a>
<a id="270" class="Keyword">open</a> <a id="275" class="Keyword">import</a> <a id="282" href="Data.Maybe.Instances.Bind.html" class="Module">Data.Maybe.Instances.Bind</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Data.List.Instances.Alt.html" class="Module">Data.List.Instances.Alt</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.List.Instances.Append.html" class="Module">Data.List.Instances.Append</a>
<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Data.List.Instances.Discrete.html" class="Module">Data.List.Instances.Discrete</a>
<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="521" class="Keyword">open</a> <a id="526" class="Keyword">import</a> <a id="533" href="Data.List.Instances.Idiom.html" class="Module">Data.List.Instances.Idiom</a>
<a id="559" class="Keyword">open</a> <a id="564" class="Keyword">import</a> <a id="571" href="Data.List.Instances.Map.html" class="Module">Data.List.Instances.Map</a>
<a id="595" class="Keyword">open</a> <a id="600" class="Keyword">import</a> <a id="607" href="Data.List.Instances.Traversable.html" class="Module">Data.List.Instances.Traversable</a>
<a id="639" class="Keyword">open</a> <a id="644" class="Keyword">import</a> <a id="651" href="Data.List.Operations.html" class="Module">Data.List.Operations</a>
<a id="672" class="Keyword">open</a> <a id="677" class="Keyword">import</a> <a id="684" href="Data.Maybe.Instances.Alt.html" class="Module">Data.Maybe.Instances.Alt</a>
<a id="709" class="Keyword">open</a> <a id="714" class="Keyword">import</a> <a id="721" href="Data.Maybe.Instances.Traversable.html" class="Module">Data.Maybe.Instances.Traversable</a>
<a id="754" class="Keyword">open</a> <a id="759" class="Keyword">import</a> <a id="766" href="Data.Reflection.html" class="Module">Data.Reflection</a>
<a id="782" class="Keyword">open</a> <a id="787" class="Keyword">import</a> <a id="794" href="Data.String.Instances.Append.html" class="Module">Data.String.Instances.Append</a>
<a id="823" class="Keyword">open</a> <a id="828" class="Keyword">import</a> <a id="835" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a>

<a id="851" class="Comment">{-
A macro for generating induction principles for (higher, indexed) inductive types.

We support inductive types in the form presented in &quot;Pattern Matching Without K&quot;
by Cockx et al, section 3.1, with the addition of higher inductive types.
Reusing the terminology from that paper, the idea is to translate the constructors
of a data type into corresponding *methods* along with spines that tell us how to
apply them to build the eliminator&#39;s clauses.

When generating an eliminator into (n-2)-types, we automatically omit the methods that
follow from h-level (i.e. those corresponding to constructors with at least n
nested `Pathᴾ`s).

Due to limitations of the reflection interface, path constructors between composites
are not supported.
-}</a>

<a id="Replacements"></a><a id="1597" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a> <a id="1610" class="Symbol">=</a> <a id="1612" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1617" class="Symbol">(</a><a id="1618" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1623" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="1625" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1629" class="Symbol">)</a>

<a id="subst-replacements"></a><a id="1632" href="Meta.Deriving.Elim.html#1632" class="Function">subst-replacements</a> <a id="1651" class="Symbol">:</a> <a id="1653" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1659" class="Symbol">→</a> <a id="1661" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a> <a id="1674" class="Symbol">→</a> <a id="1676" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1682" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a>
<a id="1695" href="Meta.Deriving.Elim.html#1632" class="Function">subst-replacements</a> <a id="1714" href="Meta.Deriving.Elim.html#1714" class="Bound">s</a> <a id="1716" href="Meta.Deriving.Elim.html#1716" class="Bound">rs</a> <a id="1719" class="Symbol">=</a> <a id="1721" class="Keyword">do</a>
  <a id="1726" class="Keyword">let</a> <a id="1730" href="Meta.Deriving.Elim.html#1730" class="Bound">u</a> <a id="1732" class="Symbol">=</a> <a id="1734" href="Meta.Effect.Map.Base.html#261" class="Field">map</a> <a id="1738" class="Symbol">(</a><a id="1739" href="Foundations.Sigma.Base.html#951" class="Function">bimap</a> <a id="1745" class="Symbol">(</a><a id="1746" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="1753" href="Meta.Deriving.Elim.html#1714" class="Bound">s</a><a id="1754" class="Symbol">)</a> <a id="1756" class="Symbol">(</a><a id="1757" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="1764" href="Meta.Deriving.Elim.html#1714" class="Bound">s</a><a id="1765" class="Symbol">))</a> <a id="1768" href="Meta.Deriving.Elim.html#1716" class="Bound">rs</a>
  <a id="1773" href="Meta.Effect.Traversable.html#418" class="Function">for</a> <a id="1777" href="Meta.Deriving.Elim.html#1730" class="Bound">u</a> <a id="1779" class="Symbol">λ</a> <a id="1781" class="Keyword">where</a> <a id="1787" class="Symbol">(</a><a id="1788" href="Meta.Deriving.Elim.html#1788" class="Bound">ma</a> <a id="1791" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1793" href="Meta.Deriving.Elim.html#1793" class="Bound">mb</a><a id="1795" class="Symbol">)</a> <a id="1797" class="Symbol">→</a> <a id="1799" class="Symbol">⦇</a> <a id="1801" href="Meta.Deriving.Elim.html#1788" class="Bound">ma</a> <a id="1804" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1806" href="Meta.Deriving.Elim.html#1793" class="Bound">mb</a> <a id="1809" class="Symbol">⦈</a>

<a id="1812" class="Keyword">instance</a>
  <a id="Has-subst-Replacements"></a><a id="1823" href="Meta.Deriving.Elim.html#1823" class="Function">Has-subst-Replacements</a> <a id="1846" class="Symbol">:</a> <a id="1848" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="1858" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a>
  <a id="1873" href="Meta.Deriving.Elim.html#1823" class="Function">Has-subst-Replacements</a> <a id="1896" class="Symbol">=</a> <a id="1898" class="Keyword">record</a> <a id="1905" class="Symbol">{</a> <a id="1907" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="1914" class="Symbol">=</a> <a id="1916" href="Meta.Deriving.Elim.html#1632" class="Function">subst-replacements</a> <a id="1935" class="Symbol">}</a>

<a id="1938" class="Keyword">record</a> <a id="Elim-options"></a><a id="1945" href="Meta.Deriving.Elim.html#1945" class="Record">Elim-options</a> <a id="1958" class="Symbol">:</a> <a id="1960" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1965" class="Keyword">where</a>
  <a id="1973" class="Keyword">field</a>
    <a id="1983" class="Comment">-- Whether to generate an induction principle or a recursion principle.</a>
    <a id="2059" class="Comment">-- (P : D → Type ℓ) vs (P : Type ℓ)</a>
    <a id="Elim-options.induction"></a><a id="2099" href="Meta.Deriving.Elim.html#2099" class="Field">induction</a> <a id="2109" class="Symbol">:</a> <a id="2111" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2121" class="Comment">-- If `just n`, assume the motive has hlevel n and omit methods accordingly.</a>
    <a id="Elim-options.into-hlevel"></a><a id="2202" href="Meta.Deriving.Elim.html#2202" class="Field">into-hlevel</a> <a id="2214" class="Symbol">:</a> <a id="2216" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2222" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

    <a id="2229" class="Comment">-- Hide the motive argument in the eliminator&#39;s type?</a>
    <a id="2287" class="Comment">-- (P : D → Type ℓ) vs. {P : D → Type ℓ}</a>
    <a id="Elim-options.hide-motive"></a><a id="2332" href="Meta.Deriving.Elim.html#2332" class="Field">hide-motive</a> <a id="2344" class="Symbol">:</a> <a id="2346" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2356" class="Comment">-- Hide the indices in the motive&#39;s type?</a>
    <a id="2402" class="Comment">-- (P : (is : Ξ) → D is → Type ℓ) vs. (P : {is : Ξ} → D is → Type ℓ)</a>
    <a id="Elim-options.hide-indices"></a><a id="2475" href="Meta.Deriving.Elim.html#2475" class="Field">hide-indices</a> <a id="2488" class="Symbol">:</a> <a id="2490" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2500" class="Comment">-- Hide non-inductive hypotheses in method types?</a>
    <a id="2554" class="Comment">-- (Psup : (x : A) (f : B x → W A B) (Pf : ∀ b → P (f b)) → P (sup x f))</a>
    <a id="2631" class="Comment">-- vs.</a>
    <a id="2642" class="Comment">-- (Psup : {x : A} {f : B x → W A B} (Pf : ∀ b → P (f b)) → P (sup x f))</a>
    <a id="2719" class="Comment">-- Arguments hidden in the constructor&#39;s type are always hidden.</a>
    <a id="Elim-options.hide-cons-args"></a><a id="2788" href="Meta.Deriving.Elim.html#2788" class="Field">hide-cons-args</a> <a id="2803" class="Symbol">:</a> <a id="2805" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="2811" class="Keyword">private</a>
 <a id="2820" class="Keyword">module</a> <a id="Induction"></a><a id="2827" href="Meta.Deriving.Elim.html#2827" class="Module">Induction</a>
  <a id="2839" class="Symbol">(</a><a id="2840" href="Meta.Deriving.Elim.html#2840" class="Bound">opts</a> <a id="2845" class="Symbol">:</a> <a id="2847" href="Meta.Deriving.Elim.html#1945" class="Record">Elim-options</a><a id="2859" class="Symbol">)</a>
  <a id="2863" class="Symbol">(</a><a id="2864" href="Meta.Deriving.Elim.html#2864" class="Bound">D</a> <a id="2866" class="Symbol">:</a> <a id="2868" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2872" class="Symbol">)</a> <a id="2874" class="Symbol">(</a><a id="2875" href="Meta.Deriving.Elim.html#2875" class="Bound">pars</a> <a id="2880" class="Symbol">:</a> <a id="2882" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2883" class="Symbol">)</a> <a id="2885" class="Symbol">(</a><a id="2886" href="Meta.Deriving.Elim.html#2886" class="Bound">ix-tel</a> <a id="2893" class="Symbol">:</a> <a id="2895" href="Data.Reflection.Term.html#844" class="Function">Telescope</a><a id="2904" class="Symbol">)</a> <a id="2906" class="Symbol">(</a><a id="2907" href="Meta.Deriving.Elim.html#2907" class="Bound">cs</a> <a id="2910" class="Symbol">:</a> <a id="2912" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2917" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2921" class="Symbol">)</a>
  <a id="2925" class="Keyword">where</a>

  <a id="2934" class="Keyword">open</a> <a id="2939" href="Meta.Deriving.Elim.html#1945" class="Module">Elim-options</a> <a id="2952" href="Meta.Deriving.Elim.html#2840" class="Bound">opts</a>

  <a id="2960" class="Comment">-- Given a term c : T, produce a replacement c↑ : T↑ (see below).</a>
  <a id="3028" class="Comment">-- The Replacements argument maps constructors and variables to their</a>
  <a id="3100" class="Comment">-- lifted version.</a>
  <a id="Induction.replace"></a><a id="3121" href="Meta.Deriving.Elim.html#3121" class="Function">replace</a>  <a id="3130" class="Symbol">:</a> <a id="3132" class="Symbol">(</a><a id="3133" href="Meta.Deriving.Elim.html#3133" class="Bound">fuel</a> <a id="3138" class="Symbol">:</a> <a id="3140" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3141" class="Symbol">)</a> <a id="3143" class="Symbol">→</a> <a id="3145" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a> <a id="3158" class="Symbol">→</a> <a id="3160" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3165" class="Symbol">→</a> <a id="3167" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3173" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="Induction.replace*"></a><a id="3180" href="Meta.Deriving.Elim.html#3180" class="Function">replace*</a> <a id="3189" class="Symbol">:</a> <a id="3191" class="Symbol">(</a><a id="3192" href="Meta.Deriving.Elim.html#3192" class="Bound">fuel</a> <a id="3197" class="Symbol">:</a> <a id="3199" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3200" class="Symbol">)</a> <a id="3202" class="Symbol">→</a> <a id="3204" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a> <a id="3217" class="Symbol">→</a> <a id="3219" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="3224" class="Symbol">→</a> <a id="3226" href="Data.Reflection.Term.html#882" class="Function">Args</a>

  <a id="Induction.lookupR"></a><a id="3234" href="Meta.Deriving.Elim.html#3234" class="Function">lookupR</a> <a id="3242" class="Symbol">:</a> <a id="3244" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3249" class="Symbol">→</a> <a id="3251" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a> <a id="3264" class="Symbol">→</a> <a id="3266" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3272" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="3279" href="Meta.Deriving.Elim.html#3234" class="Function">lookupR</a> <a id="3287" href="Meta.Deriving.Elim.html#3287" class="Bound">t</a> <a id="3289" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3292" class="Symbol">=</a> <a id="3294" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="3304" href="Meta.Deriving.Elim.html#3234" class="Function">lookupR</a> <a id="3312" href="Meta.Deriving.Elim.html#3312" class="Bound">t</a><a id="3313" class="Symbol">@(</a><a id="3315" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3319" href="Meta.Deriving.Elim.html#3319" class="Bound">c</a> <a id="3321" class="Symbol">_)</a> <a id="3324" class="Symbol">((</a><a id="3326" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3330" href="Meta.Deriving.Elim.html#3330" class="Bound">c′</a> <a id="3333" class="Symbol">_</a> <a id="3335" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3337" href="Meta.Deriving.Elim.html#3337" class="Bound">r</a><a id="3338" class="Symbol">)</a> <a id="3340" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3342" href="Meta.Deriving.Elim.html#3342" class="Bound">rs</a><a id="3344" class="Symbol">)</a> <a id="3346" class="Keyword">with</a> <a id="3351" href="Meta.Deriving.Elim.html#3319" class="Bound">c</a> <a id="3353" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">name=?</a> <a id="3360" href="Meta.Deriving.Elim.html#3330" class="Bound">c′</a>
  <a id="3365" class="Symbol">...</a> <a id="3369" class="Symbol">|</a> <a id="3371" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3377" class="Symbol">=</a> <a id="3379" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3384" class="Bound">r</a>
  <a id="3388" class="Symbol">...</a> <a id="3392" class="Symbol">|</a> <a id="3394" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3400" class="Symbol">=</a> <a id="3402" href="Meta.Deriving.Elim.html#3234" class="Function">lookupR</a> <a id="3410" class="Bound">t</a> <a id="3412" class="Bound">rs</a>
  <a id="3417" href="Meta.Deriving.Elim.html#3234" class="Function">lookupR</a> <a id="3425" href="Meta.Deriving.Elim.html#3425" class="Bound">t</a><a id="3426" class="Symbol">@(</a><a id="3428" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3432" href="Meta.Deriving.Elim.html#3432" class="Bound">i</a> <a id="3434" class="Symbol">_)</a> <a id="3437" class="Symbol">((</a><a id="3439" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3443" href="Meta.Deriving.Elim.html#3443" class="Bound">i′</a> <a id="3446" class="Symbol">_</a> <a id="3448" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3450" href="Meta.Deriving.Elim.html#3450" class="Bound">r</a><a id="3451" class="Symbol">)</a> <a id="3453" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3455" href="Meta.Deriving.Elim.html#3455" class="Bound">rs</a><a id="3457" class="Symbol">)</a> <a id="3459" class="Keyword">with</a> <a id="3464" href="Meta.Deriving.Elim.html#3432" class="Bound">i</a> <a id="3466" href="Agda.Builtin.Nat.html#631" class="Primitive Operator">==</a> <a id="3469" href="Meta.Deriving.Elim.html#3443" class="Bound">i′</a>
  <a id="3474" class="Symbol">...</a> <a id="3478" class="Symbol">|</a> <a id="3480" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3486" class="Symbol">=</a> <a id="3488" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3493" class="Bound">r</a>
  <a id="3497" class="Symbol">...</a> <a id="3501" class="Symbol">|</a> <a id="3503" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3509" class="Symbol">=</a> <a id="3511" href="Meta.Deriving.Elim.html#3234" class="Function">lookupR</a> <a id="3519" class="Bound">t</a> <a id="3521" class="Bound">rs</a>
  <a id="3526" href="Meta.Deriving.Elim.html#3234" class="CatchallClause Function">lookupR</a><a id="3533" class="CatchallClause"> </a><a id="3534" href="Meta.Deriving.Elim.html#3534" class="CatchallClause Bound">t</a><a id="3535" class="CatchallClause"> </a><a id="3536" class="CatchallClause Symbol">(_</a><a id="3538" class="CatchallClause"> </a><a id="3539" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3540" class="CatchallClause"> </a><a id="3541" href="Meta.Deriving.Elim.html#3541" class="CatchallClause Bound">rs</a><a id="3543" class="CatchallClause Symbol">)</a> <a id="3545" class="Symbol">=</a> <a id="3547" href="Meta.Deriving.Elim.html#3234" class="Function">lookupR</a> <a id="3555" href="Meta.Deriving.Elim.html#3534" class="Bound">t</a> <a id="3557" href="Meta.Deriving.Elim.html#3541" class="Bound">rs</a>

  <a id="3563" href="Meta.Deriving.Elim.html#3121" class="Function">replace</a> <a id="3571" class="Number">0</a> <a id="3573" class="Symbol">_</a> <a id="3575" class="Symbol">_</a> <a id="3577" class="Symbol">=</a> <a id="3579" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="3589" href="Meta.Deriving.Elim.html#3121" class="Function">replace</a> <a id="3597" class="Symbol">(</a><a id="3598" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3602" href="Meta.Deriving.Elim.html#3602" class="Bound">fuel</a><a id="3606" class="Symbol">)</a> <a id="3608" href="Meta.Deriving.Elim.html#3608" class="Bound">rs</a> <a id="3611" class="Symbol">(</a><a id="3612" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="3616" href="Meta.Deriving.Elim.html#3616" class="Bound">v</a> <a id="3618" class="Symbol">(</a><a id="3619" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3623" href="Meta.Deriving.Elim.html#3623" class="Bound">n</a> <a id="3625" href="Meta.Deriving.Elim.html#3625" class="Bound">t</a><a id="3626" class="Symbol">))</a> <a id="3629" class="Symbol">=</a> <a id="3631" class="Keyword">do</a>
    <a id="3638" href="Meta.Deriving.Elim.html#3638" class="Bound">rs′</a> <a id="3642" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3644" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="3650" class="Number">1</a> <a id="3652" href="Meta.Deriving.Elim.html#3608" class="Bound">rs</a>
    <a id="3659" href="Meta.Deriving.Elim.html#3659" class="Bound">t′</a>  <a id="3663" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3665" href="Meta.Deriving.Elim.html#3121" class="Function">replace</a> <a id="3673" href="Meta.Deriving.Elim.html#3602" class="Bound">fuel</a> <a id="3678" href="Meta.Deriving.Elim.html#3638" class="Bound">rs′</a> <a id="3682" href="Meta.Deriving.Elim.html#3625" class="Bound">t</a>
    <a id="3688" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="3693" class="Symbol">(</a><a id="3694" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="3698" href="Meta.Deriving.Elim.html#3616" class="Bound">v</a> <a id="3700" class="Symbol">(</a><a id="3701" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3705" href="Meta.Deriving.Elim.html#3623" class="Bound">n</a> <a id="3707" href="Meta.Deriving.Elim.html#3659" class="Bound">t′</a><a id="3709" class="Symbol">))</a>
  <a id="3714" href="Meta.Deriving.Elim.html#3121" class="Function">replace</a> <a id="3722" class="Symbol">(</a><a id="3723" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3727" href="Meta.Deriving.Elim.html#3727" class="Bound">fuel</a><a id="3731" class="Symbol">)</a> <a id="3733" href="Meta.Deriving.Elim.html#3733" class="Bound">rs</a> <a id="3736" href="Meta.Deriving.Elim.html#3736" class="Bound">t</a><a id="3737" class="Symbol">@(</a><a id="3739" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3743" href="Meta.Deriving.Elim.html#3743" class="Bound">c</a> <a id="3745" href="Meta.Deriving.Elim.html#3745" class="Bound">args</a><a id="3749" class="Symbol">)</a> <a id="3751" class="Symbol">=</a> <a id="3753" class="Keyword">do</a>
    <a id="3760" href="Meta.Deriving.Elim.html#3760" class="Bound">r</a> <a id="3762" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3764" href="Meta.Deriving.Elim.html#3234" class="Function">lookupR</a> <a id="3772" href="Meta.Deriving.Elim.html#3736" class="Bound">t</a> <a id="3774" href="Meta.Deriving.Elim.html#3733" class="Bound">rs</a>
    <a id="3781" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="3791" href="Meta.Deriving.Elim.html#3727" class="Bound">fuel</a> <a id="3796" href="Meta.Deriving.Elim.html#3760" class="Bound">r</a> <a id="3798" class="Symbol">(</a><a id="3799" href="Meta.Deriving.Elim.html#3180" class="Function">replace*</a> <a id="3808" href="Meta.Deriving.Elim.html#3727" class="Bound">fuel</a> <a id="3813" href="Meta.Deriving.Elim.html#3733" class="Bound">rs</a> <a id="3816" class="Symbol">(</a><a id="3817" href="Data.List.Operations.html#2596" class="Function">drop</a> <a id="3822" href="Meta.Deriving.Elim.html#2875" class="Bound">pars</a> <a id="3827" href="Meta.Deriving.Elim.html#3745" class="Bound">args</a><a id="3831" class="Symbol">))</a>
  <a id="3836" href="Meta.Deriving.Elim.html#3121" class="Function">replace</a> <a id="3844" class="Symbol">(</a><a id="3845" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3849" href="Meta.Deriving.Elim.html#3849" class="Bound">fuel</a><a id="3853" class="Symbol">)</a> <a id="3855" href="Meta.Deriving.Elim.html#3855" class="Bound">rs</a> <a id="3858" href="Meta.Deriving.Elim.html#3858" class="Bound">t</a><a id="3859" class="Symbol">@(</a><a id="3861" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3865" href="Meta.Deriving.Elim.html#3865" class="Bound">i</a> <a id="3867" href="Meta.Deriving.Elim.html#3867" class="Bound">args</a><a id="3871" class="Symbol">)</a> <a id="3873" class="Symbol">=</a> <a id="3875" class="Keyword">do</a>
    <a id="3882" href="Meta.Deriving.Elim.html#3882" class="Bound">r</a> <a id="3884" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3886" href="Meta.Deriving.Elim.html#3234" class="Function">lookupR</a> <a id="3894" href="Meta.Deriving.Elim.html#3858" class="Bound">t</a> <a id="3896" href="Meta.Deriving.Elim.html#3855" class="Bound">rs</a>
    <a id="3903" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="3913" href="Meta.Deriving.Elim.html#3849" class="Bound">fuel</a> <a id="3918" href="Meta.Deriving.Elim.html#3882" class="Bound">r</a> <a id="3920" class="Symbol">(</a><a id="3921" href="Meta.Deriving.Elim.html#3180" class="Function">replace*</a> <a id="3930" href="Meta.Deriving.Elim.html#3849" class="Bound">fuel</a> <a id="3935" href="Meta.Deriving.Elim.html#3855" class="Bound">rs</a> <a id="3938" href="Meta.Deriving.Elim.html#3867" class="Bound">args</a><a id="3942" class="Symbol">)</a>
  <a id="3946" href="Meta.Deriving.Elim.html#3121" class="CatchallClause Function">replace</a><a id="3953" class="CatchallClause"> </a><a id="3954" class="CatchallClause Symbol">(</a><a id="3955" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="3958" class="CatchallClause"> </a><a id="3959" href="Meta.Deriving.Elim.html#3959" class="CatchallClause Bound">fuel</a><a id="3963" class="CatchallClause Symbol">)</a><a id="3964" class="CatchallClause"> </a><a id="3965" href="Meta.Deriving.Elim.html#3965" class="CatchallClause Bound">rs</a><a id="3967" class="CatchallClause"> </a><a id="3968" class="CatchallClause Symbol">_</a> <a id="3970" class="Symbol">=</a> <a id="3972" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="3983" href="Meta.Deriving.Elim.html#3180" class="Function">replace*</a> <a id="3992" class="Number">0</a> <a id="3994" class="Symbol">_</a> <a id="3996" class="Symbol">_</a> <a id="3998" class="Symbol">=</a> <a id="4000" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="4005" href="Meta.Deriving.Elim.html#3180" class="Function">replace*</a> <a id="4014" class="Symbol">(</a><a id="4015" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4019" href="Meta.Deriving.Elim.html#4019" class="Bound">fuel</a><a id="4023" class="Symbol">)</a> <a id="4025" href="Meta.Deriving.Elim.html#4025" class="Bound">rs</a> <a id="4028" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4031" class="Symbol">=</a> <a id="4033" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="4038" href="Meta.Deriving.Elim.html#3180" class="Function">replace*</a> <a id="4047" class="Symbol">(</a><a id="4048" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4052" href="Meta.Deriving.Elim.html#4052" class="Bound">fuel</a><a id="4056" class="Symbol">)</a> <a id="4058" href="Meta.Deriving.Elim.html#4058" class="Bound">rs</a> <a id="4061" class="Symbol">(</a><a id="4062" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4066" href="Meta.Deriving.Elim.html#4066" class="Bound">ai</a> <a id="4069" href="Meta.Deriving.Elim.html#4069" class="Bound">t</a> <a id="4071" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4073" href="Meta.Deriving.Elim.html#4073" class="Bound">as</a><a id="4075" class="Symbol">)</a> <a id="4077" class="Keyword">with</a> <a id="4082" href="Meta.Deriving.Elim.html#3121" class="Function">replace</a> <a id="4090" href="Meta.Deriving.Elim.html#4052" class="Bound">fuel</a> <a id="4095" href="Meta.Deriving.Elim.html#4058" class="Bound">rs</a> <a id="4098" href="Meta.Deriving.Elim.html#4069" class="Bound">t</a>
  <a id="4102" class="Symbol">...</a> <a id="4106" class="Symbol">|</a> <a id="4108" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4113" href="Meta.Deriving.Elim.html#4113" class="Bound">t′</a> <a id="4116" class="Symbol">=</a> <a id="4118" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="4126" href="Meta.Deriving.Elim.html#2788" class="Function">hide-cons-args</a> <a id="4141" class="Symbol">(</a><a id="4142" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4146" class="Bound">ai</a> <a id="4149" class="Bound">t</a><a id="4150" class="Symbol">)</a> <a id="4152" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4154" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4158" class="Bound">ai</a> <a id="4161" href="Meta.Deriving.Elim.html#4113" class="Bound">t′</a> <a id="4164" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4166" href="Meta.Deriving.Elim.html#3180" class="Function">replace*</a> <a id="4175" class="Bound">fuel</a> <a id="4180" class="Bound">rs</a> <a id="4183" class="Bound">as</a>
  <a id="4188" class="Symbol">...</a> <a id="4192" class="Symbol">|</a> <a id="4194" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4202" class="Symbol">=</a> <a id="4204" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4208" class="Bound">ai</a> <a id="4211" class="Bound">t</a> <a id="4213" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4215" href="Meta.Deriving.Elim.html#3180" class="Function">replace*</a> <a id="4224" class="Bound">fuel</a> <a id="4229" class="Bound">rs</a> <a id="4232" class="Bound">as</a>

  <a id="4238" class="Comment">{-
  The main part of the algorithm: computes the method associated to a constructor.

  In detail, given
    a motive `P : (is : Ξ) → D ps is → Type ℓ`
    a term `c : T = Δ → D ps is`
  produces
    the &quot;lifted&quot; type `T↑ = Δ↑ → P is (c ρ)`
      where `Δ↑ ⊢ ρ : Δ` is an embedding
      where types of the form `S = Φ → D ps is` in Δ are replaced recursively with `{S}, S↑` in Δ↑
      (this only occurs with a recursion depth of 1 due to strict positivity)
    and a spine α such that
      rec : Π P, Δ ⊢ α : Δ↑
      where Π P = (is : Ξ) → (d : D ps is) → P is d
  or nothing if T doesn&#39;t end in `D ps`.

  Example: W A B
    sup : (a : A) (f : B a → W A B) → W A B
      f : B a → W A B
      display f = ((b : B a) → P (f b))
                , (_ : Π P, b : B a ⊢ b : B a)
    display sup = ((a : A) {f : B a → W A B} (pf : ∀ b → P (f b)) → P (sup a f))
                , (rec : Π P, a : A, f : B a → W A B ⊢ a, {f}, (λ b → rec (f b)))
  -}</a>

  <a id="Induction.display"></a><a id="5189" href="Meta.Deriving.Elim.html#5189" class="Function">display</a>
    <a id="5201" class="Symbol">:</a> <a id="5203" class="Symbol">(</a><a id="5204" href="Meta.Deriving.Elim.html#5204" class="Bound">fuel</a> <a id="5209" href="Meta.Deriving.Elim.html#5209" class="Bound">depth</a> <a id="5215" class="Symbol">:</a> <a id="5217" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="5218" class="Symbol">)</a>
    <a id="5224" class="Symbol">→</a> <a id="5226" class="Symbol">(</a><a id="5227" href="Meta.Deriving.Elim.html#5227" class="Bound">ps</a> <a id="5230" class="Symbol">:</a> <a id="5232" href="Data.Reflection.Term.html#882" class="Function">Args</a><a id="5236" class="Symbol">)</a> <a id="5238" class="Comment">-- D&#39;s parameters</a>
    <a id="5260" class="Symbol">→</a> <a id="5262" class="Symbol">(</a><a id="5263" href="Meta.Deriving.Elim.html#5263" class="Bound">P</a> <a id="5265" class="Symbol">:</a> <a id="5267" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5271" class="Symbol">)</a>
    <a id="5277" class="Symbol">→</a> <a id="5279" class="Symbol">(</a><a id="5280" href="Meta.Deriving.Elim.html#5280" class="Bound">rs</a> <a id="5283" class="Symbol">:</a> <a id="5285" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a><a id="5297" class="Symbol">)</a> <a id="5299" class="Comment">-- a list of replacements from terms to their lifted version,</a>
                          <a id="5387" class="Comment">-- used for correcting path boundaries</a>
    <a id="5430" class="Symbol">→</a> <a id="5432" class="Symbol">(</a><a id="5433" href="Meta.Deriving.Elim.html#5433" class="Bound">rec</a> <a id="5437" class="Symbol">:</a> <a id="5439" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5443" class="Symbol">)</a> <a id="5445" class="Comment">-- a variable for explicit recursion</a>
    <a id="5486" class="Symbol">→</a> <a id="5488" class="Symbol">(</a><a id="5489" href="Meta.Deriving.Elim.html#5489" class="Bound">α</a> <a id="5491" class="Symbol">:</a> <a id="5493" href="Data.Reflection.Term.html#882" class="Function">Args</a><a id="5497" class="Symbol">)</a> <a id="5499" class="Comment">-- accumulator for the spine</a>
    <a id="5532" class="Symbol">→</a> <a id="5534" class="Symbol">(</a><a id="5535" href="Meta.Deriving.Elim.html#5535" class="Bound">c</a> <a id="5537" class="Symbol">:</a> <a id="5539" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5543" class="Symbol">)</a> <a id="5545" class="Symbol">(</a><a id="5546" href="Meta.Deriving.Elim.html#5546" class="Bound">T</a> <a id="5548" class="Symbol">:</a> <a id="5550" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5554" class="Symbol">)</a>
    <a id="5560" class="Symbol">→</a> <a id="5562" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5568" class="Symbol">(</a><a id="5569" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5574" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="5576" href="Data.Reflection.Term.html#882" class="Function">Args</a><a id="5580" class="Symbol">)</a> <a id="5582" class="Comment">-- (T↑ , α)</a>
  <a id="5596" href="Meta.Deriving.Elim.html#5189" class="Function">display</a> <a id="5604" class="Number">0</a> <a id="5606" class="Symbol">_</a> <a id="5608" class="Symbol">_</a> <a id="5610" class="Symbol">_</a> <a id="5612" class="Symbol">_</a> <a id="5614" class="Symbol">_</a> <a id="5616" class="Symbol">_</a> <a id="5618" class="Symbol">_</a> <a id="5620" class="Symbol">_</a> <a id="5622" class="Symbol">=</a> <a id="5624" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="5634" href="Meta.Deriving.Elim.html#5189" class="Function">display</a> <a id="5642" class="Symbol">(</a><a id="5643" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5647" href="Meta.Deriving.Elim.html#5647" class="Bound">fuel</a><a id="5651" class="Symbol">)</a> <a id="5653" href="Meta.Deriving.Elim.html#5653" class="Bound">depth</a> <a id="5659" href="Meta.Deriving.Elim.html#5659" class="Bound">ps</a> <a id="5662" href="Meta.Deriving.Elim.html#5662" class="Bound">P</a> <a id="5664" href="Meta.Deriving.Elim.html#5664" class="Bound">rs</a> <a id="5667" href="Meta.Deriving.Elim.html#5667" class="Bound">rec</a> <a id="5671" href="Meta.Deriving.Elim.html#5671" class="Bound">α</a> <a id="5673" href="Meta.Deriving.Elim.html#5673" class="Bound">c</a> <a id="5675" class="Symbol">(</a><a id="5676" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="5679" class="Symbol">(</a><a id="5680" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5684" href="Meta.Deriving.Elim.html#5684" class="Bound">ai</a> <a id="5687" href="Meta.Deriving.Elim.html#5687" class="Bound">x</a><a id="5688" class="Symbol">)</a> <a id="5690" class="Symbol">(</a><a id="5691" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="5695" href="Meta.Deriving.Elim.html#5695" class="Bound">n</a> <a id="5697" href="Meta.Deriving.Elim.html#5697" class="Bound">y</a><a id="5698" class="Symbol">))</a> <a id="5701" class="Symbol">=</a> <a id="5703" class="Keyword">do</a>
    <a id="5710" href="Meta.Deriving.Elim.html#5710" class="Bound">ps</a>  <a id="5714" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5716" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5722" class="Number">1</a> <a id="5724" href="Meta.Deriving.Elim.html#5659" class="Bound">ps</a>
    <a id="5731" href="Meta.Deriving.Elim.html#5731" class="Bound">P</a>   <a id="5735" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5737" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5743" class="Number">1</a> <a id="5745" href="Meta.Deriving.Elim.html#5662" class="Bound">P</a>
    <a id="5751" href="Meta.Deriving.Elim.html#5751" class="Bound">rs</a>  <a id="5755" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5757" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5763" class="Number">1</a> <a id="5765" href="Meta.Deriving.Elim.html#5664" class="Bound">rs</a>
    <a id="5772" href="Meta.Deriving.Elim.html#5772" class="Bound">rec</a> <a id="5776" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5778" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5784" class="Number">1</a> <a id="5786" href="Meta.Deriving.Elim.html#5667" class="Bound">rec</a>
    <a id="5794" href="Meta.Deriving.Elim.html#5794" class="Bound">α</a>   <a id="5798" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5800" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5806" class="Number">1</a> <a id="5808" href="Meta.Deriving.Elim.html#5671" class="Bound">α</a>
    <a id="5814" href="Meta.Deriving.Elim.html#5814" class="Bound">c</a>   <a id="5818" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5820" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5826" class="Number">1</a> <a id="5828" href="Meta.Deriving.Elim.html#5673" class="Bound">c</a>
    <a id="5834" class="Keyword">let</a> <a id="5838" href="Meta.Deriving.Elim.html#5838" class="Bound">base</a> <a id="5843" class="Symbol">=</a> <a id="5845" class="Keyword">do</a>
      <a id="5854" href="Meta.Deriving.Elim.html#5854" class="Bound">c</a> <a id="5856" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5858" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="5863" href="Meta.Deriving.Elim.html#5814" class="Bound">c</a> <a id="5865" href="Meta.Reflection.Subst.html#6940" class="Function Operator">&lt;#&gt;</a> <a id="5869" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5873" href="Meta.Deriving.Elim.html#5684" class="Bound">ai</a> <a id="5876" class="Symbol">(</a><a id="5877" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="5882" class="Number">0</a><a id="5883" class="Symbol">)</a>
      <a id="5891" class="Keyword">let</a> <a id="5895" href="Meta.Deriving.Elim.html#5895" class="Bound">α</a> <a id="5897" class="Symbol">=</a> <a id="5899" href="Meta.Deriving.Elim.html#5794" class="Bound">α</a> <a id="5901" href="Data.List.Operations.html#594" class="Function Operator">∷r</a> <a id="5904" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="5912" href="Meta.Deriving.Elim.html#2788" class="Function">hide-cons-args</a> <a id="5927" class="Symbol">(</a><a id="5928" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5932" href="Meta.Deriving.Elim.html#5684" class="Bound">ai</a> <a id="5935" class="Symbol">(</a><a id="5936" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="5941" class="Number">0</a><a id="5942" class="Symbol">))</a>
      <a id="5951" href="Meta.Deriving.Elim.html#5189" class="Function">display</a> <a id="5959" href="Meta.Deriving.Elim.html#5647" class="Bound">fuel</a> <a id="5964" href="Meta.Deriving.Elim.html#5653" class="Bound">depth</a> <a id="5970" href="Meta.Deriving.Elim.html#5710" class="Bound">ps</a> <a id="5973" href="Meta.Deriving.Elim.html#5731" class="Bound">P</a> <a id="5975" href="Meta.Deriving.Elim.html#5751" class="Bound">rs</a> <a id="5978" href="Meta.Deriving.Elim.html#5772" class="Bound">rec</a> <a id="5982" href="Meta.Deriving.Elim.html#5895" class="Bound">α</a> <a id="5984" href="Meta.Deriving.Elim.html#5854" class="Bound">c</a> <a id="5986" href="Meta.Deriving.Elim.html#5697" class="Bound">y</a> <a id="5988" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="5992" href="Foundations.Sigma.Base.html#1306" class="Function">first</a> <a id="5998" class="Symbol">λ</a> <a id="6000" href="Meta.Deriving.Elim.html#6000" class="Bound">y</a> <a id="6002" class="Symbol">→</a>
        <a id="6012" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6015" class="Symbol">(</a><a id="6016" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6024" href="Meta.Deriving.Elim.html#2788" class="Function">hide-cons-args</a> <a id="6039" class="Symbol">(</a><a id="6040" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6044" href="Meta.Deriving.Elim.html#5684" class="Bound">ai</a> <a id="6047" href="Meta.Deriving.Elim.html#5687" class="Bound">x</a><a id="6048" class="Symbol">))</a> <a id="6051" class="Symbol">(</a><a id="6052" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6056" href="Meta.Deriving.Elim.html#5695" class="Bound">n</a> <a id="6058" href="Meta.Deriving.Elim.html#6000" class="Bound">y</a><a id="6059" class="Symbol">)</a>
    <a id="6065" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6069" href="Meta.Deriving.Elim.html#6069" class="Bound">depth-1</a> <a id="6077" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6079" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6084" href="Meta.Deriving.Elim.html#5653" class="Bound">depth</a>
      <a id="6096" class="Keyword">where</a> <a id="6102" class="CatchallClause Symbol">_</a> <a id="6104" class="Symbol">→</a> <a id="6106" href="Meta.Deriving.Elim.html#5838" class="Bound">base</a>
    <a id="6115" href="Meta.Deriving.Elim.html#6115" class="Bound">x′</a> <a id="6118" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6120" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6126" class="Number">1</a> <a id="6128" href="Meta.Deriving.Elim.html#5687" class="Bound">x</a>
    <a id="6134" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6139" class="Symbol">(</a><a id="6140" href="Meta.Deriving.Elim.html#6140" class="Bound">h</a> <a id="6142" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6144" href="Meta.Deriving.Elim.html#6144" class="Bound">α′</a><a id="6146" class="Symbol">)</a> <a id="6148" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6150" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6155" class="Symbol">(</a><a id="6156" href="Meta.Deriving.Elim.html#5189" class="Function">display</a> <a id="6164" href="Meta.Deriving.Elim.html#5647" class="Bound">fuel</a> <a id="6169" href="Meta.Deriving.Elim.html#6069" class="Bound">depth-1</a> <a id="6177" href="Meta.Deriving.Elim.html#5710" class="Bound">ps</a> <a id="6180" href="Meta.Deriving.Elim.html#5731" class="Bound">P</a> <a id="6182" href="Meta.Deriving.Elim.html#5751" class="Bound">rs</a> <a id="6185" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="6193" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6196" class="Symbol">(</a><a id="6197" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6202" class="Number">0</a><a id="6203" class="Symbol">)</a> <a id="6205" href="Meta.Deriving.Elim.html#6115" class="Bound">x′</a><a id="6207" class="Symbol">)</a>
      <a id="6215" class="Keyword">where</a> <a id="6221" class="CatchallClause Symbol">_</a> <a id="6223" class="Symbol">→</a> <a id="6225" href="Meta.Deriving.Elim.html#5838" class="Bound">base</a>

    <a id="6235" href="Meta.Deriving.Elim.html#6235" class="Bound">ps</a> <a id="6238" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6240" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6246" class="Number">1</a> <a id="6248" href="Meta.Deriving.Elim.html#5710" class="Bound">ps</a>
    <a id="6255" href="Meta.Deriving.Elim.html#6255" class="Bound">P</a>  <a id="6258" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6260" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6266" class="Number">1</a> <a id="6268" href="Meta.Deriving.Elim.html#5731" class="Bound">P</a>
    <a id="6274" href="Meta.Deriving.Elim.html#6274" class="Bound">rs</a> <a id="6277" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6279" class="Symbol">(</a><a id="6280" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6285" class="Number">1</a> <a id="6287" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6289" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6294" class="Number">0</a><a id="6295" class="Symbol">)</a> <a id="6297" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a> <a id="6300" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="6304" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6310" class="Number">1</a> <a id="6312" href="Meta.Deriving.Elim.html#5751" class="Bound">rs</a>
    <a id="6319" href="Meta.Deriving.Elim.html#6319" class="Bound">c</a> <a id="6321" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6323" class="Keyword">do</a>
      <a id="6332" href="Meta.Deriving.Elim.html#6332" class="Bound">c′</a> <a id="6335" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6337" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6343" class="Number">1</a> <a id="6345" href="Meta.Deriving.Elim.html#5814" class="Bound">c</a>
      <a id="6353" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="6362" href="Meta.Deriving.Elim.html#5647" class="Bound">fuel</a> <a id="6367" href="Meta.Deriving.Elim.html#6332" class="Bound">c′</a> <a id="6370" class="Symbol">(</a><a id="6371" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6375" href="Meta.Deriving.Elim.html#5684" class="Bound">ai</a> <a id="6378" class="Symbol">(</a><a id="6379" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6384" class="Number">1</a><a id="6385" class="Symbol">))</a>
    <a id="6392" class="Keyword">let</a> <a id="6396" href="Meta.Deriving.Elim.html#6396" class="Bound">h-tel</a> <a id="6402" class="Symbol">=</a> <a id="6404" href="Meta.Reflection.Base.html#4883" class="Function">pi-view-path</a> <a id="6417" href="Meta.Deriving.Elim.html#6140" class="Bound">h</a>
    <a id="6423" href="Meta.Deriving.Elim.html#6423" class="Bound">l</a> <a id="6425" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6427" href="Data.Reflection.Term.html#1917" class="Function">tel→lam</a> <a id="6435" href="Meta.Deriving.Elim.html#6396" class="Bound">h-tel</a> <a id="6441" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="6445" class="Keyword">do</a>
      <a id="6454" href="Meta.Deriving.Elim.html#6454" class="Bound">rec′</a> <a id="6459" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6461" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6467" class="Symbol">(</a><a id="6468" href="Data.List.Operations.html#962" class="Function">length</a> <a id="6475" href="Meta.Deriving.Elim.html#6396" class="Bound">h-tel</a><a id="6480" class="Symbol">)</a> <a id="6482" href="Meta.Deriving.Elim.html#5772" class="Bound">rec</a>
      <a id="6492" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="6502" href="Meta.Deriving.Elim.html#5647" class="Bound">fuel</a> <a id="6507" href="Meta.Deriving.Elim.html#6454" class="Bound">rec′</a> <a id="6512" class="Symbol">(</a><a id="6513" href="Meta.Reflection.Base.html#4483" class="Function">infer-tel</a> <a id="6523" href="Meta.Deriving.Elim.html#2886" class="Bound">ix-tel</a> <a id="6530" href="Data.List.Operations.html#594" class="Function Operator">∷r</a> <a id="6533" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6538" class="Symbol">(</a><a id="6539" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6543" class="Symbol">(</a><a id="6544" href="Data.List.Operations.html#962" class="Function">length</a> <a id="6551" href="Meta.Deriving.Elim.html#6396" class="Bound">h-tel</a><a id="6556" class="Symbol">)</a> <a id="6558" href="Meta.Deriving.Elim.html#6144" class="Bound">α′</a><a id="6560" class="Symbol">))</a>
    <a id="6567" class="Keyword">let</a> <a id="6571" href="Meta.Deriving.Elim.html#6571" class="Bound">α</a> <a id="6573" class="Symbol">=</a> <a id="6575" href="Meta.Deriving.Elim.html#5794" class="Bound">α</a> <a id="6577" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="6580" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="6582" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6590" href="Meta.Deriving.Elim.html#2788" class="Function">hide-cons-args</a> <a id="6605" class="Symbol">(</a><a id="6606" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6610" href="Meta.Deriving.Elim.html#5684" class="Bound">ai</a> <a id="6613" class="Symbol">(</a><a id="6614" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6619" class="Number">0</a><a id="6620" class="Symbol">))</a> <a id="6623" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6625" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6630" href="Meta.Deriving.Elim.html#6423" class="Bound">l</a> <a id="6632" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="6638" href="Meta.Deriving.Elim.html#6638" class="Bound">y</a> <a id="6640" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6642" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6648" class="Number">1</a> <a id="6650" href="Meta.Deriving.Elim.html#5697" class="Bound">y</a>
    <a id="6656" href="Meta.Deriving.Elim.html#5189" class="Function">display</a> <a id="6664" href="Meta.Deriving.Elim.html#5647" class="Bound">fuel</a> <a id="6669" href="Meta.Deriving.Elim.html#5653" class="Bound">depth</a> <a id="6675" href="Meta.Deriving.Elim.html#6235" class="Bound">ps</a> <a id="6678" href="Meta.Deriving.Elim.html#6255" class="Bound">P</a> <a id="6680" href="Meta.Deriving.Elim.html#6274" class="Bound">rs</a> <a id="6683" href="Meta.Deriving.Elim.html#5772" class="Bound">rec</a> <a id="6687" href="Meta.Deriving.Elim.html#6571" class="Bound">α</a> <a id="6689" href="Meta.Deriving.Elim.html#6319" class="Bound">c</a> <a id="6691" href="Meta.Deriving.Elim.html#6638" class="Bound">y</a> <a id="6693" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="6697" href="Foundations.Sigma.Base.html#1306" class="Function">first</a> <a id="6703" class="Symbol">λ</a> <a id="6705" href="Meta.Deriving.Elim.html#6705" class="Bound">y</a> <a id="6707" class="Symbol">→</a>
      <a id="6715" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6718" class="Symbol">(</a><a id="6719" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6727" href="Meta.Deriving.Elim.html#2788" class="Function">hide-cons-args</a> <a id="6742" class="Symbol">(</a><a id="6743" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6747" href="Meta.Deriving.Elim.html#5684" class="Bound">ai</a> <a id="6750" href="Meta.Deriving.Elim.html#5687" class="Bound">x</a><a id="6751" class="Symbol">))</a> <a id="6754" class="Symbol">(</a><a id="6755" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6759" href="Meta.Deriving.Elim.html#5695" class="Bound">n</a> <a id="6761" class="Symbol">(</a><a id="6762" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6765" class="Symbol">(</a><a id="6766" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6771" href="Meta.Deriving.Elim.html#6140" class="Bound">h</a><a id="6772" class="Symbol">)</a> <a id="6774" class="Symbol">(</a><a id="6775" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6779" class="Symbol">(</a><a id="6780" class="String">&quot;P&quot;</a> <a id="6784" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="6787" href="Meta.Deriving.Elim.html#5695" class="Bound">n</a><a id="6788" class="Symbol">)</a> <a id="6790" href="Meta.Deriving.Elim.html#6705" class="Bound">y</a><a id="6791" class="Symbol">)))</a>

  <a id="6798" href="Meta.Deriving.Elim.html#5189" class="Function">display</a> <a id="6806" class="Symbol">(</a><a id="6807" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6811" href="Meta.Deriving.Elim.html#6811" class="Bound">fuel</a><a id="6815" class="Symbol">)</a> <a id="6817" href="Meta.Deriving.Elim.html#6817" class="Bound">depth</a> <a id="6823" href="Meta.Deriving.Elim.html#6823" class="Bound">ps</a> <a id="6826" href="Meta.Deriving.Elim.html#6826" class="Bound">P</a> <a id="6828" href="Meta.Deriving.Elim.html#6828" class="Bound">rs</a> <a id="6831" href="Meta.Deriving.Elim.html#6831" class="Bound">rec</a> <a id="6835" href="Meta.Deriving.Elim.html#6835" class="Bound">α</a> <a id="6837" href="Meta.Deriving.Elim.html#6837" class="Bound">c</a> <a id="6839" class="Symbol">(</a><a id="6840" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="6844" class="Symbol">(</a><a id="6845" class="Keyword">quote</a> <a id="6851" href="Foundations.Prim.Kan.html#1290" class="Postulate">Pathᴾ</a><a id="6856" class="Symbol">)</a> <a id="6858" class="Symbol">(_</a> <a id="6861" href="Data.Reflection.Argument.html#1397" class="InductiveConstructor Operator">h∷</a> <a id="6864" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="6868" href="Meta.Deriving.Elim.html#6868" class="Bound">v</a> <a id="6870" class="Symbol">(</a><a id="6871" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6875" href="Meta.Deriving.Elim.html#6875" class="Bound">n</a> <a id="6877" href="Meta.Deriving.Elim.html#6877" class="Bound">y</a><a id="6878" class="Symbol">)</a> <a id="6880" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="6883" href="Meta.Deriving.Elim.html#6883" class="Bound">l</a> <a id="6885" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="6888" href="Meta.Deriving.Elim.html#6888" class="Bound">r</a> <a id="6890" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="6893" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6895" class="Symbol">))</a> <a id="6898" class="Symbol">=</a> <a id="6900" class="Keyword">do</a>
    <a id="6907" href="Meta.Deriving.Elim.html#6907" class="Bound">l</a>   <a id="6911" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6913" href="Meta.Deriving.Elim.html#3121" class="Function">replace</a> <a id="6921" href="Meta.Deriving.Elim.html#6811" class="Bound">fuel</a> <a id="6926" href="Meta.Deriving.Elim.html#6828" class="Bound">rs</a> <a id="6929" href="Meta.Deriving.Elim.html#6883" class="Bound">l</a>
    <a id="6935" href="Meta.Deriving.Elim.html#6935" class="Bound">r</a>   <a id="6939" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6941" href="Meta.Deriving.Elim.html#3121" class="Function">replace</a> <a id="6949" href="Meta.Deriving.Elim.html#6811" class="Bound">fuel</a> <a id="6954" href="Meta.Deriving.Elim.html#6828" class="Bound">rs</a> <a id="6957" href="Meta.Deriving.Elim.html#6888" class="Bound">r</a>
    <a id="6963" href="Meta.Deriving.Elim.html#6963" class="Bound">ps</a>  <a id="6967" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6969" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6975" class="Number">1</a> <a id="6977" href="Meta.Deriving.Elim.html#6823" class="Bound">ps</a>
    <a id="6984" href="Meta.Deriving.Elim.html#6984" class="Bound">P</a>   <a id="6988" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6990" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6996" class="Number">1</a> <a id="6998" href="Meta.Deriving.Elim.html#6826" class="Bound">P</a>
    <a id="7004" href="Meta.Deriving.Elim.html#7004" class="Bound">rs</a>  <a id="7008" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7010" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="7016" class="Number">1</a> <a id="7018" href="Meta.Deriving.Elim.html#6828" class="Bound">rs</a>
    <a id="7025" href="Meta.Deriving.Elim.html#7025" class="Bound">rec</a> <a id="7029" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7031" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="7037" class="Number">1</a> <a id="7039" href="Meta.Deriving.Elim.html#6831" class="Bound">rec</a>
    <a id="7047" href="Meta.Deriving.Elim.html#7047" class="Bound">α</a> <a id="7049" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7051" class="Keyword">do</a>
      <a id="7060" href="Meta.Deriving.Elim.html#7060" class="Bound">α′</a> <a id="7063" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7065" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="7071" class="Number">1</a> <a id="7073" href="Meta.Deriving.Elim.html#6835" class="Bound">α</a>
      <a id="7081" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7086" class="Symbol">(</a><a id="7087" href="Meta.Deriving.Elim.html#7060" class="Bound">α′</a> <a id="7090" href="Data.List.Operations.html#594" class="Function Operator">∷r</a> <a id="7093" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="7098" class="Symbol">(</a><a id="7099" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="7104" class="Number">0</a><a id="7105" class="Symbol">))</a>
    <a id="7112" href="Meta.Deriving.Elim.html#7112" class="Bound">c</a> <a id="7114" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7116" class="Keyword">do</a>
      <a id="7125" href="Meta.Deriving.Elim.html#7125" class="Bound">c′</a> <a id="7128" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7130" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="7136" class="Number">1</a> <a id="7138" href="Meta.Deriving.Elim.html#6837" class="Bound">c</a>
      <a id="7146" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="7155" href="Meta.Deriving.Elim.html#6811" class="Bound">fuel</a> <a id="7160" href="Meta.Deriving.Elim.html#7125" class="Bound">c′</a> <a id="7163" class="Symbol">(</a><a id="7164" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="7169" class="Symbol">(</a><a id="7170" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="7175" class="Number">0</a><a id="7176" class="Symbol">))</a>
    <a id="7183" href="Meta.Deriving.Elim.html#5189" class="Function">display</a> <a id="7191" href="Meta.Deriving.Elim.html#6811" class="Bound">fuel</a> <a id="7196" href="Meta.Deriving.Elim.html#6817" class="Bound">depth</a> <a id="7202" href="Meta.Deriving.Elim.html#6963" class="Bound">ps</a> <a id="7205" href="Meta.Deriving.Elim.html#6984" class="Bound">P</a> <a id="7207" href="Meta.Deriving.Elim.html#7004" class="Bound">rs</a> <a id="7210" href="Meta.Deriving.Elim.html#7025" class="Bound">rec</a> <a id="7214" href="Meta.Deriving.Elim.html#7047" class="Bound">α</a> <a id="7216" href="Meta.Deriving.Elim.html#7112" class="Bound">c</a> <a id="7218" href="Meta.Deriving.Elim.html#6877" class="Bound">y</a> <a id="7220" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="7224" href="Foundations.Sigma.Base.html#1306" class="Function">first</a> <a id="7230" class="Symbol">λ</a> <a id="7232" href="Meta.Deriving.Elim.html#7232" class="Bound">y</a> <a id="7234" class="Symbol">→</a>
      <a id="7242" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="7245" href="Foundations.Prim.Kan.html#1290" class="Postulate">Pathᴾ</a> <a id="7251" href="Meta.Reflection.Neutral.html#1494" class="Function Operator">##ₕ</a> <a id="7255" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="7263" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7267" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="7271" href="Meta.Deriving.Elim.html#6868" class="Bound">v</a> <a id="7273" class="Symbol">(</a><a id="7274" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="7278" href="Meta.Deriving.Elim.html#6875" class="Bound">n</a> <a id="7280" href="Meta.Deriving.Elim.html#7232" class="Bound">y</a><a id="7281" class="Symbol">)</a> <a id="7283" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7287" href="Meta.Deriving.Elim.html#6907" class="Bound">l</a> <a id="7289" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7293" href="Meta.Deriving.Elim.html#6935" class="Bound">r</a>

  <a id="7298" href="Meta.Deriving.Elim.html#5189" class="CatchallClause Function">display</a><a id="7305" class="CatchallClause"> </a><a id="7306" class="CatchallClause Symbol">(</a><a id="7307" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="7310" class="CatchallClause"> </a><a id="7311" href="Meta.Deriving.Elim.html#7311" class="CatchallClause Bound">fuel</a><a id="7315" class="CatchallClause Symbol">)</a><a id="7316" class="CatchallClause"> </a><a id="7317" href="Meta.Deriving.Elim.html#7317" class="CatchallClause Bound">depth</a><a id="7322" class="CatchallClause"> </a><a id="7323" href="Meta.Deriving.Elim.html#7323" class="CatchallClause Bound">ps</a><a id="7325" class="CatchallClause"> </a><a id="7326" href="Meta.Deriving.Elim.html#7326" class="CatchallClause Bound">P</a><a id="7327" class="CatchallClause"> </a><a id="7328" href="Meta.Deriving.Elim.html#7328" class="CatchallClause Bound">rs</a><a id="7330" class="CatchallClause"> </a><a id="7331" href="Meta.Deriving.Elim.html#7331" class="CatchallClause Bound">rec</a><a id="7334" class="CatchallClause"> </a><a id="7335" href="Meta.Deriving.Elim.html#7335" class="CatchallClause Bound">α</a><a id="7336" class="CatchallClause"> </a><a id="7337" href="Meta.Deriving.Elim.html#7337" class="CatchallClause Bound">c</a><a id="7338" class="CatchallClause"> </a><a id="7339" class="CatchallClause Symbol">(</a><a id="7340" href="Agda.Builtin.Reflection.html#5251" class="CatchallClause InductiveConstructor">def</a><a id="7343" class="CatchallClause"> </a><a id="7344" href="Meta.Deriving.Elim.html#7344" class="CatchallClause Bound">D′</a><a id="7346" class="CatchallClause"> </a><a id="7347" href="Meta.Deriving.Elim.html#7347" class="CatchallClause Bound">args</a><a id="7351" class="CatchallClause Symbol">)</a> <a id="7353" class="Symbol">=</a> <a id="7355" class="Keyword">do</a>
    <a id="7362" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="7367" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7369" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7374" class="Symbol">(</a><a id="7375" href="Meta.Deriving.Elim.html#2864" class="Bound">D</a> <a id="7377" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">name=?</a> <a id="7384" href="Meta.Deriving.Elim.html#7344" class="Bound">D′</a><a id="7386" class="Symbol">)</a>
      <a id="7394" class="Keyword">where</a> <a id="7400" class="CatchallClause Symbol">_</a> <a id="7402" class="Symbol">→</a> <a id="7404" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="7416" class="Keyword">let</a> <a id="7420" href="Meta.Deriving.Elim.html#7420" class="Bound">ps′</a> <a id="7424" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7426" href="Meta.Deriving.Elim.html#7426" class="Bound">is</a> <a id="7429" class="Symbol">=</a> <a id="7431" href="Data.List.Operations.html#3196" class="Function">split-at</a> <a id="7440" href="Meta.Deriving.Elim.html#2875" class="Bound">pars</a> <a id="7445" href="Meta.Deriving.Elim.html#7347" class="Bound">args</a>
    <a id="7454" href="Data.Dec.Base.html#592" class="InductiveConstructor">yes</a> <a id="7458" class="Symbol">_</a> <a id="7460" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7462" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7467" class="Symbol">(</a><a id="7468" href="Meta.Deriving.Elim.html#7323" class="Bound">ps</a> <a id="7471" href="Logic.Discreteness.html#1113" class="Function Operator">≟</a> <a id="7473" href="Meta.Deriving.Elim.html#7420" class="Bound">ps′</a><a id="7476" class="Symbol">)</a>
      <a id="7484" class="Keyword">where</a> <a id="7490" class="CatchallClause Symbol">_</a> <a id="7492" class="Symbol">→</a> <a id="7494" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="7506" href="Meta.Deriving.Elim.html#7506" class="Bound">Pc</a> <a id="7509" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7511" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="7521" href="Meta.Deriving.Elim.html#7311" class="Bound">fuel</a> <a id="7526" href="Meta.Deriving.Elim.html#7326" class="Bound">P</a> <a id="7528" class="Symbol">(</a><a id="7529" href="Data.Bool.Base.html#929" class="Function Operator">if</a> <a id="7532" href="Meta.Deriving.Elim.html#2099" class="Function">induction</a> <a id="7542" href="Data.Bool.Base.html#929" class="Function Operator">then</a> <a id="7547" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="7555" href="Meta.Deriving.Elim.html#2475" class="Function">hide-indices</a> <a id="7568" href="Meta.Deriving.Elim.html#7426" class="Bound">is</a> <a id="7571" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="7574" href="Meta.Deriving.Elim.html#7337" class="Bound">c</a> <a id="7576" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="7579" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="7582" href="Data.Bool.Base.html#929" class="Function Operator">else</a> <a id="7587" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="7589" class="Symbol">)</a>
    <a id="7595" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7600" class="Symbol">(</a><a id="7601" href="Meta.Deriving.Elim.html#7506" class="Bound">Pc</a> <a id="7604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7606" href="Meta.Deriving.Elim.html#7335" class="Bound">α</a><a id="7607" class="Symbol">)</a>
  <a id="7611" href="Meta.Deriving.Elim.html#5189" class="CatchallClause Function">display</a><a id="7618" class="CatchallClause"> </a><a id="7619" class="CatchallClause Symbol">(</a><a id="7620" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="7623" class="CatchallClause"> </a><a id="7624" href="Meta.Deriving.Elim.html#7624" class="CatchallClause Bound">fuel</a><a id="7628" class="CatchallClause Symbol">)</a><a id="7629" class="CatchallClause"> </a><a id="7630" href="Meta.Deriving.Elim.html#7630" class="CatchallClause Bound">depth</a><a id="7635" class="CatchallClause"> </a><a id="7636" href="Meta.Deriving.Elim.html#7636" class="CatchallClause Bound">ps</a><a id="7638" class="CatchallClause"> </a><a id="7639" href="Meta.Deriving.Elim.html#7639" class="CatchallClause Bound">P</a><a id="7640" class="CatchallClause"> </a><a id="7641" href="Meta.Deriving.Elim.html#7641" class="CatchallClause Bound">rs</a><a id="7643" class="CatchallClause"> </a><a id="7644" href="Meta.Deriving.Elim.html#7644" class="CatchallClause Bound">rec</a><a id="7647" class="CatchallClause"> </a><a id="7648" href="Meta.Deriving.Elim.html#7648" class="CatchallClause Bound">α</a><a id="7649" class="CatchallClause"> </a><a id="7650" href="Meta.Deriving.Elim.html#7650" class="CatchallClause Bound">c</a><a id="7651" class="CatchallClause"> </a><a id="7652" class="CatchallClause Symbol">_</a> <a id="7654" class="Symbol">=</a> <a id="7656" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="Induction.try-hlevel"></a><a id="7667" href="Meta.Deriving.Elim.html#7667" class="Function">try-hlevel</a> <a id="7678" class="Symbol">:</a> <a id="7680" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7685" class="Symbol">→</a> <a id="7687" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="7690" class="Symbol">(</a><a id="7691" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7697" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="7701" class="Symbol">)</a>
  <a id="7705" href="Meta.Deriving.Elim.html#7667" class="Function">try-hlevel</a> <a id="7716" href="Meta.Deriving.Elim.html#7716" class="Bound">T</a> <a id="7718" class="Symbol">=</a>
    <a id="7724" class="Symbol">(</a><a id="7725" class="Keyword">do</a>
      <a id="7734" href="Data.Maybe.Instances.Alt.html#266" class="Function">maybe→alt</a> <a id="7744" href="Meta.Deriving.Elim.html#2202" class="Function">into-hlevel</a>
      <a id="7762" href="Meta.Deriving.Elim.html#7762" class="Bound">m</a> <a id="7764" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7766" href="Meta.Reflection.Base.html#3833" class="Function">new-meta</a> <a id="7775" href="Meta.Deriving.Elim.html#7716" class="Bound">T</a>
      <a id="7783" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="7789" href="Meta.Deriving.Elim.html#7762" class="Bound">m</a> <a id="7791" href="Foundations.Notation.Underlying.html#1495" class="Function Operator">$</a> <a id="7793" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="7796" href="Foundations.Base.html#14238" class="Function">centre</a> <a id="7803" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7807" class="Symbol">(</a><a id="7808" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="7811" href="Foundations.HLevel.Base.html#8782" class="Function">hlevel</a> <a id="7818" href="Meta.Reflection.Neutral.html#1494" class="Function Operator">##ₕ</a> <a id="7822" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="7830" href="Meta.Reflection.Neutral.html#1494" class="Function Operator">##ₕ</a> <a id="7834" href="Meta.Deriving.Elim.html#7716" class="Bound">T</a> <a id="7836" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7840" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="7844" class="Symbol">(</a><a id="7845" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="7849" class="Number">0</a><a id="7850" class="Symbol">))</a>
      <a id="7859" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7864" class="Symbol">(</a><a id="7865" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7870" href="Meta.Deriving.Elim.html#7762" class="Bound">m</a><a id="7871" class="Symbol">))</a>
    <a id="7878" href="Meta.Effect.Alt.html#369" class="Field Operator">&lt;|&gt;</a> <a id="7882" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7887" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="Induction.×-map₁₂"></a><a id="7898" href="Meta.Deriving.Elim.html#7898" class="Function">×-map₁₂</a> <a id="7906" class="Symbol">:</a> <a id="7908" class="Symbol">∀</a> <a id="7910" class="Symbol">{</a><a id="7911" href="Meta.Deriving.Elim.html#7911" class="Bound">A</a> <a id="7913" href="Meta.Deriving.Elim.html#7913" class="Bound">B</a> <a id="7915" href="Meta.Deriving.Elim.html#7915" class="Bound">C</a> <a id="7917" class="Symbol">:</a> <a id="7919" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a><a id="7923" class="Symbol">}</a> <a id="7925" class="Symbol">→</a> <a id="7927" class="Symbol">(</a><a id="7928" href="Meta.Deriving.Elim.html#7911" class="Bound">A</a> <a id="7930" class="Symbol">→</a> <a id="7932" href="Meta.Deriving.Elim.html#7911" class="Bound">A</a><a id="7933" class="Symbol">)</a> <a id="7935" class="Symbol">→</a> <a id="7937" class="Symbol">(</a><a id="7938" href="Meta.Deriving.Elim.html#7913" class="Bound">B</a> <a id="7940" class="Symbol">→</a> <a id="7942" href="Meta.Deriving.Elim.html#7913" class="Bound">B</a><a id="7943" class="Symbol">)</a> <a id="7945" class="Symbol">→</a> <a id="7947" href="Meta.Deriving.Elim.html#7911" class="Bound">A</a> <a id="7949" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="7951" href="Meta.Deriving.Elim.html#7913" class="Bound">B</a> <a id="7953" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="7955" href="Meta.Deriving.Elim.html#7915" class="Bound">C</a> <a id="7957" class="Symbol">→</a> <a id="7959" href="Meta.Deriving.Elim.html#7911" class="Bound">A</a> <a id="7961" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="7963" href="Meta.Deriving.Elim.html#7913" class="Bound">B</a> <a id="7965" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="7967" href="Meta.Deriving.Elim.html#7915" class="Bound">C</a>
  <a id="7971" href="Meta.Deriving.Elim.html#7898" class="Function">×-map₁₂</a> <a id="7979" href="Meta.Deriving.Elim.html#7979" class="Bound">f</a> <a id="7981" href="Meta.Deriving.Elim.html#7981" class="Bound">g</a> <a id="7983" class="Symbol">(</a><a id="7984" href="Meta.Deriving.Elim.html#7984" class="Bound">a</a> <a id="7986" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7988" href="Meta.Deriving.Elim.html#7988" class="Bound">b</a> <a id="7990" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7992" href="Meta.Deriving.Elim.html#7992" class="Bound">c</a><a id="7993" class="Symbol">)</a> <a id="7995" class="Symbol">=</a> <a id="7997" class="Symbol">(</a><a id="7998" href="Meta.Deriving.Elim.html#7979" class="Bound">f</a> <a id="8000" href="Meta.Deriving.Elim.html#7984" class="Bound">a</a> <a id="8002" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8004" href="Meta.Deriving.Elim.html#7981" class="Bound">g</a> <a id="8006" href="Meta.Deriving.Elim.html#7988" class="Bound">b</a> <a id="8008" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8010" href="Meta.Deriving.Elim.html#7992" class="Bound">c</a><a id="8011" class="Symbol">)</a>

  <a id="8016" class="Comment">-- Loop over D&#39;s constructors and build the method telescope, constructor</a>
  <a id="8092" class="Comment">-- replacements and spines to apply them to.</a>
  <a id="Induction.methods"></a><a id="8139" href="Meta.Deriving.Elim.html#8139" class="Function">methods</a> <a id="8147" class="Symbol">:</a> <a id="8149" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="8154" class="Symbol">→</a> <a id="8156" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8161" class="Symbol">→</a> <a id="8163" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="8166" class="Symbol">(</a><a id="8167" href="Data.Reflection.Term.html#844" class="Function">Telescope</a> <a id="8177" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="8179" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8184" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="8189" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="8191" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a><a id="8203" class="Symbol">)</a>
  <a id="8207" href="Meta.Deriving.Elim.html#8139" class="Function">methods</a> <a id="8215" href="Meta.Deriving.Elim.html#8215" class="Bound">ps</a> <a id="8218" href="Meta.Deriving.Elim.html#8218" class="Bound">P</a> <a id="8220" class="Symbol">=</a> <a id="8222" href="Meta.Deriving.Elim.html#8256" class="Function">go</a> <a id="8225" href="Meta.Reflection.Base.html#3358" class="Function">full-tank</a> <a id="8235" href="Meta.Deriving.Elim.html#8215" class="Bound">ps</a> <a id="8238" href="Meta.Deriving.Elim.html#8218" class="Bound">P</a> <a id="8240" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8243" href="Meta.Deriving.Elim.html#2907" class="Bound">cs</a> <a id="8246" class="Keyword">where</a>
    <a id="8256" href="Meta.Deriving.Elim.html#8256" class="Function">go</a> <a id="8259" class="Symbol">:</a> <a id="8261" class="Symbol">(</a><a id="8262" href="Meta.Deriving.Elim.html#8262" class="Bound">fuel</a> <a id="8267" class="Symbol">:</a> <a id="8269" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8270" class="Symbol">)</a> <a id="8272" class="Symbol">→</a> <a id="8274" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="8279" class="Symbol">→</a> <a id="8281" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8286" class="Symbol">→</a> <a id="8288" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a> <a id="8301" class="Symbol">→</a> <a id="8303" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8308" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="8313" class="Symbol">→</a> <a id="8315" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="8318" class="Symbol">(</a><a id="8319" href="Data.Reflection.Term.html#844" class="Function">Telescope</a> <a id="8329" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="8331" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8336" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="8341" href="Foundations.Notation.Logic.html#1978" class="Field Operator">×</a> <a id="8343" href="Meta.Deriving.Elim.html#1597" class="Function">Replacements</a><a id="8355" class="Symbol">)</a>
    <a id="8361" href="Meta.Deriving.Elim.html#8256" class="Function">go</a> <a id="8364" class="Number">0</a> <a id="8366" class="Symbol">_</a> <a id="8368" class="Symbol">_</a> <a id="8370" class="Symbol">_</a> <a id="8372" class="Symbol">_</a> <a id="8374" class="Symbol">=</a> <a id="8376" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="8387" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="8394" href="Meta.Deriving.Elim.html#8256" class="Function">go</a> <a id="8397" class="Symbol">(</a><a id="8398" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8402" href="Meta.Deriving.Elim.html#8402" class="Bound">fuel</a><a id="8406" class="Symbol">)</a> <a id="8408" href="Meta.Deriving.Elim.html#8408" class="Bound">ps</a> <a id="8411" href="Meta.Deriving.Elim.html#8411" class="Bound">P</a> <a id="8413" href="Meta.Deriving.Elim.html#8413" class="Bound">rs</a> <a id="8416" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8419" class="Symbol">=</a> <a id="8421" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="8426" class="Symbol">(</a><a id="8427" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8430" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8432" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8435" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8437" href="Meta.Deriving.Elim.html#8413" class="Bound">rs</a><a id="8439" class="Symbol">)</a>
    <a id="8445" href="Meta.Deriving.Elim.html#8256" class="Function">go</a> <a id="8448" class="Symbol">(</a><a id="8449" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8453" href="Meta.Deriving.Elim.html#8453" class="Bound">fuel</a><a id="8457" class="Symbol">)</a> <a id="8459" href="Meta.Deriving.Elim.html#8459" class="Bound">ps</a> <a id="8462" href="Meta.Deriving.Elim.html#8462" class="Bound">P</a> <a id="8464" href="Meta.Deriving.Elim.html#8464" class="Bound">rs</a> <a id="8467" class="Symbol">(</a><a id="8468" href="Meta.Deriving.Elim.html#8468" class="Bound">c</a> <a id="8470" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8472" href="Meta.Deriving.Elim.html#8472" class="Bound">cs</a><a id="8474" class="Symbol">)</a> <a id="8476" class="Symbol">=</a> <a id="8478" class="Keyword">do</a>
      <a id="8487" class="Keyword">let</a> <a id="8491" href="Meta.Deriving.Elim.html#8491" class="Bound">c′</a> <a id="8494" class="Symbol">=</a> <a id="8496" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="8500" href="Meta.Deriving.Elim.html#8468" class="Bound">c</a> <a id="8502" class="Symbol">(</a><a id="8503" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="8508" href="Meta.Deriving.Elim.html#8459" class="Bound">ps</a><a id="8510" class="Symbol">)</a>
      <a id="8518" href="Meta.Deriving.Elim.html#8518" class="Bound">cT</a> <a id="8521" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="8523" class="Keyword">do</a>
        <a id="8534" href="Meta.Deriving.Elim.html#8534" class="Bound">cT</a> <a id="8537" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="8539" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="8548" href="Meta.Deriving.Elim.html#8468" class="Bound">c</a>
        <a id="8558" href="Meta.Deriving.Elim.html#8558" class="Bound">cT</a> <a id="8561" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="8563" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="8573" href="Meta.Deriving.Elim.html#8534" class="Bound">cT</a>
        <a id="8584" href="Meta.Reflection.Subst.html#7437" class="Function">pi-applyTC</a> <a id="8595" href="Meta.Deriving.Elim.html#8558" class="Bound">cT</a> <a id="8598" href="Meta.Deriving.Elim.html#8459" class="Bound">ps</a>
      <a id="8607" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8612" class="Symbol">(</a><a id="8613" href="Meta.Deriving.Elim.html#8613" class="Bound">methodT</a> <a id="8621" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8623" href="Meta.Deriving.Elim.html#8623" class="Bound">α</a><a id="8624" class="Symbol">)</a> <a id="8626" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="8628" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="8633" class="Symbol">(</a><a id="8634" href="Meta.Deriving.Elim.html#5189" class="Function">display</a> <a id="8642" href="Meta.Deriving.Elim.html#8453" class="Bound">fuel</a> <a id="8647" class="Number">1</a> <a id="8649" href="Meta.Deriving.Elim.html#8459" class="Bound">ps</a> <a id="8652" href="Meta.Deriving.Elim.html#8462" class="Bound">P</a> <a id="8654" href="Meta.Deriving.Elim.html#8464" class="Bound">rs</a> <a id="8657" class="Symbol">(</a><a id="8658" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="8663" class="Number">0</a><a id="8664" class="Symbol">)</a> <a id="8666" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8669" href="Meta.Deriving.Elim.html#8491" class="Bound">c′</a> <a id="8672" href="Meta.Deriving.Elim.html#8518" class="Bound">cT</a><a id="8674" class="Symbol">)</a>
        <a id="8684" class="Keyword">where</a> <a id="8690" class="CatchallClause Symbol">_</a> <a id="8692" class="Symbol">→</a> <a id="8694" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="8705" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="8707" class="String">&quot;The type of constructor &quot;</a> <a id="8734" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8736" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="8745" href="Meta.Deriving.Elim.html#8468" class="Bound">c</a> <a id="8747" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8749" class="String">&quot; is not supported&quot;</a> <a id="8769" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
      <a id="8777" href="Meta.Deriving.Elim.html#7667" class="Function">try-hlevel</a> <a id="8788" href="Meta.Deriving.Elim.html#8613" class="Bound">methodT</a> <a id="8796" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="8800" class="Symbol">λ</a> <a id="8802" class="Keyword">where</a>
        <a id="8816" class="Symbol">(</a><a id="8817" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8822" href="Meta.Deriving.Elim.html#8822" class="Bound">m</a><a id="8823" class="Symbol">)</a> <a id="8825" class="Symbol">→</a> <a id="8827" class="Keyword">do</a>
          <a id="8840" class="Comment">-- The type of the method is solvable by hlevel (i.e. contractible):</a>
          <a id="8919" class="Comment">-- we can omit that type from the telescope and replace the method with</a>
          <a id="9001" class="Comment">-- a call to `hlevel 0 .centre`.</a>
          <a id="9044" class="Keyword">let</a> <a id="9048" href="Meta.Deriving.Elim.html#9048" class="Bound">rs</a> <a id="9051" class="Symbol">=</a> <a id="9053" class="Symbol">(</a><a id="9054" href="Meta.Deriving.Elim.html#8491" class="Bound">c′</a> <a id="9057" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9059" href="Meta.Deriving.Elim.html#8822" class="Bound">m</a><a id="9060" class="Symbol">)</a> <a id="9062" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9064" href="Meta.Deriving.Elim.html#8464" class="Bound">rs</a>
          <a id="9077" href="Meta.Deriving.Elim.html#8256" class="Function">go</a> <a id="9080" href="Meta.Deriving.Elim.html#8453" class="Bound">fuel</a> <a id="9085" href="Meta.Deriving.Elim.html#8459" class="Bound">ps</a> <a id="9088" href="Meta.Deriving.Elim.html#8462" class="Bound">P</a> <a id="9090" href="Meta.Deriving.Elim.html#9048" class="Bound">rs</a> <a id="9093" href="Meta.Deriving.Elim.html#8472" class="Bound">cs</a> <a id="9096" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="9100" href="Meta.Deriving.Elim.html#7898" class="Function">×-map₁₂</a> <a id="9108" href="Foundations.Pi.Base.html#1533" class="Function">id</a> <a id="9111" class="Symbol">(</a><a id="9112" href="Meta.Deriving.Elim.html#8623" class="Bound">α</a> <a id="9114" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9116" class="Symbol">)</a>
        <a id="9126" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9134" class="Symbol">→</a> <a id="9136" class="Keyword">do</a>
          <a id="9149" class="Comment">-- Otherwise, add m : T to the telescope and replace the corresponding</a>
          <a id="9230" class="Comment">-- constructor with m henceforth.</a>
          <a id="9274" href="Meta.Deriving.Elim.html#9274" class="Bound">method</a> <a id="9281" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9283" class="Symbol">(</a><a id="9284" class="String">&quot;P&quot;</a> <a id="9288" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;_</a><a id="9291" class="Symbol">)</a> <a id="9293" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="9297" href="Meta.Reflection.Signature.html#6925" class="Function">render-name</a> <a id="9309" href="Meta.Deriving.Elim.html#8468" class="Bound">c</a>
          <a id="9321" href="Meta.Deriving.Elim.html#9321" class="Bound">q</a> <a id="9323" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9325" href="Meta.Reflection.Signature.html#1737" class="Function">get-con-quantity</a> <a id="9342" href="Meta.Deriving.Elim.html#8468" class="Bound">c</a>
          <a id="9354" class="Keyword">let</a> <a id="9358" href="Meta.Deriving.Elim.html#9358" class="Bound">argE</a> <a id="9363" class="Symbol">=</a> <a id="9365" href="Data.Bool.Base.html#929" class="Function Operator">if</a> <a id="9368" href="Data.Dec.Base.html#1695" class="Function Operator">⌊</a> <a id="9370" href="Meta.Deriving.Elim.html#9321" class="Bound">q</a> <a id="9372" href="Logic.Discreteness.html#1113" class="Function Operator">≟</a> <a id="9374" href="Agda.Builtin.Reflection.html#3230" class="InductiveConstructor">quantity-0</a> <a id="9385" href="Data.Dec.Base.html#1695" class="Function Operator">⌋</a> <a id="9387" href="Data.Bool.Base.html#929" class="Function Operator">then</a> <a id="9392" href="Data.Reflection.Argument.html#1572" class="Function">argN0</a> <a id="9398" href="Data.Bool.Base.html#929" class="Function Operator">else</a> <a id="9403" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
          <a id="9418" href="Meta.Deriving.Elim.html#9418" class="Bound">ps</a>  <a id="9422" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9424" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="9432" class="Number">1</a> <a id="9434" href="Meta.Deriving.Elim.html#8459" class="Bound">ps</a>
          <a id="9447" href="Meta.Deriving.Elim.html#9447" class="Bound">P</a>   <a id="9451" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9453" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="9461" class="Number">1</a> <a id="9463" href="Meta.Deriving.Elim.html#8462" class="Bound">P</a>
          <a id="9475" href="Meta.Deriving.Elim.html#9475" class="Bound">rs</a>  <a id="9479" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9481" class="Keyword">do</a>
            <a id="9496" href="Meta.Deriving.Elim.html#9496" class="Bound">rs′</a> <a id="9500" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9502" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="9510" class="Number">1</a> <a id="9512" href="Meta.Deriving.Elim.html#8464" class="Bound">rs</a>
            <a id="9527" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="9532" class="Symbol">((</a><a id="9534" href="Meta.Deriving.Elim.html#8491" class="Bound">c′</a> <a id="9537" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9539" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="9544" class="Number">0</a><a id="9545" class="Symbol">)</a> <a id="9547" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9549" href="Meta.Deriving.Elim.html#9496" class="Bound">rs′</a><a id="9552" class="Symbol">)</a>
          <a id="9564" href="Agda.Builtin.Reflection.html#9292" class="Postulate">extend-context</a> <a id="9579" href="Meta.Deriving.Elim.html#9274" class="Bound">method</a> <a id="9586" class="Symbol">(</a><a id="9587" href="Meta.Deriving.Elim.html#9358" class="Bound">argE</a> <a id="9592" href="Meta.Deriving.Elim.html#8613" class="Bound">methodT</a><a id="9599" class="Symbol">)</a> <a id="9601" class="Symbol">(</a><a id="9602" href="Meta.Deriving.Elim.html#8256" class="Function">go</a> <a id="9605" href="Meta.Deriving.Elim.html#8453" class="Bound">fuel</a> <a id="9610" href="Meta.Deriving.Elim.html#9418" class="Bound">ps</a> <a id="9613" href="Meta.Deriving.Elim.html#9447" class="Bound">P</a> <a id="9615" href="Meta.Deriving.Elim.html#9475" class="Bound">rs</a> <a id="9618" href="Meta.Deriving.Elim.html#8472" class="Bound">cs</a><a id="9620" class="Symbol">)</a> <a id="9622" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a>
            <a id="9638" href="Meta.Deriving.Elim.html#7898" class="Function">×-map₁₂</a> <a id="9646" class="Symbol">((</a><a id="9648" href="Meta.Deriving.Elim.html#9274" class="Bound">method</a> <a id="9655" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9657" href="Meta.Deriving.Elim.html#9358" class="Bound">argE</a> <a id="9662" href="Meta.Deriving.Elim.html#8613" class="Bound">methodT</a><a id="9669" class="Symbol">)</a> <a id="9671" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9673" class="Symbol">)</a> <a id="9675" class="Symbol">(</a><a id="9676" href="Meta.Deriving.Elim.html#8623" class="Bound">α</a> <a id="9678" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9680" class="Symbol">)</a>

<a id="make-elim-with"></a><a id="9683" href="Meta.Deriving.Elim.html#9683" class="Function">make-elim-with</a> <a id="9698" class="Symbol">:</a> <a id="9700" href="Meta.Deriving.Elim.html#1945" class="Record">Elim-options</a> <a id="9713" class="Symbol">→</a> <a id="9715" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="9720" class="Symbol">→</a> <a id="9722" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="9727" class="Symbol">→</a> <a id="9729" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="9732" href="Foundations.Notation.Logic.html#2755" class="Field">⊤</a>
<a id="9734" href="Meta.Deriving.Elim.html#9683" class="Function">make-elim-with</a> <a id="9749" href="Meta.Deriving.Elim.html#9749" class="Bound">opts</a> <a id="9754" href="Meta.Deriving.Elim.html#9754" class="Bound">elim</a> <a id="9759" href="Meta.Deriving.Elim.html#9759" class="Bound">D</a> <a id="9761" class="Symbol">=</a> <a id="9763" href="Agda.Builtin.Reflection.html#11368" class="Postulate">work-on-types</a> <a id="9777" href="Foundations.Notation.Underlying.html#1495" class="Function Operator">$</a> <a id="9779" href="Agda.Builtin.Reflection.html#10159" class="Postulate">with-normalisation</a> <a id="9798" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="9803" class="Keyword">do</a>
  <a id="9808" href="Meta.Deriving.Elim.html#9808" class="Bound">DT</a> <a id="9811" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9813" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="9822" href="Meta.Deriving.Elim.html#9759" class="Bound">D</a> <a id="9824" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="9828" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="9838" class="Comment">-- D : (ps : Γ) (is : Ξ) → Type _</a>
  <a id="9874" href="Agda.Builtin.Reflection.html#7558" class="InductiveConstructor">data-type</a> <a id="9884" href="Meta.Deriving.Elim.html#9884" class="Bound">pars</a> <a id="9889" href="Meta.Deriving.Elim.html#9889" class="Bound">cs</a> <a id="9892" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9894" href="Agda.Builtin.Reflection.html#9766" class="Postulate">get-definition</a> <a id="9909" href="Meta.Deriving.Elim.html#9759" class="Bound">D</a>
    <a id="9915" class="Keyword">where</a> <a id="9921" class="CatchallClause Symbol">_</a> <a id="9923" class="Symbol">→</a> <a id="9925" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="9936" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="9938" class="String">&quot;not a data type: &quot;</a> <a id="9958" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9960" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="9969" href="Meta.Deriving.Elim.html#9759" class="Bound">D</a> <a id="9971" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
  <a id="9975" class="Keyword">let</a>
    <a id="9983" class="Keyword">open</a> <a id="9988" href="Meta.Deriving.Elim.html#1945" class="Module">Elim-options</a> <a id="10001" href="Meta.Deriving.Elim.html#9749" class="Bound">opts</a>
    <a id="10010" href="Meta.Deriving.Elim.html#10010" class="Bound">DTTel</a> <a id="10016" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10018" class="Symbol">_</a> <a id="10020" class="Symbol">=</a> <a id="10022" href="Data.Reflection.Term.html#1449" class="Function">pi-view</a> <a id="10030" href="Meta.Deriving.Elim.html#9808" class="Bound">DT</a>
    <a id="10037" href="Meta.Deriving.Elim.html#10037" class="Bound">par-tel</a> <a id="10045" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10047" href="Meta.Deriving.Elim.html#10047" class="Bound">ix-tel</a> <a id="10054" class="Symbol">=</a> <a id="10056" href="Data.List.Operations.html#3196" class="Function">split-at</a> <a id="10065" href="Meta.Deriving.Elim.html#9884" class="Bound">pars</a> <a id="10070" href="Meta.Deriving.Elim.html#10010" class="Bound">DTTel</a>
    <a id="10080" href="Meta.Deriving.Elim.html#10080" class="Bound">par-telH</a> <a id="10089" class="Symbol">=</a> <a id="10091" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="10096" href="Meta.Deriving.Elim.html#10037" class="Bound">par-tel</a>
    <a id="10108" href="Meta.Deriving.Elim.html#10108" class="Bound">ix-tel</a> <a id="10115" class="Symbol">=</a> <a id="10117" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="10125" href="Meta.Deriving.Elim.html#2475" class="Function">hide-indices</a> <a id="10138" href="Meta.Deriving.Elim.html#10047" class="Bound">ix-tel</a>
    <a id="10149" href="Meta.Deriving.Elim.html#10149" class="Bound">DTel</a> <a id="10154" class="Symbol">=</a> <a id="10156" href="Meta.Deriving.Elim.html#10108" class="Bound">ix-tel</a> <a id="10163" href="Data.List.Operations.html#594" class="Function Operator">∷r</a> <a id="10166" class="Symbol">(</a><a id="10167" class="String">&quot;&quot;</a> <a id="10170" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10172" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="10177" class="Symbol">(</a><a id="10178" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="10182" href="Meta.Deriving.Elim.html#9759" class="Bound">D</a> <a id="10184" class="Symbol">(</a><a id="10185" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="10194" class="Number">0</a> <a id="10196" href="Meta.Deriving.Elim.html#10010" class="Bound">DTTel</a><a id="10201" class="Symbol">)))</a> <a id="10205" class="Comment">-- (is : Ξ) (_ : D ps is)</a>
  <a id="10233" href="Meta.Deriving.Elim.html#10233" class="Bound">DTel</a> <a id="10238" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="10240" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="10248" class="Number">1</a> <a id="10250" href="Meta.Deriving.Elim.html#10149" class="Bound">DTel</a>
  <a id="10257" class="Keyword">let</a>
    <a id="10265" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="10270" class="Symbol">=</a> <a id="10272" href="Data.Bool.Base.html#929" class="Function Operator">if</a> <a id="10275" href="Meta.Deriving.Elim.html#2099" class="Function">induction</a> <a id="10285" href="Data.Bool.Base.html#929" class="Function Operator">then</a> <a id="10290" href="Foundations.Pi.Base.html#1533" class="Function">id</a> <a id="10293" href="Data.Bool.Base.html#929" class="Function Operator">else</a> <a id="10298" class="Symbol">λ</a> <a id="10300" href="Meta.Deriving.Elim.html#10300" class="Bound">_</a> <a id="10302" class="Symbol">→</a> <a id="10304" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="10311" href="Meta.Deriving.Elim.html#10311" class="Bound">argP</a> <a id="10316" class="Symbol">=</a> <a id="10318" href="Data.Bool.Base.html#929" class="Function Operator">if</a> <a id="10321" href="Meta.Deriving.Elim.html#2332" class="Function">hide-motive</a> <a id="10333" href="Data.Bool.Base.html#929" class="Function Operator">then</a> <a id="10338" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="10343" href="Data.Bool.Base.html#929" class="Function Operator">else</a> <a id="10348" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
    <a id="10357" href="Meta.Deriving.Elim.html#10357" class="Bound">motiveTel</a> <a id="10367" class="Symbol">=</a> <a id="10369" class="Symbol">(</a><a id="10370" class="String">&quot;ℓ&quot;</a> <a id="10374" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10376" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="10381" class="Symbol">(</a><a id="10382" class="Keyword">quoteTerm</a> <a id="10392" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="10397" class="Symbol">))</a>
              <a id="10414" class="Comment">-- P : DTel → Type ℓ</a>
              <a id="10449" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10451" class="Symbol">(</a><a id="10452" class="String">&quot;P&quot;</a> <a id="10456" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10458" href="Meta.Deriving.Elim.html#10311" class="Bound">argP</a> <a id="10463" class="Symbol">(</a><a id="10464" href="Data.Reflection.Term.html#1793" class="Function">unpi-view</a> <a id="10474" class="Symbol">(</a><a id="10475" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="10480" href="Meta.Deriving.Elim.html#10233" class="Bound">DTel</a><a id="10484" class="Symbol">)</a> <a id="10486" class="Symbol">(</a><a id="10487" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="10497" class="Symbol">(</a><a id="10498" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="10502" class="Symbol">(</a><a id="10503" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="10508" class="Symbol">(</a><a id="10509" href="Data.List.Operations.html#962" class="Function">length</a> <a id="10516" class="Symbol">(</a><a id="10517" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="10522" href="Meta.Deriving.Elim.html#10233" class="Bound">DTel</a><a id="10526" class="Symbol">)))))))</a>
              <a id="10548" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10550" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="10555" href="Meta.Deriving.Elim.html#10555" class="Bound">DTel</a> <a id="10560" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="10562" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="10570" class="Number">1</a> <a id="10572" href="Meta.Deriving.Elim.html#10233" class="Bound">DTel</a>
    <a id="10581" class="Comment">-- We want to take is-hlevel as an argument, but we need to work in a context</a>
    <a id="10663" class="Comment">-- with an H-Level instance in scope.</a>
    <a id="10705" class="Comment">-- (d : DTel) → is-of-hlevel n (P d)</a>
  <a id="10744" class="Keyword">let</a>
    <a id="10752" href="Meta.Deriving.Elim.html#10752" class="Bound">hlevelTel</a> <a id="10762" class="Symbol">=</a> <a id="10764" href="Data.Maybe.Instances.Alt.html#266" class="Function">maybe→alt</a> <a id="10774" href="Meta.Deriving.Elim.html#2202" class="Function">into-hlevel</a> <a id="10786" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="10790" class="Symbol">λ</a> <a id="10792" href="Meta.Deriving.Elim.html#10792" class="Bound">n</a> <a id="10794" class="Symbol">→</a> <a id="10796" class="String">&quot;h&quot;</a> <a id="10800" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10802" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
      <a id="10813" class="Symbol">(</a><a id="10814" href="Data.Reflection.Term.html#1793" class="Function">unpi-view</a> <a id="10824" class="Symbol">(</a><a id="10825" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="10830" href="Meta.Deriving.Elim.html#10555" class="Bound">DTel</a><a id="10834" class="Symbol">)</a>
        <a id="10844" class="Symbol">(</a><a id="10845" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="10848" href="Foundations.Base.html#13972" class="Function">is-of-hlevel</a> <a id="10861" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="10865" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="10869" class="Symbol">(</a><a id="10870" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="10874" href="Meta.Deriving.Elim.html#10792" class="Bound">n</a><a id="10875" class="Symbol">)</a> <a id="10877" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="10881" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="10885" class="Symbol">(</a><a id="10886" href="Data.List.Operations.html#962" class="Function">length</a> <a id="10893" class="Symbol">(</a><a id="10894" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="10899" href="Meta.Deriving.Elim.html#10555" class="Bound">DTel</a><a id="10903" class="Symbol">))</a> <a id="10906" class="Symbol">(</a><a id="10907" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="10916" class="Number">0</a> <a id="10918" class="Symbol">(</a><a id="10919" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="10924" href="Meta.Deriving.Elim.html#10555" class="Bound">DTel</a><a id="10928" class="Symbol">))</a> <a id="10931" class="Symbol">))</a>
    <a id="10938" class="Comment">-- {d : DTel} {k : Nat} → H-Level (n + k) (P d)</a>
    <a id="10990" href="Meta.Deriving.Elim.html#10990" class="Bound">H-LevelTel</a> <a id="11001" class="Symbol">=</a> <a id="11003" href="Data.Maybe.Instances.Alt.html#266" class="Function">maybe→alt</a> <a id="11013" href="Meta.Deriving.Elim.html#2202" class="Function">into-hlevel</a> <a id="11025" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="11029" class="Symbol">λ</a> <a id="11031" href="Meta.Deriving.Elim.html#11031" class="Bound">n</a> <a id="11033" class="Symbol">→</a> <a id="11035" class="String">&quot;h&quot;</a> <a id="11039" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11041" href="Data.Reflection.Argument.html#1583" class="Function">argI</a>
      <a id="11052" class="Symbol">(</a><a id="11053" href="Data.Reflection.Term.html#1793" class="Function">unpi-view</a> <a id="11063" class="Symbol">(</a><a id="11064" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="11069" class="Symbol">(</a><a id="11070" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="11075" href="Meta.Deriving.Elim.html#10555" class="Bound">DTel</a><a id="11079" class="Symbol">))</a> <a id="11082" class="Symbol">(</a><a id="11083" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="11086" class="Symbol">(</a><a id="11087" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="11092" class="Symbol">(</a><a id="11093" class="Keyword">quoteTerm</a> <a id="11103" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="11104" class="Symbol">))</a> <a id="11107" class="Symbol">(</a><a id="11108" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="11112" class="String">&quot;k&quot;</a>
        <a id="11124" class="Symbol">(</a><a id="11125" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="11128" href="Foundations.HLevel.Base.html#8603" class="Record">H-Level</a> <a id="11136" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11140" class="Symbol">(</a><a id="11141" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="11144" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="11148" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11152" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="11156" class="Symbol">(</a><a id="11157" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="11161" href="Meta.Deriving.Elim.html#11031" class="Bound">n</a><a id="11162" class="Symbol">)</a> <a id="11164" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11168" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="11173" class="Number">0</a><a id="11174" class="Symbol">)</a> <a id="11176" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11180" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="11184" class="Symbol">(</a><a id="11185" class="Number">1</a> <a id="11187" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11189" href="Data.List.Operations.html#962" class="Function">length</a> <a id="11196" class="Symbol">(</a><a id="11197" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="11202" href="Meta.Deriving.Elim.html#10555" class="Bound">DTel</a><a id="11206" class="Symbol">))</a> <a id="11209" class="Symbol">(</a><a id="11210" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="11219" class="Number">1</a> <a id="11221" class="Symbol">(</a><a id="11222" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="11227" href="Meta.Deriving.Elim.html#10555" class="Bound">DTel</a><a id="11231" class="Symbol">))))))</a>
    <a id="11242" href="Meta.Deriving.Elim.html#11242" class="Bound">ps</a> <a id="11245" class="Symbol">=</a> <a id="11247" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="11256" class="Symbol">(</a><a id="11257" href="Data.List.Operations.html#962" class="Function">length</a> <a id="11264" href="Meta.Deriving.Elim.html#10357" class="Bound">motiveTel</a> <a id="11274" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11276" href="Data.List.Operations.html#962" class="Function">length</a> <a id="11283" href="Meta.Deriving.Elim.html#10752" class="Bound">hlevelTel</a><a id="11292" class="Symbol">)</a> <a id="11294" href="Meta.Deriving.Elim.html#10037" class="Bound">par-tel</a>
    <a id="11306" href="Meta.Deriving.Elim.html#11306" class="Bound">P</a> <a id="11308" class="Symbol">=</a> <a id="11310" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="11315" class="Symbol">(</a><a id="11316" href="Data.List.Operations.html#962" class="Function">length</a> <a id="11323" href="Meta.Deriving.Elim.html#10752" class="Bound">hlevelTel</a><a id="11332" class="Symbol">)</a>
    <a id="11338" class="Keyword">module</a> <a id="I"></a><a id="11345" href="Meta.Deriving.Elim.html#11345" class="Module">I</a> <a id="11347" class="Symbol">=</a> <a id="11349" href="Meta.Deriving.Elim.html#2827" class="Module">Induction</a> <a id="11359" href="Meta.Deriving.Elim.html#9749" class="Bound">opts</a> <a id="11364" href="Meta.Deriving.Elim.html#9759" class="Bound">D</a> <a id="11366" href="Meta.Deriving.Elim.html#9884" class="Bound">pars</a> <a id="11371" href="Meta.Deriving.Elim.html#10108" class="Bound">ix-tel</a> <a id="11378" href="Meta.Deriving.Elim.html#9889" class="Bound">cs</a>
  <a id="11383" href="Meta.Deriving.Elim.html#11383" class="Bound">methodTel</a> <a id="11393" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11395" href="Meta.Deriving.Elim.html#11395" class="Bound">αs</a> <a id="11398" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11400" href="Meta.Deriving.Elim.html#11400" class="Bound">rs</a> <a id="11403" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11405" href="Agda.Builtin.Reflection.html#9365" class="Postulate">in-context</a> <a id="11416" class="Symbol">(</a><a id="11417" href="Data.List.Base.html#955" class="Function">reverse-fast</a> <a id="11430" class="Symbol">(</a><a id="11431" href="Meta.Deriving.Elim.html#10080" class="Bound">par-telH</a> <a id="11440" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11443" href="Meta.Deriving.Elim.html#10357" class="Bound">motiveTel</a> <a id="11453" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11456" href="Meta.Deriving.Elim.html#10990" class="Bound">H-LevelTel</a><a id="11466" class="Symbol">))</a> <a id="11469" class="Symbol">(</a><a id="11470" href="Meta.Deriving.Elim.html#8139" class="Function">I.methods</a> <a id="11480" href="Meta.Deriving.Elim.html#11242" class="Bound">ps</a> <a id="11483" href="Meta.Deriving.Elim.html#11306" class="Bound">P</a><a id="11484" class="Symbol">)</a>
  <a id="11488" class="Keyword">let</a> <a id="11492" href="Meta.Deriving.Elim.html#11492" class="Bound">baseTel</a> <a id="11500" class="Symbol">=</a> <a id="11502" href="Meta.Deriving.Elim.html#10080" class="Bound">par-telH</a> <a id="11511" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11514" href="Meta.Deriving.Elim.html#10357" class="Bound">motiveTel</a> <a id="11524" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11527" href="Meta.Deriving.Elim.html#10752" class="Bound">hlevelTel</a> <a id="11537" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11540" href="Meta.Deriving.Elim.html#11383" class="Bound">methodTel</a>
  <a id="11552" href="Meta.Deriving.Elim.html#11552" class="Bound">DTel</a> <a id="11557" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11559" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="11567" class="Symbol">(</a><a id="11568" href="Data.List.Operations.html#962" class="Function">length</a> <a id="11575" href="Meta.Deriving.Elim.html#10752" class="Bound">hlevelTel</a> <a id="11585" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11587" href="Data.List.Operations.html#962" class="Function">length</a> <a id="11594" href="Meta.Deriving.Elim.html#11383" class="Bound">methodTel</a><a id="11603" class="Symbol">)</a> <a id="11605" href="Meta.Deriving.Elim.html#10555" class="Bound">DTel</a>
  <a id="11612" href="Meta.Deriving.Elim.html#11612" class="Bound">P</a> <a id="11614" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11616" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="11624" class="Symbol">(</a><a id="11625" href="Data.List.Operations.html#962" class="Function">length</a> <a id="11632" href="Meta.Deriving.Elim.html#11383" class="Bound">methodTel</a> <a id="11642" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11644" href="Data.List.Operations.html#962" class="Function">length</a> <a id="11651" href="Meta.Deriving.Elim.html#11552" class="Bound">DTel</a><a id="11655" class="Symbol">)</a> <a id="11657" href="Meta.Deriving.Elim.html#11306" class="Bound">P</a>
  <a id="11661" href="Meta.Deriving.Elim.html#11661" class="Bound">Pd</a> <a id="11664" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11666" href="Meta.Reflection.Subst.html#8100" class="Function">apply*TC</a> <a id="11675" href="Meta.Deriving.Elim.html#11612" class="Bound">P</a> <a id="11677" class="Symbol">(</a><a id="11678" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="11687" class="Number">0</a> <a id="11689" class="Symbol">(</a><a id="11690" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="11695" href="Meta.Deriving.Elim.html#11552" class="Bound">DTel</a><a id="11699" class="Symbol">))</a>
  <a id="11704" class="Keyword">let</a>
    <a id="11712" class="Comment">-- ∀ (ps : Γ) {ℓ} {P} (h : ∀ d → is-of-hlevel n (P d)) (ms : methodTel) (d : DTel) → P d</a>
    <a id="11805" href="Meta.Deriving.Elim.html#11805" class="Bound">elimT</a> <a id="11811" class="Symbol">=</a> <a id="11813" href="Data.Reflection.Term.html#1793" class="Function">unpi-view</a> <a id="11823" class="Symbol">(</a><a id="11824" href="Meta.Deriving.Elim.html#11492" class="Bound">baseTel</a> <a id="11832" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11835" href="Meta.Deriving.Elim.html#11552" class="Bound">DTel</a><a id="11839" class="Symbol">)</a> <a id="11841" href="Meta.Deriving.Elim.html#11661" class="Bound">Pd</a>
  <a id="11846" href="Meta.Deriving.Elim.html#11846" class="Bound">elimT′</a> <a id="11853" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11855" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="11860" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="11864" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="11873" href="Meta.Deriving.Elim.html#9754" class="Bound">elim</a> <a id="11878" href="Meta.Effect.Alt.html#369" class="Field Operator">&lt;|&gt;</a> <a id="11882" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="11890" href="Meta.Effect.Map.Base.html#466" class="Function Operator">&lt;$</a> <a id="11893" href="Agda.Builtin.Reflection.html#9468" class="Postulate">declare-def</a> <a id="11905" class="Symbol">(</a><a id="11906" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="11911" href="Meta.Deriving.Elim.html#9754" class="Bound">elim</a><a id="11915" class="Symbol">)</a> <a id="11917" href="Meta.Deriving.Elim.html#11805" class="Bound">elimT</a>
  <a id="11925" href="Meta.Effect.Traversable.html#418" class="Function">for</a> <a id="11929" href="Meta.Deriving.Elim.html#11846" class="Bound">elimT′</a> <a id="11936" class="Symbol">(</a><a id="11937" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="11943" href="Meta.Deriving.Elim.html#11805" class="Bound">elimT</a><a id="11948" class="Symbol">)</a> <a id="11950" class="Comment">-- Give a nicer error if the types don&#39;t match</a>
  <a id="11999" href="Meta.Deriving.Elim.html#11999" class="Bound">ix-tel</a> <a id="12006" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12008" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="12016" class="Symbol">(</a><a id="12017" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12024" href="Meta.Deriving.Elim.html#10357" class="Bound">motiveTel</a> <a id="12034" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12036" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12043" href="Meta.Deriving.Elim.html#10752" class="Bound">hlevelTel</a> <a id="12053" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12055" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12062" href="Meta.Deriving.Elim.html#11383" class="Bound">methodTel</a><a id="12071" class="Symbol">)</a> <a id="12073" href="Meta.Deriving.Elim.html#10108" class="Bound">ix-tel</a>
  <a id="12082" href="Meta.Deriving.Elim.html#12082" class="Bound">ps</a> <a id="12085" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12087" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="12095" class="Symbol">(</a><a id="12096" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12103" href="Meta.Deriving.Elim.html#11383" class="Bound">methodTel</a> <a id="12113" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12115" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12122" href="Meta.Deriving.Elim.html#11999" class="Bound">ix-tel</a><a id="12128" class="Symbol">)</a> <a id="12130" href="Meta.Deriving.Elim.html#11242" class="Bound">ps</a>
  <a id="12135" href="Meta.Deriving.Elim.html#12135" class="Bound">rs</a> <a id="12138" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12140" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="12148" class="Symbol">(</a><a id="12149" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12156" href="Meta.Deriving.Elim.html#11999" class="Bound">ix-tel</a><a id="12162" class="Symbol">)</a> <a id="12164" href="Meta.Deriving.Elim.html#11400" class="Bound">rs</a>
  <a id="12169" class="Comment">-- The replacements are in the H-Level context, so we substitute them back into</a>
  <a id="12251" class="Comment">-- our context using basic-instance.</a>
  <a id="12290" class="Keyword">let</a> <a id="12294" href="Meta.Deriving.Elim.html#12294" class="Bound">h</a> <a id="12296" class="Symbol">=</a> <a id="12298" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12305" href="Meta.Deriving.Elim.html#11383" class="Bound">methodTel</a> <a id="12315" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12317" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12324" href="Meta.Deriving.Elim.html#11999" class="Bound">ix-tel</a>
  <a id="12333" href="Meta.Deriving.Elim.html#12333" class="Bound">rs</a> <a id="12336" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12338" class="Keyword">do</a>
    <a id="12345" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12350" href="Meta.Deriving.Elim.html#12350" class="Bound">n</a> <a id="12352" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12354" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="12359" href="Meta.Deriving.Elim.html#2202" class="Function">into-hlevel</a>
      <a id="12377" class="Keyword">where</a> <a id="12383" class="CatchallClause Symbol">_</a> <a id="12385" class="Symbol">→</a> <a id="12387" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="12392" href="Meta.Deriving.Elim.html#12135" class="Bound">rs</a>
    <a id="12399" class="Keyword">let</a> <a id="12403" href="Meta.Deriving.Elim.html#12403" class="Bound">f</a> <a id="12405" class="Symbol">=</a> <a id="12407" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="12414" href="Foundations.Notation.Underlying.html#1495" class="Function Operator">$</a> <a id="12416" href="Meta.Reflection.Subst.html#1942" class="Function">inplaceS</a> <a id="12425" href="Meta.Deriving.Elim.html#12294" class="Bound">h</a> <a id="12427" href="Foundations.Notation.Underlying.html#1495" class="Function Operator">$</a> <a id="12429" href="Data.Reflection.Term.html#1917" class="Function">tel→lam</a> <a id="12437" class="Symbol">(</a><a id="12438" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="12443" class="Symbol">(</a><a id="12444" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="12449" href="Meta.Deriving.Elim.html#11552" class="Bound">DTel</a><a id="12453" class="Symbol">))</a>
          <a id="12466" href="Foundations.Notation.Underlying.html#1495" class="Function Operator">$</a> <a id="12468" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="12471" href="Foundations.HLevel.Base.html#9253" class="Function">hlevel-basic-instance</a> <a id="12493" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="12497" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="12501" class="Symbol">(</a><a id="12502" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="12506" href="Meta.Deriving.Elim.html#12350" class="Bound">n</a><a id="12507" class="Symbol">)</a> <a id="12509" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="12513" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="12517" class="Symbol">(</a><a id="12518" href="Meta.Deriving.Elim.html#12294" class="Bound">h</a> <a id="12520" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12522" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12529" class="Symbol">(</a><a id="12530" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="12535" href="Meta.Deriving.Elim.html#11552" class="Bound">DTel</a><a id="12539" class="Symbol">))</a> <a id="12542" class="Symbol">(</a><a id="12543" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="12552" class="Number">0</a> <a id="12554" class="Symbol">(</a><a id="12555" href="Meta.Deriving.Elim.html#10265" class="Bound">PTel</a> <a id="12560" href="Meta.Deriving.Elim.html#11552" class="Bound">DTel</a><a id="12564" class="Symbol">))</a>
    <a id="12571" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="12580" class="Symbol">(</a><a id="12581" href="Meta.Deriving.Elim.html#12403" class="Bound">f</a> <a id="12583" href="Meta.Deriving.Elim.html#12135" class="Bound">rs</a><a id="12585" class="Symbol">)</a> <a id="12587" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="12592" href="Meta.Deriving.Elim.html#12592" class="Bound">clauses</a> <a id="12600" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12602" href="Agda.Builtin.Reflection.html#9365" class="Postulate">in-context</a> <a id="12613" class="Symbol">(</a><a id="12614" href="Data.List.Base.html#955" class="Function">reverse-fast</a> <a id="12627" class="Symbol">(</a><a id="12628" href="Meta.Deriving.Elim.html#11492" class="Bound">baseTel</a> <a id="12636" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="12639" href="Meta.Deriving.Elim.html#11999" class="Bound">ix-tel</a><a id="12645" class="Symbol">))</a> <a id="12648" class="Keyword">do</a>
    <a id="12655" class="Keyword">let</a> <a id="12659" href="Meta.Deriving.Elim.html#12659" class="Bound">get-clause</a> <a id="12670" class="Symbol">=</a> <a id="12672" class="Symbol">λ</a> <a id="12674" class="Symbol">(</a><a id="12675" href="Meta.Deriving.Elim.html#12675" class="Bound">c</a> <a id="12677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12679" href="Meta.Deriving.Elim.html#12679" class="Bound">α</a><a id="12680" class="Symbol">)</a> <a id="12682" class="Symbol">→</a> <a id="12684" class="Keyword">do</a>
      <a id="12693" href="Meta.Deriving.Elim.html#12693" class="Bound">cT</a> <a id="12696" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12698" href="Foundations.Pi.Base.html#1277" class="Function">flip</a> <a id="12703" href="Meta.Reflection.Subst.html#7437" class="Function">pi-applyTC</a> <a id="12714" href="Meta.Deriving.Elim.html#12082" class="Bound">ps</a> <a id="12717" href="Meta.Effect.Bind.html#449" class="Function Operator">=&lt;&lt;</a> <a id="12721" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="12731" href="Meta.Effect.Bind.html#449" class="Function Operator">=&lt;&lt;</a> <a id="12735" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="12744" href="Meta.Deriving.Elim.html#12675" class="Bound">c</a>
      <a id="12752" class="Keyword">let</a> <a id="12756" href="Meta.Deriving.Elim.html#12756" class="Bound">cTel</a> <a id="12761" class="Symbol">=</a> <a id="12763" href="Meta.Reflection.Base.html#4883" class="Function">pi-view-path</a> <a id="12776" href="Meta.Deriving.Elim.html#12693" class="Bound">cT</a>
          <a id="12789" href="Meta.Deriving.Elim.html#12789" class="Bound">pats</a> <a id="12794" class="Symbol">=</a> <a id="12796" href="Meta.Reflection.Base.html#5111" class="Function">tel→pats</a> <a id="12805" class="Symbol">(</a><a id="12806" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12813" href="Meta.Deriving.Elim.html#12756" class="Bound">cTel</a><a id="12817" class="Symbol">)</a> <a id="12819" class="Symbol">(</a><a id="12820" href="Meta.Deriving.Elim.html#11492" class="Bound">baseTel</a> <a id="12828" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="12831" href="Meta.Deriving.Elim.html#11999" class="Bound">ix-tel</a><a id="12837" class="Symbol">)</a> <a id="12839" href="Data.List.Operations.html#594" class="Function Operator">∷r</a> <a id="12842" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="12847" class="Symbol">(</a><a id="12848" href="Agda.Builtin.Reflection.html#5814" class="InductiveConstructor">con</a> <a id="12852" href="Meta.Deriving.Elim.html#12675" class="Bound">c</a> <a id="12854" class="Symbol">(</a><a id="12855" href="Meta.Reflection.Base.html#5111" class="Function">tel→pats</a> <a id="12864" class="Number">0</a> <a id="12866" href="Meta.Deriving.Elim.html#12756" class="Bound">cTel</a><a id="12870" class="Symbol">))</a>
          <a id="12883" href="Meta.Deriving.Elim.html#12883" class="Bound">rec</a> <a id="12887" class="Symbol">=</a> <a id="12889" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="12893" href="Meta.Deriving.Elim.html#9754" class="Bound">elim</a> <a id="12898" class="Symbol">(</a><a id="12899" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="12908" class="Symbol">(</a><a id="12909" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12916" href="Meta.Deriving.Elim.html#11999" class="Bound">ix-tel</a> <a id="12923" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12925" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12932" href="Meta.Deriving.Elim.html#12756" class="Bound">cTel</a><a id="12936" class="Symbol">)</a> <a id="12938" href="Meta.Deriving.Elim.html#11492" class="Bound">baseTel</a><a id="12945" class="Symbol">)</a>
      <a id="12953" href="Meta.Deriving.Elim.html#12953" class="Bound">α</a> <a id="12955" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12957" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="12966" class="Symbol">(</a><a id="12967" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="12974" class="Symbol">(</a><a id="12975" href="Meta.Reflection.Subst.html#1730" class="Function">singletonS</a> <a id="12986" class="Symbol">(</a><a id="12987" href="Data.List.Operations.html#962" class="Function">length</a> <a id="12994" href="Meta.Deriving.Elim.html#12756" class="Bound">cTel</a><a id="12998" class="Symbol">)</a> <a id="13000" href="Meta.Deriving.Elim.html#12883" class="Bound">rec</a><a id="13003" class="Symbol">)</a> <a id="13005" href="Meta.Deriving.Elim.html#12679" class="Bound">α</a><a id="13006" class="Symbol">)</a> <a id="13008" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="13017" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13022" href="Meta.Deriving.Elim.html#13022" class="Bound">m</a> <a id="13024" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="13026" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="13031" class="Symbol">(</a><a id="13032" href="Meta.Deriving.Elim.html#3121" class="Function">I.replace</a> <a id="13042" href="Meta.Reflection.Base.html#3358" class="Function">full-tank</a> <a id="13052" href="Meta.Deriving.Elim.html#12333" class="Bound">rs</a> <a id="13055" class="Symbol">(</a><a id="13056" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="13060" href="Meta.Deriving.Elim.html#12675" class="Bound">c</a> <a id="13062" class="Symbol">(</a><a id="13063" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="13068" href="Meta.Deriving.Elim.html#12082" class="Bound">ps</a><a id="13070" class="Symbol">)))</a>
        <a id="13082" class="Keyword">where</a> <a id="13088" class="CatchallClause Symbol">_</a> <a id="13090" class="Symbol">→</a> <a id="13092" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="13103" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="13112" href="Meta.Deriving.Elim.html#13112" class="Bound">m</a> <a id="13114" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="13116" href="Foundations.Pi.Base.html#1277" class="Function">flip</a> <a id="13121" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="13130" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="13133" class="Keyword">do</a>
        <a id="13144" href="Meta.Deriving.Elim.html#13144" class="Bound">m′</a> <a id="13147" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="13149" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="13155" class="Symbol">(</a><a id="13156" href="Data.List.Operations.html#962" class="Function">length</a> <a id="13163" href="Meta.Deriving.Elim.html#12756" class="Bound">cTel</a><a id="13167" class="Symbol">)</a> <a id="13169" href="Meta.Deriving.Elim.html#13022" class="Bound">m</a>
        <a id="13179" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="13189" href="Meta.Reflection.Base.html#3358" class="Function">full-tank</a> <a id="13199" href="Meta.Deriving.Elim.html#13144" class="Bound">m′</a> <a id="13202" href="Meta.Deriving.Elim.html#12953" class="Bound">α</a>
      <a id="13210" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="13215" href="Foundations.Notation.Underlying.html#1495" class="Function Operator">$</a> <a id="13217" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="13224" class="Symbol">(</a><a id="13225" href="Meta.Deriving.Elim.html#11492" class="Bound">baseTel</a> <a id="13233" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="13236" href="Meta.Deriving.Elim.html#11999" class="Bound">ix-tel</a> <a id="13243" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="13246" href="Meta.Deriving.Elim.html#12756" class="Bound">cTel</a><a id="13250" class="Symbol">)</a> <a id="13252" href="Meta.Deriving.Elim.html#12789" class="Bound">pats</a> <a id="13257" href="Meta.Deriving.Elim.html#13112" class="Bound">m</a>
    <a id="13263" href="Meta.Effect.Traversable.html#315" class="Field">traverse</a> <a id="13272" href="Meta.Deriving.Elim.html#12659" class="Bound">get-clause</a> <a id="13283" class="Symbol">(</a><a id="13284" href="Data.List.Operations.html#3366" class="Function">zip</a> <a id="13288" href="Meta.Deriving.Elim.html#9889" class="Bound">cs</a> <a id="13291" href="Meta.Deriving.Elim.html#11395" class="Bound">αs</a><a id="13293" class="Symbol">)</a>
  <a id="13297" href="Agda.Builtin.Reflection.html#9683" class="Postulate">define-function</a> <a id="13313" href="Meta.Deriving.Elim.html#9754" class="Bound">elim</a> <a id="13318" href="Meta.Deriving.Elim.html#12592" class="Bound">clauses</a>

<a id="default-elim"></a><a id="13327" href="Meta.Deriving.Elim.html#13327" class="Function">default-elim</a> <a id="13340" class="Symbol">=</a> <a id="13342" class="Keyword">record</a>
  <a id="13351" class="Symbol">{</a> <a id="13353" href="Meta.Deriving.Elim.html#2099" class="Field">induction</a> <a id="13363" class="Symbol">=</a> <a id="13365" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13372" class="Symbol">;</a> <a id="13374" href="Meta.Deriving.Elim.html#2202" class="Field">into-hlevel</a> <a id="13386" class="Symbol">=</a> <a id="13388" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="13398" class="Symbol">;</a> <a id="13400" href="Meta.Deriving.Elim.html#2332" class="Field">hide-motive</a> <a id="13412" class="Symbol">=</a> <a id="13414" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13421" class="Symbol">;</a> <a id="13423" href="Meta.Deriving.Elim.html#2475" class="Field">hide-indices</a> <a id="13436" class="Symbol">=</a> <a id="13438" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13445" class="Symbol">;</a> <a id="13447" href="Meta.Deriving.Elim.html#2788" class="Field">hide-cons-args</a> <a id="13462" class="Symbol">=</a> <a id="13464" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13472" class="Symbol">}</a>

<a id="default-elim-visible"></a><a id="13475" href="Meta.Deriving.Elim.html#13475" class="Function">default-elim-visible</a> <a id="13496" class="Symbol">=</a> <a id="13498" class="Keyword">record</a>
  <a id="13507" class="Symbol">{</a> <a id="13509" href="Meta.Deriving.Elim.html#2099" class="Field">induction</a> <a id="13519" class="Symbol">=</a> <a id="13521" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13528" class="Symbol">;</a> <a id="13530" href="Meta.Deriving.Elim.html#2202" class="Field">into-hlevel</a> <a id="13542" class="Symbol">=</a> <a id="13544" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="13554" class="Symbol">;</a> <a id="13556" href="Meta.Deriving.Elim.html#2332" class="Field">hide-motive</a> <a id="13568" class="Symbol">=</a> <a id="13570" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13578" class="Symbol">;</a> <a id="13580" href="Meta.Deriving.Elim.html#2475" class="Field">hide-indices</a> <a id="13593" class="Symbol">=</a> <a id="13595" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13603" class="Symbol">;</a> <a id="13605" href="Meta.Deriving.Elim.html#2788" class="Field">hide-cons-args</a> <a id="13620" class="Symbol">=</a> <a id="13622" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13630" class="Symbol">}</a>

<a id="default-rec"></a><a id="13633" href="Meta.Deriving.Elim.html#13633" class="Function">default-rec</a> <a id="13645" class="Symbol">=</a> <a id="13647" class="Keyword">record</a> <a id="13654" href="Meta.Deriving.Elim.html#13327" class="Function">default-elim</a> <a id="13667" class="Symbol">{</a> <a id="13669" href="Meta.Deriving.Elim.html#2099" class="Field">induction</a> <a id="13679" class="Symbol">=</a> <a id="13681" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13687" class="Symbol">}</a>
<a id="default-rec-visible"></a><a id="13689" href="Meta.Deriving.Elim.html#13689" class="Function">default-rec-visible</a> <a id="13709" class="Symbol">=</a> <a id="13711" class="Keyword">record</a> <a id="13718" href="Meta.Deriving.Elim.html#13475" class="Function">default-elim-visible</a> <a id="13739" class="Symbol">{</a> <a id="13741" href="Meta.Deriving.Elim.html#2099" class="Field">induction</a> <a id="13751" class="Symbol">=</a> <a id="13753" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13759" class="Symbol">}</a>

<a id="_into_"></a><a id="13762" href="Meta.Deriving.Elim.html#13762" class="Function Operator">_into_</a> <a id="13769" class="Symbol">:</a> <a id="13771" href="Meta.Deriving.Elim.html#1945" class="Record">Elim-options</a> <a id="13784" class="Symbol">→</a> <a id="13786" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="13788" class="Symbol">→</a> <a id="13790" href="Meta.Deriving.Elim.html#1945" class="Record">Elim-options</a>
<a id="13803" href="Meta.Deriving.Elim.html#13803" class="Bound">opts</a> <a id="13808" href="Meta.Deriving.Elim.html#13762" class="Function Operator">into</a> <a id="13813" href="Meta.Deriving.Elim.html#13813" class="Bound">n</a> <a id="13815" class="Symbol">=</a> <a id="13817" class="Keyword">record</a> <a id="13824" href="Meta.Deriving.Elim.html#13803" class="Bound">opts</a> <a id="13829" class="Symbol">{</a> <a id="13831" href="Meta.Deriving.Elim.html#2202" class="Field">into-hlevel</a> <a id="13843" class="Symbol">=</a> <a id="13845" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13850" href="Meta.Deriving.Elim.html#13813" class="Bound">n</a> <a id="13852" class="Symbol">}</a>

<a id="make-elim"></a><a id="13855" href="Meta.Deriving.Elim.html#13855" class="Function">make-elim</a> <a id="make-rec"></a><a id="13865" href="Meta.Deriving.Elim.html#13865" class="Function">make-rec</a> <a id="13874" class="Symbol">:</a> <a id="13876" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="13881" class="Symbol">→</a> <a id="13883" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="13888" class="Symbol">→</a> <a id="13890" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="13893" href="Foundations.Notation.Logic.html#2755" class="Field">⊤</a>
<a id="13895" href="Meta.Deriving.Elim.html#13855" class="Function">make-elim</a> <a id="13905" class="Symbol">=</a> <a id="13907" href="Meta.Deriving.Elim.html#9683" class="Function">make-elim-with</a> <a id="13922" href="Meta.Deriving.Elim.html#13327" class="Function">default-elim</a>
<a id="13935" href="Meta.Deriving.Elim.html#13865" class="Function">make-rec</a> <a id="13944" class="Symbol">=</a> <a id="13946" href="Meta.Deriving.Elim.html#9683" class="Function">make-elim-with</a> <a id="13961" href="Meta.Deriving.Elim.html#13633" class="Function">default-rec</a>

<a id="make-elim-n"></a><a id="13974" href="Meta.Deriving.Elim.html#13974" class="Function">make-elim-n</a> <a id="make-rec-n"></a><a id="13986" href="Meta.Deriving.Elim.html#13986" class="Function">make-rec-n</a> <a id="13997" class="Symbol">:</a> <a id="13999" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="14001" class="Symbol">→</a> <a id="14003" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="14008" class="Symbol">→</a> <a id="14010" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="14015" class="Symbol">→</a> <a id="14017" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="14020" href="Foundations.Notation.Logic.html#2755" class="Field">⊤</a>
<a id="14022" href="Meta.Deriving.Elim.html#13974" class="Function">make-elim-n</a> <a id="14034" href="Meta.Deriving.Elim.html#14034" class="Bound">n</a> <a id="14036" class="Symbol">=</a> <a id="14038" href="Meta.Deriving.Elim.html#9683" class="Function">make-elim-with</a> <a id="14053" class="Symbol">(</a><a id="14054" href="Meta.Deriving.Elim.html#13327" class="Function">default-elim</a> <a id="14067" href="Meta.Deriving.Elim.html#13762" class="Function Operator">into</a> <a id="14072" href="Meta.Deriving.Elim.html#14034" class="Bound">n</a><a id="14073" class="Symbol">)</a>
<a id="14075" href="Meta.Deriving.Elim.html#13986" class="Function">make-rec-n</a> <a id="14086" href="Meta.Deriving.Elim.html#14086" class="Bound">n</a> <a id="14088" class="Symbol">=</a> <a id="14090" href="Meta.Deriving.Elim.html#9683" class="Function">make-elim-with</a> <a id="14105" class="Symbol">(</a><a id="14106" href="Meta.Deriving.Elim.html#13633" class="Function">default-rec</a> <a id="14118" href="Meta.Deriving.Elim.html#13762" class="Function Operator">into</a> <a id="14123" href="Meta.Deriving.Elim.html#14086" class="Bound">n</a><a id="14124" class="Symbol">)</a>


<a id="14128" class="Comment">-- Examples</a>
<a id="14140" class="Comment">-- be careful, they consume about ~10GB of memory</a>
<a id="14190" class="Comment">-- TODO remove the warning after the fix</a>
<a id="14231" class="Comment">-- module _ where private</a>
  <a id="14259" class="Comment">-- open import Data.Bool.Base</a>
  <a id="14291" class="Comment">-- unquoteDecl Bool-elim = make-elim Bool-elim (quote Bool)</a>
  <a id="14353" class="Comment">-- unquoteDecl Bool-rec = make-rec Bool-rec (quote Bool)</a>

  <a id="14413" class="Comment">-- _ : {ℓ : Level} {P : Bool → 𝒰 ℓ}</a>
  <a id="14451" class="Comment">--   → P false</a>
  <a id="14468" class="Comment">--   → P true</a>
  <a id="14484" class="Comment">--   → Π[ b ꞉ Bool ] P b</a>
  <a id="14511" class="Comment">-- _ = Bool-elim</a>

  <a id="14531" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ}</a>
  <a id="14562" class="Comment">--   → A</a>
  <a id="14573" class="Comment">--   → A</a>
  <a id="14584" class="Comment">--   → Bool → A</a>
  <a id="14602" class="Comment">-- _ = Bool-rec</a>

  <a id="14621" class="Comment">-- open import Data.Nat.Base</a>
  <a id="14652" class="Comment">-- unquoteDecl ℕ-elim = make-elim ℕ-elim (quote ℕ)</a>
  <a id="14705" class="Comment">-- unquoteDecl ℕ-rec = make-rec ℕ-rec (quote ℕ)</a>

  <a id="14756" class="Comment">-- _ : {ℓ : Level} {P : ℕ → 𝒰 ℓ}</a>
  <a id="14791" class="Comment">--   → P 0</a>
  <a id="14804" class="Comment">--   → Π[ n ꞉ ℕ ] (P n → P (suc n))</a>
  <a id="14842" class="Comment">--   → Π[ n ꞉ ℕ ] P n</a>
  <a id="14866" class="Comment">-- _ = ℕ-elim</a>

  <a id="14883" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ}</a>
  <a id="14914" class="Comment">--   → A</a>
  <a id="14925" class="Comment">--   → (ℕ → A → A)</a>
  <a id="14946" class="Comment">--   → ℕ → A</a>
  <a id="14961" class="Comment">-- _ = ℕ-rec</a>

  <a id="14977" class="Comment">-- open import Data.Fin.Inductive.Base</a>
  <a id="15018" class="Comment">-- unquoteDecl Fin-elim = make-elim Fin-elim (quote Fin)</a>

  <a id="15078" class="Comment">-- _ : {ℓ : Level} {P : {@0 n : ℕ} → Fin n → 𝒰 ℓ}</a>
  <a id="15130" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] P fzero</a>
  <a id="15159" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] Π[ k ꞉ Fin m ] (P k → P (fsuc k))</a>
  <a id="15214" class="Comment">--   → ∀ᴱ[ n ꞉ ℕ ] Π[ x ꞉ Fin n ] P x</a>
  <a id="15254" class="Comment">-- _ = Fin-elim</a>

  <a id="15273" class="Comment">-- open import Data.List.Base</a>
  <a id="15305" class="Comment">-- unquoteDecl List-elim = make-elim List-elim (quote List)</a>
  <a id="15367" class="Comment">-- unquoteDecl List-rec = make-elim-with (record default-rec {hide-cons-args = true}) List-rec (quote List)</a>

  <a id="15478" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {P : List A → 𝒰 ℓ}</a>
  <a id="15542" class="Comment">--   → P []</a>
  <a id="15556" class="Comment">--   → Π[ y ꞉ A ] Π[ ys ꞉ List A ] (P ys → P (y ∷ ys))</a>
  <a id="15613" class="Comment">--   → Π[ xs ꞉ List A ] P xs</a>
  <a id="15644" class="Comment">-- _ = List-elim</a>

  <a id="15664" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {B : 𝒰 ℓ}</a>
  <a id="15719" class="Comment">--   → B</a>
  <a id="15730" class="Comment">--   → ∀[ x ꞉ A ] ∀[ xs ꞉ List A ] (B → B)</a>
  <a id="15775" class="Comment">--   → List A → B</a>
  <a id="15795" class="Comment">-- _ = List-rec</a>

  <a id="15814" class="Comment">-- open import Data.Vec.Inductive.Base</a>
  <a id="15855" class="Comment">-- unquoteDecl Vec-elim = make-elim Vec-elim (quote Vec)</a>

  <a id="15915" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {P : {@0 n : ℕ} → Vec A n → 𝒰 ℓ}</a>
  <a id="15993" class="Comment">--   → P []</a>
  <a id="16007" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] Π[ y ꞉ A ] Π[ ys ꞉ Vec A m ] (P ys → P (y ∷ ys))</a>
  <a id="16077" class="Comment">--   → ∀ᴱ[ n ꞉ ℕ ] Π[ xs ꞉ Vec A n ] P xs</a>
  <a id="16121" class="Comment">-- _ = Vec-elim</a>

  <a id="16140" class="Comment">-- open import Data.Id.Inductive</a>
  <a id="16175" class="Comment">-- unquoteDecl Id-elim = make-elim-with default-elim-visible Id-elim (quote _＝ⁱ_)</a>

  <a id="16260" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {a : A} {ℓ : Level}</a>
  <a id="16313" class="Comment">--     (P : Π[ b ꞉ A ] (a ＝ⁱ b → 𝒰 ℓ))</a>
  <a id="16354" class="Comment">--   → P a reflⁱ</a>
  <a id="16373" class="Comment">--   → Π[ x ꞉ A ] Π[ p ꞉ a ＝ⁱ x ] P x p</a>
  <a id="16415" class="Comment">-- _ = Id-elim</a>

  <a id="16433" class="Comment">-- open import Data.Truncation.Propositional.Base</a>
  <a id="16485" class="Comment">-- unquoteDecl ∥-∥₁-elim = make-elim ∥-∥₁-elim (quote ∥_∥₁)</a>
  <a id="16547" class="Comment">-- unquoteDecl ∥-∥₁-elim-prop = make-elim-n 1 ∥-∥₁-elim-prop (quote ∥_∥₁)</a>

  <a id="16624" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : ∥ A ∥₁ → 𝒰 ℓ′}</a>
  <a id="16688" class="Comment">--   → Π[ a ꞉ A ] P ∣ a ∣₁</a>
  <a id="16717" class="Comment">--   → Π[ a ꞉ ∥ A ∥₁ ] Π[ pᵃ ꞉ P a ] Π[ b ꞉ ∥ A ∥₁ ] Π[ pᵇ ꞉ P b ] ＜ pᵃ ／ (λ i → P (squash₁ a b i)) ＼ pᵇ ＞</a>
  <a id="16826" class="Comment">--   → Π[ x ꞉ ∥ A ∥₁ ] P x</a>
  <a id="16855" class="Comment">-- _ = ∥-∥₁-elim</a>

  <a id="16875" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : ∥ A ∥₁ → 𝒰 ℓ′}</a>
  <a id="16939" class="Comment">--   → Π[ a ꞉ ∥ A ∥₁ ] is-prop (P a)</a>
  <a id="16978" class="Comment">--   → Π[ a ꞉ A ] P ∣ a ∣₁</a>
  <a id="17007" class="Comment">--   → Π[ x ꞉ ∥ A ∥₁ ] P x</a>
  <a id="17036" class="Comment">-- _ = ∥-∥₁-elim-prop</a>

  <a id="17061" class="Comment">-- data S¹ : 𝒰 where</a>
  <a id="17084" class="Comment">--   base : S¹</a>
  <a id="17101" class="Comment">--   @0 loop : base ＝ base</a>

  <a id="17131" class="Comment">-- unquoteDecl S¹-elim = make-elim S¹-elim (quote S¹)</a>

  <a id="17188" class="Comment">-- _ : {ℓ : Level} {P : S¹ → 𝒰 ℓ}</a>
  <a id="17224" class="Comment">--     (Pbase : P base)</a>
  <a id="17250" class="Comment">--   → @0 Pathᴾ (λ i → P (loop i)) Pbase Pbase</a>
  <a id="17299" class="Comment">--   → (s : S¹) → P s</a>
  <a id="17323" class="Comment">-- _ = S¹-elim</a>


  <a id="17342" class="Comment">-- open import Data.Tree.Binary.Base</a>
  <a id="17381" class="Comment">-- unquoteDecl tree-elim = make-elim-with (record default-elim {hide-cons-args = true}) tree-elim (quote Tree)</a>

  <a id="17495" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : Tree A → 𝒰 ℓ′}</a>
  <a id="17559" class="Comment">--   → P empty</a>
  <a id="17576" class="Comment">--   → ∀[ a ꞉ A ] P (leaf a)</a>
  <a id="17607" class="Comment">--   → ∀[ t₁ ꞉ Tree A ] (P t₁ → ∀[ t₂ ꞉ Tree A ] (P t₂ → P (node t₁ t₂)))</a>
  <a id="17683" class="Comment">--   → Π[ t ꞉ Tree A ] P t</a>
  <a id="17712" class="Comment">-- _ = tree-elim</a>
</pre></body></html>