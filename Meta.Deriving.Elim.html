<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Deriving.Elim</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- Naïm Favier 2023</a>
<a id="21" class="Symbol">{-#</a> <a id="25" class="Keyword">OPTIONS</a> <a id="33" class="Pragma">--safe</a> <a id="40" class="Pragma">--no-exact-split</a> <a id="57" class="Symbol">#-}</a>
<a id="61" class="Keyword">module</a> <a id="68" href="Meta.Deriving.Elim.html" class="Module">Meta.Deriving.Elim</a> <a id="87" class="Keyword">where</a>

<a id="94" class="Keyword">open</a> <a id="99" class="Keyword">import</a> <a id="106" href="Meta.Prelude.html" class="Module">Meta.Prelude</a>
<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>

<a id="148" class="Keyword">open</a> <a id="153" class="Keyword">import</a> <a id="160" href="Logic.Discreteness.html" class="Module">Logic.Discreteness</a>

<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="207" class="Keyword">open</a> <a id="212" class="Keyword">import</a> <a id="219" href="Data.Dec.Base.html" class="Module">Data.Dec.Base</a>
<a id="233" class="Keyword">open</a> <a id="238" class="Keyword">import</a> <a id="245" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="261" class="Symbol">as</a> <a id="264" class="Module">Maybe</a>
<a id="270" class="Keyword">open</a> <a id="275" class="Keyword">import</a> <a id="282" href="Data.Maybe.Instances.Bind.html" class="Module">Data.Maybe.Instances.Bind</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Data.List.Instances.Alt.html" class="Module">Data.List.Instances.Alt</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.List.Instances.Append.html" class="Module">Data.List.Instances.Append</a>
<a id="436" class="Keyword">open</a> <a id="441" class="Keyword">import</a> <a id="448" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Data.List.Instances.Idiom.html" class="Module">Data.List.Instances.Idiom</a>
<a id="518" class="Keyword">open</a> <a id="523" class="Keyword">import</a> <a id="530" href="Data.List.Instances.Map.html" class="Module">Data.List.Instances.Map</a>
<a id="554" class="Keyword">open</a> <a id="559" class="Keyword">import</a> <a id="566" href="Data.List.Instances.Traversable.html" class="Module">Data.List.Instances.Traversable</a>
<a id="598" class="Keyword">open</a> <a id="603" class="Keyword">import</a> <a id="610" href="Data.List.Operations.html" class="Module">Data.List.Operations</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Data.List.Path.html" class="Module">Data.List.Path</a>
<a id="658" class="Keyword">open</a> <a id="663" class="Keyword">import</a> <a id="670" href="Data.Maybe.Instances.Alt.html" class="Module">Data.Maybe.Instances.Alt</a>
<a id="695" class="Keyword">open</a> <a id="700" class="Keyword">import</a> <a id="707" href="Data.Maybe.Instances.Traversable.html" class="Module">Data.Maybe.Instances.Traversable</a>
<a id="740" class="Keyword">open</a> <a id="745" class="Keyword">import</a> <a id="752" href="Data.Reflection.html" class="Module">Data.Reflection</a>
<a id="768" class="Keyword">open</a> <a id="773" class="Keyword">import</a> <a id="780" href="Data.String.Instances.Append.html" class="Module">Data.String.Instances.Append</a>
<a id="809" class="Keyword">open</a> <a id="814" class="Keyword">import</a> <a id="821" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a>

<a id="837" class="Comment">{-
A macro for generating induction principles for (higher, indexed) inductive types.

We support inductive types in the form presented in &quot;Pattern Matching Without K&quot;
by Cockx et al, section 3.1, with the addition of higher inductive types.
Reusing the terminology from that paper, the idea is to translate the constructors
of a data type into corresponding *methods* along with spines that tell us how to
apply them to build the eliminator&#39;s clauses.

When generating an eliminator into (n-2)-types, we automatically omit the methods that
follow from h-level (i.e. those corresponding to constructors with at least n
nested `Pathᴾ`s).

Due to limitations of the reflection interface, path constructors between composites
are not supported.
-}</a>

<a id="Replacements"></a><a id="1583" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a> <a id="1596" class="Symbol">=</a> <a id="1598" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1603" class="Symbol">(</a><a id="1604" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1609" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="1611" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1615" class="Symbol">)</a>

<a id="subst-replacements"></a><a id="1618" href="Meta.Deriving.Elim.html#1618" class="Function">subst-replacements</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1645" class="Symbol">→</a> <a id="1647" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a> <a id="1660" class="Symbol">→</a> <a id="1662" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1668" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a>
<a id="1681" href="Meta.Deriving.Elim.html#1618" class="Function">subst-replacements</a> <a id="1700" href="Meta.Deriving.Elim.html#1700" class="Bound">s</a> <a id="1702" href="Meta.Deriving.Elim.html#1702" class="Bound">rs</a> <a id="1705" class="Symbol">=</a> <a id="1707" class="Keyword">do</a>
  <a id="1712" class="Keyword">let</a> <a id="1716" href="Meta.Deriving.Elim.html#1716" class="Bound">u</a> <a id="1718" class="Symbol">=</a> <a id="1720" href="Meta.Effect.Map.Base.html#261" class="Field">map</a> <a id="1724" class="Symbol">(</a><a id="1725" href="Foundations.Sigma.Base.html#1249" class="Function">bimap</a> <a id="1731" class="Symbol">(</a><a id="1732" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="1739" href="Meta.Deriving.Elim.html#1700" class="Bound">s</a><a id="1740" class="Symbol">)</a> <a id="1742" class="Symbol">(</a><a id="1743" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="1750" href="Meta.Deriving.Elim.html#1700" class="Bound">s</a><a id="1751" class="Symbol">))</a> <a id="1754" href="Meta.Deriving.Elim.html#1702" class="Bound">rs</a>
  <a id="1759" href="Meta.Effect.Traversable.html#418" class="Function">for</a> <a id="1763" href="Meta.Deriving.Elim.html#1716" class="Bound">u</a> <a id="1765" class="Symbol">λ</a> <a id="1767" class="Keyword">where</a> <a id="1773" class="Symbol">(</a><a id="1774" href="Meta.Deriving.Elim.html#1774" class="Bound">ma</a> <a id="1777" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1779" href="Meta.Deriving.Elim.html#1779" class="Bound">mb</a><a id="1781" class="Symbol">)</a> <a id="1783" class="Symbol">→</a> <a id="1785" class="Symbol">⦇</a> <a id="1787" href="Meta.Deriving.Elim.html#1774" class="Bound">ma</a> <a id="1790" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1792" href="Meta.Deriving.Elim.html#1779" class="Bound">mb</a> <a id="1795" class="Symbol">⦈</a>

<a id="1798" class="Keyword">instance</a>
  <a id="Has-subst-Replacements"></a><a id="1809" href="Meta.Deriving.Elim.html#1809" class="Function">Has-subst-Replacements</a> <a id="1832" class="Symbol">:</a> <a id="1834" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="1844" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a>
  <a id="1859" href="Meta.Deriving.Elim.html#1809" class="Function">Has-subst-Replacements</a> <a id="1882" class="Symbol">=</a> <a id="1884" class="Keyword">record</a> <a id="1891" class="Symbol">{</a> <a id="1893" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="1900" class="Symbol">=</a> <a id="1902" href="Meta.Deriving.Elim.html#1618" class="Function">subst-replacements</a> <a id="1921" class="Symbol">}</a>

<a id="1924" class="Keyword">record</a> <a id="Elim-options"></a><a id="1931" href="Meta.Deriving.Elim.html#1931" class="Record">Elim-options</a> <a id="1944" class="Symbol">:</a> <a id="1946" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1951" class="Keyword">where</a>
  <a id="1959" class="Keyword">field</a>
    <a id="1969" class="Comment">-- Whether to generate an induction principle or a recursion principle.</a>
    <a id="2045" class="Comment">-- (P : D → Type ℓ) vs (P : Type ℓ)</a>
    <a id="Elim-options.induction"></a><a id="2085" href="Meta.Deriving.Elim.html#2085" class="Field">induction</a> <a id="2095" class="Symbol">:</a> <a id="2097" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2107" class="Comment">-- If `just n`, assume the motive has hlevel n and omit methods accordingly.</a>
    <a id="Elim-options.into-hlevel"></a><a id="2188" href="Meta.Deriving.Elim.html#2188" class="Field">into-hlevel</a> <a id="2200" class="Symbol">:</a> <a id="2202" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2208" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

    <a id="2215" class="Comment">-- Hide the motive argument in the eliminator&#39;s type?</a>
    <a id="2273" class="Comment">-- (P : D → Type ℓ) vs. {P : D → Type ℓ}</a>
    <a id="Elim-options.hide-motive"></a><a id="2318" href="Meta.Deriving.Elim.html#2318" class="Field">hide-motive</a> <a id="2330" class="Symbol">:</a> <a id="2332" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2342" class="Comment">-- Hide the indices in the motive&#39;s type?</a>
    <a id="2388" class="Comment">-- (P : (is : Ξ) → D is → Type ℓ) vs. (P : {is : Ξ} → D is → Type ℓ)</a>
    <a id="Elim-options.hide-indices"></a><a id="2461" href="Meta.Deriving.Elim.html#2461" class="Field">hide-indices</a> <a id="2474" class="Symbol">:</a> <a id="2476" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2486" class="Comment">-- Hide non-inductive hypotheses in method types?</a>
    <a id="2540" class="Comment">-- (Psup : (x : A) (f : B x → W A B) (Pf : ∀ b → P (f b)) → P (sup x f))</a>
    <a id="2617" class="Comment">-- vs.</a>
    <a id="2628" class="Comment">-- (Psup : {x : A} {f : B x → W A B} (Pf : ∀ b → P (f b)) → P (sup x f))</a>
    <a id="2705" class="Comment">-- Arguments hidden in the constructor&#39;s type are always hidden.</a>
    <a id="Elim-options.hide-cons-args"></a><a id="2774" href="Meta.Deriving.Elim.html#2774" class="Field">hide-cons-args</a> <a id="2789" class="Symbol">:</a> <a id="2791" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="2797" class="Keyword">private</a>
 <a id="2806" class="Keyword">module</a> <a id="Induction"></a><a id="2813" href="Meta.Deriving.Elim.html#2813" class="Module">Induction</a>
  <a id="2825" class="Symbol">(</a><a id="2826" href="Meta.Deriving.Elim.html#2826" class="Bound">opts</a> <a id="2831" class="Symbol">:</a> <a id="2833" href="Meta.Deriving.Elim.html#1931" class="Record">Elim-options</a><a id="2845" class="Symbol">)</a>
  <a id="2849" class="Symbol">(</a><a id="2850" href="Meta.Deriving.Elim.html#2850" class="Bound">D</a> <a id="2852" class="Symbol">:</a> <a id="2854" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2858" class="Symbol">)</a> <a id="2860" class="Symbol">(</a><a id="2861" href="Meta.Deriving.Elim.html#2861" class="Bound">pars</a> <a id="2866" class="Symbol">:</a> <a id="2868" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2869" class="Symbol">)</a> <a id="2871" class="Symbol">(</a><a id="2872" href="Meta.Deriving.Elim.html#2872" class="Bound">ix-tel</a> <a id="2879" class="Symbol">:</a> <a id="2881" href="Data.Reflection.Term.html#844" class="Function">Telescope</a><a id="2890" class="Symbol">)</a> <a id="2892" class="Symbol">(</a><a id="2893" href="Meta.Deriving.Elim.html#2893" class="Bound">cs</a> <a id="2896" class="Symbol">:</a> <a id="2898" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2903" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2907" class="Symbol">)</a>
  <a id="2911" class="Keyword">where</a>

  <a id="2920" class="Keyword">open</a> <a id="2925" href="Meta.Deriving.Elim.html#1931" class="Module">Elim-options</a> <a id="2938" href="Meta.Deriving.Elim.html#2826" class="Bound">opts</a>

  <a id="2946" class="Comment">-- Given a term c : T, produce a replacement c↑ : T↑ (see below).</a>
  <a id="3014" class="Comment">-- The Replacements argument maps constructors and variables to their</a>
  <a id="3086" class="Comment">-- lifted version.</a>
  <a id="Induction.replace"></a><a id="3107" href="Meta.Deriving.Elim.html#3107" class="Function">replace</a>  <a id="3116" class="Symbol">:</a> <a id="3118" class="Symbol">(</a><a id="3119" href="Meta.Deriving.Elim.html#3119" class="Bound">fuel</a> <a id="3124" class="Symbol">:</a> <a id="3126" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3127" class="Symbol">)</a> <a id="3129" class="Symbol">→</a> <a id="3131" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a> <a id="3144" class="Symbol">→</a> <a id="3146" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3151" class="Symbol">→</a> <a id="3153" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3159" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="Induction.replace*"></a><a id="3166" href="Meta.Deriving.Elim.html#3166" class="Function">replace*</a> <a id="3175" class="Symbol">:</a> <a id="3177" class="Symbol">(</a><a id="3178" href="Meta.Deriving.Elim.html#3178" class="Bound">fuel</a> <a id="3183" class="Symbol">:</a> <a id="3185" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3186" class="Symbol">)</a> <a id="3188" class="Symbol">→</a> <a id="3190" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a> <a id="3203" class="Symbol">→</a> <a id="3205" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="3210" class="Symbol">→</a> <a id="3212" href="Data.Reflection.Term.html#882" class="Function">Args</a>

  <a id="Induction.lookupR"></a><a id="3220" href="Meta.Deriving.Elim.html#3220" class="Function">lookupR</a> <a id="3228" class="Symbol">:</a> <a id="3230" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3235" class="Symbol">→</a> <a id="3237" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a> <a id="3250" class="Symbol">→</a> <a id="3252" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3258" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="3265" href="Meta.Deriving.Elim.html#3220" class="Function">lookupR</a> <a id="3273" href="Meta.Deriving.Elim.html#3273" class="Bound">t</a> <a id="3275" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3278" class="Symbol">=</a> <a id="3280" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="3290" href="Meta.Deriving.Elim.html#3220" class="Function">lookupR</a> <a id="3298" href="Meta.Deriving.Elim.html#3298" class="Bound">t</a><a id="3299" class="Symbol">@(</a><a id="3301" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3305" href="Meta.Deriving.Elim.html#3305" class="Bound">c</a> <a id="3307" class="Symbol">_)</a> <a id="3310" class="Symbol">((</a><a id="3312" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3316" href="Meta.Deriving.Elim.html#3316" class="Bound">c′</a> <a id="3319" class="Symbol">_</a> <a id="3321" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3323" href="Meta.Deriving.Elim.html#3323" class="Bound">r</a><a id="3324" class="Symbol">)</a> <a id="3326" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3328" href="Meta.Deriving.Elim.html#3328" class="Bound">rs</a><a id="3330" class="Symbol">)</a> <a id="3332" class="Keyword">with</a> <a id="3337" href="Meta.Deriving.Elim.html#3305" class="Bound">c</a> <a id="3339" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">name=?</a> <a id="3346" href="Meta.Deriving.Elim.html#3316" class="Bound">c′</a>
  <a id="3351" class="Symbol">...</a> <a id="3355" class="Symbol">|</a> <a id="3357" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3363" class="Symbol">=</a> <a id="3365" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3370" class="Bound">r</a>
  <a id="3374" class="Symbol">...</a> <a id="3378" class="Symbol">|</a> <a id="3380" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3386" class="Symbol">=</a> <a id="3388" href="Meta.Deriving.Elim.html#3220" class="Function">lookupR</a> <a id="3396" class="Bound">t</a> <a id="3398" class="Bound">rs</a>
  <a id="3403" href="Meta.Deriving.Elim.html#3220" class="Function">lookupR</a> <a id="3411" href="Meta.Deriving.Elim.html#3411" class="Bound">t</a><a id="3412" class="Symbol">@(</a><a id="3414" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3418" href="Meta.Deriving.Elim.html#3418" class="Bound">i</a> <a id="3420" class="Symbol">_)</a> <a id="3423" class="Symbol">((</a><a id="3425" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3429" href="Meta.Deriving.Elim.html#3429" class="Bound">i′</a> <a id="3432" class="Symbol">_</a> <a id="3434" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3436" href="Meta.Deriving.Elim.html#3436" class="Bound">r</a><a id="3437" class="Symbol">)</a> <a id="3439" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3441" href="Meta.Deriving.Elim.html#3441" class="Bound">rs</a><a id="3443" class="Symbol">)</a> <a id="3445" class="Keyword">with</a> <a id="3450" href="Meta.Deriving.Elim.html#3418" class="Bound">i</a> <a id="3452" href="Agda.Builtin.Nat.html#631" class="Primitive Operator">==</a> <a id="3455" href="Meta.Deriving.Elim.html#3429" class="Bound">i′</a>
  <a id="3460" class="Symbol">...</a> <a id="3464" class="Symbol">|</a> <a id="3466" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3472" class="Symbol">=</a> <a id="3474" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3479" class="Bound">r</a>
  <a id="3483" class="Symbol">...</a> <a id="3487" class="Symbol">|</a> <a id="3489" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3495" class="Symbol">=</a> <a id="3497" href="Meta.Deriving.Elim.html#3220" class="Function">lookupR</a> <a id="3505" class="Bound">t</a> <a id="3507" class="Bound">rs</a>
  <a id="3512" href="Meta.Deriving.Elim.html#3220" class="CatchallClause Function">lookupR</a><a id="3519" class="CatchallClause"> </a><a id="3520" href="Meta.Deriving.Elim.html#3520" class="CatchallClause Bound">t</a><a id="3521" class="CatchallClause"> </a><a id="3522" class="CatchallClause Symbol">(_</a><a id="3524" class="CatchallClause"> </a><a id="3525" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3526" class="CatchallClause"> </a><a id="3527" href="Meta.Deriving.Elim.html#3527" class="CatchallClause Bound">rs</a><a id="3529" class="CatchallClause Symbol">)</a> <a id="3531" class="Symbol">=</a> <a id="3533" href="Meta.Deriving.Elim.html#3220" class="Function">lookupR</a> <a id="3541" href="Meta.Deriving.Elim.html#3520" class="Bound">t</a> <a id="3543" href="Meta.Deriving.Elim.html#3527" class="Bound">rs</a>

  <a id="3549" href="Meta.Deriving.Elim.html#3107" class="Function">replace</a> <a id="3557" class="Number">0</a> <a id="3559" class="Symbol">_</a> <a id="3561" class="Symbol">_</a> <a id="3563" class="Symbol">=</a> <a id="3565" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="3575" href="Meta.Deriving.Elim.html#3107" class="Function">replace</a> <a id="3583" class="Symbol">(</a><a id="3584" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3588" href="Meta.Deriving.Elim.html#3588" class="Bound">fuel</a><a id="3592" class="Symbol">)</a> <a id="3594" href="Meta.Deriving.Elim.html#3594" class="Bound">rs</a> <a id="3597" class="Symbol">(</a><a id="3598" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="3602" href="Meta.Deriving.Elim.html#3602" class="Bound">v</a> <a id="3604" class="Symbol">(</a><a id="3605" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3609" href="Meta.Deriving.Elim.html#3609" class="Bound">n</a> <a id="3611" href="Meta.Deriving.Elim.html#3611" class="Bound">t</a><a id="3612" class="Symbol">))</a> <a id="3615" class="Symbol">=</a> <a id="3617" class="Keyword">do</a>
    <a id="3624" href="Meta.Deriving.Elim.html#3624" class="Bound">rs′</a> <a id="3628" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3630" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="3636" class="Number">1</a> <a id="3638" href="Meta.Deriving.Elim.html#3594" class="Bound">rs</a>
    <a id="3645" href="Meta.Deriving.Elim.html#3645" class="Bound">t′</a>  <a id="3649" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3651" href="Meta.Deriving.Elim.html#3107" class="Function">replace</a> <a id="3659" href="Meta.Deriving.Elim.html#3588" class="Bound">fuel</a> <a id="3664" href="Meta.Deriving.Elim.html#3624" class="Bound">rs′</a> <a id="3668" href="Meta.Deriving.Elim.html#3611" class="Bound">t</a>
    <a id="3674" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="3679" class="Symbol">(</a><a id="3680" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="3684" href="Meta.Deriving.Elim.html#3602" class="Bound">v</a> <a id="3686" class="Symbol">(</a><a id="3687" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3691" href="Meta.Deriving.Elim.html#3609" class="Bound">n</a> <a id="3693" href="Meta.Deriving.Elim.html#3645" class="Bound">t′</a><a id="3695" class="Symbol">))</a>
  <a id="3700" href="Meta.Deriving.Elim.html#3107" class="Function">replace</a> <a id="3708" class="Symbol">(</a><a id="3709" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3713" href="Meta.Deriving.Elim.html#3713" class="Bound">fuel</a><a id="3717" class="Symbol">)</a> <a id="3719" href="Meta.Deriving.Elim.html#3719" class="Bound">rs</a> <a id="3722" href="Meta.Deriving.Elim.html#3722" class="Bound">t</a><a id="3723" class="Symbol">@(</a><a id="3725" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3729" href="Meta.Deriving.Elim.html#3729" class="Bound">c</a> <a id="3731" href="Meta.Deriving.Elim.html#3731" class="Bound">args</a><a id="3735" class="Symbol">)</a> <a id="3737" class="Symbol">=</a> <a id="3739" class="Keyword">do</a>
    <a id="3746" href="Meta.Deriving.Elim.html#3746" class="Bound">r</a> <a id="3748" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3750" href="Meta.Deriving.Elim.html#3220" class="Function">lookupR</a> <a id="3758" href="Meta.Deriving.Elim.html#3722" class="Bound">t</a> <a id="3760" href="Meta.Deriving.Elim.html#3719" class="Bound">rs</a>
    <a id="3767" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="3777" href="Meta.Deriving.Elim.html#3713" class="Bound">fuel</a> <a id="3782" href="Meta.Deriving.Elim.html#3746" class="Bound">r</a> <a id="3784" class="Symbol">(</a><a id="3785" href="Meta.Deriving.Elim.html#3166" class="Function">replace*</a> <a id="3794" href="Meta.Deriving.Elim.html#3713" class="Bound">fuel</a> <a id="3799" href="Meta.Deriving.Elim.html#3719" class="Bound">rs</a> <a id="3802" class="Symbol">(</a><a id="3803" href="Data.List.Operations.html#2577" class="Function">drop</a> <a id="3808" href="Meta.Deriving.Elim.html#2861" class="Bound">pars</a> <a id="3813" href="Meta.Deriving.Elim.html#3731" class="Bound">args</a><a id="3817" class="Symbol">))</a>
  <a id="3822" href="Meta.Deriving.Elim.html#3107" class="Function">replace</a> <a id="3830" class="Symbol">(</a><a id="3831" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3835" href="Meta.Deriving.Elim.html#3835" class="Bound">fuel</a><a id="3839" class="Symbol">)</a> <a id="3841" href="Meta.Deriving.Elim.html#3841" class="Bound">rs</a> <a id="3844" href="Meta.Deriving.Elim.html#3844" class="Bound">t</a><a id="3845" class="Symbol">@(</a><a id="3847" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3851" href="Meta.Deriving.Elim.html#3851" class="Bound">i</a> <a id="3853" href="Meta.Deriving.Elim.html#3853" class="Bound">args</a><a id="3857" class="Symbol">)</a> <a id="3859" class="Symbol">=</a> <a id="3861" class="Keyword">do</a>
    <a id="3868" href="Meta.Deriving.Elim.html#3868" class="Bound">r</a> <a id="3870" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3872" href="Meta.Deriving.Elim.html#3220" class="Function">lookupR</a> <a id="3880" href="Meta.Deriving.Elim.html#3844" class="Bound">t</a> <a id="3882" href="Meta.Deriving.Elim.html#3841" class="Bound">rs</a>
    <a id="3889" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="3899" href="Meta.Deriving.Elim.html#3835" class="Bound">fuel</a> <a id="3904" href="Meta.Deriving.Elim.html#3868" class="Bound">r</a> <a id="3906" class="Symbol">(</a><a id="3907" href="Meta.Deriving.Elim.html#3166" class="Function">replace*</a> <a id="3916" href="Meta.Deriving.Elim.html#3835" class="Bound">fuel</a> <a id="3921" href="Meta.Deriving.Elim.html#3841" class="Bound">rs</a> <a id="3924" href="Meta.Deriving.Elim.html#3853" class="Bound">args</a><a id="3928" class="Symbol">)</a>
  <a id="3932" href="Meta.Deriving.Elim.html#3107" class="CatchallClause Function">replace</a><a id="3939" class="CatchallClause"> </a><a id="3940" class="CatchallClause Symbol">(</a><a id="3941" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="3944" class="CatchallClause"> </a><a id="3945" href="Meta.Deriving.Elim.html#3945" class="CatchallClause Bound">fuel</a><a id="3949" class="CatchallClause Symbol">)</a><a id="3950" class="CatchallClause"> </a><a id="3951" href="Meta.Deriving.Elim.html#3951" class="CatchallClause Bound">rs</a><a id="3953" class="CatchallClause"> </a><a id="3954" class="CatchallClause Symbol">_</a> <a id="3956" class="Symbol">=</a> <a id="3958" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="3969" href="Meta.Deriving.Elim.html#3166" class="Function">replace*</a> <a id="3978" class="Number">0</a> <a id="3980" class="Symbol">_</a> <a id="3982" class="Symbol">_</a> <a id="3984" class="Symbol">=</a> <a id="3986" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="3991" href="Meta.Deriving.Elim.html#3166" class="Function">replace*</a> <a id="4000" class="Symbol">(</a><a id="4001" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4005" href="Meta.Deriving.Elim.html#4005" class="Bound">fuel</a><a id="4009" class="Symbol">)</a> <a id="4011" href="Meta.Deriving.Elim.html#4011" class="Bound">rs</a> <a id="4014" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4017" class="Symbol">=</a> <a id="4019" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="4024" href="Meta.Deriving.Elim.html#3166" class="Function">replace*</a> <a id="4033" class="Symbol">(</a><a id="4034" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4038" href="Meta.Deriving.Elim.html#4038" class="Bound">fuel</a><a id="4042" class="Symbol">)</a> <a id="4044" href="Meta.Deriving.Elim.html#4044" class="Bound">rs</a> <a id="4047" class="Symbol">(</a><a id="4048" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4052" href="Meta.Deriving.Elim.html#4052" class="Bound">ai</a> <a id="4055" href="Meta.Deriving.Elim.html#4055" class="Bound">t</a> <a id="4057" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4059" href="Meta.Deriving.Elim.html#4059" class="Bound">as</a><a id="4061" class="Symbol">)</a> <a id="4063" class="Keyword">with</a> <a id="4068" href="Meta.Deriving.Elim.html#3107" class="Function">replace</a> <a id="4076" href="Meta.Deriving.Elim.html#4038" class="Bound">fuel</a> <a id="4081" href="Meta.Deriving.Elim.html#4044" class="Bound">rs</a> <a id="4084" href="Meta.Deriving.Elim.html#4055" class="Bound">t</a>
  <a id="4088" class="Symbol">...</a> <a id="4092" class="Symbol">|</a> <a id="4094" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4099" href="Meta.Deriving.Elim.html#4099" class="Bound">t′</a> <a id="4102" class="Symbol">=</a> <a id="4104" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="4112" href="Meta.Deriving.Elim.html#2774" class="Function">hide-cons-args</a> <a id="4127" class="Symbol">(</a><a id="4128" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4132" class="Bound">ai</a> <a id="4135" class="Bound">t</a><a id="4136" class="Symbol">)</a> <a id="4138" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4140" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4144" class="Bound">ai</a> <a id="4147" href="Meta.Deriving.Elim.html#4099" class="Bound">t′</a> <a id="4150" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4152" href="Meta.Deriving.Elim.html#3166" class="Function">replace*</a> <a id="4161" class="Bound">fuel</a> <a id="4166" class="Bound">rs</a> <a id="4169" class="Bound">as</a>
  <a id="4174" class="Symbol">...</a> <a id="4178" class="Symbol">|</a> <a id="4180" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4188" class="Symbol">=</a> <a id="4190" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4194" class="Bound">ai</a> <a id="4197" class="Bound">t</a> <a id="4199" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4201" href="Meta.Deriving.Elim.html#3166" class="Function">replace*</a> <a id="4210" class="Bound">fuel</a> <a id="4215" class="Bound">rs</a> <a id="4218" class="Bound">as</a>

  <a id="4224" class="Comment">{-
  The main part of the algorithm: computes the method associated to a constructor.

  In detail, given
    a motive `P : (is : Ξ) → D ps is → Type ℓ`
    a term `c : T = Δ → D ps is`
  produces
    the &quot;lifted&quot; type `T↑ = Δ↑ → P is (c ρ)`
      where `Δ↑ ⊢ ρ : Δ` is an embedding
      where types of the form `S = Φ → D ps is` in Δ are replaced recursively with `{S}, S↑` in Δ↑
      (this only occurs with a recursion depth of 1 due to strict positivity)
    and a spine α such that
      rec : Π P, Δ ⊢ α : Δ↑
      where Π P = (is : Ξ) → (d : D ps is) → P is d
  or nothing if T doesn&#39;t end in `D ps`.

  Example: W A B
    sup : (a : A) (f : B a → W A B) → W A B
      f : B a → W A B
      display f = ((b : B a) → P (f b))
                , (_ : Π P, b : B a ⊢ b : B a)
    display sup = ((a : A) {f : B a → W A B} (pf : ∀ b → P (f b)) → P (sup a f))
                , (rec : Π P, a : A, f : B a → W A B ⊢ a, {f}, (λ b → rec (f b)))
  -}</a>

  <a id="Induction.display"></a><a id="5175" href="Meta.Deriving.Elim.html#5175" class="Function">display</a>
    <a id="5187" class="Symbol">:</a> <a id="5189" class="Symbol">(</a><a id="5190" href="Meta.Deriving.Elim.html#5190" class="Bound">fuel</a> <a id="5195" href="Meta.Deriving.Elim.html#5195" class="Bound">depth</a> <a id="5201" class="Symbol">:</a> <a id="5203" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="5204" class="Symbol">)</a>
    <a id="5210" class="Symbol">→</a> <a id="5212" class="Symbol">(</a><a id="5213" href="Meta.Deriving.Elim.html#5213" class="Bound">ps</a> <a id="5216" class="Symbol">:</a> <a id="5218" href="Data.Reflection.Term.html#882" class="Function">Args</a><a id="5222" class="Symbol">)</a> <a id="5224" class="Comment">-- D&#39;s parameters</a>
    <a id="5246" class="Symbol">→</a> <a id="5248" class="Symbol">(</a><a id="5249" href="Meta.Deriving.Elim.html#5249" class="Bound">P</a> <a id="5251" class="Symbol">:</a> <a id="5253" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5257" class="Symbol">)</a>
    <a id="5263" class="Symbol">→</a> <a id="5265" class="Symbol">(</a><a id="5266" href="Meta.Deriving.Elim.html#5266" class="Bound">rs</a> <a id="5269" class="Symbol">:</a> <a id="5271" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a><a id="5283" class="Symbol">)</a> <a id="5285" class="Comment">-- a list of replacements from terms to their lifted version,</a>
                          <a id="5373" class="Comment">-- used for correcting path boundaries</a>
    <a id="5416" class="Symbol">→</a> <a id="5418" class="Symbol">(</a><a id="5419" href="Meta.Deriving.Elim.html#5419" class="Bound">rec</a> <a id="5423" class="Symbol">:</a> <a id="5425" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5429" class="Symbol">)</a> <a id="5431" class="Comment">-- a variable for explicit recursion</a>
    <a id="5472" class="Symbol">→</a> <a id="5474" class="Symbol">(</a><a id="5475" href="Meta.Deriving.Elim.html#5475" class="Bound">α</a> <a id="5477" class="Symbol">:</a> <a id="5479" href="Data.Reflection.Term.html#882" class="Function">Args</a><a id="5483" class="Symbol">)</a> <a id="5485" class="Comment">-- accumulator for the spine</a>
    <a id="5518" class="Symbol">→</a> <a id="5520" class="Symbol">(</a><a id="5521" href="Meta.Deriving.Elim.html#5521" class="Bound">c</a> <a id="5523" class="Symbol">:</a> <a id="5525" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5529" class="Symbol">)</a> <a id="5531" class="Symbol">(</a><a id="5532" href="Meta.Deriving.Elim.html#5532" class="Bound">T</a> <a id="5534" class="Symbol">:</a> <a id="5536" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5540" class="Symbol">)</a>
    <a id="5546" class="Symbol">→</a> <a id="5548" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5554" class="Symbol">(</a><a id="5555" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5560" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="5562" href="Data.Reflection.Term.html#882" class="Function">Args</a><a id="5566" class="Symbol">)</a> <a id="5568" class="Comment">-- (T↑ , α)</a>
  <a id="5582" href="Meta.Deriving.Elim.html#5175" class="Function">display</a> <a id="5590" class="Number">0</a> <a id="5592" class="Symbol">_</a> <a id="5594" class="Symbol">_</a> <a id="5596" class="Symbol">_</a> <a id="5598" class="Symbol">_</a> <a id="5600" class="Symbol">_</a> <a id="5602" class="Symbol">_</a> <a id="5604" class="Symbol">_</a> <a id="5606" class="Symbol">_</a> <a id="5608" class="Symbol">=</a> <a id="5610" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="5620" href="Meta.Deriving.Elim.html#5175" class="Function">display</a> <a id="5628" class="Symbol">(</a><a id="5629" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5633" href="Meta.Deriving.Elim.html#5633" class="Bound">fuel</a><a id="5637" class="Symbol">)</a> <a id="5639" href="Meta.Deriving.Elim.html#5639" class="Bound">depth</a> <a id="5645" href="Meta.Deriving.Elim.html#5645" class="Bound">ps</a> <a id="5648" href="Meta.Deriving.Elim.html#5648" class="Bound">P</a> <a id="5650" href="Meta.Deriving.Elim.html#5650" class="Bound">rs</a> <a id="5653" href="Meta.Deriving.Elim.html#5653" class="Bound">rec</a> <a id="5657" href="Meta.Deriving.Elim.html#5657" class="Bound">α</a> <a id="5659" href="Meta.Deriving.Elim.html#5659" class="Bound">c</a> <a id="5661" class="Symbol">(</a><a id="5662" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="5665" class="Symbol">(</a><a id="5666" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5670" href="Meta.Deriving.Elim.html#5670" class="Bound">ai</a> <a id="5673" href="Meta.Deriving.Elim.html#5673" class="Bound">x</a><a id="5674" class="Symbol">)</a> <a id="5676" class="Symbol">(</a><a id="5677" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="5681" href="Meta.Deriving.Elim.html#5681" class="Bound">n</a> <a id="5683" href="Meta.Deriving.Elim.html#5683" class="Bound">y</a><a id="5684" class="Symbol">))</a> <a id="5687" class="Symbol">=</a> <a id="5689" class="Keyword">do</a>
    <a id="5696" href="Meta.Deriving.Elim.html#5696" class="Bound">ps</a>  <a id="5700" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5702" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5708" class="Number">1</a> <a id="5710" href="Meta.Deriving.Elim.html#5645" class="Bound">ps</a>
    <a id="5717" href="Meta.Deriving.Elim.html#5717" class="Bound">P</a>   <a id="5721" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5723" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5729" class="Number">1</a> <a id="5731" href="Meta.Deriving.Elim.html#5648" class="Bound">P</a>
    <a id="5737" href="Meta.Deriving.Elim.html#5737" class="Bound">rs</a>  <a id="5741" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5743" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5749" class="Number">1</a> <a id="5751" href="Meta.Deriving.Elim.html#5650" class="Bound">rs</a>
    <a id="5758" href="Meta.Deriving.Elim.html#5758" class="Bound">rec</a> <a id="5762" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5764" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5770" class="Number">1</a> <a id="5772" href="Meta.Deriving.Elim.html#5653" class="Bound">rec</a>
    <a id="5780" href="Meta.Deriving.Elim.html#5780" class="Bound">α</a>   <a id="5784" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5786" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5792" class="Number">1</a> <a id="5794" href="Meta.Deriving.Elim.html#5657" class="Bound">α</a>
    <a id="5800" href="Meta.Deriving.Elim.html#5800" class="Bound">c</a>   <a id="5804" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5806" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="5812" class="Number">1</a> <a id="5814" href="Meta.Deriving.Elim.html#5659" class="Bound">c</a>
    <a id="5820" class="Keyword">let</a> <a id="5824" href="Meta.Deriving.Elim.html#5824" class="Bound">base</a> <a id="5829" class="Symbol">=</a> <a id="5831" class="Keyword">do</a>
      <a id="5840" href="Meta.Deriving.Elim.html#5840" class="Bound">c</a> <a id="5842" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5844" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="5849" href="Meta.Deriving.Elim.html#5800" class="Bound">c</a> <a id="5851" href="Meta.Reflection.Subst.html#6940" class="Function Operator">&lt;#&gt;</a> <a id="5855" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5859" href="Meta.Deriving.Elim.html#5670" class="Bound">ai</a> <a id="5862" class="Symbol">(</a><a id="5863" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="5868" class="Number">0</a><a id="5869" class="Symbol">)</a>
      <a id="5877" class="Keyword">let</a> <a id="5881" href="Meta.Deriving.Elim.html#5881" class="Bound">α</a> <a id="5883" class="Symbol">=</a> <a id="5885" href="Meta.Deriving.Elim.html#5780" class="Bound">α</a> <a id="5887" href="Data.List.Operations.html#676" class="Function Operator">∷r</a> <a id="5890" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="5898" href="Meta.Deriving.Elim.html#2774" class="Function">hide-cons-args</a> <a id="5913" class="Symbol">(</a><a id="5914" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5918" href="Meta.Deriving.Elim.html#5670" class="Bound">ai</a> <a id="5921" class="Symbol">(</a><a id="5922" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="5927" class="Number">0</a><a id="5928" class="Symbol">))</a>
      <a id="5937" href="Meta.Deriving.Elim.html#5175" class="Function">display</a> <a id="5945" href="Meta.Deriving.Elim.html#5633" class="Bound">fuel</a> <a id="5950" href="Meta.Deriving.Elim.html#5639" class="Bound">depth</a> <a id="5956" href="Meta.Deriving.Elim.html#5696" class="Bound">ps</a> <a id="5959" href="Meta.Deriving.Elim.html#5717" class="Bound">P</a> <a id="5961" href="Meta.Deriving.Elim.html#5737" class="Bound">rs</a> <a id="5964" href="Meta.Deriving.Elim.html#5758" class="Bound">rec</a> <a id="5968" href="Meta.Deriving.Elim.html#5881" class="Bound">α</a> <a id="5970" href="Meta.Deriving.Elim.html#5840" class="Bound">c</a> <a id="5972" href="Meta.Deriving.Elim.html#5683" class="Bound">y</a> <a id="5974" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="5978" href="Foundations.Sigma.Base.html#1604" class="Function">first</a> <a id="5984" class="Symbol">λ</a> <a id="5986" href="Meta.Deriving.Elim.html#5986" class="Bound">y</a> <a id="5988" class="Symbol">→</a>
        <a id="5998" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6001" class="Symbol">(</a><a id="6002" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6010" href="Meta.Deriving.Elim.html#2774" class="Function">hide-cons-args</a> <a id="6025" class="Symbol">(</a><a id="6026" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6030" href="Meta.Deriving.Elim.html#5670" class="Bound">ai</a> <a id="6033" href="Meta.Deriving.Elim.html#5673" class="Bound">x</a><a id="6034" class="Symbol">))</a> <a id="6037" class="Symbol">(</a><a id="6038" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6042" href="Meta.Deriving.Elim.html#5681" class="Bound">n</a> <a id="6044" href="Meta.Deriving.Elim.html#5986" class="Bound">y</a><a id="6045" class="Symbol">)</a>
    <a id="6051" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6055" href="Meta.Deriving.Elim.html#6055" class="Bound">depth-1</a> <a id="6063" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6065" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6070" href="Meta.Deriving.Elim.html#5639" class="Bound">depth</a>
      <a id="6082" class="Keyword">where</a> <a id="6088" class="CatchallClause Symbol">_</a> <a id="6090" class="Symbol">→</a> <a id="6092" href="Meta.Deriving.Elim.html#5824" class="Bound">base</a>
    <a id="6101" href="Meta.Deriving.Elim.html#6101" class="Bound">x′</a> <a id="6104" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6106" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6112" class="Number">1</a> <a id="6114" href="Meta.Deriving.Elim.html#5673" class="Bound">x</a>
    <a id="6120" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6125" class="Symbol">(</a><a id="6126" href="Meta.Deriving.Elim.html#6126" class="Bound">h</a> <a id="6128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6130" href="Meta.Deriving.Elim.html#6130" class="Bound">α′</a><a id="6132" class="Symbol">)</a> <a id="6134" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6136" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6141" class="Symbol">(</a><a id="6142" href="Meta.Deriving.Elim.html#5175" class="Function">display</a> <a id="6150" href="Meta.Deriving.Elim.html#5633" class="Bound">fuel</a> <a id="6155" href="Meta.Deriving.Elim.html#6055" class="Bound">depth-1</a> <a id="6163" href="Meta.Deriving.Elim.html#5696" class="Bound">ps</a> <a id="6166" href="Meta.Deriving.Elim.html#5717" class="Bound">P</a> <a id="6168" href="Meta.Deriving.Elim.html#5737" class="Bound">rs</a> <a id="6171" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="6179" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6182" class="Symbol">(</a><a id="6183" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6188" class="Number">0</a><a id="6189" class="Symbol">)</a> <a id="6191" href="Meta.Deriving.Elim.html#6101" class="Bound">x′</a><a id="6193" class="Symbol">)</a>
      <a id="6201" class="Keyword">where</a> <a id="6207" class="CatchallClause Symbol">_</a> <a id="6209" class="Symbol">→</a> <a id="6211" href="Meta.Deriving.Elim.html#5824" class="Bound">base</a>

    <a id="6221" href="Meta.Deriving.Elim.html#6221" class="Bound">ps</a> <a id="6224" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6226" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6232" class="Number">1</a> <a id="6234" href="Meta.Deriving.Elim.html#5696" class="Bound">ps</a>
    <a id="6241" href="Meta.Deriving.Elim.html#6241" class="Bound">P</a>  <a id="6244" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6246" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6252" class="Number">1</a> <a id="6254" href="Meta.Deriving.Elim.html#5717" class="Bound">P</a>
    <a id="6260" href="Meta.Deriving.Elim.html#6260" class="Bound">rs</a> <a id="6263" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6265" class="Symbol">(</a><a id="6266" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6271" class="Number">1</a> <a id="6273" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6275" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6280" class="Number">0</a><a id="6281" class="Symbol">)</a> <a id="6283" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a> <a id="6286" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="6290" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6296" class="Number">1</a> <a id="6298" href="Meta.Deriving.Elim.html#5737" class="Bound">rs</a>
    <a id="6305" href="Meta.Deriving.Elim.html#6305" class="Bound">c</a> <a id="6307" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6309" class="Keyword">do</a>
      <a id="6318" href="Meta.Deriving.Elim.html#6318" class="Bound">c′</a> <a id="6321" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6323" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6329" class="Number">1</a> <a id="6331" href="Meta.Deriving.Elim.html#5800" class="Bound">c</a>
      <a id="6339" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="6348" href="Meta.Deriving.Elim.html#5633" class="Bound">fuel</a> <a id="6353" href="Meta.Deriving.Elim.html#6318" class="Bound">c′</a> <a id="6356" class="Symbol">(</a><a id="6357" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6361" href="Meta.Deriving.Elim.html#5670" class="Bound">ai</a> <a id="6364" class="Symbol">(</a><a id="6365" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6370" class="Number">1</a><a id="6371" class="Symbol">))</a>
    <a id="6378" class="Keyword">let</a> <a id="6382" href="Meta.Deriving.Elim.html#6382" class="Bound">h-tel</a> <a id="6388" class="Symbol">=</a> <a id="6390" href="Meta.Reflection.Base.html#4883" class="Function">pi-view-path</a> <a id="6403" href="Meta.Deriving.Elim.html#6126" class="Bound">h</a>
    <a id="6409" href="Meta.Deriving.Elim.html#6409" class="Bound">l</a> <a id="6411" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6413" href="Data.Reflection.Term.html#1917" class="Function">tel→lam</a> <a id="6421" href="Meta.Deriving.Elim.html#6382" class="Bound">h-tel</a> <a id="6427" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="6431" class="Keyword">do</a>
      <a id="6440" href="Meta.Deriving.Elim.html#6440" class="Bound">rec′</a> <a id="6445" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6447" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6453" class="Symbol">(</a><a id="6454" href="Data.List.Operations.html#844" class="Function">length</a> <a id="6461" href="Meta.Deriving.Elim.html#6382" class="Bound">h-tel</a><a id="6466" class="Symbol">)</a> <a id="6468" href="Meta.Deriving.Elim.html#5758" class="Bound">rec</a>
      <a id="6478" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="6488" href="Meta.Deriving.Elim.html#5633" class="Bound">fuel</a> <a id="6493" href="Meta.Deriving.Elim.html#6440" class="Bound">rec′</a> <a id="6498" class="Symbol">(</a><a id="6499" href="Meta.Reflection.Base.html#4483" class="Function">infer-tel</a> <a id="6509" href="Meta.Deriving.Elim.html#2872" class="Bound">ix-tel</a> <a id="6516" href="Data.List.Operations.html#676" class="Function Operator">∷r</a> <a id="6519" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6524" class="Symbol">(</a><a id="6525" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6529" class="Symbol">(</a><a id="6530" href="Data.List.Operations.html#844" class="Function">length</a> <a id="6537" href="Meta.Deriving.Elim.html#6382" class="Bound">h-tel</a><a id="6542" class="Symbol">)</a> <a id="6544" href="Meta.Deriving.Elim.html#6130" class="Bound">α′</a><a id="6546" class="Symbol">))</a>
    <a id="6553" class="Keyword">let</a> <a id="6557" href="Meta.Deriving.Elim.html#6557" class="Bound">α</a> <a id="6559" class="Symbol">=</a> <a id="6561" href="Meta.Deriving.Elim.html#5780" class="Bound">α</a> <a id="6563" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="6566" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="6568" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6576" href="Meta.Deriving.Elim.html#2774" class="Function">hide-cons-args</a> <a id="6591" class="Symbol">(</a><a id="6592" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6596" href="Meta.Deriving.Elim.html#5670" class="Bound">ai</a> <a id="6599" class="Symbol">(</a><a id="6600" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="6605" class="Number">0</a><a id="6606" class="Symbol">))</a> <a id="6609" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6611" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6616" href="Meta.Deriving.Elim.html#6409" class="Bound">l</a> <a id="6618" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="6624" href="Meta.Deriving.Elim.html#6624" class="Bound">y</a> <a id="6626" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6628" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6634" class="Number">1</a> <a id="6636" href="Meta.Deriving.Elim.html#5683" class="Bound">y</a>
    <a id="6642" href="Meta.Deriving.Elim.html#5175" class="Function">display</a> <a id="6650" href="Meta.Deriving.Elim.html#5633" class="Bound">fuel</a> <a id="6655" href="Meta.Deriving.Elim.html#5639" class="Bound">depth</a> <a id="6661" href="Meta.Deriving.Elim.html#6221" class="Bound">ps</a> <a id="6664" href="Meta.Deriving.Elim.html#6241" class="Bound">P</a> <a id="6666" href="Meta.Deriving.Elim.html#6260" class="Bound">rs</a> <a id="6669" href="Meta.Deriving.Elim.html#5758" class="Bound">rec</a> <a id="6673" href="Meta.Deriving.Elim.html#6557" class="Bound">α</a> <a id="6675" href="Meta.Deriving.Elim.html#6305" class="Bound">c</a> <a id="6677" href="Meta.Deriving.Elim.html#6624" class="Bound">y</a> <a id="6679" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="6683" href="Foundations.Sigma.Base.html#1604" class="Function">first</a> <a id="6689" class="Symbol">λ</a> <a id="6691" href="Meta.Deriving.Elim.html#6691" class="Bound">y</a> <a id="6693" class="Symbol">→</a>
      <a id="6701" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6704" class="Symbol">(</a><a id="6705" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="6713" href="Meta.Deriving.Elim.html#2774" class="Function">hide-cons-args</a> <a id="6728" class="Symbol">(</a><a id="6729" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6733" href="Meta.Deriving.Elim.html#5670" class="Bound">ai</a> <a id="6736" href="Meta.Deriving.Elim.html#5673" class="Bound">x</a><a id="6737" class="Symbol">))</a> <a id="6740" class="Symbol">(</a><a id="6741" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6745" href="Meta.Deriving.Elim.html#5681" class="Bound">n</a> <a id="6747" class="Symbol">(</a><a id="6748" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6751" class="Symbol">(</a><a id="6752" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6757" href="Meta.Deriving.Elim.html#6126" class="Bound">h</a><a id="6758" class="Symbol">)</a> <a id="6760" class="Symbol">(</a><a id="6761" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6765" class="Symbol">(</a><a id="6766" class="String">&quot;P&quot;</a> <a id="6770" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="6773" href="Meta.Deriving.Elim.html#5681" class="Bound">n</a><a id="6774" class="Symbol">)</a> <a id="6776" href="Meta.Deriving.Elim.html#6691" class="Bound">y</a><a id="6777" class="Symbol">)))</a>

  <a id="6784" href="Meta.Deriving.Elim.html#5175" class="Function">display</a> <a id="6792" class="Symbol">(</a><a id="6793" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6797" href="Meta.Deriving.Elim.html#6797" class="Bound">fuel</a><a id="6801" class="Symbol">)</a> <a id="6803" href="Meta.Deriving.Elim.html#6803" class="Bound">depth</a> <a id="6809" href="Meta.Deriving.Elim.html#6809" class="Bound">ps</a> <a id="6812" href="Meta.Deriving.Elim.html#6812" class="Bound">P</a> <a id="6814" href="Meta.Deriving.Elim.html#6814" class="Bound">rs</a> <a id="6817" href="Meta.Deriving.Elim.html#6817" class="Bound">rec</a> <a id="6821" href="Meta.Deriving.Elim.html#6821" class="Bound">α</a> <a id="6823" href="Meta.Deriving.Elim.html#6823" class="Bound">c</a> <a id="6825" class="Symbol">(</a><a id="6826" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="6830" class="Symbol">(</a><a id="6831" class="Keyword">quote</a> <a id="6837" href="Foundations.Prim.Kan.html#1290" class="Postulate">Pathᴾ</a><a id="6842" class="Symbol">)</a> <a id="6844" class="Symbol">(_</a> <a id="6847" href="Data.Reflection.Argument.html#1397" class="InductiveConstructor Operator">h∷</a> <a id="6850" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="6854" href="Meta.Deriving.Elim.html#6854" class="Bound">v</a> <a id="6856" class="Symbol">(</a><a id="6857" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6861" href="Meta.Deriving.Elim.html#6861" class="Bound">n</a> <a id="6863" href="Meta.Deriving.Elim.html#6863" class="Bound">y</a><a id="6864" class="Symbol">)</a> <a id="6866" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="6869" href="Meta.Deriving.Elim.html#6869" class="Bound">l</a> <a id="6871" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="6874" href="Meta.Deriving.Elim.html#6874" class="Bound">r</a> <a id="6876" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="6879" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6881" class="Symbol">))</a> <a id="6884" class="Symbol">=</a> <a id="6886" class="Keyword">do</a>
    <a id="6893" href="Meta.Deriving.Elim.html#6893" class="Bound">l</a>   <a id="6897" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6899" href="Meta.Deriving.Elim.html#3107" class="Function">replace</a> <a id="6907" href="Meta.Deriving.Elim.html#6797" class="Bound">fuel</a> <a id="6912" href="Meta.Deriving.Elim.html#6814" class="Bound">rs</a> <a id="6915" href="Meta.Deriving.Elim.html#6869" class="Bound">l</a>
    <a id="6921" href="Meta.Deriving.Elim.html#6921" class="Bound">r</a>   <a id="6925" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6927" href="Meta.Deriving.Elim.html#3107" class="Function">replace</a> <a id="6935" href="Meta.Deriving.Elim.html#6797" class="Bound">fuel</a> <a id="6940" href="Meta.Deriving.Elim.html#6814" class="Bound">rs</a> <a id="6943" href="Meta.Deriving.Elim.html#6874" class="Bound">r</a>
    <a id="6949" href="Meta.Deriving.Elim.html#6949" class="Bound">ps</a>  <a id="6953" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6955" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6961" class="Number">1</a> <a id="6963" href="Meta.Deriving.Elim.html#6809" class="Bound">ps</a>
    <a id="6970" href="Meta.Deriving.Elim.html#6970" class="Bound">P</a>   <a id="6974" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6976" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="6982" class="Number">1</a> <a id="6984" href="Meta.Deriving.Elim.html#6812" class="Bound">P</a>
    <a id="6990" href="Meta.Deriving.Elim.html#6990" class="Bound">rs</a>  <a id="6994" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6996" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="7002" class="Number">1</a> <a id="7004" href="Meta.Deriving.Elim.html#6814" class="Bound">rs</a>
    <a id="7011" href="Meta.Deriving.Elim.html#7011" class="Bound">rec</a> <a id="7015" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7017" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="7023" class="Number">1</a> <a id="7025" href="Meta.Deriving.Elim.html#6817" class="Bound">rec</a>
    <a id="7033" href="Meta.Deriving.Elim.html#7033" class="Bound">α</a> <a id="7035" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7037" class="Keyword">do</a>
      <a id="7046" href="Meta.Deriving.Elim.html#7046" class="Bound">α′</a> <a id="7049" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7051" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="7057" class="Number">1</a> <a id="7059" href="Meta.Deriving.Elim.html#6821" class="Bound">α</a>
      <a id="7067" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7072" class="Symbol">(</a><a id="7073" href="Meta.Deriving.Elim.html#7046" class="Bound">α′</a> <a id="7076" href="Data.List.Operations.html#676" class="Function Operator">∷r</a> <a id="7079" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="7084" class="Symbol">(</a><a id="7085" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="7090" class="Number">0</a><a id="7091" class="Symbol">))</a>
    <a id="7098" href="Meta.Deriving.Elim.html#7098" class="Bound">c</a> <a id="7100" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7102" class="Keyword">do</a>
      <a id="7111" href="Meta.Deriving.Elim.html#7111" class="Bound">c′</a> <a id="7114" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7116" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="7122" class="Number">1</a> <a id="7124" href="Meta.Deriving.Elim.html#6823" class="Bound">c</a>
      <a id="7132" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="7141" href="Meta.Deriving.Elim.html#6797" class="Bound">fuel</a> <a id="7146" href="Meta.Deriving.Elim.html#7111" class="Bound">c′</a> <a id="7149" class="Symbol">(</a><a id="7150" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="7155" class="Symbol">(</a><a id="7156" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="7161" class="Number">0</a><a id="7162" class="Symbol">))</a>
    <a id="7169" href="Meta.Deriving.Elim.html#5175" class="Function">display</a> <a id="7177" href="Meta.Deriving.Elim.html#6797" class="Bound">fuel</a> <a id="7182" href="Meta.Deriving.Elim.html#6803" class="Bound">depth</a> <a id="7188" href="Meta.Deriving.Elim.html#6949" class="Bound">ps</a> <a id="7191" href="Meta.Deriving.Elim.html#6970" class="Bound">P</a> <a id="7193" href="Meta.Deriving.Elim.html#6990" class="Bound">rs</a> <a id="7196" href="Meta.Deriving.Elim.html#7011" class="Bound">rec</a> <a id="7200" href="Meta.Deriving.Elim.html#7033" class="Bound">α</a> <a id="7202" href="Meta.Deriving.Elim.html#7098" class="Bound">c</a> <a id="7204" href="Meta.Deriving.Elim.html#6863" class="Bound">y</a> <a id="7206" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="7210" href="Foundations.Sigma.Base.html#1604" class="Function">first</a> <a id="7216" class="Symbol">λ</a> <a id="7218" href="Meta.Deriving.Elim.html#7218" class="Bound">y</a> <a id="7220" class="Symbol">→</a>
      <a id="7228" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="7231" href="Foundations.Prim.Kan.html#1290" class="Postulate">Pathᴾ</a> <a id="7237" href="Meta.Reflection.Neutral.html#1494" class="Function Operator">##ₕ</a> <a id="7241" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="7249" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7253" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="7257" href="Meta.Deriving.Elim.html#6854" class="Bound">v</a> <a id="7259" class="Symbol">(</a><a id="7260" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="7264" href="Meta.Deriving.Elim.html#6861" class="Bound">n</a> <a id="7266" href="Meta.Deriving.Elim.html#7218" class="Bound">y</a><a id="7267" class="Symbol">)</a> <a id="7269" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7273" href="Meta.Deriving.Elim.html#6893" class="Bound">l</a> <a id="7275" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7279" href="Meta.Deriving.Elim.html#6921" class="Bound">r</a>

  <a id="7284" href="Meta.Deriving.Elim.html#5175" class="CatchallClause Function">display</a><a id="7291" class="CatchallClause"> </a><a id="7292" class="CatchallClause Symbol">(</a><a id="7293" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="7296" class="CatchallClause"> </a><a id="7297" href="Meta.Deriving.Elim.html#7297" class="CatchallClause Bound">fuel</a><a id="7301" class="CatchallClause Symbol">)</a><a id="7302" class="CatchallClause"> </a><a id="7303" href="Meta.Deriving.Elim.html#7303" class="CatchallClause Bound">depth</a><a id="7308" class="CatchallClause"> </a><a id="7309" href="Meta.Deriving.Elim.html#7309" class="CatchallClause Bound">ps</a><a id="7311" class="CatchallClause"> </a><a id="7312" href="Meta.Deriving.Elim.html#7312" class="CatchallClause Bound">P</a><a id="7313" class="CatchallClause"> </a><a id="7314" href="Meta.Deriving.Elim.html#7314" class="CatchallClause Bound">rs</a><a id="7316" class="CatchallClause"> </a><a id="7317" href="Meta.Deriving.Elim.html#7317" class="CatchallClause Bound">rec</a><a id="7320" class="CatchallClause"> </a><a id="7321" href="Meta.Deriving.Elim.html#7321" class="CatchallClause Bound">α</a><a id="7322" class="CatchallClause"> </a><a id="7323" href="Meta.Deriving.Elim.html#7323" class="CatchallClause Bound">c</a><a id="7324" class="CatchallClause"> </a><a id="7325" class="CatchallClause Symbol">(</a><a id="7326" href="Agda.Builtin.Reflection.html#5251" class="CatchallClause InductiveConstructor">def</a><a id="7329" class="CatchallClause"> </a><a id="7330" href="Meta.Deriving.Elim.html#7330" class="CatchallClause Bound">D′</a><a id="7332" class="CatchallClause"> </a><a id="7333" href="Meta.Deriving.Elim.html#7333" class="CatchallClause Bound">args</a><a id="7337" class="CatchallClause Symbol">)</a> <a id="7339" class="Symbol">=</a> <a id="7341" class="Keyword">do</a>
    <a id="7348" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="7353" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7355" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7360" class="Symbol">(</a><a id="7361" href="Meta.Deriving.Elim.html#2850" class="Bound">D</a> <a id="7363" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">name=?</a> <a id="7370" href="Meta.Deriving.Elim.html#7330" class="Bound">D′</a><a id="7372" class="Symbol">)</a>
      <a id="7380" class="Keyword">where</a> <a id="7386" class="CatchallClause Symbol">_</a> <a id="7388" class="Symbol">→</a> <a id="7390" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="7402" class="Keyword">let</a> <a id="7406" href="Meta.Deriving.Elim.html#7406" class="Bound">ps′</a> <a id="7410" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7412" href="Meta.Deriving.Elim.html#7412" class="Bound">is</a> <a id="7415" class="Symbol">=</a> <a id="7417" href="Data.List.Operations.html#3177" class="Function">split-at</a> <a id="7426" href="Meta.Deriving.Elim.html#2861" class="Bound">pars</a> <a id="7431" href="Meta.Deriving.Elim.html#7333" class="Bound">args</a>
    <a id="7440" href="Data.Dec.Base.html#644" class="InductiveConstructor">yes</a> <a id="7444" class="Symbol">_</a> <a id="7446" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7448" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7453" class="Symbol">(</a><a id="7454" href="Meta.Deriving.Elim.html#7309" class="Bound">ps</a> <a id="7457" href="Logic.Discreteness.html#1103" class="Function Operator">≟</a> <a id="7459" href="Meta.Deriving.Elim.html#7406" class="Bound">ps′</a><a id="7462" class="Symbol">)</a>
      <a id="7470" class="Keyword">where</a> <a id="7476" class="CatchallClause Symbol">_</a> <a id="7478" class="Symbol">→</a> <a id="7480" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="7492" href="Meta.Deriving.Elim.html#7492" class="Bound">Pc</a> <a id="7495" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7497" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="7507" href="Meta.Deriving.Elim.html#7297" class="Bound">fuel</a> <a id="7512" href="Meta.Deriving.Elim.html#7312" class="Bound">P</a> <a id="7514" class="Symbol">(</a><a id="7515" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="7518" href="Meta.Deriving.Elim.html#2085" class="Function">induction</a> <a id="7528" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="7533" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="7541" href="Meta.Deriving.Elim.html#2461" class="Function">hide-indices</a> <a id="7554" href="Meta.Deriving.Elim.html#7412" class="Bound">is</a> <a id="7557" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="7560" href="Meta.Deriving.Elim.html#7323" class="Bound">c</a> <a id="7562" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="7565" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="7568" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="7573" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="7575" class="Symbol">)</a>
    <a id="7581" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7586" class="Symbol">(</a><a id="7587" href="Meta.Deriving.Elim.html#7492" class="Bound">Pc</a> <a id="7590" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7592" href="Meta.Deriving.Elim.html#7321" class="Bound">α</a><a id="7593" class="Symbol">)</a>
  <a id="7597" href="Meta.Deriving.Elim.html#5175" class="CatchallClause Function">display</a><a id="7604" class="CatchallClause"> </a><a id="7605" class="CatchallClause Symbol">(</a><a id="7606" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="7609" class="CatchallClause"> </a><a id="7610" href="Meta.Deriving.Elim.html#7610" class="CatchallClause Bound">fuel</a><a id="7614" class="CatchallClause Symbol">)</a><a id="7615" class="CatchallClause"> </a><a id="7616" href="Meta.Deriving.Elim.html#7616" class="CatchallClause Bound">depth</a><a id="7621" class="CatchallClause"> </a><a id="7622" href="Meta.Deriving.Elim.html#7622" class="CatchallClause Bound">ps</a><a id="7624" class="CatchallClause"> </a><a id="7625" href="Meta.Deriving.Elim.html#7625" class="CatchallClause Bound">P</a><a id="7626" class="CatchallClause"> </a><a id="7627" href="Meta.Deriving.Elim.html#7627" class="CatchallClause Bound">rs</a><a id="7629" class="CatchallClause"> </a><a id="7630" href="Meta.Deriving.Elim.html#7630" class="CatchallClause Bound">rec</a><a id="7633" class="CatchallClause"> </a><a id="7634" href="Meta.Deriving.Elim.html#7634" class="CatchallClause Bound">α</a><a id="7635" class="CatchallClause"> </a><a id="7636" href="Meta.Deriving.Elim.html#7636" class="CatchallClause Bound">c</a><a id="7637" class="CatchallClause"> </a><a id="7638" class="CatchallClause Symbol">_</a> <a id="7640" class="Symbol">=</a> <a id="7642" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="Induction.try-hlevel"></a><a id="7653" href="Meta.Deriving.Elim.html#7653" class="Function">try-hlevel</a> <a id="7664" class="Symbol">:</a> <a id="7666" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7671" class="Symbol">→</a> <a id="7673" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="7676" class="Symbol">(</a><a id="7677" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7683" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="7687" class="Symbol">)</a>
  <a id="7691" href="Meta.Deriving.Elim.html#7653" class="Function">try-hlevel</a> <a id="7702" href="Meta.Deriving.Elim.html#7702" class="Bound">T</a> <a id="7704" class="Symbol">=</a>
    <a id="7710" class="Symbol">(</a><a id="7711" class="Keyword">do</a>
      <a id="7720" href="Data.Maybe.Instances.Alt.html#266" class="Function">maybe→alt</a> <a id="7730" href="Meta.Deriving.Elim.html#2188" class="Function">into-hlevel</a>
      <a id="7748" href="Meta.Deriving.Elim.html#7748" class="Bound">m</a> <a id="7750" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7752" href="Meta.Reflection.Base.html#3833" class="Function">new-meta</a> <a id="7761" href="Meta.Deriving.Elim.html#7702" class="Bound">T</a>
      <a id="7769" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="7775" href="Meta.Deriving.Elim.html#7748" class="Bound">m</a> <a id="7777" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="7779" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="7782" href="Foundations.Base.html#14238" class="Function">centre</a> <a id="7789" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7793" class="Symbol">(</a><a id="7794" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="7797" href="Foundations.HLevel.Base.html#8782" class="Function">hlevel</a> <a id="7804" href="Meta.Reflection.Neutral.html#1494" class="Function Operator">##ₕ</a> <a id="7808" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="7816" href="Meta.Reflection.Neutral.html#1494" class="Function Operator">##ₕ</a> <a id="7820" href="Meta.Deriving.Elim.html#7702" class="Bound">T</a> <a id="7822" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7826" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="7830" class="Symbol">(</a><a id="7831" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="7835" class="Number">0</a><a id="7836" class="Symbol">))</a>
      <a id="7845" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7850" class="Symbol">(</a><a id="7851" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7856" href="Meta.Deriving.Elim.html#7748" class="Bound">m</a><a id="7857" class="Symbol">))</a>
    <a id="7864" href="Meta.Effect.Alt.html#369" class="Field Operator">&lt;|&gt;</a> <a id="7868" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7873" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="Induction.×-map₁₂"></a><a id="7884" href="Meta.Deriving.Elim.html#7884" class="Function">×-map₁₂</a> <a id="7892" class="Symbol">:</a> <a id="7894" class="Symbol">∀</a> <a id="7896" class="Symbol">{</a><a id="7897" href="Meta.Deriving.Elim.html#7897" class="Bound">A</a> <a id="7899" href="Meta.Deriving.Elim.html#7899" class="Bound">B</a> <a id="7901" href="Meta.Deriving.Elim.html#7901" class="Bound">C</a> <a id="7903" class="Symbol">:</a> <a id="7905" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a><a id="7909" class="Symbol">}</a> <a id="7911" class="Symbol">→</a> <a id="7913" class="Symbol">(</a><a id="7914" href="Meta.Deriving.Elim.html#7897" class="Bound">A</a> <a id="7916" class="Symbol">→</a> <a id="7918" href="Meta.Deriving.Elim.html#7897" class="Bound">A</a><a id="7919" class="Symbol">)</a> <a id="7921" class="Symbol">→</a> <a id="7923" class="Symbol">(</a><a id="7924" href="Meta.Deriving.Elim.html#7899" class="Bound">B</a> <a id="7926" class="Symbol">→</a> <a id="7928" href="Meta.Deriving.Elim.html#7899" class="Bound">B</a><a id="7929" class="Symbol">)</a> <a id="7931" class="Symbol">→</a> <a id="7933" href="Meta.Deriving.Elim.html#7897" class="Bound">A</a> <a id="7935" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="7937" href="Meta.Deriving.Elim.html#7899" class="Bound">B</a> <a id="7939" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="7941" href="Meta.Deriving.Elim.html#7901" class="Bound">C</a> <a id="7943" class="Symbol">→</a> <a id="7945" href="Meta.Deriving.Elim.html#7897" class="Bound">A</a> <a id="7947" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="7949" href="Meta.Deriving.Elim.html#7899" class="Bound">B</a> <a id="7951" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="7953" href="Meta.Deriving.Elim.html#7901" class="Bound">C</a>
  <a id="7957" href="Meta.Deriving.Elim.html#7884" class="Function">×-map₁₂</a> <a id="7965" href="Meta.Deriving.Elim.html#7965" class="Bound">f</a> <a id="7967" href="Meta.Deriving.Elim.html#7967" class="Bound">g</a> <a id="7969" class="Symbol">(</a><a id="7970" href="Meta.Deriving.Elim.html#7970" class="Bound">a</a> <a id="7972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7974" href="Meta.Deriving.Elim.html#7974" class="Bound">b</a> <a id="7976" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7978" href="Meta.Deriving.Elim.html#7978" class="Bound">c</a><a id="7979" class="Symbol">)</a> <a id="7981" class="Symbol">=</a> <a id="7983" class="Symbol">(</a><a id="7984" href="Meta.Deriving.Elim.html#7965" class="Bound">f</a> <a id="7986" href="Meta.Deriving.Elim.html#7970" class="Bound">a</a> <a id="7988" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7990" href="Meta.Deriving.Elim.html#7967" class="Bound">g</a> <a id="7992" href="Meta.Deriving.Elim.html#7974" class="Bound">b</a> <a id="7994" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7996" href="Meta.Deriving.Elim.html#7978" class="Bound">c</a><a id="7997" class="Symbol">)</a>

  <a id="8002" class="Comment">-- Loop over D&#39;s constructors and build the method telescope, constructor</a>
  <a id="8078" class="Comment">-- replacements and spines to apply them to.</a>
  <a id="Induction.methods"></a><a id="8125" href="Meta.Deriving.Elim.html#8125" class="Function">methods</a> <a id="8133" class="Symbol">:</a> <a id="8135" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="8140" class="Symbol">→</a> <a id="8142" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8147" class="Symbol">→</a> <a id="8149" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="8152" class="Symbol">(</a><a id="8153" href="Data.Reflection.Term.html#844" class="Function">Telescope</a> <a id="8163" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="8165" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8170" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="8175" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="8177" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a><a id="8189" class="Symbol">)</a>
  <a id="8193" href="Meta.Deriving.Elim.html#8125" class="Function">methods</a> <a id="8201" href="Meta.Deriving.Elim.html#8201" class="Bound">ps</a> <a id="8204" href="Meta.Deriving.Elim.html#8204" class="Bound">P</a> <a id="8206" class="Symbol">=</a> <a id="8208" href="Meta.Deriving.Elim.html#8242" class="Function">go</a> <a id="8211" href="Meta.Reflection.Base.html#3358" class="Function">full-tank</a> <a id="8221" href="Meta.Deriving.Elim.html#8201" class="Bound">ps</a> <a id="8224" href="Meta.Deriving.Elim.html#8204" class="Bound">P</a> <a id="8226" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8229" href="Meta.Deriving.Elim.html#2893" class="Bound">cs</a> <a id="8232" class="Keyword">where</a>
    <a id="8242" href="Meta.Deriving.Elim.html#8242" class="Function">go</a> <a id="8245" class="Symbol">:</a> <a id="8247" class="Symbol">(</a><a id="8248" href="Meta.Deriving.Elim.html#8248" class="Bound">fuel</a> <a id="8253" class="Symbol">:</a> <a id="8255" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8256" class="Symbol">)</a> <a id="8258" class="Symbol">→</a> <a id="8260" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="8265" class="Symbol">→</a> <a id="8267" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8272" class="Symbol">→</a> <a id="8274" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a> <a id="8287" class="Symbol">→</a> <a id="8289" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8294" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="8299" class="Symbol">→</a> <a id="8301" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="8304" class="Symbol">(</a><a id="8305" href="Data.Reflection.Term.html#844" class="Function">Telescope</a> <a id="8315" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="8317" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8322" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="8327" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="8329" href="Meta.Deriving.Elim.html#1583" class="Function">Replacements</a><a id="8341" class="Symbol">)</a>
    <a id="8347" href="Meta.Deriving.Elim.html#8242" class="Function">go</a> <a id="8350" class="Number">0</a> <a id="8352" class="Symbol">_</a> <a id="8354" class="Symbol">_</a> <a id="8356" class="Symbol">_</a> <a id="8358" class="Symbol">_</a> <a id="8360" class="Symbol">=</a> <a id="8362" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="8373" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="8380" href="Meta.Deriving.Elim.html#8242" class="Function">go</a> <a id="8383" class="Symbol">(</a><a id="8384" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8388" href="Meta.Deriving.Elim.html#8388" class="Bound">fuel</a><a id="8392" class="Symbol">)</a> <a id="8394" href="Meta.Deriving.Elim.html#8394" class="Bound">ps</a> <a id="8397" href="Meta.Deriving.Elim.html#8397" class="Bound">P</a> <a id="8399" href="Meta.Deriving.Elim.html#8399" class="Bound">rs</a> <a id="8402" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8405" class="Symbol">=</a> <a id="8407" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="8412" class="Symbol">(</a><a id="8413" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8416" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8418" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8421" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8423" href="Meta.Deriving.Elim.html#8399" class="Bound">rs</a><a id="8425" class="Symbol">)</a>
    <a id="8431" href="Meta.Deriving.Elim.html#8242" class="Function">go</a> <a id="8434" class="Symbol">(</a><a id="8435" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8439" href="Meta.Deriving.Elim.html#8439" class="Bound">fuel</a><a id="8443" class="Symbol">)</a> <a id="8445" href="Meta.Deriving.Elim.html#8445" class="Bound">ps</a> <a id="8448" href="Meta.Deriving.Elim.html#8448" class="Bound">P</a> <a id="8450" href="Meta.Deriving.Elim.html#8450" class="Bound">rs</a> <a id="8453" class="Symbol">(</a><a id="8454" href="Meta.Deriving.Elim.html#8454" class="Bound">c</a> <a id="8456" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8458" href="Meta.Deriving.Elim.html#8458" class="Bound">cs</a><a id="8460" class="Symbol">)</a> <a id="8462" class="Symbol">=</a> <a id="8464" class="Keyword">do</a>
      <a id="8473" class="Keyword">let</a> <a id="8477" href="Meta.Deriving.Elim.html#8477" class="Bound">c′</a> <a id="8480" class="Symbol">=</a> <a id="8482" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="8486" href="Meta.Deriving.Elim.html#8454" class="Bound">c</a> <a id="8488" class="Symbol">(</a><a id="8489" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="8494" href="Meta.Deriving.Elim.html#8445" class="Bound">ps</a><a id="8496" class="Symbol">)</a>
      <a id="8504" href="Meta.Deriving.Elim.html#8504" class="Bound">cT</a> <a id="8507" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="8509" class="Keyword">do</a>
        <a id="8520" href="Meta.Deriving.Elim.html#8520" class="Bound">cT</a> <a id="8523" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="8525" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="8534" href="Meta.Deriving.Elim.html#8454" class="Bound">c</a>
        <a id="8544" href="Meta.Deriving.Elim.html#8544" class="Bound">cT</a> <a id="8547" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="8549" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="8559" href="Meta.Deriving.Elim.html#8520" class="Bound">cT</a>
        <a id="8570" href="Meta.Reflection.Subst.html#7437" class="Function">pi-applyTC</a> <a id="8581" href="Meta.Deriving.Elim.html#8544" class="Bound">cT</a> <a id="8584" href="Meta.Deriving.Elim.html#8445" class="Bound">ps</a>
      <a id="8593" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8598" class="Symbol">(</a><a id="8599" href="Meta.Deriving.Elim.html#8599" class="Bound">methodT</a> <a id="8607" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8609" href="Meta.Deriving.Elim.html#8609" class="Bound">α</a><a id="8610" class="Symbol">)</a> <a id="8612" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="8614" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="8619" class="Symbol">(</a><a id="8620" href="Meta.Deriving.Elim.html#5175" class="Function">display</a> <a id="8628" href="Meta.Deriving.Elim.html#8439" class="Bound">fuel</a> <a id="8633" class="Number">1</a> <a id="8635" href="Meta.Deriving.Elim.html#8445" class="Bound">ps</a> <a id="8638" href="Meta.Deriving.Elim.html#8448" class="Bound">P</a> <a id="8640" href="Meta.Deriving.Elim.html#8450" class="Bound">rs</a> <a id="8643" class="Symbol">(</a><a id="8644" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="8649" class="Number">0</a><a id="8650" class="Symbol">)</a> <a id="8652" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8655" href="Meta.Deriving.Elim.html#8477" class="Bound">c′</a> <a id="8658" href="Meta.Deriving.Elim.html#8504" class="Bound">cT</a><a id="8660" class="Symbol">)</a>
        <a id="8670" class="Keyword">where</a> <a id="8676" class="CatchallClause Symbol">_</a> <a id="8678" class="Symbol">→</a> <a id="8680" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="8691" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="8693" class="String">&quot;The type of constructor &quot;</a> <a id="8720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8722" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="8731" href="Meta.Deriving.Elim.html#8454" class="Bound">c</a> <a id="8733" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8735" class="String">&quot; is not supported&quot;</a> <a id="8755" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
      <a id="8763" href="Meta.Deriving.Elim.html#7653" class="Function">try-hlevel</a> <a id="8774" href="Meta.Deriving.Elim.html#8599" class="Bound">methodT</a> <a id="8782" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="8786" class="Symbol">λ</a> <a id="8788" class="Keyword">where</a>
        <a id="8802" class="Symbol">(</a><a id="8803" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8808" href="Meta.Deriving.Elim.html#8808" class="Bound">m</a><a id="8809" class="Symbol">)</a> <a id="8811" class="Symbol">→</a> <a id="8813" class="Keyword">do</a>
          <a id="8826" class="Comment">-- The type of the method is solvable by hlevel (i.e. contractible):</a>
          <a id="8905" class="Comment">-- we can omit that type from the telescope and replace the method with</a>
          <a id="8987" class="Comment">-- a call to `hlevel 0 .centre`.</a>
          <a id="9030" class="Keyword">let</a> <a id="9034" href="Meta.Deriving.Elim.html#9034" class="Bound">rs</a> <a id="9037" class="Symbol">=</a> <a id="9039" class="Symbol">(</a><a id="9040" href="Meta.Deriving.Elim.html#8477" class="Bound">c′</a> <a id="9043" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9045" href="Meta.Deriving.Elim.html#8808" class="Bound">m</a><a id="9046" class="Symbol">)</a> <a id="9048" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9050" href="Meta.Deriving.Elim.html#8450" class="Bound">rs</a>
          <a id="9063" href="Meta.Deriving.Elim.html#8242" class="Function">go</a> <a id="9066" href="Meta.Deriving.Elim.html#8439" class="Bound">fuel</a> <a id="9071" href="Meta.Deriving.Elim.html#8445" class="Bound">ps</a> <a id="9074" href="Meta.Deriving.Elim.html#8448" class="Bound">P</a> <a id="9076" href="Meta.Deriving.Elim.html#9034" class="Bound">rs</a> <a id="9079" href="Meta.Deriving.Elim.html#8458" class="Bound">cs</a> <a id="9082" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="9086" href="Meta.Deriving.Elim.html#7884" class="Function">×-map₁₂</a> <a id="9094" href="Foundations.Pi.Base.html#2288" class="Function">id</a> <a id="9097" class="Symbol">(</a><a id="9098" href="Meta.Deriving.Elim.html#8609" class="Bound">α</a> <a id="9100" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9102" class="Symbol">)</a>
        <a id="9112" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9120" class="Symbol">→</a> <a id="9122" class="Keyword">do</a>
          <a id="9135" class="Comment">-- Otherwise, add m : T to the telescope and replace the corresponding</a>
          <a id="9216" class="Comment">-- constructor with m henceforth.</a>
          <a id="9260" href="Meta.Deriving.Elim.html#9260" class="Bound">method</a> <a id="9267" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9269" class="Symbol">(</a><a id="9270" class="String">&quot;P&quot;</a> <a id="9274" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;_</a><a id="9277" class="Symbol">)</a> <a id="9279" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="9283" href="Meta.Reflection.Signature.html#6925" class="Function">render-name</a> <a id="9295" href="Meta.Deriving.Elim.html#8454" class="Bound">c</a>
          <a id="9307" href="Meta.Deriving.Elim.html#9307" class="Bound">q</a> <a id="9309" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9311" href="Meta.Reflection.Signature.html#1737" class="Function">get-con-quantity</a> <a id="9328" href="Meta.Deriving.Elim.html#8454" class="Bound">c</a>
          <a id="9340" class="Keyword">let</a> <a id="9344" href="Meta.Deriving.Elim.html#9344" class="Bound">argE</a> <a id="9349" class="Symbol">=</a> <a id="9351" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="9354" href="Data.Dec.Base.html#1558" class="Function Operator">⌊</a> <a id="9356" href="Meta.Deriving.Elim.html#9307" class="Bound">q</a> <a id="9358" href="Logic.Discreteness.html#1103" class="Function Operator">≟</a> <a id="9360" href="Agda.Builtin.Reflection.html#3230" class="InductiveConstructor">quantity-0</a> <a id="9371" href="Data.Dec.Base.html#1558" class="Function Operator">⌋</a> <a id="9373" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="9378" href="Data.Reflection.Argument.html#1572" class="Function">argN0</a> <a id="9384" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="9389" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
          <a id="9404" href="Meta.Deriving.Elim.html#9404" class="Bound">ps</a>  <a id="9408" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9410" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="9418" class="Number">1</a> <a id="9420" href="Meta.Deriving.Elim.html#8445" class="Bound">ps</a>
          <a id="9433" href="Meta.Deriving.Elim.html#9433" class="Bound">P</a>   <a id="9437" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9439" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="9447" class="Number">1</a> <a id="9449" href="Meta.Deriving.Elim.html#8448" class="Bound">P</a>
          <a id="9461" href="Meta.Deriving.Elim.html#9461" class="Bound">rs</a>  <a id="9465" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9467" class="Keyword">do</a>
            <a id="9482" href="Meta.Deriving.Elim.html#9482" class="Bound">rs′</a> <a id="9486" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9488" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="9496" class="Number">1</a> <a id="9498" href="Meta.Deriving.Elim.html#8450" class="Bound">rs</a>
            <a id="9513" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="9518" class="Symbol">((</a><a id="9520" href="Meta.Deriving.Elim.html#8477" class="Bound">c′</a> <a id="9523" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9525" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="9530" class="Number">0</a><a id="9531" class="Symbol">)</a> <a id="9533" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9535" href="Meta.Deriving.Elim.html#9482" class="Bound">rs′</a><a id="9538" class="Symbol">)</a>
          <a id="9550" href="Agda.Builtin.Reflection.html#9292" class="Postulate">extend-context</a> <a id="9565" href="Meta.Deriving.Elim.html#9260" class="Bound">method</a> <a id="9572" class="Symbol">(</a><a id="9573" href="Meta.Deriving.Elim.html#9344" class="Bound">argE</a> <a id="9578" href="Meta.Deriving.Elim.html#8599" class="Bound">methodT</a><a id="9585" class="Symbol">)</a> <a id="9587" class="Symbol">(</a><a id="9588" href="Meta.Deriving.Elim.html#8242" class="Function">go</a> <a id="9591" href="Meta.Deriving.Elim.html#8439" class="Bound">fuel</a> <a id="9596" href="Meta.Deriving.Elim.html#9404" class="Bound">ps</a> <a id="9599" href="Meta.Deriving.Elim.html#9433" class="Bound">P</a> <a id="9601" href="Meta.Deriving.Elim.html#9461" class="Bound">rs</a> <a id="9604" href="Meta.Deriving.Elim.html#8458" class="Bound">cs</a><a id="9606" class="Symbol">)</a> <a id="9608" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a>
            <a id="9624" href="Meta.Deriving.Elim.html#7884" class="Function">×-map₁₂</a> <a id="9632" class="Symbol">((</a><a id="9634" href="Meta.Deriving.Elim.html#9260" class="Bound">method</a> <a id="9641" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9643" href="Meta.Deriving.Elim.html#9344" class="Bound">argE</a> <a id="9648" href="Meta.Deriving.Elim.html#8599" class="Bound">methodT</a><a id="9655" class="Symbol">)</a> <a id="9657" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9659" class="Symbol">)</a> <a id="9661" class="Symbol">(</a><a id="9662" href="Meta.Deriving.Elim.html#8609" class="Bound">α</a> <a id="9664" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9666" class="Symbol">)</a>

<a id="make-elim-with"></a><a id="9669" href="Meta.Deriving.Elim.html#9669" class="Function">make-elim-with</a> <a id="9684" class="Symbol">:</a> <a id="9686" href="Meta.Deriving.Elim.html#1931" class="Record">Elim-options</a> <a id="9699" class="Symbol">→</a> <a id="9701" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="9706" class="Symbol">→</a> <a id="9708" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="9713" class="Symbol">→</a> <a id="9715" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="9718" href="Foundations.Notation.Logic.html#3670" class="Field">⊤</a>
<a id="9720" href="Meta.Deriving.Elim.html#9669" class="Function">make-elim-with</a> <a id="9735" href="Meta.Deriving.Elim.html#9735" class="Bound">opts</a> <a id="9740" href="Meta.Deriving.Elim.html#9740" class="Bound">elim</a> <a id="9745" href="Meta.Deriving.Elim.html#9745" class="Bound">D</a> <a id="9747" class="Symbol">=</a> <a id="9749" href="Agda.Builtin.Reflection.html#11368" class="Postulate">work-on-types</a> <a id="9763" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="9765" href="Agda.Builtin.Reflection.html#10159" class="Postulate">with-normalisation</a> <a id="9784" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="9789" class="Keyword">do</a>
  <a id="9794" href="Meta.Deriving.Elim.html#9794" class="Bound">DT</a> <a id="9797" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9799" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="9808" href="Meta.Deriving.Elim.html#9745" class="Bound">D</a> <a id="9810" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="9814" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="9824" class="Comment">-- D : (ps : Γ) (is : Ξ) → Type _</a>
  <a id="9860" href="Agda.Builtin.Reflection.html#7558" class="InductiveConstructor">data-type</a> <a id="9870" href="Meta.Deriving.Elim.html#9870" class="Bound">pars</a> <a id="9875" href="Meta.Deriving.Elim.html#9875" class="Bound">cs</a> <a id="9878" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="9880" href="Agda.Builtin.Reflection.html#9766" class="Postulate">get-definition</a> <a id="9895" href="Meta.Deriving.Elim.html#9745" class="Bound">D</a>
    <a id="9901" class="Keyword">where</a> <a id="9907" class="CatchallClause Symbol">_</a> <a id="9909" class="Symbol">→</a> <a id="9911" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="9922" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="9924" class="String">&quot;not a data type: &quot;</a> <a id="9944" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9946" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="9955" href="Meta.Deriving.Elim.html#9745" class="Bound">D</a> <a id="9957" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
  <a id="9961" class="Keyword">let</a>
    <a id="9969" class="Keyword">open</a> <a id="9974" href="Meta.Deriving.Elim.html#1931" class="Module">Elim-options</a> <a id="9987" href="Meta.Deriving.Elim.html#9735" class="Bound">opts</a>
    <a id="9996" href="Meta.Deriving.Elim.html#9996" class="Bound">DTTel</a> <a id="10002" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10004" class="Symbol">_</a> <a id="10006" class="Symbol">=</a> <a id="10008" href="Data.Reflection.Term.html#1449" class="Function">pi-view</a> <a id="10016" href="Meta.Deriving.Elim.html#9794" class="Bound">DT</a>
    <a id="10023" href="Meta.Deriving.Elim.html#10023" class="Bound">par-tel</a> <a id="10031" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10033" href="Meta.Deriving.Elim.html#10033" class="Bound">ix-tel</a> <a id="10040" class="Symbol">=</a> <a id="10042" href="Data.List.Operations.html#3177" class="Function">split-at</a> <a id="10051" href="Meta.Deriving.Elim.html#9870" class="Bound">pars</a> <a id="10056" href="Meta.Deriving.Elim.html#9996" class="Bound">DTTel</a>
    <a id="10066" href="Meta.Deriving.Elim.html#10066" class="Bound">par-telH</a> <a id="10075" class="Symbol">=</a> <a id="10077" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="10082" href="Meta.Deriving.Elim.html#10023" class="Bound">par-tel</a>
    <a id="10094" href="Meta.Deriving.Elim.html#10094" class="Bound">ix-tel</a> <a id="10101" class="Symbol">=</a> <a id="10103" href="Meta.Reflection.Argument.html#1044" class="Function">hide-if</a> <a id="10111" href="Meta.Deriving.Elim.html#2461" class="Function">hide-indices</a> <a id="10124" href="Meta.Deriving.Elim.html#10033" class="Bound">ix-tel</a>
    <a id="10135" href="Meta.Deriving.Elim.html#10135" class="Bound">DTel</a> <a id="10140" class="Symbol">=</a> <a id="10142" href="Meta.Deriving.Elim.html#10094" class="Bound">ix-tel</a> <a id="10149" href="Data.List.Operations.html#676" class="Function Operator">∷r</a> <a id="10152" class="Symbol">(</a><a id="10153" class="String">&quot;&quot;</a> <a id="10156" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10158" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="10163" class="Symbol">(</a><a id="10164" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="10168" href="Meta.Deriving.Elim.html#9745" class="Bound">D</a> <a id="10170" class="Symbol">(</a><a id="10171" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="10180" class="Number">0</a> <a id="10182" href="Meta.Deriving.Elim.html#9996" class="Bound">DTTel</a><a id="10187" class="Symbol">)))</a> <a id="10191" class="Comment">-- (is : Ξ) (_ : D ps is)</a>
  <a id="10219" href="Meta.Deriving.Elim.html#10219" class="Bound">DTel</a> <a id="10224" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="10226" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="10234" class="Number">1</a> <a id="10236" href="Meta.Deriving.Elim.html#10135" class="Bound">DTel</a>
  <a id="10243" class="Keyword">let</a>
    <a id="10251" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="10256" class="Symbol">=</a> <a id="10258" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="10261" href="Meta.Deriving.Elim.html#2085" class="Function">induction</a> <a id="10271" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="10276" href="Foundations.Pi.Base.html#2288" class="Function">id</a> <a id="10279" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="10284" class="Symbol">λ</a> <a id="10286" href="Meta.Deriving.Elim.html#10286" class="Bound">_</a> <a id="10288" class="Symbol">→</a> <a id="10290" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="10297" href="Meta.Deriving.Elim.html#10297" class="Bound">argP</a> <a id="10302" class="Symbol">=</a> <a id="10304" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="10307" href="Meta.Deriving.Elim.html#2318" class="Function">hide-motive</a> <a id="10319" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="10324" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="10329" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="10334" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
    <a id="10343" href="Meta.Deriving.Elim.html#10343" class="Bound">motiveTel</a> <a id="10353" class="Symbol">=</a> <a id="10355" class="Symbol">(</a><a id="10356" class="String">&quot;ℓ&quot;</a> <a id="10360" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10362" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="10367" class="Symbol">(</a><a id="10368" class="Keyword">quoteTerm</a> <a id="10378" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="10383" class="Symbol">))</a>
              <a id="10400" class="Comment">-- P : DTel → Type ℓ</a>
              <a id="10435" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10437" class="Symbol">(</a><a id="10438" class="String">&quot;P&quot;</a> <a id="10442" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10444" href="Meta.Deriving.Elim.html#10297" class="Bound">argP</a> <a id="10449" class="Symbol">(</a><a id="10450" href="Data.Reflection.Term.html#1793" class="Function">unpi-view</a> <a id="10460" class="Symbol">(</a><a id="10461" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="10466" href="Meta.Deriving.Elim.html#10219" class="Bound">DTel</a><a id="10470" class="Symbol">)</a> <a id="10472" class="Symbol">(</a><a id="10473" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="10483" class="Symbol">(</a><a id="10484" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="10488" class="Symbol">(</a><a id="10489" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="10494" class="Symbol">(</a><a id="10495" href="Data.List.Operations.html#844" class="Function">length</a> <a id="10502" class="Symbol">(</a><a id="10503" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="10508" href="Meta.Deriving.Elim.html#10219" class="Bound">DTel</a><a id="10512" class="Symbol">)))))))</a>
              <a id="10534" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10536" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="10541" href="Meta.Deriving.Elim.html#10541" class="Bound">DTel</a> <a id="10546" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="10548" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="10556" class="Number">1</a> <a id="10558" href="Meta.Deriving.Elim.html#10219" class="Bound">DTel</a>
    <a id="10567" class="Comment">-- We want to take is-hlevel as an argument, but we need to work in a context</a>
    <a id="10649" class="Comment">-- with an H-Level instance in scope.</a>
    <a id="10691" class="Comment">-- (d : DTel) → is-of-hlevel n (P d)</a>
  <a id="10730" class="Keyword">let</a>
    <a id="10738" href="Meta.Deriving.Elim.html#10738" class="Bound">hlevelTel</a> <a id="10748" class="Symbol">=</a> <a id="10750" href="Data.Maybe.Instances.Alt.html#266" class="Function">maybe→alt</a> <a id="10760" href="Meta.Deriving.Elim.html#2188" class="Function">into-hlevel</a> <a id="10772" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="10776" class="Symbol">λ</a> <a id="10778" href="Meta.Deriving.Elim.html#10778" class="Bound">n</a> <a id="10780" class="Symbol">→</a> <a id="10782" class="String">&quot;h&quot;</a> <a id="10786" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10788" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
      <a id="10799" class="Symbol">(</a><a id="10800" href="Data.Reflection.Term.html#1793" class="Function">unpi-view</a> <a id="10810" class="Symbol">(</a><a id="10811" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="10816" href="Meta.Deriving.Elim.html#10541" class="Bound">DTel</a><a id="10820" class="Symbol">)</a>
        <a id="10830" class="Symbol">(</a><a id="10831" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="10834" href="Foundations.Base.html#13972" class="Function">is-of-hlevel</a> <a id="10847" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="10851" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="10855" class="Symbol">(</a><a id="10856" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="10860" href="Meta.Deriving.Elim.html#10778" class="Bound">n</a><a id="10861" class="Symbol">)</a> <a id="10863" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="10867" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="10871" class="Symbol">(</a><a id="10872" href="Data.List.Operations.html#844" class="Function">length</a> <a id="10879" class="Symbol">(</a><a id="10880" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="10885" href="Meta.Deriving.Elim.html#10541" class="Bound">DTel</a><a id="10889" class="Symbol">))</a> <a id="10892" class="Symbol">(</a><a id="10893" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="10902" class="Number">0</a> <a id="10904" class="Symbol">(</a><a id="10905" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="10910" href="Meta.Deriving.Elim.html#10541" class="Bound">DTel</a><a id="10914" class="Symbol">))</a> <a id="10917" class="Symbol">))</a>
    <a id="10924" class="Comment">-- {d : DTel} {k : Nat} → H-Level (n + k) (P d)</a>
    <a id="10976" href="Meta.Deriving.Elim.html#10976" class="Bound">H-LevelTel</a> <a id="10987" class="Symbol">=</a> <a id="10989" href="Data.Maybe.Instances.Alt.html#266" class="Function">maybe→alt</a> <a id="10999" href="Meta.Deriving.Elim.html#2188" class="Function">into-hlevel</a> <a id="11011" href="Meta.Effect.Map.Base.html#521" class="Function Operator">&lt;&amp;&gt;</a> <a id="11015" class="Symbol">λ</a> <a id="11017" href="Meta.Deriving.Elim.html#11017" class="Bound">n</a> <a id="11019" class="Symbol">→</a> <a id="11021" class="String">&quot;h&quot;</a> <a id="11025" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11027" href="Data.Reflection.Argument.html#1583" class="Function">argI</a>
      <a id="11038" class="Symbol">(</a><a id="11039" href="Data.Reflection.Term.html#1793" class="Function">unpi-view</a> <a id="11049" class="Symbol">(</a><a id="11050" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="11055" class="Symbol">(</a><a id="11056" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="11061" href="Meta.Deriving.Elim.html#10541" class="Bound">DTel</a><a id="11065" class="Symbol">))</a> <a id="11068" class="Symbol">(</a><a id="11069" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="11072" class="Symbol">(</a><a id="11073" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="11078" class="Symbol">(</a><a id="11079" class="Keyword">quoteTerm</a> <a id="11089" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="11090" class="Symbol">))</a> <a id="11093" class="Symbol">(</a><a id="11094" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="11098" class="String">&quot;k&quot;</a>
        <a id="11110" class="Symbol">(</a><a id="11111" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="11114" href="Foundations.HLevel.Base.html#8603" class="Record">H-Level</a> <a id="11122" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11126" class="Symbol">(</a><a id="11127" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="11130" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="11134" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11138" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="11142" class="Symbol">(</a><a id="11143" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="11147" href="Meta.Deriving.Elim.html#11017" class="Bound">n</a><a id="11148" class="Symbol">)</a> <a id="11150" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11154" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="11159" class="Number">0</a><a id="11160" class="Symbol">)</a> <a id="11162" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11166" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="11170" class="Symbol">(</a><a id="11171" class="Number">1</a> <a id="11173" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11175" href="Data.List.Operations.html#844" class="Function">length</a> <a id="11182" class="Symbol">(</a><a id="11183" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="11188" href="Meta.Deriving.Elim.html#10541" class="Bound">DTel</a><a id="11192" class="Symbol">))</a> <a id="11195" class="Symbol">(</a><a id="11196" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="11205" class="Number">1</a> <a id="11207" class="Symbol">(</a><a id="11208" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="11213" href="Meta.Deriving.Elim.html#10541" class="Bound">DTel</a><a id="11217" class="Symbol">))))))</a>
    <a id="11228" href="Meta.Deriving.Elim.html#11228" class="Bound">ps</a> <a id="11231" class="Symbol">=</a> <a id="11233" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="11242" class="Symbol">(</a><a id="11243" href="Data.List.Operations.html#844" class="Function">length</a> <a id="11250" href="Meta.Deriving.Elim.html#10343" class="Bound">motiveTel</a> <a id="11260" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11262" href="Data.List.Operations.html#844" class="Function">length</a> <a id="11269" href="Meta.Deriving.Elim.html#10738" class="Bound">hlevelTel</a><a id="11278" class="Symbol">)</a> <a id="11280" href="Meta.Deriving.Elim.html#10023" class="Bound">par-tel</a>
    <a id="11292" href="Meta.Deriving.Elim.html#11292" class="Bound">P</a> <a id="11294" class="Symbol">=</a> <a id="11296" href="Data.Reflection.Term.html#2448" class="InductiveConstructor">var₀</a> <a id="11301" class="Symbol">(</a><a id="11302" href="Data.List.Operations.html#844" class="Function">length</a> <a id="11309" href="Meta.Deriving.Elim.html#10738" class="Bound">hlevelTel</a><a id="11318" class="Symbol">)</a>
    <a id="11324" class="Keyword">module</a> <a id="I"></a><a id="11331" href="Meta.Deriving.Elim.html#11331" class="Module">I</a> <a id="11333" class="Symbol">=</a> <a id="11335" href="Meta.Deriving.Elim.html#2813" class="Module">Induction</a> <a id="11345" href="Meta.Deriving.Elim.html#9735" class="Bound">opts</a> <a id="11350" href="Meta.Deriving.Elim.html#9745" class="Bound">D</a> <a id="11352" href="Meta.Deriving.Elim.html#9870" class="Bound">pars</a> <a id="11357" href="Meta.Deriving.Elim.html#10094" class="Bound">ix-tel</a> <a id="11364" href="Meta.Deriving.Elim.html#9875" class="Bound">cs</a>
  <a id="11369" href="Meta.Deriving.Elim.html#11369" class="Bound">methodTel</a> <a id="11379" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11381" href="Meta.Deriving.Elim.html#11381" class="Bound">αs</a> <a id="11384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11386" href="Meta.Deriving.Elim.html#11386" class="Bound">rs</a> <a id="11389" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11391" href="Agda.Builtin.Reflection.html#9365" class="Postulate">in-context</a> <a id="11402" class="Symbol">(</a><a id="11403" href="Data.List.Base.html#1014" class="Function">reverse-fast</a> <a id="11416" class="Symbol">(</a><a id="11417" href="Meta.Deriving.Elim.html#10066" class="Bound">par-telH</a> <a id="11426" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11429" href="Meta.Deriving.Elim.html#10343" class="Bound">motiveTel</a> <a id="11439" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11442" href="Meta.Deriving.Elim.html#10976" class="Bound">H-LevelTel</a><a id="11452" class="Symbol">))</a> <a id="11455" class="Symbol">(</a><a id="11456" href="Meta.Deriving.Elim.html#8125" class="Function">I.methods</a> <a id="11466" href="Meta.Deriving.Elim.html#11228" class="Bound">ps</a> <a id="11469" href="Meta.Deriving.Elim.html#11292" class="Bound">P</a><a id="11470" class="Symbol">)</a>
  <a id="11474" class="Keyword">let</a> <a id="11478" href="Meta.Deriving.Elim.html#11478" class="Bound">baseTel</a> <a id="11486" class="Symbol">=</a> <a id="11488" href="Meta.Deriving.Elim.html#10066" class="Bound">par-telH</a> <a id="11497" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11500" href="Meta.Deriving.Elim.html#10343" class="Bound">motiveTel</a> <a id="11510" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11513" href="Meta.Deriving.Elim.html#10738" class="Bound">hlevelTel</a> <a id="11523" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11526" href="Meta.Deriving.Elim.html#11369" class="Bound">methodTel</a>
  <a id="11538" href="Meta.Deriving.Elim.html#11538" class="Bound">DTel</a> <a id="11543" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11545" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="11553" class="Symbol">(</a><a id="11554" href="Data.List.Operations.html#844" class="Function">length</a> <a id="11561" href="Meta.Deriving.Elim.html#10738" class="Bound">hlevelTel</a> <a id="11571" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11573" href="Data.List.Operations.html#844" class="Function">length</a> <a id="11580" href="Meta.Deriving.Elim.html#11369" class="Bound">methodTel</a><a id="11589" class="Symbol">)</a> <a id="11591" href="Meta.Deriving.Elim.html#10541" class="Bound">DTel</a>
  <a id="11598" href="Meta.Deriving.Elim.html#11598" class="Bound">P</a> <a id="11600" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11602" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="11610" class="Symbol">(</a><a id="11611" href="Data.List.Operations.html#844" class="Function">length</a> <a id="11618" href="Meta.Deriving.Elim.html#11369" class="Bound">methodTel</a> <a id="11628" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11630" href="Data.List.Operations.html#844" class="Function">length</a> <a id="11637" href="Meta.Deriving.Elim.html#11538" class="Bound">DTel</a><a id="11641" class="Symbol">)</a> <a id="11643" href="Meta.Deriving.Elim.html#11292" class="Bound">P</a>
  <a id="11647" href="Meta.Deriving.Elim.html#11647" class="Bound">Pd</a> <a id="11650" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11652" href="Meta.Reflection.Subst.html#8100" class="Function">apply*TC</a> <a id="11661" href="Meta.Deriving.Elim.html#11598" class="Bound">P</a> <a id="11663" class="Symbol">(</a><a id="11664" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="11673" class="Number">0</a> <a id="11675" class="Symbol">(</a><a id="11676" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="11681" href="Meta.Deriving.Elim.html#11538" class="Bound">DTel</a><a id="11685" class="Symbol">))</a>
  <a id="11690" class="Keyword">let</a>
    <a id="11698" class="Comment">-- ∀ (ps : Γ) {ℓ} {P} (h : ∀ d → is-of-hlevel n (P d)) (ms : methodTel) (d : DTel) → P d</a>
    <a id="11791" href="Meta.Deriving.Elim.html#11791" class="Bound">elimT</a> <a id="11797" class="Symbol">=</a> <a id="11799" href="Data.Reflection.Term.html#1793" class="Function">unpi-view</a> <a id="11809" class="Symbol">(</a><a id="11810" href="Meta.Deriving.Elim.html#11478" class="Bound">baseTel</a> <a id="11818" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="11821" href="Meta.Deriving.Elim.html#11538" class="Bound">DTel</a><a id="11825" class="Symbol">)</a> <a id="11827" href="Meta.Deriving.Elim.html#11647" class="Bound">Pd</a>
  <a id="11832" href="Meta.Deriving.Elim.html#11832" class="Bound">elimT′</a> <a id="11839" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11841" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="11846" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="11850" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="11859" href="Meta.Deriving.Elim.html#9740" class="Bound">elim</a> <a id="11864" href="Meta.Effect.Alt.html#369" class="Field Operator">&lt;|&gt;</a> <a id="11868" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="11876" href="Meta.Effect.Map.Base.html#466" class="Function Operator">&lt;$</a> <a id="11879" href="Agda.Builtin.Reflection.html#9468" class="Postulate">declare-def</a> <a id="11891" class="Symbol">(</a><a id="11892" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="11897" href="Meta.Deriving.Elim.html#9740" class="Bound">elim</a><a id="11901" class="Symbol">)</a> <a id="11903" href="Meta.Deriving.Elim.html#11791" class="Bound">elimT</a>
  <a id="11911" href="Meta.Effect.Traversable.html#418" class="Function">for</a> <a id="11915" href="Meta.Deriving.Elim.html#11832" class="Bound">elimT′</a> <a id="11922" class="Symbol">(</a><a id="11923" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="11929" href="Meta.Deriving.Elim.html#11791" class="Bound">elimT</a><a id="11934" class="Symbol">)</a> <a id="11936" class="Comment">-- Give a nicer error if the types don&#39;t match</a>
  <a id="11985" href="Meta.Deriving.Elim.html#11985" class="Bound">ix-tel</a> <a id="11992" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="11994" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="12002" class="Symbol">(</a><a id="12003" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12010" href="Meta.Deriving.Elim.html#10343" class="Bound">motiveTel</a> <a id="12020" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12022" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12029" href="Meta.Deriving.Elim.html#10738" class="Bound">hlevelTel</a> <a id="12039" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12041" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12048" href="Meta.Deriving.Elim.html#11369" class="Bound">methodTel</a><a id="12057" class="Symbol">)</a> <a id="12059" href="Meta.Deriving.Elim.html#10094" class="Bound">ix-tel</a>
  <a id="12068" href="Meta.Deriving.Elim.html#12068" class="Bound">ps</a> <a id="12071" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12073" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="12081" class="Symbol">(</a><a id="12082" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12089" href="Meta.Deriving.Elim.html#11369" class="Bound">methodTel</a> <a id="12099" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12101" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12108" href="Meta.Deriving.Elim.html#11985" class="Bound">ix-tel</a><a id="12114" class="Symbol">)</a> <a id="12116" href="Meta.Deriving.Elim.html#11228" class="Bound">ps</a>
  <a id="12121" href="Meta.Deriving.Elim.html#12121" class="Bound">rs</a> <a id="12124" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12126" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="12134" class="Symbol">(</a><a id="12135" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12142" href="Meta.Deriving.Elim.html#11985" class="Bound">ix-tel</a><a id="12148" class="Symbol">)</a> <a id="12150" href="Meta.Deriving.Elim.html#11386" class="Bound">rs</a>
  <a id="12155" class="Comment">-- The replacements are in the H-Level context, so we substitute them back into</a>
  <a id="12237" class="Comment">-- our context using basic-instance.</a>
  <a id="12276" class="Keyword">let</a> <a id="12280" href="Meta.Deriving.Elim.html#12280" class="Bound">h</a> <a id="12282" class="Symbol">=</a> <a id="12284" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12291" href="Meta.Deriving.Elim.html#11369" class="Bound">methodTel</a> <a id="12301" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12303" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12310" href="Meta.Deriving.Elim.html#11985" class="Bound">ix-tel</a>
  <a id="12319" href="Meta.Deriving.Elim.html#12319" class="Bound">rs</a> <a id="12322" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12324" class="Keyword">do</a>
    <a id="12331" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12336" href="Meta.Deriving.Elim.html#12336" class="Bound">n</a> <a id="12338" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12340" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="12345" href="Meta.Deriving.Elim.html#2188" class="Function">into-hlevel</a>
      <a id="12363" class="Keyword">where</a> <a id="12369" class="CatchallClause Symbol">_</a> <a id="12371" class="Symbol">→</a> <a id="12373" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="12378" href="Meta.Deriving.Elim.html#12121" class="Bound">rs</a>
    <a id="12385" class="Keyword">let</a> <a id="12389" href="Meta.Deriving.Elim.html#12389" class="Bound">f</a> <a id="12391" class="Symbol">=</a> <a id="12393" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="12400" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="12402" href="Meta.Reflection.Subst.html#1942" class="Function">inplaceS</a> <a id="12411" href="Meta.Deriving.Elim.html#12280" class="Bound">h</a> <a id="12413" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="12415" href="Data.Reflection.Term.html#1917" class="Function">tel→lam</a> <a id="12423" class="Symbol">(</a><a id="12424" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="12429" class="Symbol">(</a><a id="12430" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="12435" href="Meta.Deriving.Elim.html#11538" class="Bound">DTel</a><a id="12439" class="Symbol">))</a>
          <a id="12452" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="12454" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="12457" href="Foundations.HLevel.Base.html#9253" class="Function">hlevel-basic-instance</a> <a id="12479" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="12483" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="12487" class="Symbol">(</a><a id="12488" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="12492" href="Meta.Deriving.Elim.html#12336" class="Bound">n</a><a id="12493" class="Symbol">)</a> <a id="12495" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="12499" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="12503" class="Symbol">(</a><a id="12504" href="Meta.Deriving.Elim.html#12280" class="Bound">h</a> <a id="12506" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12508" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12515" class="Symbol">(</a><a id="12516" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="12521" href="Meta.Deriving.Elim.html#11538" class="Bound">DTel</a><a id="12525" class="Symbol">))</a> <a id="12528" class="Symbol">(</a><a id="12529" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="12538" class="Number">0</a> <a id="12540" class="Symbol">(</a><a id="12541" href="Meta.Deriving.Elim.html#10251" class="Bound">PTel</a> <a id="12546" href="Meta.Deriving.Elim.html#11538" class="Bound">DTel</a><a id="12550" class="Symbol">))</a>
    <a id="12557" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="12566" class="Symbol">(</a><a id="12567" href="Meta.Deriving.Elim.html#12389" class="Bound">f</a> <a id="12569" href="Meta.Deriving.Elim.html#12121" class="Bound">rs</a><a id="12571" class="Symbol">)</a> <a id="12573" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="12578" href="Meta.Deriving.Elim.html#12578" class="Bound">clauses</a> <a id="12586" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12588" href="Agda.Builtin.Reflection.html#9365" class="Postulate">in-context</a> <a id="12599" class="Symbol">(</a><a id="12600" href="Data.List.Base.html#1014" class="Function">reverse-fast</a> <a id="12613" class="Symbol">(</a><a id="12614" href="Meta.Deriving.Elim.html#11478" class="Bound">baseTel</a> <a id="12622" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="12625" href="Meta.Deriving.Elim.html#11985" class="Bound">ix-tel</a><a id="12631" class="Symbol">))</a> <a id="12634" class="Keyword">do</a>
    <a id="12641" class="Keyword">let</a> <a id="12645" href="Meta.Deriving.Elim.html#12645" class="Bound">get-clause</a> <a id="12656" class="Symbol">=</a> <a id="12658" class="Symbol">λ</a> <a id="12660" class="Symbol">(</a><a id="12661" href="Meta.Deriving.Elim.html#12661" class="Bound">c</a> <a id="12663" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12665" href="Meta.Deriving.Elim.html#12665" class="Bound">α</a><a id="12666" class="Symbol">)</a> <a id="12668" class="Symbol">→</a> <a id="12670" class="Keyword">do</a>
      <a id="12679" href="Meta.Deriving.Elim.html#12679" class="Bound">cT</a> <a id="12682" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12684" href="Foundations.Pi.Base.html#2032" class="Function">flip</a> <a id="12689" href="Meta.Reflection.Subst.html#7437" class="Function">pi-applyTC</a> <a id="12700" href="Meta.Deriving.Elim.html#12068" class="Bound">ps</a> <a id="12703" href="Meta.Effect.Bind.html#449" class="Function Operator">=&lt;&lt;</a> <a id="12707" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="12717" href="Meta.Effect.Bind.html#449" class="Function Operator">=&lt;&lt;</a> <a id="12721" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="12730" href="Meta.Deriving.Elim.html#12661" class="Bound">c</a>
      <a id="12738" class="Keyword">let</a> <a id="12742" href="Meta.Deriving.Elim.html#12742" class="Bound">cTel</a> <a id="12747" class="Symbol">=</a> <a id="12749" href="Meta.Reflection.Base.html#4883" class="Function">pi-view-path</a> <a id="12762" href="Meta.Deriving.Elim.html#12679" class="Bound">cT</a>
          <a id="12775" href="Meta.Deriving.Elim.html#12775" class="Bound">pats</a> <a id="12780" class="Symbol">=</a> <a id="12782" href="Meta.Reflection.Base.html#5111" class="Function">tel→pats</a> <a id="12791" class="Symbol">(</a><a id="12792" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12799" href="Meta.Deriving.Elim.html#12742" class="Bound">cTel</a><a id="12803" class="Symbol">)</a> <a id="12805" class="Symbol">(</a><a id="12806" href="Meta.Deriving.Elim.html#11478" class="Bound">baseTel</a> <a id="12814" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="12817" href="Meta.Deriving.Elim.html#11985" class="Bound">ix-tel</a><a id="12823" class="Symbol">)</a> <a id="12825" href="Data.List.Operations.html#676" class="Function Operator">∷r</a> <a id="12828" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="12833" class="Symbol">(</a><a id="12834" href="Agda.Builtin.Reflection.html#5814" class="InductiveConstructor">con</a> <a id="12838" href="Meta.Deriving.Elim.html#12661" class="Bound">c</a> <a id="12840" class="Symbol">(</a><a id="12841" href="Meta.Reflection.Base.html#5111" class="Function">tel→pats</a> <a id="12850" class="Number">0</a> <a id="12852" href="Meta.Deriving.Elim.html#12742" class="Bound">cTel</a><a id="12856" class="Symbol">))</a>
          <a id="12869" href="Meta.Deriving.Elim.html#12869" class="Bound">rec</a> <a id="12873" class="Symbol">=</a> <a id="12875" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="12879" href="Meta.Deriving.Elim.html#9740" class="Bound">elim</a> <a id="12884" class="Symbol">(</a><a id="12885" href="Meta.Reflection.Base.html#5262" class="Function">tel→args</a> <a id="12894" class="Symbol">(</a><a id="12895" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12902" href="Meta.Deriving.Elim.html#11985" class="Bound">ix-tel</a> <a id="12909" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12911" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12918" href="Meta.Deriving.Elim.html#12742" class="Bound">cTel</a><a id="12922" class="Symbol">)</a> <a id="12924" href="Meta.Deriving.Elim.html#11478" class="Bound">baseTel</a><a id="12931" class="Symbol">)</a>
      <a id="12939" href="Meta.Deriving.Elim.html#12939" class="Bound">α</a> <a id="12941" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="12943" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="12952" class="Symbol">(</a><a id="12953" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="12960" class="Symbol">(</a><a id="12961" href="Meta.Reflection.Subst.html#1730" class="Function">singletonS</a> <a id="12972" class="Symbol">(</a><a id="12973" href="Data.List.Operations.html#844" class="Function">length</a> <a id="12980" href="Meta.Deriving.Elim.html#12742" class="Bound">cTel</a><a id="12984" class="Symbol">)</a> <a id="12986" href="Meta.Deriving.Elim.html#12869" class="Bound">rec</a><a id="12989" class="Symbol">)</a> <a id="12991" href="Meta.Deriving.Elim.html#12665" class="Bound">α</a><a id="12992" class="Symbol">)</a> <a id="12994" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="13003" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13008" href="Meta.Deriving.Elim.html#13008" class="Bound">m</a> <a id="13010" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="13012" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="13017" class="Symbol">(</a><a id="13018" href="Meta.Deriving.Elim.html#3107" class="Function">I.replace</a> <a id="13028" href="Meta.Reflection.Base.html#3358" class="Function">full-tank</a> <a id="13038" href="Meta.Deriving.Elim.html#12319" class="Bound">rs</a> <a id="13041" class="Symbol">(</a><a id="13042" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="13046" href="Meta.Deriving.Elim.html#12661" class="Bound">c</a> <a id="13048" class="Symbol">(</a><a id="13049" href="Meta.Reflection.Argument.html#978" class="Function">hide</a> <a id="13054" href="Meta.Deriving.Elim.html#12068" class="Bound">ps</a><a id="13056" class="Symbol">)))</a>
        <a id="13068" class="Keyword">where</a> <a id="13074" class="CatchallClause Symbol">_</a> <a id="13076" class="Symbol">→</a> <a id="13078" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="13089" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="13098" href="Meta.Deriving.Elim.html#13098" class="Bound">m</a> <a id="13100" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="13102" href="Foundations.Pi.Base.html#2032" class="Function">flip</a> <a id="13107" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="13116" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="13119" class="Keyword">do</a>
        <a id="13130" href="Meta.Deriving.Elim.html#13130" class="Bound">m′</a> <a id="13133" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="13135" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="13141" class="Symbol">(</a><a id="13142" href="Data.List.Operations.html#844" class="Function">length</a> <a id="13149" href="Meta.Deriving.Elim.html#12742" class="Bound">cTel</a><a id="13153" class="Symbol">)</a> <a id="13155" href="Meta.Deriving.Elim.html#13008" class="Bound">m</a>
        <a id="13165" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="13175" href="Meta.Reflection.Base.html#3358" class="Function">full-tank</a> <a id="13185" href="Meta.Deriving.Elim.html#13130" class="Bound">m′</a> <a id="13188" href="Meta.Deriving.Elim.html#12939" class="Bound">α</a>
      <a id="13196" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="13201" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="13203" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="13210" class="Symbol">(</a><a id="13211" href="Meta.Deriving.Elim.html#11478" class="Bound">baseTel</a> <a id="13219" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="13222" href="Meta.Deriving.Elim.html#11985" class="Bound">ix-tel</a> <a id="13229" href="Foundations.Notation.Transitive.html#862" class="Field Operator">&lt;&gt;</a> <a id="13232" href="Meta.Deriving.Elim.html#12742" class="Bound">cTel</a><a id="13236" class="Symbol">)</a> <a id="13238" href="Meta.Deriving.Elim.html#12775" class="Bound">pats</a> <a id="13243" href="Meta.Deriving.Elim.html#13098" class="Bound">m</a>
    <a id="13249" href="Meta.Effect.Traversable.html#315" class="Field">traverse</a> <a id="13258" href="Meta.Deriving.Elim.html#12645" class="Bound">get-clause</a> <a id="13269" class="Symbol">(</a><a id="13270" href="Data.List.Operations.html#3556" class="Function">zip</a> <a id="13274" href="Meta.Deriving.Elim.html#9875" class="Bound">cs</a> <a id="13277" href="Meta.Deriving.Elim.html#11381" class="Bound">αs</a><a id="13279" class="Symbol">)</a>
  <a id="13283" href="Agda.Builtin.Reflection.html#9683" class="Postulate">define-function</a> <a id="13299" href="Meta.Deriving.Elim.html#9740" class="Bound">elim</a> <a id="13304" href="Meta.Deriving.Elim.html#12578" class="Bound">clauses</a>

<a id="default-elim"></a><a id="13313" href="Meta.Deriving.Elim.html#13313" class="Function">default-elim</a> <a id="13326" class="Symbol">=</a> <a id="13328" class="Keyword">record</a>
  <a id="13337" class="Symbol">{</a> <a id="13339" href="Meta.Deriving.Elim.html#2085" class="Field">induction</a> <a id="13349" class="Symbol">=</a> <a id="13351" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13358" class="Symbol">;</a> <a id="13360" href="Meta.Deriving.Elim.html#2188" class="Field">into-hlevel</a> <a id="13372" class="Symbol">=</a> <a id="13374" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="13384" class="Symbol">;</a> <a id="13386" href="Meta.Deriving.Elim.html#2318" class="Field">hide-motive</a> <a id="13398" class="Symbol">=</a> <a id="13400" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13407" class="Symbol">;</a> <a id="13409" href="Meta.Deriving.Elim.html#2461" class="Field">hide-indices</a> <a id="13422" class="Symbol">=</a> <a id="13424" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13431" class="Symbol">;</a> <a id="13433" href="Meta.Deriving.Elim.html#2774" class="Field">hide-cons-args</a> <a id="13448" class="Symbol">=</a> <a id="13450" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13458" class="Symbol">}</a>

<a id="default-elim-visible"></a><a id="13461" href="Meta.Deriving.Elim.html#13461" class="Function">default-elim-visible</a> <a id="13482" class="Symbol">=</a> <a id="13484" class="Keyword">record</a>
  <a id="13493" class="Symbol">{</a> <a id="13495" href="Meta.Deriving.Elim.html#2085" class="Field">induction</a> <a id="13505" class="Symbol">=</a> <a id="13507" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13514" class="Symbol">;</a> <a id="13516" href="Meta.Deriving.Elim.html#2188" class="Field">into-hlevel</a> <a id="13528" class="Symbol">=</a> <a id="13530" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="13540" class="Symbol">;</a> <a id="13542" href="Meta.Deriving.Elim.html#2318" class="Field">hide-motive</a> <a id="13554" class="Symbol">=</a> <a id="13556" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13564" class="Symbol">;</a> <a id="13566" href="Meta.Deriving.Elim.html#2461" class="Field">hide-indices</a> <a id="13579" class="Symbol">=</a> <a id="13581" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13589" class="Symbol">;</a> <a id="13591" href="Meta.Deriving.Elim.html#2774" class="Field">hide-cons-args</a> <a id="13606" class="Symbol">=</a> <a id="13608" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13616" class="Symbol">}</a>

<a id="default-rec"></a><a id="13619" href="Meta.Deriving.Elim.html#13619" class="Function">default-rec</a> <a id="13631" class="Symbol">=</a> <a id="13633" class="Keyword">record</a> <a id="13640" href="Meta.Deriving.Elim.html#13313" class="Function">default-elim</a> <a id="13653" class="Symbol">{</a> <a id="13655" href="Meta.Deriving.Elim.html#2085" class="Field">induction</a> <a id="13665" class="Symbol">=</a> <a id="13667" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13673" class="Symbol">}</a>
<a id="default-rec-visible"></a><a id="13675" href="Meta.Deriving.Elim.html#13675" class="Function">default-rec-visible</a> <a id="13695" class="Symbol">=</a> <a id="13697" class="Keyword">record</a> <a id="13704" href="Meta.Deriving.Elim.html#13461" class="Function">default-elim-visible</a> <a id="13725" class="Symbol">{</a> <a id="13727" href="Meta.Deriving.Elim.html#2085" class="Field">induction</a> <a id="13737" class="Symbol">=</a> <a id="13739" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13745" class="Symbol">}</a>

<a id="_into_"></a><a id="13748" href="Meta.Deriving.Elim.html#13748" class="Function Operator">_into_</a> <a id="13755" class="Symbol">:</a> <a id="13757" href="Meta.Deriving.Elim.html#1931" class="Record">Elim-options</a> <a id="13770" class="Symbol">→</a> <a id="13772" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="13774" class="Symbol">→</a> <a id="13776" href="Meta.Deriving.Elim.html#1931" class="Record">Elim-options</a>
<a id="13789" href="Meta.Deriving.Elim.html#13789" class="Bound">opts</a> <a id="13794" href="Meta.Deriving.Elim.html#13748" class="Function Operator">into</a> <a id="13799" href="Meta.Deriving.Elim.html#13799" class="Bound">n</a> <a id="13801" class="Symbol">=</a> <a id="13803" class="Keyword">record</a> <a id="13810" href="Meta.Deriving.Elim.html#13789" class="Bound">opts</a> <a id="13815" class="Symbol">{</a> <a id="13817" href="Meta.Deriving.Elim.html#2188" class="Field">into-hlevel</a> <a id="13829" class="Symbol">=</a> <a id="13831" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13836" href="Meta.Deriving.Elim.html#13799" class="Bound">n</a> <a id="13838" class="Symbol">}</a>

<a id="make-elim"></a><a id="13841" href="Meta.Deriving.Elim.html#13841" class="Function">make-elim</a> <a id="make-rec"></a><a id="13851" href="Meta.Deriving.Elim.html#13851" class="Function">make-rec</a> <a id="13860" class="Symbol">:</a> <a id="13862" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="13867" class="Symbol">→</a> <a id="13869" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="13874" class="Symbol">→</a> <a id="13876" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="13879" href="Foundations.Notation.Logic.html#3670" class="Field">⊤</a>
<a id="13881" href="Meta.Deriving.Elim.html#13841" class="Function">make-elim</a> <a id="13891" class="Symbol">=</a> <a id="13893" href="Meta.Deriving.Elim.html#9669" class="Function">make-elim-with</a> <a id="13908" href="Meta.Deriving.Elim.html#13313" class="Function">default-elim</a>
<a id="13921" href="Meta.Deriving.Elim.html#13851" class="Function">make-rec</a> <a id="13930" class="Symbol">=</a> <a id="13932" href="Meta.Deriving.Elim.html#9669" class="Function">make-elim-with</a> <a id="13947" href="Meta.Deriving.Elim.html#13619" class="Function">default-rec</a>

<a id="make-elim-n"></a><a id="13960" href="Meta.Deriving.Elim.html#13960" class="Function">make-elim-n</a> <a id="make-rec-n"></a><a id="13972" href="Meta.Deriving.Elim.html#13972" class="Function">make-rec-n</a> <a id="13983" class="Symbol">:</a> <a id="13985" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="13987" class="Symbol">→</a> <a id="13989" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="13994" class="Symbol">→</a> <a id="13996" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="14001" class="Symbol">→</a> <a id="14003" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="14006" href="Foundations.Notation.Logic.html#3670" class="Field">⊤</a>
<a id="14008" href="Meta.Deriving.Elim.html#13960" class="Function">make-elim-n</a> <a id="14020" href="Meta.Deriving.Elim.html#14020" class="Bound">n</a> <a id="14022" class="Symbol">=</a> <a id="14024" href="Meta.Deriving.Elim.html#9669" class="Function">make-elim-with</a> <a id="14039" class="Symbol">(</a><a id="14040" href="Meta.Deriving.Elim.html#13313" class="Function">default-elim</a> <a id="14053" href="Meta.Deriving.Elim.html#13748" class="Function Operator">into</a> <a id="14058" href="Meta.Deriving.Elim.html#14020" class="Bound">n</a><a id="14059" class="Symbol">)</a>
<a id="14061" href="Meta.Deriving.Elim.html#13972" class="Function">make-rec-n</a> <a id="14072" href="Meta.Deriving.Elim.html#14072" class="Bound">n</a> <a id="14074" class="Symbol">=</a> <a id="14076" href="Meta.Deriving.Elim.html#9669" class="Function">make-elim-with</a> <a id="14091" class="Symbol">(</a><a id="14092" href="Meta.Deriving.Elim.html#13619" class="Function">default-rec</a> <a id="14104" href="Meta.Deriving.Elim.html#13748" class="Function Operator">into</a> <a id="14109" href="Meta.Deriving.Elim.html#14072" class="Bound">n</a><a id="14110" class="Symbol">)</a>


<a id="14114" class="Comment">-- Examples</a>
<a id="14126" class="Comment">-- be careful, they consume about ~10GB of memory</a>
<a id="14176" class="Comment">-- module _ where private</a>
  <a id="14204" class="Comment">-- open import Data.Bool.Base</a>
  <a id="14236" class="Comment">-- unquoteDecl Bool-elim = make-elim Bool-elim (quote Bool)</a>
  <a id="14298" class="Comment">-- unquoteDecl Bool-rec = make-rec Bool-rec (quote Bool)</a>

  <a id="14358" class="Comment">-- _ : {ℓ : Level} {P : Bool → 𝒰 ℓ}</a>
  <a id="14396" class="Comment">--   → P false</a>
  <a id="14413" class="Comment">--   → P true</a>
  <a id="14429" class="Comment">--   → Π[ b ꞉ Bool ] P b</a>
  <a id="14456" class="Comment">-- _ = Bool-elim</a>

  <a id="14476" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ}</a>
  <a id="14507" class="Comment">--   → A</a>
  <a id="14518" class="Comment">--   → A</a>
  <a id="14529" class="Comment">--   → Bool → A</a>
  <a id="14547" class="Comment">-- _ = Bool-rec</a>

  <a id="14566" class="Comment">-- open import Data.Nat.Base</a>
  <a id="14597" class="Comment">-- unquoteDecl ℕ-elim = make-elim ℕ-elim (quote ℕ)</a>
  <a id="14650" class="Comment">-- unquoteDecl ℕ-rec = make-rec ℕ-rec (quote ℕ)</a>

  <a id="14701" class="Comment">-- _ : {ℓ : Level} {P : ℕ → 𝒰 ℓ}</a>
  <a id="14736" class="Comment">--   → P 0</a>
  <a id="14749" class="Comment">--   → Π[ n ꞉ ℕ ] (P n → P (suc n))</a>
  <a id="14787" class="Comment">--   → Π[ n ꞉ ℕ ] P n</a>
  <a id="14811" class="Comment">-- _ = ℕ-elim</a>

  <a id="14828" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ}</a>
  <a id="14859" class="Comment">--   → A</a>
  <a id="14870" class="Comment">--   → (ℕ → A → A)</a>
  <a id="14891" class="Comment">--   → ℕ → A</a>
  <a id="14906" class="Comment">-- _ = ℕ-rec</a>

  <a id="14922" class="Comment">-- open import Data.Fin.Inductive.Base</a>
  <a id="14963" class="Comment">-- unquoteDecl Fin-elim = make-elim Fin-elim (quote Fin)</a>

  <a id="15023" class="Comment">-- _ : {ℓ : Level} {P : {@0 n : ℕ} → Fin n → 𝒰 ℓ}</a>
  <a id="15075" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] P fzero</a>
  <a id="15104" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] Π[ k ꞉ Fin m ] (P k → P (fsuc k))</a>
  <a id="15159" class="Comment">--   → ∀ᴱ[ n ꞉ ℕ ] Π[ x ꞉ Fin n ] P x</a>
  <a id="15199" class="Comment">-- _ = Fin-elim</a>

  <a id="15218" class="Comment">-- open import Data.List.Base</a>
  <a id="15250" class="Comment">-- unquoteDecl List-elim = make-elim List-elim (quote List)</a>
  <a id="15312" class="Comment">-- unquoteDecl List-rec = make-elim-with (record default-rec {hide-cons-args = true}) List-rec (quote List)</a>

  <a id="15423" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {P : List A → 𝒰 ℓ}</a>
  <a id="15487" class="Comment">--   → P []</a>
  <a id="15501" class="Comment">--   → Π[ y ꞉ A ] Π[ ys ꞉ List A ] (P ys → P (y ∷ ys))</a>
  <a id="15558" class="Comment">--   → Π[ xs ꞉ List A ] P xs</a>
  <a id="15589" class="Comment">-- _ = List-elim</a>

  <a id="15609" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {B : 𝒰 ℓ}</a>
  <a id="15664" class="Comment">--   → B</a>
  <a id="15675" class="Comment">--   → ∀[ x ꞉ A ] ∀[ xs ꞉ List A ] (B → B)</a>
  <a id="15720" class="Comment">--   → List A → B</a>
  <a id="15740" class="Comment">-- _ = List-rec</a>

  <a id="15759" class="Comment">-- open import Data.Vec.Inductive.Base</a>
  <a id="15800" class="Comment">-- unquoteDecl Vec-elim = make-elim Vec-elim (quote Vec)</a>

  <a id="15860" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {P : {@0 n : ℕ} → Vec A n → 𝒰 ℓ}</a>
  <a id="15938" class="Comment">--   → P []</a>
  <a id="15952" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] Π[ y ꞉ A ] Π[ ys ꞉ Vec A m ] (P ys → P (y ∷ ys))</a>
  <a id="16022" class="Comment">--   → ∀ᴱ[ n ꞉ ℕ ] Π[ xs ꞉ Vec A n ] P xs</a>
  <a id="16066" class="Comment">-- _ = Vec-elim</a>

  <a id="16085" class="Comment">-- open import Data.Id.Inductive</a>
  <a id="16120" class="Comment">-- unquoteDecl Id-elim = make-elim-with default-elim-visible Id-elim (quote _＝ⁱ_)</a>

  <a id="16205" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {a : A} {ℓ : Level}</a>
  <a id="16258" class="Comment">--     (P : Π[ b ꞉ A ] (a ＝ⁱ b → 𝒰 ℓ))</a>
  <a id="16299" class="Comment">--   → P a reflⁱ</a>
  <a id="16318" class="Comment">--   → Π[ x ꞉ A ] Π[ p ꞉ a ＝ⁱ x ] P x p</a>
  <a id="16360" class="Comment">-- _ = Id-elim</a>

  <a id="16378" class="Comment">-- open import Data.Truncation.Propositional.Base</a>
  <a id="16430" class="Comment">-- unquoteDecl ∥-∥₁-elim = make-elim ∥-∥₁-elim (quote ∥_∥₁)</a>
  <a id="16492" class="Comment">-- unquoteDecl ∥-∥₁-elim-prop = make-elim-n 1 ∥-∥₁-elim-prop (quote ∥_∥₁)</a>

  <a id="16569" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : ∥ A ∥₁ → 𝒰 ℓ′}</a>
  <a id="16633" class="Comment">--   → Π[ a ꞉ A ] P ∣ a ∣₁</a>
  <a id="16662" class="Comment">--   → Π[ a ꞉ ∥ A ∥₁ ] Π[ pᵃ ꞉ P a ] Π[ b ꞉ ∥ A ∥₁ ] Π[ pᵇ ꞉ P b ] ＜ pᵃ ／ (λ i → P (squash₁ a b i)) ＼ pᵇ ＞</a>
  <a id="16771" class="Comment">--   → Π[ x ꞉ ∥ A ∥₁ ] P x</a>
  <a id="16800" class="Comment">-- _ = ∥-∥₁-elim</a>

  <a id="16820" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : ∥ A ∥₁ → 𝒰 ℓ′}</a>
  <a id="16884" class="Comment">--   → Π[ a ꞉ ∥ A ∥₁ ] is-prop (P a)</a>
  <a id="16923" class="Comment">--   → Π[ a ꞉ A ] P ∣ a ∣₁</a>
  <a id="16952" class="Comment">--   → Π[ x ꞉ ∥ A ∥₁ ] P x</a>
  <a id="16981" class="Comment">-- _ = ∥-∥₁-elim-prop</a>

  <a id="17006" class="Comment">-- data S¹ : 𝒰 where</a>
  <a id="17029" class="Comment">--   base : S¹</a>
  <a id="17046" class="Comment">--   @0 loop : base ＝ base</a>

  <a id="17076" class="Comment">-- unquoteDecl S¹-elim = make-elim S¹-elim (quote S¹)</a>

  <a id="17133" class="Comment">-- _ : {ℓ : Level} {P : S¹ → 𝒰 ℓ}</a>
  <a id="17169" class="Comment">--     (Pbase : P base)</a>
  <a id="17195" class="Comment">--   → @0 Pathᴾ (λ i → P (loop i)) Pbase Pbase</a>
  <a id="17244" class="Comment">--   → (s : S¹) → P s</a>
  <a id="17268" class="Comment">-- _ = S¹-elim</a>


  <a id="17287" class="Comment">-- open import Data.Tree.Binary.Base</a>
  <a id="17326" class="Comment">-- unquoteDecl tree-elim = make-elim-with (record default-elim {hide-cons-args = true}) tree-elim (quote Tree)</a>

  <a id="17440" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : Tree A → 𝒰 ℓ′}</a>
  <a id="17504" class="Comment">--   → P empty</a>
  <a id="17521" class="Comment">--   → ∀[ a ꞉ A ] P (leaf a)</a>
  <a id="17552" class="Comment">--   → ∀[ t₁ ꞉ Tree A ] (P t₁ → ∀[ t₂ ꞉ Tree A ] (P t₂ → P (node t₁ t₂)))</a>
  <a id="17628" class="Comment">--   → Π[ t ꞉ Tree A ] P t</a>
  <a id="17657" class="Comment">-- _ = tree-elim</a>
</pre></body></html>