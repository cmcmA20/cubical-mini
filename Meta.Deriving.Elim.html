<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Deriving.Elim</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- Naïm Favier 2023</a>
<a id="21" class="Symbol">{-#</a> <a id="25" class="Keyword">OPTIONS</a> <a id="33" class="Pragma">--safe</a> <a id="40" class="Pragma">--no-exact-split</a> <a id="57" class="Symbol">#-}</a>
<a id="61" class="Keyword">module</a> <a id="68" href="Meta.Deriving.Elim.html" class="Module">Meta.Deriving.Elim</a> <a id="87" class="Keyword">where</a>

<a id="94" class="Keyword">open</a> <a id="99" class="Keyword">import</a> <a id="106" href="Meta.Prelude.html" class="Module">Meta.Prelude</a>
<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Meta.Effect.html" class="Module">Meta.Effect</a>
<a id="143" class="Keyword">open</a> <a id="148" class="Keyword">import</a> <a id="155" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>

<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="Logic.Discreteness.html" class="Module">Logic.Discreteness</a>

<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="231" class="Keyword">open</a> <a id="236" class="Keyword">import</a> <a id="243" href="Data.Dec.Base.html" class="Module">Data.Dec.Base</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="285" class="Symbol">as</a> <a id="288" class="Module">Maybe</a>
<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Data.Maybe.Instances.Bind.html" class="Module">Data.Maybe.Instances.Bind</a>
<a id="332" class="Keyword">open</a> <a id="337" class="Keyword">import</a> <a id="344" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="358" class="Keyword">open</a> <a id="363" class="Keyword">import</a> <a id="370" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="385" class="Keyword">open</a> <a id="390" class="Keyword">import</a> <a id="397" href="Data.List.Instances.Alt.html" class="Module">Data.List.Instances.Alt</a>
<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="Data.List.Instances.Append.html" class="Module">Data.List.Instances.Append</a>
<a id="460" class="Keyword">open</a> <a id="465" class="Keyword">import</a> <a id="472" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Data.List.Instances.Idiom.html" class="Module">Data.List.Instances.Idiom</a>
<a id="542" class="Keyword">open</a> <a id="547" class="Keyword">import</a> <a id="554" href="Data.List.Instances.Map.html" class="Module">Data.List.Instances.Map</a>
<a id="578" class="Keyword">open</a> <a id="583" class="Keyword">import</a> <a id="590" href="Data.List.Instances.Traversable.html" class="Module">Data.List.Instances.Traversable</a>
<a id="622" class="Keyword">open</a> <a id="627" class="Keyword">import</a> <a id="634" href="Data.List.Operations.html" class="Module">Data.List.Operations</a>
<a id="655" class="Keyword">open</a> <a id="660" class="Keyword">import</a> <a id="667" href="Data.List.Path.html" class="Module">Data.List.Path</a>
<a id="682" class="Keyword">open</a> <a id="687" class="Keyword">import</a> <a id="694" href="Data.Maybe.Instances.Alt.html" class="Module">Data.Maybe.Instances.Alt</a>
<a id="719" class="Keyword">open</a> <a id="724" class="Keyword">import</a> <a id="731" href="Data.Maybe.Instances.Traversable.html" class="Module">Data.Maybe.Instances.Traversable</a>
<a id="764" class="Keyword">open</a> <a id="769" class="Keyword">import</a> <a id="776" href="Data.Reflection.html" class="Module">Data.Reflection</a>
<a id="792" class="Keyword">open</a> <a id="797" class="Keyword">import</a> <a id="804" href="Data.String.Instances.Append.html" class="Module">Data.String.Instances.Append</a>
<a id="833" class="Keyword">open</a> <a id="838" class="Keyword">import</a> <a id="845" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a>

<a id="861" class="Comment">{-
A macro for generating induction principles for (higher, indexed) inductive types.

We support inductive types in the form presented in &quot;Pattern Matching Without K&quot;
by Cockx et al, section 3.1, with the addition of higher inductive types.
Reusing the terminology from that paper, the idea is to translate the constructors
of a data type into corresponding *methods* along with spines that tell us how to
apply them to build the eliminator&#39;s clauses.

When generating an eliminator into (n-2)-types, we automatically omit the methods that
follow from h-level (i.e. those corresponding to constructors with at least n
nested `Pathᴾ`s).

Due to limitations of the reflection interface, path constructors between composites
are not supported.
-}</a>

<a id="Replacements"></a><a id="1607" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a> <a id="1620" class="Symbol">=</a> <a id="1622" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1627" class="Symbol">(</a><a id="1628" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1633" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="1635" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1639" class="Symbol">)</a>

<a id="subst-replacements"></a><a id="1642" href="Meta.Deriving.Elim.html#1642" class="Function">subst-replacements</a> <a id="1661" class="Symbol">:</a> <a id="1663" href="Meta.Reflection.Subst.html#921" class="Datatype">Subst</a> <a id="1669" class="Symbol">→</a> <a id="1671" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a> <a id="1684" class="Symbol">→</a> <a id="1686" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="1692" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a>
<a id="1705" href="Meta.Deriving.Elim.html#1642" class="Function">subst-replacements</a> <a id="1724" href="Meta.Deriving.Elim.html#1724" class="Bound">s</a> <a id="1726" href="Meta.Deriving.Elim.html#1726" class="Bound">rs</a> <a id="1729" class="Symbol">=</a> <a id="1731" class="Keyword">do</a>
  <a id="1736" class="Keyword">let</a> <a id="1740" href="Meta.Deriving.Elim.html#1740" class="Bound">u</a> <a id="1742" class="Symbol">=</a> <a id="1744" href="Meta.Effect.Map.Base.html#257" class="Field">map</a> <a id="1748" class="Symbol">(</a><a id="1749" href="Foundations.Sigma.Base.html#1688" class="Function">bimap</a> <a id="1755" class="Symbol">(</a><a id="1756" href="Meta.Reflection.Subst.html#2113" class="Field">applyS</a> <a id="1763" href="Meta.Deriving.Elim.html#1724" class="Bound">s</a><a id="1764" class="Symbol">)</a> <a id="1766" class="Symbol">(</a><a id="1767" href="Meta.Reflection.Subst.html#2113" class="Field">applyS</a> <a id="1774" href="Meta.Deriving.Elim.html#1724" class="Bound">s</a><a id="1775" class="Symbol">))</a> <a id="1778" href="Meta.Deriving.Elim.html#1726" class="Bound">rs</a>
  <a id="1783" href="Meta.Effect.Traversable.html#418" class="Function">for</a> <a id="1787" href="Meta.Deriving.Elim.html#1740" class="Bound">u</a> <a id="1789" class="Symbol">λ</a> <a id="1791" class="Keyword">where</a> <a id="1797" class="Symbol">(</a><a id="1798" href="Meta.Deriving.Elim.html#1798" class="Bound">ma</a> <a id="1801" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1803" href="Meta.Deriving.Elim.html#1803" class="Bound">mb</a><a id="1805" class="Symbol">)</a> <a id="1807" class="Symbol">→</a> <a id="1809" class="Symbol">⦇</a> <a id="1811" href="Meta.Deriving.Elim.html#1798" class="Bound">ma</a> <a id="1814" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1816" href="Meta.Deriving.Elim.html#1803" class="Bound">mb</a> <a id="1819" class="Symbol">⦈</a>

<a id="1822" class="Keyword">instance</a>
  <a id="Has-subst-Replacements"></a><a id="1833" href="Meta.Deriving.Elim.html#1833" class="Function">Has-subst-Replacements</a> <a id="1856" class="Symbol">:</a> <a id="1858" href="Meta.Reflection.Subst.html#2056" class="Record">Has-subst</a> <a id="1868" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a>
  <a id="1883" href="Meta.Deriving.Elim.html#1833" class="Function">Has-subst-Replacements</a> <a id="1906" class="Symbol">=</a> <a id="1908" class="Keyword">record</a> <a id="1915" class="Symbol">{</a> <a id="1917" href="Meta.Reflection.Subst.html#2113" class="Field">applyS</a> <a id="1924" class="Symbol">=</a> <a id="1926" href="Meta.Deriving.Elim.html#1642" class="Function">subst-replacements</a> <a id="1945" class="Symbol">}</a>

<a id="1948" class="Keyword">record</a> <a id="Elim-options"></a><a id="1955" href="Meta.Deriving.Elim.html#1955" class="Record">Elim-options</a> <a id="1968" class="Symbol">:</a> <a id="1970" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1975" class="Keyword">where</a>
  <a id="1983" class="Keyword">field</a>
    <a id="1993" class="Comment">-- Whether to generate an induction principle or a recursion principle.</a>
    <a id="2069" class="Comment">-- (P : D → Type ℓ) vs (P : Type ℓ)</a>
    <a id="Elim-options.induction"></a><a id="2109" href="Meta.Deriving.Elim.html#2109" class="Field">induction</a> <a id="2119" class="Symbol">:</a> <a id="2121" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2131" class="Comment">-- If `just n`, assume the motive has hlevel n and omit methods accordingly.</a>
    <a id="Elim-options.into-hlevel"></a><a id="2212" href="Meta.Deriving.Elim.html#2212" class="Field">into-hlevel</a> <a id="2224" class="Symbol">:</a> <a id="2226" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2232" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

    <a id="2239" class="Comment">-- Hide the motive argument in the eliminator&#39;s type?</a>
    <a id="2297" class="Comment">-- (P : D → Type ℓ) vs. {P : D → Type ℓ}</a>
    <a id="Elim-options.hide-motive"></a><a id="2342" href="Meta.Deriving.Elim.html#2342" class="Field">hide-motive</a> <a id="2354" class="Symbol">:</a> <a id="2356" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2366" class="Comment">-- Hide the indices in the motive&#39;s type?</a>
    <a id="2412" class="Comment">-- (P : (is : Ξ) → D is → Type ℓ) vs. (P : {is : Ξ} → D is → Type ℓ)</a>
    <a id="Elim-options.hide-indices"></a><a id="2485" href="Meta.Deriving.Elim.html#2485" class="Field">hide-indices</a> <a id="2498" class="Symbol">:</a> <a id="2500" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

    <a id="2510" class="Comment">-- Hide non-inductive hypotheses in method types?</a>
    <a id="2564" class="Comment">-- (Psup : (x : A) (f : B x → W A B) (Pf : ∀ b → P (f b)) → P (sup x f))</a>
    <a id="2641" class="Comment">-- vs.</a>
    <a id="2652" class="Comment">-- (Psup : {x : A} {f : B x → W A B} (Pf : ∀ b → P (f b)) → P (sup x f))</a>
    <a id="2729" class="Comment">-- Arguments hidden in the constructor&#39;s type are always hidden.</a>
    <a id="Elim-options.hide-cons-args"></a><a id="2798" href="Meta.Deriving.Elim.html#2798" class="Field">hide-cons-args</a> <a id="2813" class="Symbol">:</a> <a id="2815" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a>

<a id="2821" class="Keyword">private</a>
 <a id="2830" class="Keyword">module</a> <a id="Induction"></a><a id="2837" href="Meta.Deriving.Elim.html#2837" class="Module">Induction</a>
  <a id="2849" class="Symbol">(</a><a id="2850" href="Meta.Deriving.Elim.html#2850" class="Bound">opts</a> <a id="2855" class="Symbol">:</a> <a id="2857" href="Meta.Deriving.Elim.html#1955" class="Record">Elim-options</a><a id="2869" class="Symbol">)</a>
  <a id="2873" class="Symbol">(</a><a id="2874" href="Meta.Deriving.Elim.html#2874" class="Bound">D</a> <a id="2876" class="Symbol">:</a> <a id="2878" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2882" class="Symbol">)</a> <a id="2884" class="Symbol">(</a><a id="2885" href="Meta.Deriving.Elim.html#2885" class="Bound">pars</a> <a id="2890" class="Symbol">:</a> <a id="2892" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2893" class="Symbol">)</a> <a id="2895" class="Symbol">(</a><a id="2896" href="Meta.Deriving.Elim.html#2896" class="Bound">ix-tel</a> <a id="2903" class="Symbol">:</a> <a id="2905" href="Data.Reflection.Term.html#878" class="Function">Telescope</a><a id="2914" class="Symbol">)</a> <a id="2916" class="Symbol">(</a><a id="2917" href="Meta.Deriving.Elim.html#2917" class="Bound">cs</a> <a id="2920" class="Symbol">:</a> <a id="2922" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2927" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="2931" class="Symbol">)</a>
  <a id="2935" class="Keyword">where</a>

  <a id="2944" class="Keyword">open</a> <a id="2949" href="Meta.Deriving.Elim.html#1955" class="Module">Elim-options</a> <a id="2962" href="Meta.Deriving.Elim.html#2850" class="Bound">opts</a>

  <a id="2970" class="Comment">-- Given a term c : T, produce a replacement c↑ : T↑ (see below).</a>
  <a id="3038" class="Comment">-- The Replacements argument maps constructors and variables to their</a>
  <a id="3110" class="Comment">-- lifted version.</a>
  <a id="Induction.replace"></a><a id="3131" href="Meta.Deriving.Elim.html#3131" class="Function">replace</a>  <a id="3140" class="Symbol">:</a> <a id="3142" class="Symbol">(</a><a id="3143" href="Meta.Deriving.Elim.html#3143" class="Bound">fuel</a> <a id="3148" class="Symbol">:</a> <a id="3150" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3151" class="Symbol">)</a> <a id="3153" class="Symbol">→</a> <a id="3155" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a> <a id="3168" class="Symbol">→</a> <a id="3170" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3175" class="Symbol">→</a> <a id="3177" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3183" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="Induction.replace*"></a><a id="3190" href="Meta.Deriving.Elim.html#3190" class="Function">replace*</a> <a id="3199" class="Symbol">:</a> <a id="3201" class="Symbol">(</a><a id="3202" href="Meta.Deriving.Elim.html#3202" class="Bound">fuel</a> <a id="3207" class="Symbol">:</a> <a id="3209" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3210" class="Symbol">)</a> <a id="3212" class="Symbol">→</a> <a id="3214" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a> <a id="3227" class="Symbol">→</a> <a id="3229" href="Data.Reflection.Term.html#916" class="Function">Args</a> <a id="3234" class="Symbol">→</a> <a id="3236" href="Data.Reflection.Term.html#916" class="Function">Args</a>

  <a id="Induction.lookupR"></a><a id="3244" href="Meta.Deriving.Elim.html#3244" class="Function">lookupR</a> <a id="3252" class="Symbol">:</a> <a id="3254" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3259" class="Symbol">→</a> <a id="3261" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a> <a id="3274" class="Symbol">→</a> <a id="3276" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3282" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="3289" href="Meta.Deriving.Elim.html#3244" class="Function">lookupR</a> <a id="3297" href="Meta.Deriving.Elim.html#3297" class="Bound">t</a> <a id="3299" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3302" class="Symbol">=</a> <a id="3304" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="3314" href="Meta.Deriving.Elim.html#3244" class="Function">lookupR</a> <a id="3322" href="Meta.Deriving.Elim.html#3322" class="Bound">t</a><a id="3323" class="Symbol">@(</a><a id="3325" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3329" href="Meta.Deriving.Elim.html#3329" class="Bound">c</a> <a id="3331" class="Symbol">_)</a> <a id="3334" class="Symbol">((</a><a id="3336" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3340" href="Meta.Deriving.Elim.html#3340" class="Bound">c′</a> <a id="3343" class="Symbol">_</a> <a id="3345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3347" href="Meta.Deriving.Elim.html#3347" class="Bound">r</a><a id="3348" class="Symbol">)</a> <a id="3350" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3352" href="Meta.Deriving.Elim.html#3352" class="Bound">rs</a><a id="3354" class="Symbol">)</a> <a id="3356" class="Keyword">with</a> <a id="3361" href="Meta.Deriving.Elim.html#3329" class="Bound">c</a> <a id="3363" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">name=?</a> <a id="3370" href="Meta.Deriving.Elim.html#3340" class="Bound">c′</a>
  <a id="3375" class="Symbol">...</a> <a id="3379" class="Symbol">|</a> <a id="3381" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3387" class="Symbol">=</a> <a id="3389" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3394" class="Bound">r</a>
  <a id="3398" class="Symbol">...</a> <a id="3402" class="Symbol">|</a> <a id="3404" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3410" class="Symbol">=</a> <a id="3412" href="Meta.Deriving.Elim.html#3244" class="Function">lookupR</a> <a id="3420" class="Bound">t</a> <a id="3422" class="Bound">rs</a>
  <a id="3427" href="Meta.Deriving.Elim.html#3244" class="Function">lookupR</a> <a id="3435" href="Meta.Deriving.Elim.html#3435" class="Bound">t</a><a id="3436" class="Symbol">@(</a><a id="3438" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3442" href="Meta.Deriving.Elim.html#3442" class="Bound">i</a> <a id="3444" class="Symbol">_)</a> <a id="3447" class="Symbol">((</a><a id="3449" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3453" href="Meta.Deriving.Elim.html#3453" class="Bound">i′</a> <a id="3456" class="Symbol">_</a> <a id="3458" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3460" href="Meta.Deriving.Elim.html#3460" class="Bound">r</a><a id="3461" class="Symbol">)</a> <a id="3463" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3465" href="Meta.Deriving.Elim.html#3465" class="Bound">rs</a><a id="3467" class="Symbol">)</a> <a id="3469" class="Keyword">with</a> <a id="3474" href="Meta.Deriving.Elim.html#3442" class="Bound">i</a> <a id="3476" href="Agda.Builtin.Nat.html#631" class="Primitive Operator">==</a> <a id="3479" href="Meta.Deriving.Elim.html#3453" class="Bound">i′</a>
  <a id="3484" class="Symbol">...</a> <a id="3488" class="Symbol">|</a> <a id="3490" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="3496" class="Symbol">=</a> <a id="3498" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3503" class="Bound">r</a>
  <a id="3507" class="Symbol">...</a> <a id="3511" class="Symbol">|</a> <a id="3513" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3519" class="Symbol">=</a> <a id="3521" href="Meta.Deriving.Elim.html#3244" class="Function">lookupR</a> <a id="3529" class="Bound">t</a> <a id="3531" class="Bound">rs</a>
  <a id="3536" href="Meta.Deriving.Elim.html#3244" class="CatchallClause Function">lookupR</a><a id="3543" class="CatchallClause"> </a><a id="3544" href="Meta.Deriving.Elim.html#3544" class="CatchallClause Bound">t</a><a id="3545" class="CatchallClause"> </a><a id="3546" class="CatchallClause Symbol">(_</a><a id="3548" class="CatchallClause"> </a><a id="3549" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3550" class="CatchallClause"> </a><a id="3551" href="Meta.Deriving.Elim.html#3551" class="CatchallClause Bound">rs</a><a id="3553" class="CatchallClause Symbol">)</a> <a id="3555" class="Symbol">=</a> <a id="3557" href="Meta.Deriving.Elim.html#3244" class="Function">lookupR</a> <a id="3565" href="Meta.Deriving.Elim.html#3544" class="Bound">t</a> <a id="3567" href="Meta.Deriving.Elim.html#3551" class="Bound">rs</a>

  <a id="3573" href="Meta.Deriving.Elim.html#3131" class="Function">replace</a> <a id="3581" class="Number">0</a> <a id="3583" class="Symbol">_</a> <a id="3585" class="Symbol">_</a> <a id="3587" class="Symbol">=</a> <a id="3589" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="3599" href="Meta.Deriving.Elim.html#3131" class="Function">replace</a> <a id="3607" class="Symbol">(</a><a id="3608" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3612" href="Meta.Deriving.Elim.html#3612" class="Bound">fuel</a><a id="3616" class="Symbol">)</a> <a id="3618" href="Meta.Deriving.Elim.html#3618" class="Bound">rs</a> <a id="3621" class="Symbol">(</a><a id="3622" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="3626" href="Meta.Deriving.Elim.html#3626" class="Bound">v</a> <a id="3628" class="Symbol">(</a><a id="3629" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3633" href="Meta.Deriving.Elim.html#3633" class="Bound">n</a> <a id="3635" href="Meta.Deriving.Elim.html#3635" class="Bound">t</a><a id="3636" class="Symbol">))</a> <a id="3639" class="Symbol">=</a> <a id="3641" class="Keyword">do</a>
    <a id="3648" href="Meta.Deriving.Elim.html#3648" class="Bound">rs′</a> <a id="3652" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="3654" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="3660" class="Number">1</a> <a id="3662" href="Meta.Deriving.Elim.html#3618" class="Bound">rs</a>
    <a id="3669" href="Meta.Deriving.Elim.html#3669" class="Bound">t′</a>  <a id="3673" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="3675" href="Meta.Deriving.Elim.html#3131" class="Function">replace</a> <a id="3683" href="Meta.Deriving.Elim.html#3612" class="Bound">fuel</a> <a id="3688" href="Meta.Deriving.Elim.html#3648" class="Bound">rs′</a> <a id="3692" href="Meta.Deriving.Elim.html#3635" class="Bound">t</a>
    <a id="3698" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="3703" class="Symbol">(</a><a id="3704" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="3708" href="Meta.Deriving.Elim.html#3626" class="Bound">v</a> <a id="3710" class="Symbol">(</a><a id="3711" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3715" href="Meta.Deriving.Elim.html#3633" class="Bound">n</a> <a id="3717" href="Meta.Deriving.Elim.html#3669" class="Bound">t′</a><a id="3719" class="Symbol">))</a>
  <a id="3724" href="Meta.Deriving.Elim.html#3131" class="Function">replace</a> <a id="3732" class="Symbol">(</a><a id="3733" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3737" href="Meta.Deriving.Elim.html#3737" class="Bound">fuel</a><a id="3741" class="Symbol">)</a> <a id="3743" href="Meta.Deriving.Elim.html#3743" class="Bound">rs</a> <a id="3746" href="Meta.Deriving.Elim.html#3746" class="Bound">t</a><a id="3747" class="Symbol">@(</a><a id="3749" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="3753" href="Meta.Deriving.Elim.html#3753" class="Bound">c</a> <a id="3755" href="Meta.Deriving.Elim.html#3755" class="Bound">args</a><a id="3759" class="Symbol">)</a> <a id="3761" class="Symbol">=</a> <a id="3763" class="Keyword">do</a>
    <a id="3770" href="Meta.Deriving.Elim.html#3770" class="Bound">r</a> <a id="3772" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="3774" href="Meta.Deriving.Elim.html#3244" class="Function">lookupR</a> <a id="3782" href="Meta.Deriving.Elim.html#3746" class="Bound">t</a> <a id="3784" href="Meta.Deriving.Elim.html#3743" class="Bound">rs</a>
    <a id="3791" href="Meta.Reflection.Subst.html#3517" class="Function">apply-tm*</a> <a id="3801" href="Meta.Deriving.Elim.html#3737" class="Bound">fuel</a> <a id="3806" href="Meta.Deriving.Elim.html#3770" class="Bound">r</a> <a id="3808" class="Symbol">(</a><a id="3809" href="Meta.Deriving.Elim.html#3190" class="Function">replace*</a> <a id="3818" href="Meta.Deriving.Elim.html#3737" class="Bound">fuel</a> <a id="3823" href="Meta.Deriving.Elim.html#3743" class="Bound">rs</a> <a id="3826" class="Symbol">(</a><a id="3827" href="Data.List.Operations.html#2595" class="Function">drop</a> <a id="3832" href="Meta.Deriving.Elim.html#2885" class="Bound">pars</a> <a id="3837" href="Meta.Deriving.Elim.html#3755" class="Bound">args</a><a id="3841" class="Symbol">))</a>
  <a id="3846" href="Meta.Deriving.Elim.html#3131" class="Function">replace</a> <a id="3854" class="Symbol">(</a><a id="3855" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3859" href="Meta.Deriving.Elim.html#3859" class="Bound">fuel</a><a id="3863" class="Symbol">)</a> <a id="3865" href="Meta.Deriving.Elim.html#3865" class="Bound">rs</a> <a id="3868" href="Meta.Deriving.Elim.html#3868" class="Bound">t</a><a id="3869" class="Symbol">@(</a><a id="3871" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3875" href="Meta.Deriving.Elim.html#3875" class="Bound">i</a> <a id="3877" href="Meta.Deriving.Elim.html#3877" class="Bound">args</a><a id="3881" class="Symbol">)</a> <a id="3883" class="Symbol">=</a> <a id="3885" class="Keyword">do</a>
    <a id="3892" href="Meta.Deriving.Elim.html#3892" class="Bound">r</a> <a id="3894" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="3896" href="Meta.Deriving.Elim.html#3244" class="Function">lookupR</a> <a id="3904" href="Meta.Deriving.Elim.html#3868" class="Bound">t</a> <a id="3906" href="Meta.Deriving.Elim.html#3865" class="Bound">rs</a>
    <a id="3913" href="Meta.Reflection.Subst.html#3517" class="Function">apply-tm*</a> <a id="3923" href="Meta.Deriving.Elim.html#3859" class="Bound">fuel</a> <a id="3928" href="Meta.Deriving.Elim.html#3892" class="Bound">r</a> <a id="3930" class="Symbol">(</a><a id="3931" href="Meta.Deriving.Elim.html#3190" class="Function">replace*</a> <a id="3940" href="Meta.Deriving.Elim.html#3859" class="Bound">fuel</a> <a id="3945" href="Meta.Deriving.Elim.html#3865" class="Bound">rs</a> <a id="3948" href="Meta.Deriving.Elim.html#3877" class="Bound">args</a><a id="3952" class="Symbol">)</a>
  <a id="3956" href="Meta.Deriving.Elim.html#3131" class="CatchallClause Function">replace</a><a id="3963" class="CatchallClause"> </a><a id="3964" class="CatchallClause Symbol">(</a><a id="3965" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="3968" class="CatchallClause"> </a><a id="3969" href="Meta.Deriving.Elim.html#3969" class="CatchallClause Bound">fuel</a><a id="3973" class="CatchallClause Symbol">)</a><a id="3974" class="CatchallClause"> </a><a id="3975" href="Meta.Deriving.Elim.html#3975" class="CatchallClause Bound">rs</a><a id="3977" class="CatchallClause"> </a><a id="3978" class="CatchallClause Symbol">_</a> <a id="3980" class="Symbol">=</a> <a id="3982" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="3993" href="Meta.Deriving.Elim.html#3190" class="Function">replace*</a> <a id="4002" class="Number">0</a> <a id="4004" class="Symbol">_</a> <a id="4006" class="Symbol">_</a> <a id="4008" class="Symbol">=</a> <a id="4010" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="4015" href="Meta.Deriving.Elim.html#3190" class="Function">replace*</a> <a id="4024" class="Symbol">(</a><a id="4025" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4029" href="Meta.Deriving.Elim.html#4029" class="Bound">fuel</a><a id="4033" class="Symbol">)</a> <a id="4035" href="Meta.Deriving.Elim.html#4035" class="Bound">rs</a> <a id="4038" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="4041" class="Symbol">=</a> <a id="4043" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="4048" href="Meta.Deriving.Elim.html#3190" class="Function">replace*</a> <a id="4057" class="Symbol">(</a><a id="4058" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4062" href="Meta.Deriving.Elim.html#4062" class="Bound">fuel</a><a id="4066" class="Symbol">)</a> <a id="4068" href="Meta.Deriving.Elim.html#4068" class="Bound">rs</a> <a id="4071" class="Symbol">(</a><a id="4072" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4076" href="Meta.Deriving.Elim.html#4076" class="Bound">ai</a> <a id="4079" href="Meta.Deriving.Elim.html#4079" class="Bound">t</a> <a id="4081" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4083" href="Meta.Deriving.Elim.html#4083" class="Bound">as</a><a id="4085" class="Symbol">)</a> <a id="4087" class="Keyword">with</a> <a id="4092" href="Meta.Deriving.Elim.html#3131" class="Function">replace</a> <a id="4100" href="Meta.Deriving.Elim.html#4062" class="Bound">fuel</a> <a id="4105" href="Meta.Deriving.Elim.html#4068" class="Bound">rs</a> <a id="4108" href="Meta.Deriving.Elim.html#4079" class="Bound">t</a>
  <a id="4112" class="Symbol">...</a> <a id="4116" class="Symbol">|</a> <a id="4118" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="4123" href="Meta.Deriving.Elim.html#4123" class="Bound">t′</a> <a id="4126" class="Symbol">=</a> <a id="4128" href="Meta.Reflection.Argument.html#1062" class="Function">hide-if</a> <a id="4136" href="Meta.Deriving.Elim.html#2798" class="Function">hide-cons-args</a> <a id="4151" class="Symbol">(</a><a id="4152" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4156" class="Bound">ai</a> <a id="4159" class="Bound">t</a><a id="4160" class="Symbol">)</a> <a id="4162" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4164" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4168" class="Bound">ai</a> <a id="4171" href="Meta.Deriving.Elim.html#4123" class="Bound">t′</a> <a id="4174" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4176" href="Meta.Deriving.Elim.html#3190" class="Function">replace*</a> <a id="4185" class="Bound">fuel</a> <a id="4190" class="Bound">rs</a> <a id="4193" class="Bound">as</a>
  <a id="4198" class="Symbol">...</a> <a id="4202" class="Symbol">|</a> <a id="4204" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="4212" class="Symbol">=</a> <a id="4214" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4218" class="Bound">ai</a> <a id="4221" class="Bound">t</a> <a id="4223" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4225" href="Meta.Deriving.Elim.html#3190" class="Function">replace*</a> <a id="4234" class="Bound">fuel</a> <a id="4239" class="Bound">rs</a> <a id="4242" class="Bound">as</a>

  <a id="4248" class="Comment">{-
  The main part of the algorithm: computes the method associated to a constructor.

  In detail, given
    a motive `P : (is : Ξ) → D ps is → Type ℓ`
    a term `c : T = Δ → D ps is`
  produces
    the &quot;lifted&quot; type `T↑ = Δ↑ → P is (c ρ)`
      where `Δ↑ ⊢ ρ : Δ` is an embedding
      where types of the form `S = Φ → D ps is` in Δ are replaced recursively with `{S}, S↑` in Δ↑
      (this only occurs with a recursion depth of 1 due to strict positivity)
    and a spine α such that
      rec : Π P, Δ ⊢ α : Δ↑
      where Π P = (is : Ξ) → (d : D ps is) → P is d
  or nothing if T doesn&#39;t end in `D ps`.

  Example: W A B
    sup : (a : A) (f : B a → W A B) → W A B
      f : B a → W A B
      display f = ((b : B a) → P (f b))
                , (_ : Π P, b : B a ⊢ b : B a)
    display sup = ((a : A) {f : B a → W A B} (pf : ∀ b → P (f b)) → P (sup a f))
                , (rec : Π P, a : A, f : B a → W A B ⊢ a, {f}, (λ b → rec (f b)))
  -}</a>

  <a id="Induction.display"></a><a id="5199" href="Meta.Deriving.Elim.html#5199" class="Function">display</a>
    <a id="5211" class="Symbol">:</a> <a id="5213" class="Symbol">(</a><a id="5214" href="Meta.Deriving.Elim.html#5214" class="Bound">fuel</a> <a id="5219" href="Meta.Deriving.Elim.html#5219" class="Bound">depth</a> <a id="5225" class="Symbol">:</a> <a id="5227" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="5228" class="Symbol">)</a>
    <a id="5234" class="Symbol">→</a> <a id="5236" class="Symbol">(</a><a id="5237" href="Meta.Deriving.Elim.html#5237" class="Bound">ps</a> <a id="5240" class="Symbol">:</a> <a id="5242" href="Data.Reflection.Term.html#916" class="Function">Args</a><a id="5246" class="Symbol">)</a> <a id="5248" class="Comment">-- D&#39;s parameters</a>
    <a id="5270" class="Symbol">→</a> <a id="5272" class="Symbol">(</a><a id="5273" href="Meta.Deriving.Elim.html#5273" class="Bound">P</a> <a id="5275" class="Symbol">:</a> <a id="5277" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5281" class="Symbol">)</a>
    <a id="5287" class="Symbol">→</a> <a id="5289" class="Symbol">(</a><a id="5290" href="Meta.Deriving.Elim.html#5290" class="Bound">rs</a> <a id="5293" class="Symbol">:</a> <a id="5295" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a><a id="5307" class="Symbol">)</a> <a id="5309" class="Comment">-- a list of replacements from terms to their lifted version,</a>
                          <a id="5397" class="Comment">-- used for correcting path boundaries</a>
    <a id="5440" class="Symbol">→</a> <a id="5442" class="Symbol">(</a><a id="5443" href="Meta.Deriving.Elim.html#5443" class="Bound">rec</a> <a id="5447" class="Symbol">:</a> <a id="5449" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5453" class="Symbol">)</a> <a id="5455" class="Comment">-- a variable for explicit recursion</a>
    <a id="5496" class="Symbol">→</a> <a id="5498" class="Symbol">(</a><a id="5499" href="Meta.Deriving.Elim.html#5499" class="Bound">α</a> <a id="5501" class="Symbol">:</a> <a id="5503" href="Data.Reflection.Term.html#916" class="Function">Args</a><a id="5507" class="Symbol">)</a> <a id="5509" class="Comment">-- accumulator for the spine</a>
    <a id="5542" class="Symbol">→</a> <a id="5544" class="Symbol">(</a><a id="5545" href="Meta.Deriving.Elim.html#5545" class="Bound">c</a> <a id="5547" class="Symbol">:</a> <a id="5549" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5553" class="Symbol">)</a> <a id="5555" class="Symbol">(</a><a id="5556" href="Meta.Deriving.Elim.html#5556" class="Bound">T</a> <a id="5558" class="Symbol">:</a> <a id="5560" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="5564" class="Symbol">)</a>
    <a id="5570" class="Symbol">→</a> <a id="5572" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="5578" class="Symbol">(</a><a id="5579" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="5584" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="5586" href="Data.Reflection.Term.html#916" class="Function">Args</a><a id="5590" class="Symbol">)</a> <a id="5592" class="Comment">-- (T↑ , α)</a>
  <a id="5606" href="Meta.Deriving.Elim.html#5199" class="Function">display</a> <a id="5614" class="Number">0</a> <a id="5616" class="Symbol">_</a> <a id="5618" class="Symbol">_</a> <a id="5620" class="Symbol">_</a> <a id="5622" class="Symbol">_</a> <a id="5624" class="Symbol">_</a> <a id="5626" class="Symbol">_</a> <a id="5628" class="Symbol">_</a> <a id="5630" class="Symbol">_</a> <a id="5632" class="Symbol">=</a> <a id="5634" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="5644" href="Meta.Deriving.Elim.html#5199" class="Function">display</a> <a id="5652" class="Symbol">(</a><a id="5653" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5657" href="Meta.Deriving.Elim.html#5657" class="Bound">fuel</a><a id="5661" class="Symbol">)</a> <a id="5663" href="Meta.Deriving.Elim.html#5663" class="Bound">depth</a> <a id="5669" href="Meta.Deriving.Elim.html#5669" class="Bound">ps</a> <a id="5672" href="Meta.Deriving.Elim.html#5672" class="Bound">P</a> <a id="5674" href="Meta.Deriving.Elim.html#5674" class="Bound">rs</a> <a id="5677" href="Meta.Deriving.Elim.html#5677" class="Bound">rec</a> <a id="5681" href="Meta.Deriving.Elim.html#5681" class="Bound">α</a> <a id="5683" href="Meta.Deriving.Elim.html#5683" class="Bound">c</a> <a id="5685" class="Symbol">(</a><a id="5686" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="5689" class="Symbol">(</a><a id="5690" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5694" href="Meta.Deriving.Elim.html#5694" class="Bound">ai</a> <a id="5697" href="Meta.Deriving.Elim.html#5697" class="Bound">x</a><a id="5698" class="Symbol">)</a> <a id="5700" class="Symbol">(</a><a id="5701" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="5705" href="Meta.Deriving.Elim.html#5705" class="Bound">n</a> <a id="5707" href="Meta.Deriving.Elim.html#5707" class="Bound">y</a><a id="5708" class="Symbol">))</a> <a id="5711" class="Symbol">=</a> <a id="5713" class="Keyword">do</a>
    <a id="5720" href="Meta.Deriving.Elim.html#5720" class="Bound">ps</a>  <a id="5724" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="5726" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="5732" class="Number">1</a> <a id="5734" href="Meta.Deriving.Elim.html#5669" class="Bound">ps</a>
    <a id="5741" href="Meta.Deriving.Elim.html#5741" class="Bound">P</a>   <a id="5745" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="5747" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="5753" class="Number">1</a> <a id="5755" href="Meta.Deriving.Elim.html#5672" class="Bound">P</a>
    <a id="5761" href="Meta.Deriving.Elim.html#5761" class="Bound">rs</a>  <a id="5765" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="5767" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="5773" class="Number">1</a> <a id="5775" href="Meta.Deriving.Elim.html#5674" class="Bound">rs</a>
    <a id="5782" href="Meta.Deriving.Elim.html#5782" class="Bound">rec</a> <a id="5786" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="5788" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="5794" class="Number">1</a> <a id="5796" href="Meta.Deriving.Elim.html#5677" class="Bound">rec</a>
    <a id="5804" href="Meta.Deriving.Elim.html#5804" class="Bound">α</a>   <a id="5808" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="5810" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="5816" class="Number">1</a> <a id="5818" href="Meta.Deriving.Elim.html#5681" class="Bound">α</a>
    <a id="5824" href="Meta.Deriving.Elim.html#5824" class="Bound">c</a>   <a id="5828" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="5830" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="5836" class="Number">1</a> <a id="5838" href="Meta.Deriving.Elim.html#5683" class="Bound">c</a>
    <a id="5844" class="Keyword">let</a> <a id="5848" href="Meta.Deriving.Elim.html#5848" class="Bound">base</a> <a id="5853" class="Symbol">=</a> <a id="5855" class="Keyword">do</a>
      <a id="5864" href="Meta.Deriving.Elim.html#5864" class="Bound">c</a> <a id="5866" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="5868" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="5873" href="Meta.Deriving.Elim.html#5824" class="Bound">c</a> <a id="5875" href="Meta.Reflection.Subst.html#6847" class="Function Operator">&lt;#&gt;</a> <a id="5879" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5883" href="Meta.Deriving.Elim.html#5694" class="Bound">ai</a> <a id="5886" class="Symbol">(</a><a id="5887" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="5892" class="Number">0</a><a id="5893" class="Symbol">)</a>
      <a id="5901" class="Keyword">let</a> <a id="5905" href="Meta.Deriving.Elim.html#5905" class="Bound">α</a> <a id="5907" class="Symbol">=</a> <a id="5909" href="Meta.Deriving.Elim.html#5804" class="Bound">α</a> <a id="5911" href="Data.List.Operations.html#694" class="Function Operator">∷r</a> <a id="5914" href="Meta.Reflection.Argument.html#1062" class="Function">hide-if</a> <a id="5922" href="Meta.Deriving.Elim.html#2798" class="Function">hide-cons-args</a> <a id="5937" class="Symbol">(</a><a id="5938" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5942" href="Meta.Deriving.Elim.html#5694" class="Bound">ai</a> <a id="5945" class="Symbol">(</a><a id="5946" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="5951" class="Number">0</a><a id="5952" class="Symbol">))</a>
      <a id="5961" href="Meta.Deriving.Elim.html#5199" class="Function">display</a> <a id="5969" href="Meta.Deriving.Elim.html#5657" class="Bound">fuel</a> <a id="5974" href="Meta.Deriving.Elim.html#5663" class="Bound">depth</a> <a id="5980" href="Meta.Deriving.Elim.html#5720" class="Bound">ps</a> <a id="5983" href="Meta.Deriving.Elim.html#5741" class="Bound">P</a> <a id="5985" href="Meta.Deriving.Elim.html#5761" class="Bound">rs</a> <a id="5988" href="Meta.Deriving.Elim.html#5782" class="Bound">rec</a> <a id="5992" href="Meta.Deriving.Elim.html#5905" class="Bound">α</a> <a id="5994" href="Meta.Deriving.Elim.html#5864" class="Bound">c</a> <a id="5996" href="Meta.Deriving.Elim.html#5707" class="Bound">y</a> <a id="5998" href="Meta.Effect.Map.Base.html#508" class="Function Operator">&lt;&amp;&gt;</a> <a id="6002" href="Foundations.Sigma.Base.html#2098" class="Function">first</a> <a id="6008" class="Symbol">λ</a> <a id="6010" href="Meta.Deriving.Elim.html#6010" class="Bound">y</a> <a id="6012" class="Symbol">→</a>
        <a id="6022" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6025" class="Symbol">(</a><a id="6026" href="Meta.Reflection.Argument.html#1062" class="Function">hide-if</a> <a id="6034" href="Meta.Deriving.Elim.html#2798" class="Function">hide-cons-args</a> <a id="6049" class="Symbol">(</a><a id="6050" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6054" href="Meta.Deriving.Elim.html#5694" class="Bound">ai</a> <a id="6057" href="Meta.Deriving.Elim.html#5697" class="Bound">x</a><a id="6058" class="Symbol">))</a> <a id="6061" class="Symbol">(</a><a id="6062" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6066" href="Meta.Deriving.Elim.html#5705" class="Bound">n</a> <a id="6068" href="Meta.Deriving.Elim.html#6010" class="Bound">y</a><a id="6069" class="Symbol">)</a>
    <a id="6075" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6079" href="Meta.Deriving.Elim.html#6079" class="Bound">depth-1</a> <a id="6087" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6089" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="6094" href="Meta.Deriving.Elim.html#5663" class="Bound">depth</a>
      <a id="6106" class="Keyword">where</a> <a id="6112" class="CatchallClause Symbol">_</a> <a id="6114" class="Symbol">→</a> <a id="6116" href="Meta.Deriving.Elim.html#5848" class="Bound">base</a>
    <a id="6125" href="Meta.Deriving.Elim.html#6125" class="Bound">x′</a> <a id="6128" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6130" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="6136" class="Number">1</a> <a id="6138" href="Meta.Deriving.Elim.html#5697" class="Bound">x</a>
    <a id="6144" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="6149" class="Symbol">(</a><a id="6150" href="Meta.Deriving.Elim.html#6150" class="Bound">h</a> <a id="6152" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6154" href="Meta.Deriving.Elim.html#6154" class="Bound">α′</a><a id="6156" class="Symbol">)</a> <a id="6158" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6160" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="6165" class="Symbol">(</a><a id="6166" href="Meta.Deriving.Elim.html#5199" class="Function">display</a> <a id="6174" href="Meta.Deriving.Elim.html#5657" class="Bound">fuel</a> <a id="6179" href="Meta.Deriving.Elim.html#6079" class="Bound">depth-1</a> <a id="6187" href="Meta.Deriving.Elim.html#5720" class="Bound">ps</a> <a id="6190" href="Meta.Deriving.Elim.html#5741" class="Bound">P</a> <a id="6192" href="Meta.Deriving.Elim.html#5761" class="Bound">rs</a> <a id="6195" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="6203" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6206" class="Symbol">(</a><a id="6207" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="6212" class="Number">0</a><a id="6213" class="Symbol">)</a> <a id="6215" href="Meta.Deriving.Elim.html#6125" class="Bound">x′</a><a id="6217" class="Symbol">)</a>
      <a id="6225" class="Keyword">where</a> <a id="6231" class="CatchallClause Symbol">_</a> <a id="6233" class="Symbol">→</a> <a id="6235" href="Meta.Deriving.Elim.html#5848" class="Bound">base</a>

    <a id="6245" href="Meta.Deriving.Elim.html#6245" class="Bound">ps</a> <a id="6248" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6250" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="6256" class="Number">1</a> <a id="6258" href="Meta.Deriving.Elim.html#5720" class="Bound">ps</a>
    <a id="6265" href="Meta.Deriving.Elim.html#6265" class="Bound">P</a>  <a id="6268" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6270" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="6276" class="Number">1</a> <a id="6278" href="Meta.Deriving.Elim.html#5741" class="Bound">P</a>
    <a id="6284" href="Meta.Deriving.Elim.html#6284" class="Bound">rs</a> <a id="6287" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6289" class="Symbol">(</a><a id="6290" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="6295" class="Number">1</a> <a id="6297" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6299" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="6304" class="Number">0</a><a id="6305" class="Symbol">)</a> <a id="6307" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a> <a id="6310" href="Meta.Effect.Map.Base.html#398" class="Function Operator">&lt;$&gt;</a> <a id="6314" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="6320" class="Number">1</a> <a id="6322" href="Meta.Deriving.Elim.html#5761" class="Bound">rs</a>
    <a id="6329" href="Meta.Deriving.Elim.html#6329" class="Bound">c</a> <a id="6331" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6333" class="Keyword">do</a>
      <a id="6342" href="Meta.Deriving.Elim.html#6342" class="Bound">c′</a> <a id="6345" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6347" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="6353" class="Number">1</a> <a id="6355" href="Meta.Deriving.Elim.html#5824" class="Bound">c</a>
      <a id="6363" href="Meta.Reflection.Subst.html#2754" class="Function">apply-tm</a> <a id="6372" href="Meta.Deriving.Elim.html#5657" class="Bound">fuel</a> <a id="6377" href="Meta.Deriving.Elim.html#6342" class="Bound">c′</a> <a id="6380" class="Symbol">(</a><a id="6381" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6385" href="Meta.Deriving.Elim.html#5694" class="Bound">ai</a> <a id="6388" class="Symbol">(</a><a id="6389" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="6394" class="Number">1</a><a id="6395" class="Symbol">))</a>
    <a id="6402" class="Keyword">let</a> <a id="6406" href="Meta.Deriving.Elim.html#6406" class="Bound">h-tel</a> <a id="6412" class="Symbol">=</a> <a id="6414" href="Meta.Reflection.Base.html#4759" class="Function">pi-view-path</a> <a id="6427" href="Meta.Deriving.Elim.html#6150" class="Bound">h</a>
    <a id="6433" href="Meta.Deriving.Elim.html#6433" class="Bound">l</a> <a id="6435" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6437" href="Data.Reflection.Term.html#1951" class="Function">tel→lam</a> <a id="6445" href="Meta.Deriving.Elim.html#6406" class="Bound">h-tel</a> <a id="6451" href="Meta.Effect.Map.Base.html#398" class="Function Operator">&lt;$&gt;</a> <a id="6455" class="Keyword">do</a>
      <a id="6464" href="Meta.Deriving.Elim.html#6464" class="Bound">rec′</a> <a id="6469" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6471" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="6477" class="Symbol">(</a><a id="6478" href="Data.List.Operations.html#862" class="Function">length</a> <a id="6485" href="Meta.Deriving.Elim.html#6406" class="Bound">h-tel</a><a id="6490" class="Symbol">)</a> <a id="6492" href="Meta.Deriving.Elim.html#5782" class="Bound">rec</a>
      <a id="6502" href="Meta.Reflection.Subst.html#3517" class="Function">apply-tm*</a> <a id="6512" href="Meta.Deriving.Elim.html#5657" class="Bound">fuel</a> <a id="6517" href="Meta.Deriving.Elim.html#6464" class="Bound">rec′</a> <a id="6522" class="Symbol">(</a><a id="6523" href="Meta.Reflection.Base.html#4359" class="Function">infer-tel</a> <a id="6533" href="Meta.Deriving.Elim.html#2896" class="Bound">ix-tel</a> <a id="6540" href="Data.List.Operations.html#694" class="Function Operator">∷r</a> <a id="6543" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6548" class="Symbol">(</a><a id="6549" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="6553" class="Symbol">(</a><a id="6554" href="Data.List.Operations.html#862" class="Function">length</a> <a id="6561" href="Meta.Deriving.Elim.html#6406" class="Bound">h-tel</a><a id="6566" class="Symbol">)</a> <a id="6568" href="Meta.Deriving.Elim.html#6154" class="Bound">α′</a><a id="6570" class="Symbol">))</a>
    <a id="6577" class="Keyword">let</a> <a id="6581" href="Meta.Deriving.Elim.html#6581" class="Bound">α</a> <a id="6583" class="Symbol">=</a> <a id="6585" href="Meta.Deriving.Elim.html#5804" class="Bound">α</a> <a id="6587" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="6590" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="6592" href="Meta.Reflection.Argument.html#1062" class="Function">hide-if</a> <a id="6600" href="Meta.Deriving.Elim.html#2798" class="Function">hide-cons-args</a> <a id="6615" class="Symbol">(</a><a id="6616" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6620" href="Meta.Deriving.Elim.html#5694" class="Bound">ai</a> <a id="6623" class="Symbol">(</a><a id="6624" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="6629" class="Number">0</a><a id="6630" class="Symbol">))</a> <a id="6633" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6635" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6640" href="Meta.Deriving.Elim.html#6433" class="Bound">l</a> <a id="6642" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="6648" href="Meta.Deriving.Elim.html#6648" class="Bound">y</a> <a id="6650" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6652" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="6658" class="Number">1</a> <a id="6660" href="Meta.Deriving.Elim.html#5707" class="Bound">y</a>
    <a id="6666" href="Meta.Deriving.Elim.html#5199" class="Function">display</a> <a id="6674" href="Meta.Deriving.Elim.html#5657" class="Bound">fuel</a> <a id="6679" href="Meta.Deriving.Elim.html#5663" class="Bound">depth</a> <a id="6685" href="Meta.Deriving.Elim.html#6245" class="Bound">ps</a> <a id="6688" href="Meta.Deriving.Elim.html#6265" class="Bound">P</a> <a id="6690" href="Meta.Deriving.Elim.html#6284" class="Bound">rs</a> <a id="6693" href="Meta.Deriving.Elim.html#5782" class="Bound">rec</a> <a id="6697" href="Meta.Deriving.Elim.html#6581" class="Bound">α</a> <a id="6699" href="Meta.Deriving.Elim.html#6329" class="Bound">c</a> <a id="6701" href="Meta.Deriving.Elim.html#6648" class="Bound">y</a> <a id="6703" href="Meta.Effect.Map.Base.html#508" class="Function Operator">&lt;&amp;&gt;</a> <a id="6707" href="Foundations.Sigma.Base.html#2098" class="Function">first</a> <a id="6713" class="Symbol">λ</a> <a id="6715" href="Meta.Deriving.Elim.html#6715" class="Bound">y</a> <a id="6717" class="Symbol">→</a>
      <a id="6725" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6728" class="Symbol">(</a><a id="6729" href="Meta.Reflection.Argument.html#1062" class="Function">hide-if</a> <a id="6737" href="Meta.Deriving.Elim.html#2798" class="Function">hide-cons-args</a> <a id="6752" class="Symbol">(</a><a id="6753" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6757" href="Meta.Deriving.Elim.html#5694" class="Bound">ai</a> <a id="6760" href="Meta.Deriving.Elim.html#5697" class="Bound">x</a><a id="6761" class="Symbol">))</a> <a id="6764" class="Symbol">(</a><a id="6765" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6769" href="Meta.Deriving.Elim.html#5705" class="Bound">n</a> <a id="6771" class="Symbol">(</a><a id="6772" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="6775" class="Symbol">(</a><a id="6776" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="6781" href="Meta.Deriving.Elim.html#6150" class="Bound">h</a><a id="6782" class="Symbol">)</a> <a id="6784" class="Symbol">(</a><a id="6785" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6789" class="Symbol">(</a><a id="6790" class="String">&quot;P&quot;</a> <a id="6794" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="6797" href="Meta.Deriving.Elim.html#5705" class="Bound">n</a><a id="6798" class="Symbol">)</a> <a id="6800" href="Meta.Deriving.Elim.html#6715" class="Bound">y</a><a id="6801" class="Symbol">)))</a>

  <a id="6808" href="Meta.Deriving.Elim.html#5199" class="Function">display</a> <a id="6816" class="Symbol">(</a><a id="6817" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6821" href="Meta.Deriving.Elim.html#6821" class="Bound">fuel</a><a id="6825" class="Symbol">)</a> <a id="6827" href="Meta.Deriving.Elim.html#6827" class="Bound">depth</a> <a id="6833" href="Meta.Deriving.Elim.html#6833" class="Bound">ps</a> <a id="6836" href="Meta.Deriving.Elim.html#6836" class="Bound">P</a> <a id="6838" href="Meta.Deriving.Elim.html#6838" class="Bound">rs</a> <a id="6841" href="Meta.Deriving.Elim.html#6841" class="Bound">rec</a> <a id="6845" href="Meta.Deriving.Elim.html#6845" class="Bound">α</a> <a id="6847" href="Meta.Deriving.Elim.html#6847" class="Bound">c</a> <a id="6849" class="Symbol">(</a><a id="6850" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="6854" class="Symbol">(</a><a id="6855" class="Keyword">quote</a> <a id="6861" href="Foundations.Prim.Kan.html#1290" class="Postulate">Pathᴾ</a><a id="6866" class="Symbol">)</a> <a id="6868" class="Symbol">(_</a> <a id="6871" href="Data.Reflection.Argument.html#1397" class="InductiveConstructor Operator">h∷</a> <a id="6874" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="6878" href="Meta.Deriving.Elim.html#6878" class="Bound">v</a> <a id="6880" class="Symbol">(</a><a id="6881" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="6885" href="Meta.Deriving.Elim.html#6885" class="Bound">n</a> <a id="6887" href="Meta.Deriving.Elim.html#6887" class="Bound">y</a><a id="6888" class="Symbol">)</a> <a id="6890" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="6893" href="Meta.Deriving.Elim.html#6893" class="Bound">l</a> <a id="6895" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="6898" href="Meta.Deriving.Elim.html#6898" class="Bound">r</a> <a id="6900" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="6903" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="6905" class="Symbol">))</a> <a id="6908" class="Symbol">=</a> <a id="6910" class="Keyword">do</a>
    <a id="6917" href="Meta.Deriving.Elim.html#6917" class="Bound">l</a>   <a id="6921" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6923" href="Meta.Deriving.Elim.html#3131" class="Function">replace</a> <a id="6931" href="Meta.Deriving.Elim.html#6821" class="Bound">fuel</a> <a id="6936" href="Meta.Deriving.Elim.html#6838" class="Bound">rs</a> <a id="6939" href="Meta.Deriving.Elim.html#6893" class="Bound">l</a>
    <a id="6945" href="Meta.Deriving.Elim.html#6945" class="Bound">r</a>   <a id="6949" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6951" href="Meta.Deriving.Elim.html#3131" class="Function">replace</a> <a id="6959" href="Meta.Deriving.Elim.html#6821" class="Bound">fuel</a> <a id="6964" href="Meta.Deriving.Elim.html#6838" class="Bound">rs</a> <a id="6967" href="Meta.Deriving.Elim.html#6898" class="Bound">r</a>
    <a id="6973" href="Meta.Deriving.Elim.html#6973" class="Bound">ps</a>  <a id="6977" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="6979" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="6985" class="Number">1</a> <a id="6987" href="Meta.Deriving.Elim.html#6833" class="Bound">ps</a>
    <a id="6994" href="Meta.Deriving.Elim.html#6994" class="Bound">P</a>   <a id="6998" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7000" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="7006" class="Number">1</a> <a id="7008" href="Meta.Deriving.Elim.html#6836" class="Bound">P</a>
    <a id="7014" href="Meta.Deriving.Elim.html#7014" class="Bound">rs</a>  <a id="7018" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7020" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="7026" class="Number">1</a> <a id="7028" href="Meta.Deriving.Elim.html#6838" class="Bound">rs</a>
    <a id="7035" href="Meta.Deriving.Elim.html#7035" class="Bound">rec</a> <a id="7039" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7041" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="7047" class="Number">1</a> <a id="7049" href="Meta.Deriving.Elim.html#6841" class="Bound">rec</a>
    <a id="7057" href="Meta.Deriving.Elim.html#7057" class="Bound">α</a> <a id="7059" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7061" class="Keyword">do</a>
      <a id="7070" href="Meta.Deriving.Elim.html#7070" class="Bound">α′</a> <a id="7073" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7075" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="7081" class="Number">1</a> <a id="7083" href="Meta.Deriving.Elim.html#6845" class="Bound">α</a>
      <a id="7091" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="7096" class="Symbol">(</a><a id="7097" href="Meta.Deriving.Elim.html#7070" class="Bound">α′</a> <a id="7100" href="Data.List.Operations.html#694" class="Function Operator">∷r</a> <a id="7103" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="7108" class="Symbol">(</a><a id="7109" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="7114" class="Number">0</a><a id="7115" class="Symbol">))</a>
    <a id="7122" href="Meta.Deriving.Elim.html#7122" class="Bound">c</a> <a id="7124" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7126" class="Keyword">do</a>
      <a id="7135" href="Meta.Deriving.Elim.html#7135" class="Bound">c′</a> <a id="7138" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7140" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="7146" class="Number">1</a> <a id="7148" href="Meta.Deriving.Elim.html#6847" class="Bound">c</a>
      <a id="7156" href="Meta.Reflection.Subst.html#2754" class="Function">apply-tm</a> <a id="7165" href="Meta.Deriving.Elim.html#6821" class="Bound">fuel</a> <a id="7170" href="Meta.Deriving.Elim.html#7135" class="Bound">c′</a> <a id="7173" class="Symbol">(</a><a id="7174" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="7179" class="Symbol">(</a><a id="7180" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="7185" class="Number">0</a><a id="7186" class="Symbol">))</a>
    <a id="7193" href="Meta.Deriving.Elim.html#5199" class="Function">display</a> <a id="7201" href="Meta.Deriving.Elim.html#6821" class="Bound">fuel</a> <a id="7206" href="Meta.Deriving.Elim.html#6827" class="Bound">depth</a> <a id="7212" href="Meta.Deriving.Elim.html#6973" class="Bound">ps</a> <a id="7215" href="Meta.Deriving.Elim.html#6994" class="Bound">P</a> <a id="7217" href="Meta.Deriving.Elim.html#7014" class="Bound">rs</a> <a id="7220" href="Meta.Deriving.Elim.html#7035" class="Bound">rec</a> <a id="7224" href="Meta.Deriving.Elim.html#7057" class="Bound">α</a> <a id="7226" href="Meta.Deriving.Elim.html#7122" class="Bound">c</a> <a id="7228" href="Meta.Deriving.Elim.html#6887" class="Bound">y</a> <a id="7230" href="Meta.Effect.Map.Base.html#508" class="Function Operator">&lt;&amp;&gt;</a> <a id="7234" href="Foundations.Sigma.Base.html#2098" class="Function">first</a> <a id="7240" class="Symbol">λ</a> <a id="7242" href="Meta.Deriving.Elim.html#7242" class="Bound">y</a> <a id="7244" class="Symbol">→</a>
      <a id="7252" href="Meta.Reflection.Signature.html#5235" class="Macro">it</a> <a id="7255" href="Foundations.Prim.Kan.html#1290" class="Postulate">Pathᴾ</a> <a id="7261" href="Meta.Reflection.Neutral.html#1494" class="Function Operator">##ₕ</a> <a id="7265" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="7273" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7277" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="7281" href="Meta.Deriving.Elim.html#6878" class="Bound">v</a> <a id="7283" class="Symbol">(</a><a id="7284" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="7288" href="Meta.Deriving.Elim.html#6885" class="Bound">n</a> <a id="7290" href="Meta.Deriving.Elim.html#7242" class="Bound">y</a><a id="7291" class="Symbol">)</a> <a id="7293" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7297" href="Meta.Deriving.Elim.html#6917" class="Bound">l</a> <a id="7299" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7303" href="Meta.Deriving.Elim.html#6945" class="Bound">r</a>

  <a id="7308" href="Meta.Deriving.Elim.html#5199" class="CatchallClause Function">display</a><a id="7315" class="CatchallClause"> </a><a id="7316" class="CatchallClause Symbol">(</a><a id="7317" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="7320" class="CatchallClause"> </a><a id="7321" href="Meta.Deriving.Elim.html#7321" class="CatchallClause Bound">fuel</a><a id="7325" class="CatchallClause Symbol">)</a><a id="7326" class="CatchallClause"> </a><a id="7327" href="Meta.Deriving.Elim.html#7327" class="CatchallClause Bound">depth</a><a id="7332" class="CatchallClause"> </a><a id="7333" href="Meta.Deriving.Elim.html#7333" class="CatchallClause Bound">ps</a><a id="7335" class="CatchallClause"> </a><a id="7336" href="Meta.Deriving.Elim.html#7336" class="CatchallClause Bound">P</a><a id="7337" class="CatchallClause"> </a><a id="7338" href="Meta.Deriving.Elim.html#7338" class="CatchallClause Bound">rs</a><a id="7340" class="CatchallClause"> </a><a id="7341" href="Meta.Deriving.Elim.html#7341" class="CatchallClause Bound">rec</a><a id="7344" class="CatchallClause"> </a><a id="7345" href="Meta.Deriving.Elim.html#7345" class="CatchallClause Bound">α</a><a id="7346" class="CatchallClause"> </a><a id="7347" href="Meta.Deriving.Elim.html#7347" class="CatchallClause Bound">c</a><a id="7348" class="CatchallClause"> </a><a id="7349" class="CatchallClause Symbol">(</a><a id="7350" href="Agda.Builtin.Reflection.html#5251" class="CatchallClause InductiveConstructor">def</a><a id="7353" class="CatchallClause"> </a><a id="7354" href="Meta.Deriving.Elim.html#7354" class="CatchallClause Bound">D′</a><a id="7356" class="CatchallClause"> </a><a id="7357" href="Meta.Deriving.Elim.html#7357" class="CatchallClause Bound">args</a><a id="7361" class="CatchallClause Symbol">)</a> <a id="7363" class="Symbol">=</a> <a id="7365" class="Keyword">do</a>
    <a id="7372" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="7377" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7379" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="7384" class="Symbol">(</a><a id="7385" href="Meta.Deriving.Elim.html#2874" class="Bound">D</a> <a id="7387" href="Agda.Builtin.Reflection.html#539" class="Primitive Operator">name=?</a> <a id="7394" href="Meta.Deriving.Elim.html#7354" class="Bound">D′</a><a id="7396" class="Symbol">)</a>
      <a id="7404" class="Keyword">where</a> <a id="7410" class="CatchallClause Symbol">_</a> <a id="7412" class="Symbol">→</a> <a id="7414" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="7426" class="Keyword">let</a> <a id="7430" href="Meta.Deriving.Elim.html#7430" class="Bound">ps′</a> <a id="7434" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7436" href="Meta.Deriving.Elim.html#7436" class="Bound">is</a> <a id="7439" class="Symbol">=</a> <a id="7441" href="Data.List.Operations.html#3195" class="Function">split-at</a> <a id="7450" href="Meta.Deriving.Elim.html#2885" class="Bound">pars</a> <a id="7455" href="Meta.Deriving.Elim.html#7357" class="Bound">args</a>
    <a id="7464" href="Data.Dec.Base.html#644" class="InductiveConstructor">yes</a> <a id="7468" class="Symbol">_</a> <a id="7470" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7472" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="7477" class="Symbol">(</a><a id="7478" href="Meta.Deriving.Elim.html#7333" class="Bound">ps</a> <a id="7481" href="Logic.Discreteness.html#1103" class="Function Operator">≟</a> <a id="7483" href="Meta.Deriving.Elim.html#7430" class="Bound">ps′</a><a id="7486" class="Symbol">)</a>
      <a id="7494" class="Keyword">where</a> <a id="7500" class="CatchallClause Symbol">_</a> <a id="7502" class="Symbol">→</a> <a id="7504" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
    <a id="7516" href="Meta.Deriving.Elim.html#7516" class="Bound">Pc</a> <a id="7519" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7521" href="Meta.Reflection.Subst.html#3517" class="Function">apply-tm*</a> <a id="7531" href="Meta.Deriving.Elim.html#7321" class="Bound">fuel</a> <a id="7536" href="Meta.Deriving.Elim.html#7336" class="Bound">P</a> <a id="7538" class="Symbol">(</a><a id="7539" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="7542" href="Meta.Deriving.Elim.html#2109" class="Function">induction</a> <a id="7552" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="7557" href="Meta.Reflection.Argument.html#1062" class="Function">hide-if</a> <a id="7565" href="Meta.Deriving.Elim.html#2485" class="Function">hide-indices</a> <a id="7578" href="Meta.Deriving.Elim.html#7436" class="Bound">is</a> <a id="7581" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="7584" href="Meta.Deriving.Elim.html#7347" class="Bound">c</a> <a id="7586" href="Data.Reflection.Argument.html#1364" class="InductiveConstructor Operator">v∷</a> <a id="7589" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="7592" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="7597" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="7599" class="Symbol">)</a>
    <a id="7605" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="7610" class="Symbol">(</a><a id="7611" href="Meta.Deriving.Elim.html#7516" class="Bound">Pc</a> <a id="7614" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7616" href="Meta.Deriving.Elim.html#7345" class="Bound">α</a><a id="7617" class="Symbol">)</a>
  <a id="7621" href="Meta.Deriving.Elim.html#5199" class="CatchallClause Function">display</a><a id="7628" class="CatchallClause"> </a><a id="7629" class="CatchallClause Symbol">(</a><a id="7630" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="7633" class="CatchallClause"> </a><a id="7634" href="Meta.Deriving.Elim.html#7634" class="CatchallClause Bound">fuel</a><a id="7638" class="CatchallClause Symbol">)</a><a id="7639" class="CatchallClause"> </a><a id="7640" href="Meta.Deriving.Elim.html#7640" class="CatchallClause Bound">depth</a><a id="7645" class="CatchallClause"> </a><a id="7646" href="Meta.Deriving.Elim.html#7646" class="CatchallClause Bound">ps</a><a id="7648" class="CatchallClause"> </a><a id="7649" href="Meta.Deriving.Elim.html#7649" class="CatchallClause Bound">P</a><a id="7650" class="CatchallClause"> </a><a id="7651" href="Meta.Deriving.Elim.html#7651" class="CatchallClause Bound">rs</a><a id="7653" class="CatchallClause"> </a><a id="7654" href="Meta.Deriving.Elim.html#7654" class="CatchallClause Bound">rec</a><a id="7657" class="CatchallClause"> </a><a id="7658" href="Meta.Deriving.Elim.html#7658" class="CatchallClause Bound">α</a><a id="7659" class="CatchallClause"> </a><a id="7660" href="Meta.Deriving.Elim.html#7660" class="CatchallClause Bound">c</a><a id="7661" class="CatchallClause"> </a><a id="7662" class="CatchallClause Symbol">_</a> <a id="7664" class="Symbol">=</a> <a id="7666" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="Induction.try-hlevel"></a><a id="7677" href="Meta.Deriving.Elim.html#7677" class="Function">try-hlevel</a> <a id="7688" class="Symbol">:</a> <a id="7690" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7695" class="Symbol">→</a> <a id="7697" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="7700" class="Symbol">(</a><a id="7701" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7707" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="7711" class="Symbol">)</a>
  <a id="7715" href="Meta.Deriving.Elim.html#7677" class="Function">try-hlevel</a> <a id="7726" href="Meta.Deriving.Elim.html#7726" class="Bound">T</a> <a id="7728" class="Symbol">=</a>
    <a id="7734" class="Symbol">(</a><a id="7735" class="Keyword">do</a>
      <a id="7744" href="Data.Maybe.Instances.Alt.html#303" class="Function">maybe→alt</a> <a id="7754" href="Meta.Deriving.Elim.html#2212" class="Function">into-hlevel</a>
      <a id="7772" href="Meta.Deriving.Elim.html#7772" class="Bound">m</a> <a id="7774" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="7776" href="Meta.Reflection.Base.html#3709" class="Function">new-meta</a> <a id="7785" href="Meta.Deriving.Elim.html#7726" class="Bound">T</a>
      <a id="7793" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="7799" href="Meta.Deriving.Elim.html#7772" class="Bound">m</a> <a id="7801" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="7803" href="Meta.Reflection.Signature.html#5235" class="Macro">it</a> <a id="7806" href="Foundations.Base.html#13185" class="Function">centre</a> <a id="7813" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7817" class="Symbol">(</a><a id="7818" href="Meta.Reflection.Signature.html#5235" class="Macro">it</a> <a id="7821" href="Foundations.HLevel.Base.html#8782" class="Function">hlevel</a> <a id="7828" href="Meta.Reflection.Neutral.html#1494" class="Function Operator">##ₕ</a> <a id="7832" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="7840" href="Meta.Reflection.Neutral.html#1494" class="Function Operator">##ₕ</a> <a id="7844" href="Meta.Deriving.Elim.html#7726" class="Bound">T</a> <a id="7846" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="7850" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="7854" class="Symbol">(</a><a id="7855" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="7859" class="Number">0</a><a id="7860" class="Symbol">))</a>
      <a id="7869" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="7874" class="Symbol">(</a><a id="7875" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7880" href="Meta.Deriving.Elim.html#7772" class="Bound">m</a><a id="7881" class="Symbol">))</a>
    <a id="7888" href="Meta.Effect.Alt.html#369" class="Field Operator">&lt;|&gt;</a> <a id="7892" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="7897" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>

  <a id="Induction.×-map₁₂"></a><a id="7908" href="Meta.Deriving.Elim.html#7908" class="Function">×-map₁₂</a> <a id="7916" class="Symbol">:</a> <a id="7918" class="Symbol">∀</a> <a id="7920" class="Symbol">{</a><a id="7921" href="Meta.Deriving.Elim.html#7921" class="Bound">A</a> <a id="7923" href="Meta.Deriving.Elim.html#7923" class="Bound">B</a> <a id="7925" href="Meta.Deriving.Elim.html#7925" class="Bound">C</a> <a id="7927" class="Symbol">:</a> <a id="7929" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a><a id="7933" class="Symbol">}</a> <a id="7935" class="Symbol">→</a> <a id="7937" class="Symbol">(</a><a id="7938" href="Meta.Deriving.Elim.html#7921" class="Bound">A</a> <a id="7940" class="Symbol">→</a> <a id="7942" href="Meta.Deriving.Elim.html#7921" class="Bound">A</a><a id="7943" class="Symbol">)</a> <a id="7945" class="Symbol">→</a> <a id="7947" class="Symbol">(</a><a id="7948" href="Meta.Deriving.Elim.html#7923" class="Bound">B</a> <a id="7950" class="Symbol">→</a> <a id="7952" href="Meta.Deriving.Elim.html#7923" class="Bound">B</a><a id="7953" class="Symbol">)</a> <a id="7955" class="Symbol">→</a> <a id="7957" href="Meta.Deriving.Elim.html#7921" class="Bound">A</a> <a id="7959" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="7961" href="Meta.Deriving.Elim.html#7923" class="Bound">B</a> <a id="7963" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="7965" href="Meta.Deriving.Elim.html#7925" class="Bound">C</a> <a id="7967" class="Symbol">→</a> <a id="7969" href="Meta.Deriving.Elim.html#7921" class="Bound">A</a> <a id="7971" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="7973" href="Meta.Deriving.Elim.html#7923" class="Bound">B</a> <a id="7975" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="7977" href="Meta.Deriving.Elim.html#7925" class="Bound">C</a>
  <a id="7981" href="Meta.Deriving.Elim.html#7908" class="Function">×-map₁₂</a> <a id="7989" href="Meta.Deriving.Elim.html#7989" class="Bound">f</a> <a id="7991" href="Meta.Deriving.Elim.html#7991" class="Bound">g</a> <a id="7993" class="Symbol">(</a><a id="7994" href="Meta.Deriving.Elim.html#7994" class="Bound">a</a> <a id="7996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7998" href="Meta.Deriving.Elim.html#7998" class="Bound">b</a> <a id="8000" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8002" href="Meta.Deriving.Elim.html#8002" class="Bound">c</a><a id="8003" class="Symbol">)</a> <a id="8005" class="Symbol">=</a> <a id="8007" class="Symbol">(</a><a id="8008" href="Meta.Deriving.Elim.html#7989" class="Bound">f</a> <a id="8010" href="Meta.Deriving.Elim.html#7994" class="Bound">a</a> <a id="8012" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8014" href="Meta.Deriving.Elim.html#7991" class="Bound">g</a> <a id="8016" href="Meta.Deriving.Elim.html#7998" class="Bound">b</a> <a id="8018" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8020" href="Meta.Deriving.Elim.html#8002" class="Bound">c</a><a id="8021" class="Symbol">)</a>

  <a id="8026" class="Comment">-- Loop over D&#39;s constructors and build the method telescope, constructor</a>
  <a id="8102" class="Comment">-- replacements and spines to apply them to.</a>
  <a id="Induction.methods"></a><a id="8149" href="Meta.Deriving.Elim.html#8149" class="Function">methods</a> <a id="8157" class="Symbol">:</a> <a id="8159" href="Data.Reflection.Term.html#916" class="Function">Args</a> <a id="8164" class="Symbol">→</a> <a id="8166" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8171" class="Symbol">→</a> <a id="8173" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="8176" class="Symbol">(</a><a id="8177" href="Data.Reflection.Term.html#878" class="Function">Telescope</a> <a id="8187" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="8189" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8194" href="Data.Reflection.Term.html#916" class="Function">Args</a> <a id="8199" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="8201" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a><a id="8213" class="Symbol">)</a>
  <a id="8217" href="Meta.Deriving.Elim.html#8149" class="Function">methods</a> <a id="8225" href="Meta.Deriving.Elim.html#8225" class="Bound">ps</a> <a id="8228" href="Meta.Deriving.Elim.html#8228" class="Bound">P</a> <a id="8230" class="Symbol">=</a> <a id="8232" href="Meta.Deriving.Elim.html#8266" class="Function">go</a> <a id="8235" href="Meta.Reflection.Base.html#3234" class="Function">full-tank</a> <a id="8245" href="Meta.Deriving.Elim.html#8225" class="Bound">ps</a> <a id="8248" href="Meta.Deriving.Elim.html#8228" class="Bound">P</a> <a id="8250" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8253" href="Meta.Deriving.Elim.html#2917" class="Bound">cs</a> <a id="8256" class="Keyword">where</a>
    <a id="8266" href="Meta.Deriving.Elim.html#8266" class="Function">go</a> <a id="8269" class="Symbol">:</a> <a id="8271" class="Symbol">(</a><a id="8272" href="Meta.Deriving.Elim.html#8272" class="Bound">fuel</a> <a id="8277" class="Symbol">:</a> <a id="8279" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8280" class="Symbol">)</a> <a id="8282" class="Symbol">→</a> <a id="8284" href="Data.Reflection.Term.html#916" class="Function">Args</a> <a id="8289" class="Symbol">→</a> <a id="8291" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8296" class="Symbol">→</a> <a id="8298" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a> <a id="8311" class="Symbol">→</a> <a id="8313" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8318" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="8323" class="Symbol">→</a> <a id="8325" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="8328" class="Symbol">(</a><a id="8329" href="Data.Reflection.Term.html#878" class="Function">Telescope</a> <a id="8339" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="8341" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8346" href="Data.Reflection.Term.html#916" class="Function">Args</a> <a id="8351" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="8353" href="Meta.Deriving.Elim.html#1607" class="Function">Replacements</a><a id="8365" class="Symbol">)</a>
    <a id="8371" href="Meta.Deriving.Elim.html#8266" class="Function">go</a> <a id="8374" class="Number">0</a> <a id="8376" class="Symbol">_</a> <a id="8378" class="Symbol">_</a> <a id="8380" class="Symbol">_</a> <a id="8382" class="Symbol">_</a> <a id="8384" class="Symbol">=</a> <a id="8386" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="8397" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="8404" href="Meta.Deriving.Elim.html#8266" class="Function">go</a> <a id="8407" class="Symbol">(</a><a id="8408" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8412" href="Meta.Deriving.Elim.html#8412" class="Bound">fuel</a><a id="8416" class="Symbol">)</a> <a id="8418" href="Meta.Deriving.Elim.html#8418" class="Bound">ps</a> <a id="8421" href="Meta.Deriving.Elim.html#8421" class="Bound">P</a> <a id="8423" href="Meta.Deriving.Elim.html#8423" class="Bound">rs</a> <a id="8426" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8429" class="Symbol">=</a> <a id="8431" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="8436" class="Symbol">(</a><a id="8437" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8440" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8442" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8447" href="Meta.Deriving.Elim.html#8423" class="Bound">rs</a><a id="8449" class="Symbol">)</a>
    <a id="8455" href="Meta.Deriving.Elim.html#8266" class="Function">go</a> <a id="8458" class="Symbol">(</a><a id="8459" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8463" href="Meta.Deriving.Elim.html#8463" class="Bound">fuel</a><a id="8467" class="Symbol">)</a> <a id="8469" href="Meta.Deriving.Elim.html#8469" class="Bound">ps</a> <a id="8472" href="Meta.Deriving.Elim.html#8472" class="Bound">P</a> <a id="8474" href="Meta.Deriving.Elim.html#8474" class="Bound">rs</a> <a id="8477" class="Symbol">(</a><a id="8478" href="Meta.Deriving.Elim.html#8478" class="Bound">c</a> <a id="8480" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8482" href="Meta.Deriving.Elim.html#8482" class="Bound">cs</a><a id="8484" class="Symbol">)</a> <a id="8486" class="Symbol">=</a> <a id="8488" class="Keyword">do</a>
      <a id="8497" class="Keyword">let</a> <a id="8501" href="Meta.Deriving.Elim.html#8501" class="Bound">c′</a> <a id="8504" class="Symbol">=</a> <a id="8506" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="8510" href="Meta.Deriving.Elim.html#8478" class="Bound">c</a> <a id="8512" class="Symbol">(</a><a id="8513" href="Meta.Reflection.Argument.html#996" class="Function">hide</a> <a id="8518" href="Meta.Deriving.Elim.html#8469" class="Bound">ps</a><a id="8520" class="Symbol">)</a>
      <a id="8528" href="Meta.Deriving.Elim.html#8528" class="Bound">cT</a> <a id="8531" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="8533" class="Keyword">do</a>
        <a id="8544" href="Meta.Deriving.Elim.html#8544" class="Bound">cT</a> <a id="8547" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="8549" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="8558" href="Meta.Deriving.Elim.html#8478" class="Bound">c</a>
        <a id="8568" href="Meta.Deriving.Elim.html#8568" class="Bound">cT</a> <a id="8571" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="8573" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="8583" href="Meta.Deriving.Elim.html#8544" class="Bound">cT</a>
        <a id="8594" href="Meta.Reflection.Subst.html#7344" class="Function">pi-applyTC</a> <a id="8605" href="Meta.Deriving.Elim.html#8568" class="Bound">cT</a> <a id="8608" href="Meta.Deriving.Elim.html#8469" class="Bound">ps</a>
      <a id="8617" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8622" class="Symbol">(</a><a id="8623" href="Meta.Deriving.Elim.html#8623" class="Bound">methodT</a> <a id="8631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8633" href="Meta.Deriving.Elim.html#8633" class="Bound">α</a><a id="8634" class="Symbol">)</a> <a id="8636" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="8638" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="8643" class="Symbol">(</a><a id="8644" href="Meta.Deriving.Elim.html#5199" class="Function">display</a> <a id="8652" href="Meta.Deriving.Elim.html#8463" class="Bound">fuel</a> <a id="8657" class="Number">1</a> <a id="8659" href="Meta.Deriving.Elim.html#8469" class="Bound">ps</a> <a id="8662" href="Meta.Deriving.Elim.html#8472" class="Bound">P</a> <a id="8664" href="Meta.Deriving.Elim.html#8474" class="Bound">rs</a> <a id="8667" class="Symbol">(</a><a id="8668" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="8673" class="Number">0</a><a id="8674" class="Symbol">)</a> <a id="8676" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8679" href="Meta.Deriving.Elim.html#8501" class="Bound">c′</a> <a id="8682" href="Meta.Deriving.Elim.html#8528" class="Bound">cT</a><a id="8684" class="Symbol">)</a>
        <a id="8694" class="Keyword">where</a> <a id="8700" class="CatchallClause Symbol">_</a> <a id="8702" class="Symbol">→</a> <a id="8704" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="8715" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="8717" class="String">&quot;The type of constructor &quot;</a> <a id="8744" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8746" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="8755" href="Meta.Deriving.Elim.html#8478" class="Bound">c</a> <a id="8757" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8759" class="String">&quot; is not supported&quot;</a> <a id="8779" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
      <a id="8787" href="Meta.Deriving.Elim.html#7677" class="Function">try-hlevel</a> <a id="8798" href="Meta.Deriving.Elim.html#8623" class="Bound">methodT</a> <a id="8806" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">&gt;&gt;=</a> <a id="8810" class="Symbol">λ</a> <a id="8812" class="Keyword">where</a>
        <a id="8826" class="Symbol">(</a><a id="8827" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="8832" href="Meta.Deriving.Elim.html#8832" class="Bound">m</a><a id="8833" class="Symbol">)</a> <a id="8835" class="Symbol">→</a> <a id="8837" class="Keyword">do</a>
          <a id="8850" class="Comment">-- The type of the method is solvable by hlevel (i.e. contractible):</a>
          <a id="8929" class="Comment">-- we can omit that type from the telescope and replace the method with</a>
          <a id="9011" class="Comment">-- a call to `hlevel 0 .centre`.</a>
          <a id="9054" class="Keyword">let</a> <a id="9058" href="Meta.Deriving.Elim.html#9058" class="Bound">rs</a> <a id="9061" class="Symbol">=</a> <a id="9063" class="Symbol">(</a><a id="9064" href="Meta.Deriving.Elim.html#8501" class="Bound">c′</a> <a id="9067" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9069" href="Meta.Deriving.Elim.html#8832" class="Bound">m</a><a id="9070" class="Symbol">)</a> <a id="9072" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9074" href="Meta.Deriving.Elim.html#8474" class="Bound">rs</a>
          <a id="9087" href="Meta.Deriving.Elim.html#8266" class="Function">go</a> <a id="9090" href="Meta.Deriving.Elim.html#8463" class="Bound">fuel</a> <a id="9095" href="Meta.Deriving.Elim.html#8469" class="Bound">ps</a> <a id="9098" href="Meta.Deriving.Elim.html#8472" class="Bound">P</a> <a id="9100" href="Meta.Deriving.Elim.html#9058" class="Bound">rs</a> <a id="9103" href="Meta.Deriving.Elim.html#8482" class="Bound">cs</a> <a id="9106" href="Meta.Effect.Map.Base.html#508" class="Function Operator">&lt;&amp;&gt;</a> <a id="9110" href="Meta.Deriving.Elim.html#7908" class="Function">×-map₁₂</a> <a id="9118" href="Foundations.Pi.Base.html#2508" class="Function">id</a> <a id="9121" class="Symbol">(</a><a id="9122" href="Meta.Deriving.Elim.html#8633" class="Bound">α</a> <a id="9124" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9126" class="Symbol">)</a>
        <a id="9136" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="9144" class="Symbol">→</a> <a id="9146" class="Keyword">do</a>
          <a id="9159" class="Comment">-- Otherwise, add m : T to the telescope and replace the corresponding</a>
          <a id="9240" class="Comment">-- constructor with m henceforth.</a>
          <a id="9284" href="Meta.Deriving.Elim.html#9284" class="Bound">method</a> <a id="9291" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="9293" class="Symbol">(</a><a id="9294" class="String">&quot;P&quot;</a> <a id="9298" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;_</a><a id="9301" class="Symbol">)</a> <a id="9303" href="Meta.Effect.Map.Base.html#398" class="Function Operator">&lt;$&gt;</a> <a id="9307" href="Meta.Reflection.Signature.html#6880" class="Function">render-name</a> <a id="9319" href="Meta.Deriving.Elim.html#8478" class="Bound">c</a>
          <a id="9331" href="Meta.Deriving.Elim.html#9331" class="Bound">q</a> <a id="9333" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="9335" href="Meta.Reflection.Signature.html#1691" class="Function">get-con-quantity</a> <a id="9352" href="Meta.Deriving.Elim.html#8478" class="Bound">c</a>
          <a id="9364" class="Keyword">let</a> <a id="9368" href="Meta.Deriving.Elim.html#9368" class="Bound">argE</a> <a id="9373" class="Symbol">=</a> <a id="9375" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="9378" href="Data.Dec.Base.html#1558" class="Function Operator">⌊</a> <a id="9380" href="Meta.Deriving.Elim.html#9331" class="Bound">q</a> <a id="9382" href="Logic.Discreteness.html#1103" class="Function Operator">≟</a> <a id="9384" href="Agda.Builtin.Reflection.html#3230" class="InductiveConstructor">quantity-0</a> <a id="9395" href="Data.Dec.Base.html#1558" class="Function Operator">⌋</a> <a id="9397" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="9402" href="Data.Reflection.Argument.html#1572" class="Function">argN0</a> <a id="9408" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="9413" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
          <a id="9428" href="Meta.Deriving.Elim.html#9428" class="Bound">ps</a>  <a id="9432" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="9434" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="9442" class="Number">1</a> <a id="9444" href="Meta.Deriving.Elim.html#8469" class="Bound">ps</a>
          <a id="9457" href="Meta.Deriving.Elim.html#9457" class="Bound">P</a>   <a id="9461" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="9463" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="9471" class="Number">1</a> <a id="9473" href="Meta.Deriving.Elim.html#8472" class="Bound">P</a>
          <a id="9485" href="Meta.Deriving.Elim.html#9485" class="Bound">rs</a>  <a id="9489" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="9491" class="Keyword">do</a>
            <a id="9506" href="Meta.Deriving.Elim.html#9506" class="Bound">rs′</a> <a id="9510" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="9512" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="9520" class="Number">1</a> <a id="9522" href="Meta.Deriving.Elim.html#8474" class="Bound">rs</a>
            <a id="9537" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="9542" class="Symbol">((</a><a id="9544" href="Meta.Deriving.Elim.html#8501" class="Bound">c′</a> <a id="9547" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9549" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="9554" class="Number">0</a><a id="9555" class="Symbol">)</a> <a id="9557" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="9559" href="Meta.Deriving.Elim.html#9506" class="Bound">rs′</a><a id="9562" class="Symbol">)</a>
          <a id="9574" href="Agda.Builtin.Reflection.html#9292" class="Postulate">extend-context</a> <a id="9589" href="Meta.Deriving.Elim.html#9284" class="Bound">method</a> <a id="9596" class="Symbol">(</a><a id="9597" href="Meta.Deriving.Elim.html#9368" class="Bound">argE</a> <a id="9602" href="Meta.Deriving.Elim.html#8623" class="Bound">methodT</a><a id="9609" class="Symbol">)</a> <a id="9611" class="Symbol">(</a><a id="9612" href="Meta.Deriving.Elim.html#8266" class="Function">go</a> <a id="9615" href="Meta.Deriving.Elim.html#8463" class="Bound">fuel</a> <a id="9620" href="Meta.Deriving.Elim.html#9428" class="Bound">ps</a> <a id="9623" href="Meta.Deriving.Elim.html#9457" class="Bound">P</a> <a id="9625" href="Meta.Deriving.Elim.html#9485" class="Bound">rs</a> <a id="9628" href="Meta.Deriving.Elim.html#8482" class="Bound">cs</a><a id="9630" class="Symbol">)</a> <a id="9632" href="Meta.Effect.Map.Base.html#508" class="Function Operator">&lt;&amp;&gt;</a>
            <a id="9648" href="Meta.Deriving.Elim.html#7908" class="Function">×-map₁₂</a> <a id="9656" class="Symbol">((</a><a id="9658" href="Meta.Deriving.Elim.html#9284" class="Bound">method</a> <a id="9665" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9667" href="Meta.Deriving.Elim.html#9368" class="Bound">argE</a> <a id="9672" href="Meta.Deriving.Elim.html#8623" class="Bound">methodT</a><a id="9679" class="Symbol">)</a> <a id="9681" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9683" class="Symbol">)</a> <a id="9685" class="Symbol">(</a><a id="9686" href="Meta.Deriving.Elim.html#8633" class="Bound">α</a> <a id="9688" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷_</a><a id="9690" class="Symbol">)</a>

<a id="make-elim-with"></a><a id="9693" href="Meta.Deriving.Elim.html#9693" class="Function">make-elim-with</a> <a id="9708" class="Symbol">:</a> <a id="9710" href="Meta.Deriving.Elim.html#1955" class="Record">Elim-options</a> <a id="9723" class="Symbol">→</a> <a id="9725" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="9730" class="Symbol">→</a> <a id="9732" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="9737" class="Symbol">→</a> <a id="9739" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="9742" href="Foundations.Notation.Logic.html#4427" class="Field">⊤</a>
<a id="9744" href="Meta.Deriving.Elim.html#9693" class="Function">make-elim-with</a> <a id="9759" href="Meta.Deriving.Elim.html#9759" class="Bound">opts</a> <a id="9764" href="Meta.Deriving.Elim.html#9764" class="Bound">elim</a> <a id="9769" href="Meta.Deriving.Elim.html#9769" class="Bound">D</a> <a id="9771" class="Symbol">=</a> <a id="9773" href="Agda.Builtin.Reflection.html#11368" class="Postulate">work-on-types</a> <a id="9787" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="9789" href="Agda.Builtin.Reflection.html#10159" class="Postulate">with-normalisation</a> <a id="9808" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="9813" class="Keyword">do</a>
  <a id="9818" href="Meta.Deriving.Elim.html#9818" class="Bound">DT</a> <a id="9821" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="9823" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="9832" href="Meta.Deriving.Elim.html#9769" class="Bound">D</a> <a id="9834" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">&gt;&gt;=</a> <a id="9838" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="9848" class="Comment">-- D : (ps : Γ) (is : Ξ) → Type _</a>
  <a id="9884" href="Agda.Builtin.Reflection.html#7558" class="InductiveConstructor">data-type</a> <a id="9894" href="Meta.Deriving.Elim.html#9894" class="Bound">pars</a> <a id="9899" href="Meta.Deriving.Elim.html#9899" class="Bound">cs</a> <a id="9902" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="9904" href="Agda.Builtin.Reflection.html#9766" class="Postulate">get-definition</a> <a id="9919" href="Meta.Deriving.Elim.html#9769" class="Bound">D</a>
    <a id="9925" class="Keyword">where</a> <a id="9931" class="CatchallClause Symbol">_</a> <a id="9933" class="Symbol">→</a> <a id="9935" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="9946" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="9948" class="String">&quot;not a data type: &quot;</a> <a id="9968" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="9970" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="9979" href="Meta.Deriving.Elim.html#9769" class="Bound">D</a> <a id="9981" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
  <a id="9985" class="Keyword">let</a>
    <a id="9993" class="Keyword">open</a> <a id="9998" href="Meta.Deriving.Elim.html#1955" class="Module">Elim-options</a> <a id="10011" href="Meta.Deriving.Elim.html#9759" class="Bound">opts</a>
    <a id="10020" href="Meta.Deriving.Elim.html#10020" class="Bound">DTTel</a> <a id="10026" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10028" class="Symbol">_</a> <a id="10030" class="Symbol">=</a> <a id="10032" href="Data.Reflection.Term.html#1483" class="Function">pi-view</a> <a id="10040" href="Meta.Deriving.Elim.html#9818" class="Bound">DT</a>
    <a id="10047" href="Meta.Deriving.Elim.html#10047" class="Bound">par-tel</a> <a id="10055" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10057" href="Meta.Deriving.Elim.html#10057" class="Bound">ix-tel</a> <a id="10064" class="Symbol">=</a> <a id="10066" href="Data.List.Operations.html#3195" class="Function">split-at</a> <a id="10075" href="Meta.Deriving.Elim.html#9894" class="Bound">pars</a> <a id="10080" href="Meta.Deriving.Elim.html#10020" class="Bound">DTTel</a>
    <a id="10090" href="Meta.Deriving.Elim.html#10090" class="Bound">par-telH</a> <a id="10099" class="Symbol">=</a> <a id="10101" href="Meta.Reflection.Argument.html#996" class="Function">hide</a> <a id="10106" href="Meta.Deriving.Elim.html#10047" class="Bound">par-tel</a>
    <a id="10118" href="Meta.Deriving.Elim.html#10118" class="Bound">ix-tel</a> <a id="10125" class="Symbol">=</a> <a id="10127" href="Meta.Reflection.Argument.html#1062" class="Function">hide-if</a> <a id="10135" href="Meta.Deriving.Elim.html#2485" class="Function">hide-indices</a> <a id="10148" href="Meta.Deriving.Elim.html#10057" class="Bound">ix-tel</a>
    <a id="10159" href="Meta.Deriving.Elim.html#10159" class="Bound">DTel</a> <a id="10164" class="Symbol">=</a> <a id="10166" href="Meta.Deriving.Elim.html#10118" class="Bound">ix-tel</a> <a id="10173" href="Data.List.Operations.html#694" class="Function Operator">∷r</a> <a id="10176" class="Symbol">(</a><a id="10177" class="String">&quot;&quot;</a> <a id="10180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10182" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="10187" class="Symbol">(</a><a id="10188" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="10192" href="Meta.Deriving.Elim.html#9769" class="Bound">D</a> <a id="10194" class="Symbol">(</a><a id="10195" href="Meta.Reflection.Base.html#5138" class="Function">tel→args</a> <a id="10204" class="Number">0</a> <a id="10206" href="Meta.Deriving.Elim.html#10020" class="Bound">DTTel</a><a id="10211" class="Symbol">)))</a> <a id="10215" class="Comment">-- (is : Ξ) (_ : D ps is)</a>
  <a id="10243" href="Meta.Deriving.Elim.html#10243" class="Bound">DTel</a> <a id="10248" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="10250" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="10258" class="Number">1</a> <a id="10260" href="Meta.Deriving.Elim.html#10159" class="Bound">DTel</a>
  <a id="10267" class="Keyword">let</a>
    <a id="10275" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="10280" class="Symbol">=</a> <a id="10282" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="10285" href="Meta.Deriving.Elim.html#2109" class="Function">induction</a> <a id="10295" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="10300" href="Foundations.Pi.Base.html#2508" class="Function">id</a> <a id="10303" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="10308" class="Symbol">λ</a> <a id="10310" href="Meta.Deriving.Elim.html#10310" class="Bound">_</a> <a id="10312" class="Symbol">→</a> <a id="10314" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="10321" href="Meta.Deriving.Elim.html#10321" class="Bound">argP</a> <a id="10326" class="Symbol">=</a> <a id="10328" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="10331" href="Meta.Deriving.Elim.html#2342" class="Function">hide-motive</a> <a id="10343" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="10348" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="10353" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="10358" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
    <a id="10367" href="Meta.Deriving.Elim.html#10367" class="Bound">motiveTel</a> <a id="10377" class="Symbol">=</a> <a id="10379" class="Symbol">(</a><a id="10380" class="String">&quot;ℓ&quot;</a> <a id="10384" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10386" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="10391" class="Symbol">(</a><a id="10392" class="Keyword">quoteTerm</a> <a id="10402" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="10407" class="Symbol">))</a>
              <a id="10424" class="Comment">-- P : DTel → Type ℓ</a>
              <a id="10459" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10461" class="Symbol">(</a><a id="10462" class="String">&quot;P&quot;</a> <a id="10466" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10468" href="Meta.Deriving.Elim.html#10321" class="Bound">argP</a> <a id="10473" class="Symbol">(</a><a id="10474" href="Data.Reflection.Term.html#1827" class="Function">unpi-view</a> <a id="10484" class="Symbol">(</a><a id="10485" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="10490" href="Meta.Deriving.Elim.html#10243" class="Bound">DTel</a><a id="10494" class="Symbol">)</a> <a id="10496" class="Symbol">(</a><a id="10497" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="10507" class="Symbol">(</a><a id="10508" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="10512" class="Symbol">(</a><a id="10513" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="10518" class="Symbol">(</a><a id="10519" href="Data.List.Operations.html#862" class="Function">length</a> <a id="10526" class="Symbol">(</a><a id="10527" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="10532" href="Meta.Deriving.Elim.html#10243" class="Bound">DTel</a><a id="10536" class="Symbol">)))))))</a>
              <a id="10558" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="10560" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="10565" href="Meta.Deriving.Elim.html#10565" class="Bound">DTel</a> <a id="10570" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="10572" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="10580" class="Number">1</a> <a id="10582" href="Meta.Deriving.Elim.html#10243" class="Bound">DTel</a>
    <a id="10591" class="Comment">-- We want to take is-hlevel as an argument, but we need to work in a context</a>
    <a id="10673" class="Comment">-- with an H-Level instance in scope.</a>
    <a id="10715" class="Comment">-- (d : DTel) → is-of-hlevel n (P d)</a>
  <a id="10754" class="Keyword">let</a>
    <a id="10762" href="Meta.Deriving.Elim.html#10762" class="Bound">hlevelTel</a> <a id="10772" class="Symbol">=</a> <a id="10774" href="Data.Maybe.Instances.Alt.html#303" class="Function">maybe→alt</a> <a id="10784" href="Meta.Deriving.Elim.html#2212" class="Function">into-hlevel</a> <a id="10796" href="Meta.Effect.Map.Base.html#508" class="Function Operator">&lt;&amp;&gt;</a> <a id="10800" class="Symbol">λ</a> <a id="10802" href="Meta.Deriving.Elim.html#10802" class="Bound">n</a> <a id="10804" class="Symbol">→</a> <a id="10806" class="String">&quot;h&quot;</a> <a id="10810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10812" href="Data.Reflection.Argument.html#1588" class="Function">argN</a>
      <a id="10823" class="Symbol">(</a><a id="10824" href="Data.Reflection.Term.html#1827" class="Function">unpi-view</a> <a id="10834" class="Symbol">(</a><a id="10835" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="10840" href="Meta.Deriving.Elim.html#10565" class="Bound">DTel</a><a id="10844" class="Symbol">)</a>
        <a id="10854" class="Symbol">(</a><a id="10855" href="Meta.Reflection.Signature.html#5235" class="Macro">it</a> <a id="10858" href="Foundations.Base.html#12919" class="Function">is-of-hlevel</a> <a id="10871" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="10875" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="10879" class="Symbol">(</a><a id="10880" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="10884" href="Meta.Deriving.Elim.html#10802" class="Bound">n</a><a id="10885" class="Symbol">)</a> <a id="10887" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="10891" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="10895" class="Symbol">(</a><a id="10896" href="Data.List.Operations.html#862" class="Function">length</a> <a id="10903" class="Symbol">(</a><a id="10904" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="10909" href="Meta.Deriving.Elim.html#10565" class="Bound">DTel</a><a id="10913" class="Symbol">))</a> <a id="10916" class="Symbol">(</a><a id="10917" href="Meta.Reflection.Base.html#5138" class="Function">tel→args</a> <a id="10926" class="Number">0</a> <a id="10928" class="Symbol">(</a><a id="10929" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="10934" href="Meta.Deriving.Elim.html#10565" class="Bound">DTel</a><a id="10938" class="Symbol">))</a> <a id="10941" class="Symbol">))</a>
    <a id="10948" class="Comment">-- {d : DTel} {k : Nat} → H-Level (n + k) (P d)</a>
    <a id="11000" href="Meta.Deriving.Elim.html#11000" class="Bound">H-LevelTel</a> <a id="11011" class="Symbol">=</a> <a id="11013" href="Data.Maybe.Instances.Alt.html#303" class="Function">maybe→alt</a> <a id="11023" href="Meta.Deriving.Elim.html#2212" class="Function">into-hlevel</a> <a id="11035" href="Meta.Effect.Map.Base.html#508" class="Function Operator">&lt;&amp;&gt;</a> <a id="11039" class="Symbol">λ</a> <a id="11041" href="Meta.Deriving.Elim.html#11041" class="Bound">n</a> <a id="11043" class="Symbol">→</a> <a id="11045" class="String">&quot;h&quot;</a> <a id="11049" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11051" href="Data.Reflection.Argument.html#1583" class="Function">argI</a>
      <a id="11062" class="Symbol">(</a><a id="11063" href="Data.Reflection.Term.html#1827" class="Function">unpi-view</a> <a id="11073" class="Symbol">(</a><a id="11074" href="Meta.Reflection.Argument.html#996" class="Function">hide</a> <a id="11079" class="Symbol">(</a><a id="11080" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="11085" href="Meta.Deriving.Elim.html#10565" class="Bound">DTel</a><a id="11089" class="Symbol">))</a> <a id="11092" class="Symbol">(</a><a id="11093" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="11096" class="Symbol">(</a><a id="11097" href="Data.Reflection.Argument.html#1578" class="Function">argH</a> <a id="11102" class="Symbol">(</a><a id="11103" class="Keyword">quoteTerm</a> <a id="11113" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="11114" class="Symbol">))</a> <a id="11117" class="Symbol">(</a><a id="11118" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="11122" class="String">&quot;k&quot;</a>
        <a id="11134" class="Symbol">(</a><a id="11135" href="Meta.Reflection.Signature.html#5235" class="Macro">it</a> <a id="11138" href="Foundations.HLevel.Base.html#8603" class="Record">H-Level</a> <a id="11146" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11150" class="Symbol">(</a><a id="11151" href="Meta.Reflection.Signature.html#5235" class="Macro">it</a> <a id="11154" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a> <a id="11158" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11162" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="11166" class="Symbol">(</a><a id="11167" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="11171" href="Meta.Deriving.Elim.html#11041" class="Bound">n</a><a id="11172" class="Symbol">)</a> <a id="11174" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11178" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="11183" class="Number">0</a><a id="11184" class="Symbol">)</a> <a id="11186" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="11190" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="11194" class="Symbol">(</a><a id="11195" class="Number">1</a> <a id="11197" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11199" href="Data.List.Operations.html#862" class="Function">length</a> <a id="11206" class="Symbol">(</a><a id="11207" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="11212" href="Meta.Deriving.Elim.html#10565" class="Bound">DTel</a><a id="11216" class="Symbol">))</a> <a id="11219" class="Symbol">(</a><a id="11220" href="Meta.Reflection.Base.html#5138" class="Function">tel→args</a> <a id="11229" class="Number">1</a> <a id="11231" class="Symbol">(</a><a id="11232" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="11237" href="Meta.Deriving.Elim.html#10565" class="Bound">DTel</a><a id="11241" class="Symbol">))))))</a>
    <a id="11252" href="Meta.Deriving.Elim.html#11252" class="Bound">ps</a> <a id="11255" class="Symbol">=</a> <a id="11257" href="Meta.Reflection.Base.html#5138" class="Function">tel→args</a> <a id="11266" class="Symbol">(</a><a id="11267" href="Data.List.Operations.html#862" class="Function">length</a> <a id="11274" href="Meta.Deriving.Elim.html#10367" class="Bound">motiveTel</a> <a id="11284" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11286" href="Data.List.Operations.html#862" class="Function">length</a> <a id="11293" href="Meta.Deriving.Elim.html#10762" class="Bound">hlevelTel</a><a id="11302" class="Symbol">)</a> <a id="11304" href="Meta.Deriving.Elim.html#10047" class="Bound">par-tel</a>
    <a id="11316" href="Meta.Deriving.Elim.html#11316" class="Bound">P</a> <a id="11318" class="Symbol">=</a> <a id="11320" href="Data.Reflection.Term.html#2482" class="InductiveConstructor">var₀</a> <a id="11325" class="Symbol">(</a><a id="11326" href="Data.List.Operations.html#862" class="Function">length</a> <a id="11333" href="Meta.Deriving.Elim.html#10762" class="Bound">hlevelTel</a><a id="11342" class="Symbol">)</a>
    <a id="11348" class="Keyword">module</a> <a id="I"></a><a id="11355" href="Meta.Deriving.Elim.html#11355" class="Module">I</a> <a id="11357" class="Symbol">=</a> <a id="11359" href="Meta.Deriving.Elim.html#2837" class="Module">Induction</a> <a id="11369" href="Meta.Deriving.Elim.html#9759" class="Bound">opts</a> <a id="11374" href="Meta.Deriving.Elim.html#9769" class="Bound">D</a> <a id="11376" href="Meta.Deriving.Elim.html#9894" class="Bound">pars</a> <a id="11381" href="Meta.Deriving.Elim.html#10118" class="Bound">ix-tel</a> <a id="11388" href="Meta.Deriving.Elim.html#9899" class="Bound">cs</a>
  <a id="11393" href="Meta.Deriving.Elim.html#11393" class="Bound">methodTel</a> <a id="11403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11405" href="Meta.Deriving.Elim.html#11405" class="Bound">αs</a> <a id="11408" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="11410" href="Meta.Deriving.Elim.html#11410" class="Bound">rs</a> <a id="11413" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="11415" href="Agda.Builtin.Reflection.html#9365" class="Postulate">in-context</a> <a id="11426" class="Symbol">(</a><a id="11427" href="Data.List.Base.html#1014" class="Function">reverse-fast</a> <a id="11440" class="Symbol">(</a><a id="11441" href="Meta.Deriving.Elim.html#10090" class="Bound">par-telH</a> <a id="11450" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="11453" href="Meta.Deriving.Elim.html#10367" class="Bound">motiveTel</a> <a id="11463" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="11466" href="Meta.Deriving.Elim.html#11000" class="Bound">H-LevelTel</a><a id="11476" class="Symbol">))</a> <a id="11479" class="Symbol">(</a><a id="11480" href="Meta.Deriving.Elim.html#8149" class="Function">I.methods</a> <a id="11490" href="Meta.Deriving.Elim.html#11252" class="Bound">ps</a> <a id="11493" href="Meta.Deriving.Elim.html#11316" class="Bound">P</a><a id="11494" class="Symbol">)</a>
  <a id="11498" class="Keyword">let</a> <a id="11502" href="Meta.Deriving.Elim.html#11502" class="Bound">baseTel</a> <a id="11510" class="Symbol">=</a> <a id="11512" href="Meta.Deriving.Elim.html#10090" class="Bound">par-telH</a> <a id="11521" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="11524" href="Meta.Deriving.Elim.html#10367" class="Bound">motiveTel</a> <a id="11534" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="11537" href="Meta.Deriving.Elim.html#10762" class="Bound">hlevelTel</a> <a id="11547" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="11550" href="Meta.Deriving.Elim.html#11393" class="Bound">methodTel</a>
  <a id="11562" href="Meta.Deriving.Elim.html#11562" class="Bound">DTel</a> <a id="11567" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="11569" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="11577" class="Symbol">(</a><a id="11578" href="Data.List.Operations.html#862" class="Function">length</a> <a id="11585" href="Meta.Deriving.Elim.html#10762" class="Bound">hlevelTel</a> <a id="11595" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11597" href="Data.List.Operations.html#862" class="Function">length</a> <a id="11604" href="Meta.Deriving.Elim.html#11393" class="Bound">methodTel</a><a id="11613" class="Symbol">)</a> <a id="11615" href="Meta.Deriving.Elim.html#10565" class="Bound">DTel</a>
  <a id="11622" href="Meta.Deriving.Elim.html#11622" class="Bound">P</a> <a id="11624" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="11626" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="11634" class="Symbol">(</a><a id="11635" href="Data.List.Operations.html#862" class="Function">length</a> <a id="11642" href="Meta.Deriving.Elim.html#11393" class="Bound">methodTel</a> <a id="11652" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="11654" href="Data.List.Operations.html#862" class="Function">length</a> <a id="11661" href="Meta.Deriving.Elim.html#11562" class="Bound">DTel</a><a id="11665" class="Symbol">)</a> <a id="11667" href="Meta.Deriving.Elim.html#11316" class="Bound">P</a>
  <a id="11671" href="Meta.Deriving.Elim.html#11671" class="Bound">Pd</a> <a id="11674" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="11676" href="Meta.Reflection.Subst.html#8007" class="Function">apply*TC</a> <a id="11685" href="Meta.Deriving.Elim.html#11622" class="Bound">P</a> <a id="11687" class="Symbol">(</a><a id="11688" href="Meta.Reflection.Base.html#5138" class="Function">tel→args</a> <a id="11697" class="Number">0</a> <a id="11699" class="Symbol">(</a><a id="11700" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="11705" href="Meta.Deriving.Elim.html#11562" class="Bound">DTel</a><a id="11709" class="Symbol">))</a>
  <a id="11714" class="Keyword">let</a>
    <a id="11722" class="Comment">-- ∀ (ps : Γ) {ℓ} {P} (h : ∀ d → is-of-hlevel n (P d)) (ms : methodTel) (d : DTel) → P d</a>
    <a id="11815" href="Meta.Deriving.Elim.html#11815" class="Bound">elimT</a> <a id="11821" class="Symbol">=</a> <a id="11823" href="Data.Reflection.Term.html#1827" class="Function">unpi-view</a> <a id="11833" class="Symbol">(</a><a id="11834" href="Meta.Deriving.Elim.html#11502" class="Bound">baseTel</a> <a id="11842" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="11845" href="Meta.Deriving.Elim.html#11562" class="Bound">DTel</a><a id="11849" class="Symbol">)</a> <a id="11851" href="Meta.Deriving.Elim.html#11671" class="Bound">Pd</a>
  <a id="11856" href="Meta.Deriving.Elim.html#11856" class="Bound">elimT′</a> <a id="11863" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="11865" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="11870" href="Meta.Effect.Map.Base.html#398" class="Function Operator">&lt;$&gt;</a> <a id="11874" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="11883" href="Meta.Deriving.Elim.html#9764" class="Bound">elim</a> <a id="11888" href="Meta.Effect.Alt.html#369" class="Field Operator">&lt;|&gt;</a> <a id="11892" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="11900" href="Meta.Effect.Map.Base.html#453" class="Function Operator">&lt;$</a> <a id="11903" href="Agda.Builtin.Reflection.html#9468" class="Postulate">declare-def</a> <a id="11915" class="Symbol">(</a><a id="11916" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="11921" href="Meta.Deriving.Elim.html#9764" class="Bound">elim</a><a id="11925" class="Symbol">)</a> <a id="11927" href="Meta.Deriving.Elim.html#11815" class="Bound">elimT</a>
  <a id="11935" href="Meta.Effect.Traversable.html#418" class="Function">for</a> <a id="11939" href="Meta.Deriving.Elim.html#11856" class="Bound">elimT′</a> <a id="11946" class="Symbol">(</a><a id="11947" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="11953" href="Meta.Deriving.Elim.html#11815" class="Bound">elimT</a><a id="11958" class="Symbol">)</a> <a id="11960" class="Comment">-- Give a nicer error if the types don&#39;t match</a>
  <a id="12009" href="Meta.Deriving.Elim.html#12009" class="Bound">ix-tel</a> <a id="12016" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="12018" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="12026" class="Symbol">(</a><a id="12027" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12034" href="Meta.Deriving.Elim.html#10367" class="Bound">motiveTel</a> <a id="12044" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12046" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12053" href="Meta.Deriving.Elim.html#10762" class="Bound">hlevelTel</a> <a id="12063" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12065" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12072" href="Meta.Deriving.Elim.html#11393" class="Bound">methodTel</a><a id="12081" class="Symbol">)</a> <a id="12083" href="Meta.Deriving.Elim.html#10118" class="Bound">ix-tel</a>
  <a id="12092" href="Meta.Deriving.Elim.html#12092" class="Bound">ps</a> <a id="12095" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="12097" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="12105" class="Symbol">(</a><a id="12106" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12113" href="Meta.Deriving.Elim.html#11393" class="Bound">methodTel</a> <a id="12123" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12125" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12132" href="Meta.Deriving.Elim.html#12009" class="Bound">ix-tel</a><a id="12138" class="Symbol">)</a> <a id="12140" href="Meta.Deriving.Elim.html#11252" class="Bound">ps</a>
  <a id="12145" href="Meta.Deriving.Elim.html#12145" class="Bound">rs</a> <a id="12148" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="12150" href="Meta.Reflection.Subst.html#7504" class="Function">raiseTC</a> <a id="12158" class="Symbol">(</a><a id="12159" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12166" href="Meta.Deriving.Elim.html#12009" class="Bound">ix-tel</a><a id="12172" class="Symbol">)</a> <a id="12174" href="Meta.Deriving.Elim.html#11410" class="Bound">rs</a>
  <a id="12179" class="Comment">-- The replacements are in the H-Level context, so we substitute them back into</a>
  <a id="12261" class="Comment">-- our context using basic-instance.</a>
  <a id="12300" class="Keyword">let</a> <a id="12304" href="Meta.Deriving.Elim.html#12304" class="Bound">h</a> <a id="12306" class="Symbol">=</a> <a id="12308" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12315" href="Meta.Deriving.Elim.html#11393" class="Bound">methodTel</a> <a id="12325" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12327" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12334" href="Meta.Deriving.Elim.html#12009" class="Bound">ix-tel</a>
  <a id="12343" href="Meta.Deriving.Elim.html#12343" class="Bound">rs</a> <a id="12346" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="12348" class="Keyword">do</a>
    <a id="12355" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="12360" href="Meta.Deriving.Elim.html#12360" class="Bound">n</a> <a id="12362" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="12364" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="12369" href="Meta.Deriving.Elim.html#2212" class="Function">into-hlevel</a>
      <a id="12387" class="Keyword">where</a> <a id="12393" class="CatchallClause Symbol">_</a> <a id="12395" class="Symbol">→</a> <a id="12397" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="12402" href="Meta.Deriving.Elim.html#12145" class="Bound">rs</a>
    <a id="12409" class="Keyword">let</a> <a id="12413" href="Meta.Deriving.Elim.html#12413" class="Bound">f</a> <a id="12415" class="Symbol">=</a> <a id="12417" href="Meta.Reflection.Subst.html#2113" class="Field">applyS</a> <a id="12424" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="12426" href="Meta.Reflection.Subst.html#1849" class="Function">inplaceS</a> <a id="12435" href="Meta.Deriving.Elim.html#12304" class="Bound">h</a> <a id="12437" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="12439" href="Data.Reflection.Term.html#1951" class="Function">tel→lam</a> <a id="12447" class="Symbol">(</a><a id="12448" href="Meta.Reflection.Argument.html#996" class="Function">hide</a> <a id="12453" class="Symbol">(</a><a id="12454" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="12459" href="Meta.Deriving.Elim.html#11562" class="Bound">DTel</a><a id="12463" class="Symbol">))</a>
          <a id="12476" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="12478" href="Meta.Reflection.Signature.html#5235" class="Macro">it</a> <a id="12481" href="Foundations.HLevel.Base.html#9253" class="Function">hlevel-basic-instance</a> <a id="12503" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="12507" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="12511" class="Symbol">(</a><a id="12512" href="Agda.Builtin.Reflection.html#4419" class="InductiveConstructor">nat</a> <a id="12516" href="Meta.Deriving.Elim.html#12360" class="Bound">n</a><a id="12517" class="Symbol">)</a> <a id="12519" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="12523" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="12527" class="Symbol">(</a><a id="12528" href="Meta.Deriving.Elim.html#12304" class="Bound">h</a> <a id="12530" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12532" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12539" class="Symbol">(</a><a id="12540" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="12545" href="Meta.Deriving.Elim.html#11562" class="Bound">DTel</a><a id="12549" class="Symbol">))</a> <a id="12552" class="Symbol">(</a><a id="12553" href="Meta.Reflection.Base.html#5138" class="Function">tel→args</a> <a id="12562" class="Number">0</a> <a id="12564" class="Symbol">(</a><a id="12565" href="Meta.Deriving.Elim.html#10275" class="Bound">PTel</a> <a id="12570" href="Meta.Deriving.Elim.html#11562" class="Bound">DTel</a><a id="12574" class="Symbol">))</a>
    <a id="12581" href="Meta.Reflection.Subst.html#7212" class="Function">maybe→tc</a> <a id="12590" class="Symbol">(</a><a id="12591" href="Meta.Deriving.Elim.html#12413" class="Bound">f</a> <a id="12593" href="Meta.Deriving.Elim.html#12145" class="Bound">rs</a><a id="12595" class="Symbol">)</a> <a id="12597" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="12602" href="Meta.Deriving.Elim.html#12602" class="Bound">clauses</a> <a id="12610" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="12612" href="Agda.Builtin.Reflection.html#9365" class="Postulate">in-context</a> <a id="12623" class="Symbol">(</a><a id="12624" href="Data.List.Base.html#1014" class="Function">reverse-fast</a> <a id="12637" class="Symbol">(</a><a id="12638" href="Meta.Deriving.Elim.html#11502" class="Bound">baseTel</a> <a id="12646" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="12649" href="Meta.Deriving.Elim.html#12009" class="Bound">ix-tel</a><a id="12655" class="Symbol">))</a> <a id="12658" class="Keyword">do</a>
    <a id="12665" class="Keyword">let</a> <a id="12669" href="Meta.Deriving.Elim.html#12669" class="Bound">get-clause</a> <a id="12680" class="Symbol">=</a> <a id="12682" class="Symbol">λ</a> <a id="12684" class="Symbol">(</a><a id="12685" href="Meta.Deriving.Elim.html#12685" class="Bound">c</a> <a id="12687" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="12689" href="Meta.Deriving.Elim.html#12689" class="Bound">α</a><a id="12690" class="Symbol">)</a> <a id="12692" class="Symbol">→</a> <a id="12694" class="Keyword">do</a>
      <a id="12703" href="Meta.Deriving.Elim.html#12703" class="Bound">cT</a> <a id="12706" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="12708" href="Foundations.Pi.Base.html#2252" class="Function">flip</a> <a id="12713" href="Meta.Reflection.Subst.html#7344" class="Function">pi-applyTC</a> <a id="12724" href="Meta.Deriving.Elim.html#12092" class="Bound">ps</a> <a id="12727" href="Meta.Effect.Bind.Base.html#454" class="Function Operator">=&lt;&lt;</a> <a id="12731" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="12741" href="Meta.Effect.Bind.Base.html#454" class="Function Operator">=&lt;&lt;</a> <a id="12745" href="Agda.Builtin.Reflection.html#9730" class="Postulate">get-type</a> <a id="12754" href="Meta.Deriving.Elim.html#12685" class="Bound">c</a>
      <a id="12762" class="Keyword">let</a> <a id="12766" href="Meta.Deriving.Elim.html#12766" class="Bound">cTel</a> <a id="12771" class="Symbol">=</a> <a id="12773" href="Meta.Reflection.Base.html#4759" class="Function">pi-view-path</a> <a id="12786" href="Meta.Deriving.Elim.html#12703" class="Bound">cT</a>
          <a id="12799" href="Meta.Deriving.Elim.html#12799" class="Bound">pats</a> <a id="12804" class="Symbol">=</a> <a id="12806" href="Meta.Reflection.Base.html#4987" class="Function">tel→pats</a> <a id="12815" class="Symbol">(</a><a id="12816" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12823" href="Meta.Deriving.Elim.html#12766" class="Bound">cTel</a><a id="12827" class="Symbol">)</a> <a id="12829" class="Symbol">(</a><a id="12830" href="Meta.Deriving.Elim.html#11502" class="Bound">baseTel</a> <a id="12838" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="12841" href="Meta.Deriving.Elim.html#12009" class="Bound">ix-tel</a><a id="12847" class="Symbol">)</a> <a id="12849" href="Data.List.Operations.html#694" class="Function Operator">∷r</a> <a id="12852" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="12857" class="Symbol">(</a><a id="12858" href="Agda.Builtin.Reflection.html#5814" class="InductiveConstructor">con</a> <a id="12862" href="Meta.Deriving.Elim.html#12685" class="Bound">c</a> <a id="12864" class="Symbol">(</a><a id="12865" href="Meta.Reflection.Base.html#4987" class="Function">tel→pats</a> <a id="12874" class="Number">0</a> <a id="12876" href="Meta.Deriving.Elim.html#12766" class="Bound">cTel</a><a id="12880" class="Symbol">))</a>
          <a id="12893" href="Meta.Deriving.Elim.html#12893" class="Bound">rec</a> <a id="12897" class="Symbol">=</a> <a id="12899" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="12903" href="Meta.Deriving.Elim.html#9764" class="Bound">elim</a> <a id="12908" class="Symbol">(</a><a id="12909" href="Meta.Reflection.Base.html#5138" class="Function">tel→args</a> <a id="12918" class="Symbol">(</a><a id="12919" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12926" href="Meta.Deriving.Elim.html#12009" class="Bound">ix-tel</a> <a id="12933" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="12935" href="Data.List.Operations.html#862" class="Function">length</a> <a id="12942" href="Meta.Deriving.Elim.html#12766" class="Bound">cTel</a><a id="12946" class="Symbol">)</a> <a id="12948" href="Meta.Deriving.Elim.html#11502" class="Bound">baseTel</a><a id="12955" class="Symbol">)</a>
      <a id="12963" href="Meta.Deriving.Elim.html#12963" class="Bound">α</a> <a id="12965" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="12967" href="Meta.Reflection.Subst.html#7212" class="Function">maybe→tc</a> <a id="12976" class="Symbol">(</a><a id="12977" href="Meta.Reflection.Subst.html#2113" class="Field">applyS</a> <a id="12984" class="Symbol">(</a><a id="12985" href="Meta.Reflection.Subst.html#1637" class="Function">singletonS</a> <a id="12996" class="Symbol">(</a><a id="12997" href="Data.List.Operations.html#862" class="Function">length</a> <a id="13004" href="Meta.Deriving.Elim.html#12766" class="Bound">cTel</a><a id="13008" class="Symbol">)</a> <a id="13010" href="Meta.Deriving.Elim.html#12893" class="Bound">rec</a><a id="13013" class="Symbol">)</a> <a id="13015" href="Meta.Deriving.Elim.html#12689" class="Bound">α</a><a id="13016" class="Symbol">)</a> <a id="13018" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="13027" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13032" href="Meta.Deriving.Elim.html#13032" class="Bound">m</a> <a id="13034" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="13036" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="13041" class="Symbol">(</a><a id="13042" href="Meta.Deriving.Elim.html#3131" class="Function">I.replace</a> <a id="13052" href="Meta.Reflection.Base.html#3234" class="Function">full-tank</a> <a id="13062" href="Meta.Deriving.Elim.html#12343" class="Bound">rs</a> <a id="13065" class="Symbol">(</a><a id="13066" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="13070" href="Meta.Deriving.Elim.html#12685" class="Bound">c</a> <a id="13072" class="Symbol">(</a><a id="13073" href="Meta.Reflection.Argument.html#996" class="Function">hide</a> <a id="13078" href="Meta.Deriving.Elim.html#12092" class="Bound">ps</a><a id="13080" class="Symbol">)))</a>
        <a id="13092" class="Keyword">where</a> <a id="13098" class="CatchallClause Symbol">_</a> <a id="13100" class="Symbol">→</a> <a id="13102" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="13113" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
      <a id="13122" href="Meta.Deriving.Elim.html#13122" class="Bound">m</a> <a id="13124" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="13126" href="Foundations.Pi.Base.html#2252" class="Function">flip</a> <a id="13131" href="Meta.Reflection.Subst.html#7212" class="Function">maybe→tc</a> <a id="13140" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="13143" class="Keyword">do</a>
        <a id="13154" href="Meta.Deriving.Elim.html#13154" class="Bound">m′</a> <a id="13157" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="13159" href="Meta.Reflection.Subst.html#2189" class="Function">raise</a> <a id="13165" class="Symbol">(</a><a id="13166" href="Data.List.Operations.html#862" class="Function">length</a> <a id="13173" href="Meta.Deriving.Elim.html#12766" class="Bound">cTel</a><a id="13177" class="Symbol">)</a> <a id="13179" href="Meta.Deriving.Elim.html#13032" class="Bound">m</a>
        <a id="13189" href="Meta.Reflection.Subst.html#3517" class="Function">apply-tm*</a> <a id="13199" href="Meta.Reflection.Base.html#3234" class="Function">full-tank</a> <a id="13209" href="Meta.Deriving.Elim.html#13154" class="Bound">m′</a> <a id="13212" href="Meta.Deriving.Elim.html#12963" class="Bound">α</a>
      <a id="13220" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="13225" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="13227" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="13234" class="Symbol">(</a><a id="13235" href="Meta.Deriving.Elim.html#11502" class="Bound">baseTel</a> <a id="13243" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="13246" href="Meta.Deriving.Elim.html#12009" class="Bound">ix-tel</a> <a id="13253" href="Foundations.Notation.Composition.html#1099" class="Field Operator">&lt;&gt;</a> <a id="13256" href="Meta.Deriving.Elim.html#12766" class="Bound">cTel</a><a id="13260" class="Symbol">)</a> <a id="13262" href="Meta.Deriving.Elim.html#12799" class="Bound">pats</a> <a id="13267" href="Meta.Deriving.Elim.html#13122" class="Bound">m</a>
    <a id="13273" href="Meta.Effect.Traversable.html#315" class="Field">traverse</a> <a id="13282" href="Meta.Deriving.Elim.html#12669" class="Bound">get-clause</a> <a id="13293" class="Symbol">(</a><a id="13294" href="Data.List.Operations.html#3574" class="Function">zip</a> <a id="13298" href="Meta.Deriving.Elim.html#9899" class="Bound">cs</a> <a id="13301" href="Meta.Deriving.Elim.html#11405" class="Bound">αs</a><a id="13303" class="Symbol">)</a>
  <a id="13307" href="Agda.Builtin.Reflection.html#9683" class="Postulate">define-function</a> <a id="13323" href="Meta.Deriving.Elim.html#9764" class="Bound">elim</a> <a id="13328" href="Meta.Deriving.Elim.html#12602" class="Bound">clauses</a>

<a id="default-elim"></a><a id="13337" href="Meta.Deriving.Elim.html#13337" class="Function">default-elim</a> <a id="13350" class="Symbol">=</a> <a id="13352" class="Keyword">record</a>
  <a id="13361" class="Symbol">{</a> <a id="13363" href="Meta.Deriving.Elim.html#2109" class="Field">induction</a> <a id="13373" class="Symbol">=</a> <a id="13375" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13382" class="Symbol">;</a> <a id="13384" href="Meta.Deriving.Elim.html#2212" class="Field">into-hlevel</a> <a id="13396" class="Symbol">=</a> <a id="13398" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="13408" class="Symbol">;</a> <a id="13410" href="Meta.Deriving.Elim.html#2342" class="Field">hide-motive</a> <a id="13422" class="Symbol">=</a> <a id="13424" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13431" class="Symbol">;</a> <a id="13433" href="Meta.Deriving.Elim.html#2485" class="Field">hide-indices</a> <a id="13446" class="Symbol">=</a> <a id="13448" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13455" class="Symbol">;</a> <a id="13457" href="Meta.Deriving.Elim.html#2798" class="Field">hide-cons-args</a> <a id="13472" class="Symbol">=</a> <a id="13474" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13482" class="Symbol">}</a>

<a id="default-elim-visible"></a><a id="13485" href="Meta.Deriving.Elim.html#13485" class="Function">default-elim-visible</a> <a id="13506" class="Symbol">=</a> <a id="13508" class="Keyword">record</a>
  <a id="13517" class="Symbol">{</a> <a id="13519" href="Meta.Deriving.Elim.html#2109" class="Field">induction</a> <a id="13529" class="Symbol">=</a> <a id="13531" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
  <a id="13538" class="Symbol">;</a> <a id="13540" href="Meta.Deriving.Elim.html#2212" class="Field">into-hlevel</a> <a id="13552" class="Symbol">=</a> <a id="13554" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="13564" class="Symbol">;</a> <a id="13566" href="Meta.Deriving.Elim.html#2342" class="Field">hide-motive</a> <a id="13578" class="Symbol">=</a> <a id="13580" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13588" class="Symbol">;</a> <a id="13590" href="Meta.Deriving.Elim.html#2485" class="Field">hide-indices</a> <a id="13603" class="Symbol">=</a> <a id="13605" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13613" class="Symbol">;</a> <a id="13615" href="Meta.Deriving.Elim.html#2798" class="Field">hide-cons-args</a> <a id="13630" class="Symbol">=</a> <a id="13632" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
  <a id="13640" class="Symbol">}</a>

<a id="default-rec"></a><a id="13643" href="Meta.Deriving.Elim.html#13643" class="Function">default-rec</a> <a id="13655" class="Symbol">=</a> <a id="13657" class="Keyword">record</a> <a id="13664" href="Meta.Deriving.Elim.html#13337" class="Function">default-elim</a> <a id="13677" class="Symbol">{</a> <a id="13679" href="Meta.Deriving.Elim.html#2109" class="Field">induction</a> <a id="13689" class="Symbol">=</a> <a id="13691" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13697" class="Symbol">}</a>
<a id="default-rec-visible"></a><a id="13699" href="Meta.Deriving.Elim.html#13699" class="Function">default-rec-visible</a> <a id="13719" class="Symbol">=</a> <a id="13721" class="Keyword">record</a> <a id="13728" href="Meta.Deriving.Elim.html#13485" class="Function">default-elim-visible</a> <a id="13749" class="Symbol">{</a> <a id="13751" href="Meta.Deriving.Elim.html#2109" class="Field">induction</a> <a id="13761" class="Symbol">=</a> <a id="13763" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="13769" class="Symbol">}</a>

<a id="_into_"></a><a id="13772" href="Meta.Deriving.Elim.html#13772" class="Function Operator">_into_</a> <a id="13779" class="Symbol">:</a> <a id="13781" href="Meta.Deriving.Elim.html#1955" class="Record">Elim-options</a> <a id="13794" class="Symbol">→</a> <a id="13796" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="13798" class="Symbol">→</a> <a id="13800" href="Meta.Deriving.Elim.html#1955" class="Record">Elim-options</a>
<a id="13813" href="Meta.Deriving.Elim.html#13813" class="Bound">opts</a> <a id="13818" href="Meta.Deriving.Elim.html#13772" class="Function Operator">into</a> <a id="13823" href="Meta.Deriving.Elim.html#13823" class="Bound">n</a> <a id="13825" class="Symbol">=</a> <a id="13827" class="Keyword">record</a> <a id="13834" href="Meta.Deriving.Elim.html#13813" class="Bound">opts</a> <a id="13839" class="Symbol">{</a> <a id="13841" href="Meta.Deriving.Elim.html#2212" class="Field">into-hlevel</a> <a id="13853" class="Symbol">=</a> <a id="13855" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="13860" href="Meta.Deriving.Elim.html#13823" class="Bound">n</a> <a id="13862" class="Symbol">}</a>

<a id="make-elim"></a><a id="13865" href="Meta.Deriving.Elim.html#13865" class="Function">make-elim</a> <a id="make-rec"></a><a id="13875" href="Meta.Deriving.Elim.html#13875" class="Function">make-rec</a> <a id="13884" class="Symbol">:</a> <a id="13886" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="13891" class="Symbol">→</a> <a id="13893" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="13898" class="Symbol">→</a> <a id="13900" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="13903" href="Foundations.Notation.Logic.html#4427" class="Field">⊤</a>
<a id="13905" href="Meta.Deriving.Elim.html#13865" class="Function">make-elim</a> <a id="13915" class="Symbol">=</a> <a id="13917" href="Meta.Deriving.Elim.html#9693" class="Function">make-elim-with</a> <a id="13932" href="Meta.Deriving.Elim.html#13337" class="Function">default-elim</a>
<a id="13945" href="Meta.Deriving.Elim.html#13875" class="Function">make-rec</a> <a id="13954" class="Symbol">=</a> <a id="13956" href="Meta.Deriving.Elim.html#9693" class="Function">make-elim-with</a> <a id="13971" href="Meta.Deriving.Elim.html#13643" class="Function">default-rec</a>

<a id="make-elim-n"></a><a id="13984" href="Meta.Deriving.Elim.html#13984" class="Function">make-elim-n</a> <a id="make-rec-n"></a><a id="13996" href="Meta.Deriving.Elim.html#13996" class="Function">make-rec-n</a> <a id="14007" class="Symbol">:</a> <a id="14009" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="14011" class="Symbol">→</a> <a id="14013" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="14018" class="Symbol">→</a> <a id="14020" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="14025" class="Symbol">→</a> <a id="14027" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="14030" href="Foundations.Notation.Logic.html#4427" class="Field">⊤</a>
<a id="14032" href="Meta.Deriving.Elim.html#13984" class="Function">make-elim-n</a> <a id="14044" href="Meta.Deriving.Elim.html#14044" class="Bound">n</a> <a id="14046" class="Symbol">=</a> <a id="14048" href="Meta.Deriving.Elim.html#9693" class="Function">make-elim-with</a> <a id="14063" class="Symbol">(</a><a id="14064" href="Meta.Deriving.Elim.html#13337" class="Function">default-elim</a> <a id="14077" href="Meta.Deriving.Elim.html#13772" class="Function Operator">into</a> <a id="14082" href="Meta.Deriving.Elim.html#14044" class="Bound">n</a><a id="14083" class="Symbol">)</a>
<a id="14085" href="Meta.Deriving.Elim.html#13996" class="Function">make-rec-n</a> <a id="14096" href="Meta.Deriving.Elim.html#14096" class="Bound">n</a> <a id="14098" class="Symbol">=</a> <a id="14100" href="Meta.Deriving.Elim.html#9693" class="Function">make-elim-with</a> <a id="14115" class="Symbol">(</a><a id="14116" href="Meta.Deriving.Elim.html#13643" class="Function">default-rec</a> <a id="14128" href="Meta.Deriving.Elim.html#13772" class="Function Operator">into</a> <a id="14133" href="Meta.Deriving.Elim.html#14096" class="Bound">n</a><a id="14134" class="Symbol">)</a>


<a id="14138" class="Comment">-- Examples</a>
<a id="14150" class="Comment">-- be careful, they consume about ~10GB of memory</a>
<a id="14200" class="Comment">-- module _ where private</a>
  <a id="14228" class="Comment">-- open import Data.Bool.Base</a>
  <a id="14260" class="Comment">-- unquoteDecl Bool-elim = make-elim Bool-elim (quote Bool)</a>
  <a id="14322" class="Comment">-- unquoteDecl Bool-rec = make-rec Bool-rec (quote Bool)</a>

  <a id="14382" class="Comment">-- _ : {ℓ : Level} {P : Bool → 𝒰 ℓ}</a>
  <a id="14420" class="Comment">--   → P false</a>
  <a id="14437" class="Comment">--   → P true</a>
  <a id="14453" class="Comment">--   → Π[ b ꞉ Bool ] P b</a>
  <a id="14480" class="Comment">-- _ = Bool-elim</a>

  <a id="14500" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ}</a>
  <a id="14531" class="Comment">--   → A</a>
  <a id="14542" class="Comment">--   → A</a>
  <a id="14553" class="Comment">--   → Bool → A</a>
  <a id="14571" class="Comment">-- _ = Bool-rec</a>

  <a id="14590" class="Comment">-- open import Data.Nat.Base</a>
  <a id="14621" class="Comment">-- unquoteDecl ℕ-elim = make-elim ℕ-elim (quote ℕ)</a>
  <a id="14674" class="Comment">-- unquoteDecl ℕ-rec = make-rec ℕ-rec (quote ℕ)</a>

  <a id="14725" class="Comment">-- _ : {ℓ : Level} {P : ℕ → 𝒰 ℓ}</a>
  <a id="14760" class="Comment">--   → P 0</a>
  <a id="14773" class="Comment">--   → Π[ n ꞉ ℕ ] (P n → P (suc n))</a>
  <a id="14811" class="Comment">--   → Π[ n ꞉ ℕ ] P n</a>
  <a id="14835" class="Comment">-- _ = ℕ-elim</a>

  <a id="14852" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ}</a>
  <a id="14883" class="Comment">--   → A</a>
  <a id="14894" class="Comment">--   → (ℕ → A → A)</a>
  <a id="14915" class="Comment">--   → ℕ → A</a>
  <a id="14930" class="Comment">-- _ = ℕ-rec</a>

  <a id="14946" class="Comment">-- open import Data.Fin.Inductive.Base</a>
  <a id="14987" class="Comment">-- unquoteDecl Fin-elim = make-elim Fin-elim (quote Fin)</a>

  <a id="15047" class="Comment">-- _ : {ℓ : Level} {P : {@0 n : ℕ} → Fin n → 𝒰 ℓ}</a>
  <a id="15099" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] P fzero</a>
  <a id="15128" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] Π[ k ꞉ Fin m ] (P k → P (fsuc k))</a>
  <a id="15183" class="Comment">--   → ∀ᴱ[ n ꞉ ℕ ] Π[ x ꞉ Fin n ] P x</a>
  <a id="15223" class="Comment">-- _ = Fin-elim</a>

  <a id="15242" class="Comment">-- open import Data.List.Base</a>
  <a id="15274" class="Comment">-- unquoteDecl List-elim = make-elim List-elim (quote List)</a>
  <a id="15336" class="Comment">-- unquoteDecl List-rec = make-elim-with (record default-rec {hide-cons-args = true}) List-rec (quote List)</a>

  <a id="15447" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {P : List A → 𝒰 ℓ}</a>
  <a id="15511" class="Comment">--   → P []</a>
  <a id="15525" class="Comment">--   → Π[ y ꞉ A ] Π[ ys ꞉ List A ] (P ys → P (y ∷ ys))</a>
  <a id="15582" class="Comment">--   → Π[ xs ꞉ List A ] P xs</a>
  <a id="15613" class="Comment">-- _ = List-elim</a>

  <a id="15633" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {B : 𝒰 ℓ}</a>
  <a id="15688" class="Comment">--   → B</a>
  <a id="15699" class="Comment">--   → ∀[ x ꞉ A ] ∀[ xs ꞉ List A ] (B → B)</a>
  <a id="15744" class="Comment">--   → List A → B</a>
  <a id="15764" class="Comment">-- _ = List-rec</a>

  <a id="15783" class="Comment">-- open import Data.Vec.Inductive.Base</a>
  <a id="15824" class="Comment">-- unquoteDecl Vec-elim = make-elim Vec-elim (quote Vec)</a>

  <a id="15884" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {ℓ : Level} {P : {@0 n : ℕ} → Vec A n → 𝒰 ℓ}</a>
  <a id="15962" class="Comment">--   → P []</a>
  <a id="15976" class="Comment">--   → ∀ᴱ[ m ꞉ ℕ ] Π[ y ꞉ A ] Π[ ys ꞉ Vec A m ] (P ys → P (y ∷ ys))</a>
  <a id="16046" class="Comment">--   → ∀ᴱ[ n ꞉ ℕ ] Π[ xs ꞉ Vec A n ] P xs</a>
  <a id="16090" class="Comment">-- _ = Vec-elim</a>

  <a id="16109" class="Comment">-- open import Data.Id.Inductive</a>
  <a id="16144" class="Comment">-- unquoteDecl Id-elim = make-elim-with default-elim-visible Id-elim (quote _＝ⁱ_)</a>

  <a id="16229" class="Comment">-- _ : {ℓᵃ : Level} {A : 𝒰 ℓᵃ} {a : A} {ℓ : Level}</a>
  <a id="16282" class="Comment">--     (P : Π[ b ꞉ A ] (a ＝ⁱ b → 𝒰 ℓ))</a>
  <a id="16323" class="Comment">--   → P a reflⁱ</a>
  <a id="16342" class="Comment">--   → Π[ x ꞉ A ] Π[ p ꞉ a ＝ⁱ x ] P x p</a>
  <a id="16384" class="Comment">-- _ = Id-elim</a>

  <a id="16402" class="Comment">-- open import Data.Truncation.Propositional.Base</a>
  <a id="16454" class="Comment">-- unquoteDecl ∥-∥₁-elim = make-elim ∥-∥₁-elim (quote ∥_∥₁)</a>
  <a id="16516" class="Comment">-- unquoteDecl ∥-∥₁-elim-prop = make-elim-n 1 ∥-∥₁-elim-prop (quote ∥_∥₁)</a>

  <a id="16593" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : ∥ A ∥₁ → 𝒰 ℓ′}</a>
  <a id="16657" class="Comment">--   → Π[ a ꞉ A ] P ∣ a ∣₁</a>
  <a id="16686" class="Comment">--   → Π[ a ꞉ ∥ A ∥₁ ] Π[ pᵃ ꞉ P a ] Π[ b ꞉ ∥ A ∥₁ ] Π[ pᵇ ꞉ P b ] ＜ pᵃ ／ (λ i → P (squash₁ a b i)) ＼ pᵇ ＞</a>
  <a id="16795" class="Comment">--   → Π[ x ꞉ ∥ A ∥₁ ] P x</a>
  <a id="16824" class="Comment">-- _ = ∥-∥₁-elim</a>

  <a id="16844" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : ∥ A ∥₁ → 𝒰 ℓ′}</a>
  <a id="16908" class="Comment">--   → Π[ a ꞉ ∥ A ∥₁ ] is-prop (P a)</a>
  <a id="16947" class="Comment">--   → Π[ a ꞉ A ] P ∣ a ∣₁</a>
  <a id="16976" class="Comment">--   → Π[ x ꞉ ∥ A ∥₁ ] P x</a>
  <a id="17005" class="Comment">-- _ = ∥-∥₁-elim-prop</a>

  <a id="17030" class="Comment">-- data S¹ : 𝒰 where</a>
  <a id="17053" class="Comment">--   base : S¹</a>
  <a id="17070" class="Comment">--   @0 loop : base ＝ base</a>

  <a id="17100" class="Comment">-- unquoteDecl S¹-elim = make-elim S¹-elim (quote S¹)</a>

  <a id="17157" class="Comment">-- _ : {ℓ : Level} {P : S¹ → 𝒰 ℓ}</a>
  <a id="17193" class="Comment">--     (Pbase : P base)</a>
  <a id="17219" class="Comment">--   → @0 Pathᴾ (λ i → P (loop i)) Pbase Pbase</a>
  <a id="17268" class="Comment">--   → (s : S¹) → P s</a>
  <a id="17292" class="Comment">-- _ = S¹-elim</a>


  <a id="17311" class="Comment">-- open import Data.Tree.Binary.Base</a>
  <a id="17350" class="Comment">-- unquoteDecl tree-elim = make-elim-with (record default-elim {hide-cons-args = true}) tree-elim (quote Tree)</a>

  <a id="17464" class="Comment">-- _ : {ℓ : Level} {A : 𝒰 ℓ} {ℓ′ : Level} {P : Tree A → 𝒰 ℓ′}</a>
  <a id="17528" class="Comment">--   → P empty</a>
  <a id="17545" class="Comment">--   → ∀[ a ꞉ A ] P (leaf a)</a>
  <a id="17576" class="Comment">--   → ∀[ t₁ ꞉ Tree A ] (P t₁ → ∀[ t₂ ꞉ Tree A ] (P t₂ → P (node t₁ t₂)))</a>
  <a id="17652" class="Comment">--   → Π[ t ꞉ Tree A ] P t</a>
  <a id="17681" class="Comment">-- _ = tree-elim</a>
</pre></body></html>