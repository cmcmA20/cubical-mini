<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Projection</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--no-exact-split</a> <a id="37" class="Symbol">#-}</a>
<a id="41" class="Keyword">module</a> <a id="48" href="Meta.Projection.html" class="Module">Meta.Projection</a> <a id="64" class="Keyword">where</a>

<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Meta.Effect.Bind.html" class="Module">Meta.Effect.Bind</a>
<a id="130" class="Keyword">open</a> <a id="135" class="Keyword">import</a> <a id="142" href="Meta.Literals.FromProduct.html" class="Module">Meta.Literals.FromProduct</a>
  <a id="170" class="Keyword">public</a>
<a id="177" class="Keyword">open</a> <a id="182" class="Keyword">import</a> <a id="189" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>

<a id="206" class="Keyword">open</a> <a id="211" class="Keyword">import</a> <a id="218" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="233" class="Symbol">as</a> <a id="236" class="Module">Bool</a>
<a id="241" class="Keyword">open</a> <a id="246" class="Keyword">import</a> <a id="253" href="Data.Empty.Base.html" class="Module">Data.Empty.Base</a>
<a id="269" class="Keyword">open</a> <a id="274" class="Keyword">import</a> <a id="281" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="296" class="Symbol">as</a> <a id="299" class="Module">List</a>
<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Data.List.Base.html" class="Module">Data.List.Base</a>
  <a id="333" class="Keyword">public</a>
  <a id="342" class="Keyword">using</a><a id="347" class="Symbol">(</a> <a id="349" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="352" class="Symbol">;</a> <a id="354" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a> <a id="358" class="Symbol">)</a>
<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
  <a id="406" class="Keyword">public</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Data.Nat.Instances.FromNat.html" class="Module">Data.Nat.Instances.FromNat</a>
<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Data.Reflection.Abs.html" class="Module">Data.Reflection.Abs</a>
<a id="512" class="Keyword">open</a> <a id="517" class="Keyword">import</a> <a id="524" href="Data.Reflection.Argument.html" class="Module">Data.Reflection.Argument</a>
<a id="549" class="Keyword">open</a> <a id="554" class="Keyword">import</a> <a id="561" href="Data.Reflection.Error.html" class="Module">Data.Reflection.Error</a>
<a id="583" class="Keyword">open</a> <a id="588" class="Keyword">import</a> <a id="595" href="Data.Reflection.Fixity.html" class="Module">Data.Reflection.Fixity</a>
<a id="618" class="Keyword">open</a> <a id="623" class="Keyword">import</a> <a id="630" href="Data.Reflection.Instances.FromString.html" class="Module">Data.Reflection.Instances.FromString</a>
<a id="667" class="Keyword">open</a> <a id="672" class="Keyword">import</a> <a id="679" href="Data.Reflection.Literal.html" class="Module">Data.Reflection.Literal</a>
<a id="703" class="Keyword">open</a> <a id="708" class="Keyword">import</a> <a id="715" href="Data.Reflection.Meta.html" class="Module">Data.Reflection.Meta</a>
<a id="736" class="Keyword">open</a> <a id="741" class="Keyword">import</a> <a id="748" href="Data.Reflection.Name.html" class="Module">Data.Reflection.Name</a>
<a id="769" class="Keyword">open</a> <a id="774" class="Keyword">import</a> <a id="781" href="Data.Reflection.Term.html" class="Module">Data.Reflection.Term</a>
<a id="802" class="Keyword">open</a> <a id="807" class="Keyword">import</a> <a id="814" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a>

<a id="830" class="Keyword">open</a> <a id="835" href="Meta.Effect.Bind.Base.html#219" class="Module">Bind</a> <a id="840" class="Symbol">⦃</a> <a id="842" class="Symbol">...</a> <a id="846" class="Symbol">⦄</a>

<a id="849" class="Keyword">private</a> <a id="⊤′"></a><a id="857" href="Meta.Projection.html#857" class="Function">⊤′</a> <a id="860" class="Symbol">=</a> <a id="862" href="Foundations.Notation.Logic.html#4004" class="Field">⊥</a> <a id="864" class="Symbol">→</a> <a id="866" href="Foundations.Notation.Logic.html#4004" class="Field">⊥</a>

<a id="869" class="Keyword">record</a> <a id="Struct-proj-desc"></a><a id="876" href="Meta.Projection.html#876" class="Record">Struct-proj-desc</a> <a id="893" class="Symbol">(</a><a id="894" href="Meta.Projection.html#894" class="Bound">stratified</a> <a id="905" class="Symbol">:</a> <a id="907" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="911" class="Symbol">)</a> <a id="913" class="Symbol">(</a><a id="914" href="Meta.Projection.html#914" class="Bound">goal-projection</a> <a id="930" class="Symbol">:</a> <a id="932" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="936" class="Symbol">)</a> <a id="938" class="Symbol">:</a> <a id="940" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="945" class="Keyword">where</a>
  <a id="953" class="Keyword">field</a>
    <a id="Struct-proj-desc.has-level"></a><a id="963" href="Meta.Projection.html#963" class="Field">has-level</a> <a id="973" class="Symbol">:</a> <a id="975" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Struct-proj-desc.get-level"></a><a id="984" href="Meta.Projection.html#984" class="Field">get-level</a> <a id="994" class="Symbol">:</a> <a id="996" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="999" href="Meta.Projection.html#894" class="Bound">stratified</a> <a id="1010" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="1015" class="Symbol">(</a><a id="1016" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1021" class="Symbol">→</a> <a id="1023" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1026" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1030" class="Symbol">)</a> <a id="1032" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="1037" href="Meta.Projection.html#857" class="Function">⊤′</a>
    <a id="Struct-proj-desc.upwards-closure"></a><a id="1044" href="Meta.Projection.html#1044" class="Field">upwards-closure</a> <a id="1060" class="Symbol">:</a> <a id="1062" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="1065" href="Meta.Projection.html#894" class="Bound">stratified</a> <a id="1076" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="1081" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="1086" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="1091" href="Meta.Projection.html#857" class="Function">⊤′</a>
    <a id="Struct-proj-desc.get-argument"></a><a id="1098" href="Meta.Projection.html#1098" class="Field">get-argument</a> <a id="1111" class="Symbol">:</a> <a id="1113" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1118" class="Symbol">(</a><a id="1119" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="1123" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1127" class="Symbol">)</a> <a id="1129" class="Symbol">→</a> <a id="1131" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1134" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

<a id="1140" class="Keyword">open</a> <a id="1145" href="Meta.Projection.html#876" class="Module">Struct-proj-desc</a>

<a id="1163" class="Keyword">private</a>
  <a id="work"></a><a id="1173" href="Meta.Projection.html#1173" class="Function">work</a>
    <a id="1182" class="Symbol">:</a> <a id="1184" class="Symbol">{</a><a id="1185" href="Meta.Projection.html#1185" class="Bound">ℓ</a> <a id="1187" class="Symbol">:</a> <a id="1189" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1194" class="Symbol">}</a> <a id="1196" class="Symbol">→</a> <a id="1198" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1203" href="Meta.Projection.html#1185" class="Bound">ℓ</a> <a id="1205" class="Symbol">→</a> <a id="1207" class="Symbol">(</a><a id="1208" href="Meta.Projection.html#1208" class="Bound">stratified</a> <a id="1219" class="Symbol">:</a> <a id="1221" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="1225" class="Symbol">)</a>
    <a id="1231" class="Symbol">→</a> <a id="1233" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1236" class="Symbol">(</a><a id="1237" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1242" class="Symbol">(</a><a id="1243" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="1247" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1251" class="Symbol">)</a> <a id="1253" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="1255" class="Symbol">(</a><a id="1256" href="Foundations.Notation.Logic.html#1479" class="Field">Σ[</a> <a id="1259" href="Meta.Projection.html#1259" class="Bound">head</a> <a id="1264" href="Foundations.Notation.Logic.html#1479" class="Field">꞉</a> <a id="1266" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="1271" href="Foundations.Notation.Logic.html#1479" class="Field">]</a> <a id="1273" href="Meta.Projection.html#876" class="Record">Struct-proj-desc</a> <a id="1290" href="Meta.Projection.html#1208" class="Bound">stratified</a> <a id="1301" href="Meta.Projection.html#1259" class="Bound">head</a><a id="1305" class="Symbol">))</a>
  <a id="1310" href="Meta.Projection.html#1173" class="Function">work</a> <a id="1315" href="Meta.Projection.html#1315" class="Bound">A</a> <a id="1317" href="Meta.Projection.html#1317" class="Bound">stratified</a> <a id="1328" class="Symbol">=</a> <a id="1330" class="Keyword">do</a>
    <a id="1337" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="1341" href="Meta.Projection.html#1341" class="Bound">head</a> <a id="1346" href="Meta.Projection.html#1346" class="Bound">args</a> <a id="1351" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="1353" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a> <a id="1360" href="Meta.Effect.Bind.Base.html#454" class="Function Operator">=&lt;&lt;</a> <a id="1364" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="1372" href="Meta.Projection.html#1315" class="Bound">A</a>
      <a id="1380" class="Keyword">where</a> <a id="1386" href="Meta.Projection.html#1386" class="CatchallClause Bound">ty</a> <a id="1389" class="Symbol">→</a> <a id="1391" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="1402" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="1404" class="String">&quot;Goal is not a an application of a projection:&quot;</a> <a id="1452" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1454" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1463" href="Meta.Projection.html#1386" class="Bound">ty</a> <a id="1466" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="1472" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="1484" class="String">&quot;tactic.search&quot;</a> <a id="1500" class="Number">30</a>
      <a id="1509" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="1511" class="String">&quot;Trying projections for term:\n  &quot;</a> <a id="1546" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1548" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1557" class="Symbol">(</a><a id="1558" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="1562" href="Meta.Projection.html#1341" class="Bound">head</a> <a id="1567" href="Meta.Projection.html#1346" class="Bound">args</a><a id="1571" class="Symbol">)</a>
      <a id="1579" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1581" class="String">&quot;\nwith head symbol &quot;</a><a id="1602" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1604" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="1613" href="Meta.Projection.html#1341" class="Bound">head</a> <a id="1618" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>

    <a id="1625" href="Meta.Projection.html#1625" class="Bound">`stratified</a> <a id="1637" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="1639" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="1647" href="Meta.Projection.html#1317" class="Bound">stratified</a> <a id="1658" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">&gt;&gt;=</a> <a id="1662" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a>

    <a id="1677" href="Meta.Projection.html#1677" class="Bound">projection</a> <a id="1688" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="1690" href="Meta.Reflection.Base.html#4685" class="Function">resetting</a> <a id="1700" class="Keyword">do</a>
      <a id="1709" class="Symbol">(</a><a id="1710" href="Meta.Projection.html#1710" class="Bound">mv</a> <a id="1713" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1715" class="Symbol">_)</a> <a id="1718" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="1720" href="Meta.Reflection.Base.html#3893" class="Function">new-meta′</a> <a id="1730" class="Symbol">(</a><a id="1731" href="Meta.Reflection.Signature.html#5235" class="Macro">it</a> <a id="1734" href="Meta.Projection.html#876" class="Record">Struct-proj-desc</a> <a id="1751" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="1755" href="Meta.Projection.html#1625" class="Bound">`stratified</a> <a id="1767" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="1771" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="1775" class="Symbol">(</a><a id="1776" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="1781" href="Meta.Projection.html#1341" class="Bound">head</a><a id="1785" class="Symbol">))</a>
      <a id="1794" href="Agda.Builtin.Reflection.html#11788" class="Postulate">get-instances</a> <a id="1808" href="Meta.Projection.html#1710" class="Bound">mv</a> <a id="1811" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">&gt;&gt;=</a> <a id="1815" class="Symbol">λ</a> <a id="1817" class="Keyword">where</a>
        <a id="1831" class="Symbol">(</a><a id="1832" href="Meta.Projection.html#1832" class="Bound">tm</a> <a id="1835" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1837" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1839" class="Symbol">)</a> <a id="1841" class="Symbol">→</a> <a id="1843" href="Agda.Builtin.Reflection.html#9157" class="Postulate">unquoteTC</a> <a id="1853" class="Symbol">{</a><a id="1854" class="Argument">A</a> <a id="1856" class="Symbol">=</a> <a id="1858" href="Meta.Projection.html#876" class="Record">Struct-proj-desc</a> <a id="1875" href="Meta.Projection.html#1317" class="Bound">stratified</a> <a id="1886" href="Meta.Projection.html#1341" class="Bound">head</a><a id="1890" class="Symbol">}</a> <a id="1892" href="Meta.Effect.Bind.Base.html#454" class="Function Operator">=&lt;&lt;</a> <a id="1896" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="1906" href="Meta.Projection.html#1832" class="Bound">tm</a>
        <a id="1917" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>        <a id="1927" class="Symbol">→</a> <a id="1929" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="1940" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="1942" class="String">&quot;Do not know how to invert projection\n  &quot;</a> <a id="1985" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1987" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1996" class="Symbol">(</a><a id="1997" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2001" href="Meta.Projection.html#1341" class="Bound">head</a> <a id="2006" href="Meta.Projection.html#1346" class="Bound">args</a><a id="2010" class="Symbol">)</a> <a id="2012" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
        <a id="2022" class="CatchallClause Symbol">_</a>         <a id="2032" class="Symbol">→</a> <a id="2034" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="2045" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="2047" class="String">&quot;Ambiguous inversions for projection\n  &quot;</a> <a id="2089" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2091" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="2100" href="Meta.Projection.html#1341" class="Bound">head</a> <a id="2105" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>

    <a id="2112" href="Agda.Builtin.Reflection.html#8660" class="Postulate">returnTC</a> <a id="2121" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="2123" href="Meta.Projection.html#1346" class="Bound">args</a> <a id="2128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2130" href="Meta.Projection.html#1341" class="Bound">head</a> <a id="2135" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2137" href="Meta.Projection.html#1677" class="Bound">projection</a>


<a id="struct-proj"></a><a id="2150" href="Meta.Projection.html#2150" class="Function">struct-proj</a> <a id="2162" class="Symbol">:</a> <a id="2164" class="Symbol">∀</a> <a id="2166" class="Symbol">{</a><a id="2167" href="Meta.Projection.html#2167" class="Bound">ℓ</a><a id="2168" class="Symbol">}</a> <a id="2170" class="Symbol">→</a> <a id="2172" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="2177" href="Meta.Projection.html#2167" class="Bound">ℓ</a> <a id="2179" class="Symbol">→</a> <a id="2181" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2187" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2189" class="Symbol">→</a> <a id="2191" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2196" class="Symbol">→</a> <a id="2198" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2201" href="Foundations.Notation.Logic.html#4130" class="Field">⊤</a>
<a id="2203" href="Meta.Projection.html#2150" class="Function">struct-proj</a> <a id="2215" href="Meta.Projection.html#2215" class="Bound">A</a> <a id="2217" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2225" href="Meta.Projection.html#2225" class="Bound">goal</a> <a id="2230" class="Symbol">=</a> <a id="2232" class="Keyword">do</a>
  <a id="2237" class="Symbol">(</a><a id="2238" href="Meta.Projection.html#2238" class="Bound">args</a> <a id="2243" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2245" href="Meta.Projection.html#2245" class="Bound">head</a> <a id="2250" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2252" href="Meta.Projection.html#2252" class="Bound">projection</a><a id="2262" class="Symbol">)</a> <a id="2264" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="2266" href="Meta.Projection.html#1173" class="Function">work</a> <a id="2271" href="Meta.Projection.html#2215" class="Bound">A</a> <a id="2273" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="2282" href="Meta.Projection.html#2282" class="Bound">x</a> <a id="2284" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="2286" href="Meta.Projection.html#2252" class="Bound">projection</a> <a id="2297" class="Symbol">.</a><a id="2298" href="Meta.Projection.html#1098" class="Field">get-argument</a> <a id="2311" href="Meta.Projection.html#2238" class="Bound">args</a>
  <a id="2318" class="Keyword">let</a> <a id="2322" href="Meta.Projection.html#2322" class="Bound">soln</a> <a id="2327" class="Symbol">=</a> <a id="2329" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2333" class="Symbol">(</a><a id="2334" href="Meta.Projection.html#2252" class="Bound">projection</a> <a id="2345" class="Symbol">.</a><a id="2346" href="Meta.Projection.html#963" class="Field">has-level</a><a id="2355" class="Symbol">)</a> <a id="2357" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="2359" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2364" href="Meta.Projection.html#2282" class="Bound">x</a> <a id="2366" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
  <a id="2370" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2376" href="Meta.Projection.html#2225" class="Bound">goal</a> <a id="2381" href="Meta.Projection.html#2322" class="Bound">soln</a>

<a id="2387" href="Meta.Projection.html#2150" class="Function">struct-proj</a> <a id="2399" href="Meta.Projection.html#2399" class="Bound">A</a> <a id="2401" class="Symbol">(</a><a id="2402" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2407" href="Meta.Projection.html#2407" class="Bound">want</a><a id="2411" class="Symbol">)</a> <a id="2413" href="Meta.Projection.html#2413" class="Bound">goal</a> <a id="2418" class="Symbol">=</a> <a id="2420" class="Keyword">do</a>
  <a id="2425" href="Meta.Projection.html#2425" class="Bound">want</a> <a id="2430" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="2432" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="2440" href="Meta.Projection.html#2407" class="Bound">want</a>

  <a id="2448" class="Symbol">(</a><a id="2449" href="Meta.Projection.html#2449" class="Bound">args</a> <a id="2454" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2456" href="Meta.Projection.html#2456" class="Bound">head</a> <a id="2461" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2463" href="Meta.Projection.html#2463" class="Bound">projection</a><a id="2473" class="Symbol">)</a> <a id="2475" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="2477" href="Meta.Projection.html#1173" class="Function">work</a> <a id="2482" href="Meta.Projection.html#2399" class="Bound">A</a> <a id="2484" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

  <a id="2492" href="Meta.Projection.html#2492" class="Bound">x</a>   <a id="2496" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="2498" href="Meta.Projection.html#2463" class="Bound">projection</a> <a id="2509" class="Symbol">.</a><a id="2510" href="Meta.Projection.html#1098" class="Field">get-argument</a> <a id="2523" href="Meta.Projection.html#2449" class="Bound">args</a>
  <a id="2530" href="Meta.Projection.html#2530" class="Bound">lvl</a> <a id="2534" href="Meta.Effect.Bind.Base.html#310" class="Field Operator">←</a> <a id="2536" href="Meta.Projection.html#2463" class="Bound">projection</a> <a id="2547" class="Symbol">.</a><a id="2548" href="Meta.Projection.html#984" class="Field">get-level</a> <a id="2558" href="Meta.Effect.Bind.Base.html#454" class="Function Operator">=&lt;&lt;</a> <a id="2562" href="Agda.Builtin.Reflection.html#8893" class="Postulate">infer-type</a> <a id="2573" href="Meta.Projection.html#2492" class="Bound">x</a>
  <a id="2577" class="Keyword">let</a> <a id="2581" href="Meta.Projection.html#2581" class="Bound">soln</a> <a id="2586" class="Symbol">=</a> <a id="2588" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2592" class="Symbol">(</a><a id="2593" href="Meta.Projection.html#2463" class="Bound">projection</a> <a id="2604" class="Symbol">.</a><a id="2605" href="Meta.Projection.html#1044" class="Field">upwards-closure</a><a id="2620" class="Symbol">)</a>
        <a id="2630" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="2632" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2637" href="Meta.Projection.html#2530" class="Bound">lvl</a> <a id="2641" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2643" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2648" href="Meta.Projection.html#2425" class="Bound">want</a>
        <a id="2661" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2663" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2668" class="Symbol">(</a><a id="2669" href="Meta.Reflection.Signature.html#5235" class="Macro">it</a> <a id="2672" href="Foundations.Base.html#21264" class="Function">auto</a><a id="2676" class="Symbol">)</a> <a id="2678" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2680" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2685" class="Symbol">(</a><a id="2686" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2690" class="Symbol">(</a><a id="2691" href="Meta.Projection.html#2463" class="Bound">projection</a> <a id="2702" class="Symbol">.</a><a id="2703" href="Meta.Projection.html#963" class="Field">has-level</a><a id="2712" class="Symbol">)</a> <a id="2714" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="2716" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2721" href="Meta.Projection.html#2492" class="Bound">x</a> <a id="2723" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a><a id="2724" class="Symbol">)</a> <a id="2726" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
  <a id="2730" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2736" href="Meta.Projection.html#2413" class="Bound">goal</a> <a id="2741" href="Meta.Projection.html#2581" class="Bound">soln</a>
</pre></body></html>