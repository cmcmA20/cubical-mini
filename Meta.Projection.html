<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Projection</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--no-exact-split</a> <a id="37" class="Symbol">#-}</a>
<a id="41" class="Keyword">module</a> <a id="48" href="Meta.Projection.html" class="Module">Meta.Projection</a> <a id="64" class="Keyword">where</a>

<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="101" class="Keyword">open</a> <a id="106" class="Keyword">import</a> <a id="113" href="Meta.Literals.FromProduct.html" class="Module">Meta.Literals.FromProduct</a>
  <a id="141" class="Keyword">public</a>
<a id="148" class="Keyword">open</a> <a id="153" class="Keyword">import</a> <a id="160" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>

<a id="177" class="Keyword">open</a> <a id="182" class="Keyword">import</a> <a id="189" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="204" class="Symbol">as</a> <a id="207" class="Module">Bool</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Data.Empty.Base.html" class="Module">Data.Empty.Base</a>
<a id="240" class="Keyword">open</a> <a id="245" class="Keyword">import</a> <a id="252" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="267" class="Symbol">as</a> <a id="270" class="Module">List</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Data.List.Base.html" class="Module">Data.List.Base</a>
  <a id="304" class="Keyword">public</a>
  <a id="313" class="Keyword">using</a><a id="318" class="Symbol">(</a> <a id="320" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="323" class="Symbol">;</a> <a id="325" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a> <a id="329" class="Symbol">)</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
  <a id="377" class="Keyword">public</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="412" class="Keyword">open</a> <a id="417" class="Keyword">import</a> <a id="424" href="Data.Nat.Instances.FromNat.html" class="Module">Data.Nat.Instances.FromNat</a>
<a id="451" class="Keyword">open</a> <a id="456" class="Keyword">import</a> <a id="463" href="Data.Reflection.Abs.html" class="Module">Data.Reflection.Abs</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Data.Reflection.Argument.html" class="Module">Data.Reflection.Argument</a>
<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Data.Reflection.Error.html" class="Module">Data.Reflection.Error</a>
<a id="554" class="Keyword">open</a> <a id="559" class="Keyword">import</a> <a id="566" href="Data.Reflection.Fixity.html" class="Module">Data.Reflection.Fixity</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Data.Reflection.Instances.FromString.html" class="Module">Data.Reflection.Instances.FromString</a>
<a id="638" class="Keyword">open</a> <a id="643" class="Keyword">import</a> <a id="650" href="Data.Reflection.Literal.html" class="Module">Data.Reflection.Literal</a>
<a id="674" class="Keyword">open</a> <a id="679" class="Keyword">import</a> <a id="686" href="Data.Reflection.Meta.html" class="Module">Data.Reflection.Meta</a>
<a id="707" class="Keyword">open</a> <a id="712" class="Keyword">import</a> <a id="719" href="Data.Reflection.Name.html" class="Module">Data.Reflection.Name</a>
<a id="740" class="Keyword">open</a> <a id="745" class="Keyword">import</a> <a id="752" href="Data.Reflection.Term.html" class="Module">Data.Reflection.Term</a>
<a id="773" class="Keyword">open</a> <a id="778" class="Keyword">import</a> <a id="785" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a>


<a id="802" class="Keyword">private</a> <a id="⊤′"></a><a id="810" href="Meta.Projection.html#810" class="Function">⊤′</a> <a id="813" class="Symbol">=</a> <a id="815" href="Foundations.Notation.Logic.html#3578" class="Field">⊥</a> <a id="817" class="Symbol">→</a> <a id="819" href="Foundations.Notation.Logic.html#3578" class="Field">⊥</a>

<a id="822" class="Keyword">record</a> <a id="Struct-proj-desc"></a><a id="829" href="Meta.Projection.html#829" class="Record">Struct-proj-desc</a> <a id="846" class="Symbol">(</a><a id="847" href="Meta.Projection.html#847" class="Bound">stratified</a> <a id="858" class="Symbol">:</a> <a id="860" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="864" class="Symbol">)</a> <a id="866" class="Symbol">(</a><a id="867" href="Meta.Projection.html#867" class="Bound">goal-projection</a> <a id="883" class="Symbol">:</a> <a id="885" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="889" class="Symbol">)</a> <a id="891" class="Symbol">:</a> <a id="893" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="898" class="Keyword">where</a>
  <a id="906" class="Keyword">field</a>
    <a id="Struct-proj-desc.has-level"></a><a id="916" href="Meta.Projection.html#916" class="Field">has-level</a> <a id="926" class="Symbol">:</a> <a id="928" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Struct-proj-desc.get-level"></a><a id="937" href="Meta.Projection.html#937" class="Field">get-level</a> <a id="947" class="Symbol">:</a> <a id="949" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="952" href="Meta.Projection.html#847" class="Bound">stratified</a> <a id="963" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="968" class="Symbol">(</a><a id="969" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="974" class="Symbol">→</a> <a id="976" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="979" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="983" class="Symbol">)</a> <a id="985" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="990" href="Meta.Projection.html#810" class="Function">⊤′</a>
    <a id="Struct-proj-desc.upwards-closure"></a><a id="997" href="Meta.Projection.html#997" class="Field">upwards-closure</a> <a id="1013" class="Symbol">:</a> <a id="1015" href="Data.Bool.Base.html#923" class="Function Operator">if</a> <a id="1018" href="Meta.Projection.html#847" class="Bound">stratified</a> <a id="1029" href="Data.Bool.Base.html#923" class="Function Operator">then</a> <a id="1034" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="1039" href="Data.Bool.Base.html#923" class="Function Operator">else</a> <a id="1044" href="Meta.Projection.html#810" class="Function">⊤′</a>
    <a id="Struct-proj-desc.get-argument"></a><a id="1051" href="Meta.Projection.html#1051" class="Field">get-argument</a> <a id="1064" class="Symbol">:</a> <a id="1066" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1071" class="Symbol">(</a><a id="1072" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="1076" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1080" class="Symbol">)</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1087" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

<a id="1093" class="Keyword">open</a> <a id="1098" href="Meta.Projection.html#829" class="Module">Struct-proj-desc</a>

<a id="1116" class="Keyword">private</a>
  <a id="work"></a><a id="1126" href="Meta.Projection.html#1126" class="Function">work</a>
    <a id="1135" class="Symbol">:</a> <a id="1137" class="Symbol">{</a><a id="1138" href="Meta.Projection.html#1138" class="Bound">ℓ</a> <a id="1140" class="Symbol">:</a> <a id="1142" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1147" class="Symbol">}</a> <a id="1149" class="Symbol">→</a> <a id="1151" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1156" href="Meta.Projection.html#1138" class="Bound">ℓ</a> <a id="1158" class="Symbol">→</a> <a id="1160" class="Symbol">(</a><a id="1161" href="Meta.Projection.html#1161" class="Bound">stratified</a> <a id="1172" class="Symbol">:</a> <a id="1174" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a><a id="1178" class="Symbol">)</a>
    <a id="1184" class="Symbol">→</a> <a id="1186" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1189" class="Symbol">(</a><a id="1190" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1195" class="Symbol">(</a><a id="1196" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="1200" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="1204" class="Symbol">)</a> <a id="1206" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="1208" class="Symbol">(</a><a id="1209" href="Foundations.Notation.Logic.html#2047" class="Function">Σ[</a> <a id="1212" href="Meta.Projection.html#1212" class="Bound">head</a> <a id="1217" href="Foundations.Notation.Logic.html#2047" class="Function">꞉</a> <a id="1219" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a> <a id="1224" href="Foundations.Notation.Logic.html#2047" class="Function">]</a> <a id="1226" href="Meta.Projection.html#829" class="Record">Struct-proj-desc</a> <a id="1243" href="Meta.Projection.html#1161" class="Bound">stratified</a> <a id="1254" href="Meta.Projection.html#1212" class="Bound">head</a><a id="1258" class="Symbol">))</a>
  <a id="1263" href="Meta.Projection.html#1126" class="Function">work</a> <a id="1268" href="Meta.Projection.html#1268" class="Bound">A</a> <a id="1270" href="Meta.Projection.html#1270" class="Bound">stratified</a> <a id="1281" class="Symbol">=</a> <a id="1283" class="Keyword">do</a>
    <a id="1290" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="1294" href="Meta.Projection.html#1294" class="Bound">head</a> <a id="1299" href="Meta.Projection.html#1299" class="Bound">args</a> <a id="1304" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="1306" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a> <a id="1313" href="Meta.Effect.Bind.html#449" class="Function Operator">=&lt;&lt;</a> <a id="1317" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="1325" href="Meta.Projection.html#1268" class="Bound">A</a>
      <a id="1333" class="Keyword">where</a> <a id="1339" href="Meta.Projection.html#1339" class="CatchallClause Bound">ty</a> <a id="1342" class="Symbol">→</a> <a id="1344" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="1355" href="Meta.Literals.FromProduct.html#427" class="Function Operator">[</a> <a id="1357" class="String">&quot;Goal is not a an application of a projection:&quot;</a> <a id="1405" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1407" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1416" href="Meta.Projection.html#1339" class="Bound">ty</a> <a id="1419" href="Meta.Literals.FromProduct.html#427" class="Function Operator">]</a>
    <a id="1425" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="1437" class="String">&quot;tactic.search&quot;</a> <a id="1453" class="Number">30</a>
      <a id="1462" href="Meta.Literals.FromProduct.html#427" class="Function Operator">[</a> <a id="1464" class="String">&quot;Trying projections for term:\n  &quot;</a> <a id="1499" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1501" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1510" class="Symbol">(</a><a id="1511" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="1515" href="Meta.Projection.html#1294" class="Bound">head</a> <a id="1520" href="Meta.Projection.html#1299" class="Bound">args</a><a id="1524" class="Symbol">)</a>
      <a id="1532" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1534" class="String">&quot;\nwith head symbol &quot;</a><a id="1555" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1557" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="1566" href="Meta.Projection.html#1294" class="Bound">head</a> <a id="1571" href="Meta.Literals.FromProduct.html#427" class="Function Operator">]</a>

    <a id="1578" href="Meta.Projection.html#1578" class="Bound">`stratified</a> <a id="1590" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="1592" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="1600" href="Meta.Projection.html#1270" class="Bound">stratified</a> <a id="1611" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="1615" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a>

    <a id="1630" href="Meta.Projection.html#1630" class="Bound">projection</a> <a id="1641" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="1643" href="Meta.Reflection.Base.html#4848" class="Function">resetting</a> <a id="1653" class="Keyword">do</a>
      <a id="1662" class="Symbol">(</a><a id="1663" href="Meta.Projection.html#1663" class="Bound">mv</a> <a id="1666" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1668" class="Symbol">_)</a> <a id="1671" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="1673" href="Meta.Reflection.Base.html#4056" class="Function">new-meta′</a> <a id="1683" class="Symbol">(</a><a id="1684" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="1687" href="Meta.Projection.html#829" class="Record">Struct-proj-desc</a> <a id="1704" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="1708" href="Meta.Projection.html#1578" class="Bound">`stratified</a> <a id="1720" href="Meta.Reflection.Neutral.html#1251" class="Function Operator">##ₙ</a> <a id="1724" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="1728" class="Symbol">(</a><a id="1729" href="Agda.Builtin.Reflection.html#4589" class="InductiveConstructor">name</a> <a id="1734" href="Meta.Projection.html#1294" class="Bound">head</a><a id="1738" class="Symbol">))</a>
      <a id="1747" href="Agda.Builtin.Reflection.html#11788" class="Postulate">get-instances</a> <a id="1761" href="Meta.Projection.html#1663" class="Bound">mv</a> <a id="1764" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="1768" class="Symbol">λ</a> <a id="1770" class="Keyword">where</a>
        <a id="1784" class="Symbol">(</a><a id="1785" href="Meta.Projection.html#1785" class="Bound">tm</a> <a id="1788" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1790" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1792" class="Symbol">)</a> <a id="1794" class="Symbol">→</a> <a id="1796" href="Agda.Builtin.Reflection.html#9157" class="Postulate">unquoteTC</a> <a id="1806" class="Symbol">{</a><a id="1807" class="Argument">A</a> <a id="1809" class="Symbol">=</a> <a id="1811" href="Meta.Projection.html#829" class="Record">Struct-proj-desc</a> <a id="1828" href="Meta.Projection.html#1270" class="Bound">stratified</a> <a id="1839" href="Meta.Projection.html#1294" class="Bound">head</a><a id="1843" class="Symbol">}</a> <a id="1845" href="Meta.Effect.Bind.html#449" class="Function Operator">=&lt;&lt;</a> <a id="1849" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a> <a id="1859" href="Meta.Projection.html#1785" class="Bound">tm</a>
        <a id="1870" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>        <a id="1880" class="Symbol">→</a> <a id="1882" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="1893" href="Meta.Literals.FromProduct.html#427" class="Function Operator">[</a> <a id="1895" class="String">&quot;Do not know how to invert projection\n  &quot;</a> <a id="1938" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1940" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1949" class="Symbol">(</a><a id="1950" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="1954" href="Meta.Projection.html#1294" class="Bound">head</a> <a id="1959" href="Meta.Projection.html#1299" class="Bound">args</a><a id="1963" class="Symbol">)</a> <a id="1965" href="Meta.Literals.FromProduct.html#427" class="Function Operator">]</a>
        <a id="1975" class="CatchallClause Symbol">_</a>         <a id="1985" class="Symbol">→</a> <a id="1987" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="1998" href="Meta.Literals.FromProduct.html#427" class="Function Operator">[</a> <a id="2000" class="String">&quot;Ambiguous inversions for projection\n  &quot;</a> <a id="2042" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2044" href="Data.Reflection.Error.html#256" class="InductiveConstructor">name-err</a> <a id="2053" href="Meta.Projection.html#1294" class="Bound">head</a> <a id="2058" href="Meta.Literals.FromProduct.html#427" class="Function Operator">]</a>

    <a id="2065" href="Agda.Builtin.Reflection.html#8660" class="Postulate">returnTC</a> <a id="2074" href="Foundations.Notation.Underlying.html#1772" class="Function Operator">$</a> <a id="2076" href="Meta.Projection.html#1299" class="Bound">args</a> <a id="2081" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2083" href="Meta.Projection.html#1294" class="Bound">head</a> <a id="2088" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2090" href="Meta.Projection.html#1630" class="Bound">projection</a>


<a id="struct-proj"></a><a id="2103" href="Meta.Projection.html#2103" class="Function">struct-proj</a> <a id="2115" class="Symbol">:</a> <a id="2117" class="Symbol">∀</a> <a id="2119" class="Symbol">{</a><a id="2120" href="Meta.Projection.html#2120" class="Bound">ℓ</a><a id="2121" class="Symbol">}</a> <a id="2123" class="Symbol">→</a> <a id="2125" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="2130" href="Meta.Projection.html#2120" class="Bound">ℓ</a> <a id="2132" class="Symbol">→</a> <a id="2134" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2140" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2142" class="Symbol">→</a> <a id="2144" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2149" class="Symbol">→</a> <a id="2151" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2154" href="Foundations.Notation.Logic.html#3670" class="Field">⊤</a>
<a id="2156" href="Meta.Projection.html#2103" class="Function">struct-proj</a> <a id="2168" href="Meta.Projection.html#2168" class="Bound">A</a> <a id="2170" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2178" href="Meta.Projection.html#2178" class="Bound">goal</a> <a id="2183" class="Symbol">=</a> <a id="2185" class="Keyword">do</a>
  <a id="2190" class="Symbol">(</a><a id="2191" href="Meta.Projection.html#2191" class="Bound">args</a> <a id="2196" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2198" href="Meta.Projection.html#2198" class="Bound">head</a> <a id="2203" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2205" href="Meta.Projection.html#2205" class="Bound">projection</a><a id="2215" class="Symbol">)</a> <a id="2217" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2219" href="Meta.Projection.html#1126" class="Function">work</a> <a id="2224" href="Meta.Projection.html#2168" class="Bound">A</a> <a id="2226" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="2235" href="Meta.Projection.html#2235" class="Bound">x</a> <a id="2237" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2239" href="Meta.Projection.html#2205" class="Bound">projection</a> <a id="2250" class="Symbol">.</a><a id="2251" href="Meta.Projection.html#1051" class="Field">get-argument</a> <a id="2264" href="Meta.Projection.html#2191" class="Bound">args</a>
  <a id="2271" class="Keyword">let</a> <a id="2275" href="Meta.Projection.html#2275" class="Bound">soln</a> <a id="2280" class="Symbol">=</a> <a id="2282" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2286" class="Symbol">(</a><a id="2287" href="Meta.Projection.html#2205" class="Bound">projection</a> <a id="2298" class="Symbol">.</a><a id="2299" href="Meta.Projection.html#916" class="Field">has-level</a><a id="2308" class="Symbol">)</a> <a id="2310" href="Meta.Literals.FromProduct.html#427" class="Function Operator">[</a> <a id="2312" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2317" href="Meta.Projection.html#2235" class="Bound">x</a> <a id="2319" href="Meta.Literals.FromProduct.html#427" class="Function Operator">]</a>
  <a id="2323" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2329" href="Meta.Projection.html#2178" class="Bound">goal</a> <a id="2334" href="Meta.Projection.html#2275" class="Bound">soln</a>

<a id="2340" href="Meta.Projection.html#2103" class="Function">struct-proj</a> <a id="2352" href="Meta.Projection.html#2352" class="Bound">A</a> <a id="2354" class="Symbol">(</a><a id="2355" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2360" href="Meta.Projection.html#2360" class="Bound">want</a><a id="2364" class="Symbol">)</a> <a id="2366" href="Meta.Projection.html#2366" class="Bound">goal</a> <a id="2371" class="Symbol">=</a> <a id="2373" class="Keyword">do</a>
  <a id="2378" href="Meta.Projection.html#2378" class="Bound">want</a> <a id="2383" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2385" href="Agda.Builtin.Reflection.html#9104" class="Postulate">quoteTC</a> <a id="2393" href="Meta.Projection.html#2360" class="Bound">want</a>

  <a id="2401" class="Symbol">(</a><a id="2402" href="Meta.Projection.html#2402" class="Bound">args</a> <a id="2407" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2409" href="Meta.Projection.html#2409" class="Bound">head</a> <a id="2414" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2416" href="Meta.Projection.html#2416" class="Bound">projection</a><a id="2426" class="Symbol">)</a> <a id="2428" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2430" href="Meta.Projection.html#1126" class="Function">work</a> <a id="2435" href="Meta.Projection.html#2352" class="Bound">A</a> <a id="2437" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

  <a id="2445" href="Meta.Projection.html#2445" class="Bound">x</a>   <a id="2449" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2451" href="Meta.Projection.html#2416" class="Bound">projection</a> <a id="2462" class="Symbol">.</a><a id="2463" href="Meta.Projection.html#1051" class="Field">get-argument</a> <a id="2476" href="Meta.Projection.html#2402" class="Bound">args</a>
  <a id="2483" href="Meta.Projection.html#2483" class="Bound">lvl</a> <a id="2487" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2489" href="Meta.Projection.html#2416" class="Bound">projection</a> <a id="2500" class="Symbol">.</a><a id="2501" href="Meta.Projection.html#937" class="Field">get-level</a> <a id="2511" href="Meta.Effect.Bind.html#449" class="Function Operator">=&lt;&lt;</a> <a id="2515" href="Agda.Builtin.Reflection.html#8893" class="Postulate">infer-type</a> <a id="2526" href="Meta.Projection.html#2445" class="Bound">x</a>
  <a id="2530" class="Keyword">let</a> <a id="2534" href="Meta.Projection.html#2534" class="Bound">soln</a> <a id="2539" class="Symbol">=</a> <a id="2541" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2545" class="Symbol">(</a><a id="2546" href="Meta.Projection.html#2416" class="Bound">projection</a> <a id="2557" class="Symbol">.</a><a id="2558" href="Meta.Projection.html#997" class="Field">upwards-closure</a><a id="2573" class="Symbol">)</a>
        <a id="2583" href="Meta.Literals.FromProduct.html#427" class="Function Operator">[</a> <a id="2585" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2590" href="Meta.Projection.html#2483" class="Bound">lvl</a> <a id="2594" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2596" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2601" href="Meta.Projection.html#2378" class="Bound">want</a>
        <a id="2614" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2616" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2621" class="Symbol">(</a><a id="2622" href="Meta.Reflection.Signature.html#5281" class="Macro">it</a> <a id="2625" href="Foundations.Base.html#21256" class="Function">auto</a><a id="2629" class="Symbol">)</a> <a id="2631" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2633" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2638" class="Symbol">(</a><a id="2639" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2643" class="Symbol">(</a><a id="2644" href="Meta.Projection.html#2416" class="Bound">projection</a> <a id="2655" class="Symbol">.</a><a id="2656" href="Meta.Projection.html#916" class="Field">has-level</a><a id="2665" class="Symbol">)</a> <a id="2667" href="Meta.Literals.FromProduct.html#427" class="Function Operator">[</a> <a id="2669" href="Data.Reflection.Argument.html#1588" class="Function">argN</a> <a id="2674" href="Meta.Projection.html#2445" class="Bound">x</a> <a id="2676" href="Meta.Literals.FromProduct.html#427" class="Function Operator">]</a><a id="2677" class="Symbol">)</a> <a id="2679" href="Meta.Literals.FromProduct.html#427" class="Function Operator">]</a>
  <a id="2683" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2689" href="Meta.Projection.html#2366" class="Bound">goal</a> <a id="2694" href="Meta.Projection.html#2534" class="Bound">soln</a>
</pre></body></html>