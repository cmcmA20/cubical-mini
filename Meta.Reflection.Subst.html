<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Reflection.Subst</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--no-exact-split</a> <a id="37" class="Symbol">#-}</a>
<a id="41" class="Keyword">module</a> <a id="48" href="Meta.Reflection.Subst.html" class="Module">Meta.Reflection.Subst</a> <a id="70" class="Keyword">where</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="107" class="Keyword">open</a> <a id="112" class="Keyword">import</a> <a id="119" href="Meta.Effect.Bind.html" class="Module">Meta.Effect.Bind</a>
<a id="136" class="Keyword">open</a> <a id="141" class="Keyword">import</a> <a id="148" href="Meta.Effect.Foldable.html" class="Module">Meta.Effect.Foldable</a>
<a id="169" class="Keyword">open</a> <a id="174" class="Keyword">import</a> <a id="181" href="Meta.Effect.Idiom.html" class="Module">Meta.Effect.Idiom</a>
<a id="199" class="Keyword">open</a> <a id="204" class="Keyword">import</a> <a id="211" href="Meta.Effect.Map.html" class="Module">Meta.Effect.Map</a>
<a id="227" class="Keyword">open</a> <a id="232" class="Keyword">import</a> <a id="239" href="Meta.Effect.Traversable.html" class="Module">Meta.Effect.Traversable</a>
<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="Meta.Reflection.Base.html" class="Module">Meta.Reflection.Base</a>

<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="324" class="Keyword">open</a> <a id="329" class="Keyword">import</a> <a id="336" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="351" class="Symbol">as</a> <a id="354" class="Module">List</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Data.List.Operations.html" class="Module">Data.List.Operations</a>
<a id="392" class="Keyword">open</a> <a id="397" class="Keyword">import</a> <a id="404" href="Data.List.Instances.Bind.html" class="Module">Data.List.Instances.Bind</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Data.List.Instances.Foldable.html" class="Module">Data.List.Instances.Foldable</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="514" class="Keyword">open</a> <a id="519" class="Keyword">import</a> <a id="526" href="Data.List.Instances.Map.html" class="Module">Data.List.Instances.Map</a>
<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Data.List.Instances.Traversable.html" class="Module">Data.List.Instances.Traversable</a>
<a id="594" class="Keyword">open</a> <a id="599" class="Keyword">import</a> <a id="606" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="622" class="Keyword">open</a> <a id="627" class="Keyword">import</a> <a id="634" href="Data.Maybe.Instances.Bind.html" class="Module">Data.Maybe.Instances.Bind</a>
<a id="660" class="Keyword">open</a> <a id="665" class="Keyword">import</a> <a id="672" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="686" class="Keyword">open</a> <a id="691" class="Keyword">import</a> <a id="698" href="Data.Reflection.Abs.html" class="Module">Data.Reflection.Abs</a>
<a id="718" class="Keyword">open</a> <a id="723" class="Keyword">import</a> <a id="730" href="Data.Reflection.Argument.html" class="Module">Data.Reflection.Argument</a>
<a id="755" class="Keyword">open</a> <a id="760" class="Keyword">import</a> <a id="767" href="Data.Reflection.Error.html" class="Module">Data.Reflection.Error</a>
<a id="789" class="Keyword">open</a> <a id="794" class="Keyword">import</a> <a id="801" href="Data.Reflection.Fixity.html" class="Module">Data.Reflection.Fixity</a>
<a id="824" class="Keyword">open</a> <a id="829" class="Keyword">import</a> <a id="836" href="Data.Reflection.Instances.FromString.html" class="Module">Data.Reflection.Instances.FromString</a>
<a id="873" class="Keyword">open</a> <a id="878" class="Keyword">import</a> <a id="885" href="Data.Reflection.Literal.html" class="Module">Data.Reflection.Literal</a>
<a id="909" class="Keyword">open</a> <a id="914" class="Keyword">import</a> <a id="921" href="Data.Reflection.Meta.html" class="Module">Data.Reflection.Meta</a>
<a id="942" class="Keyword">open</a> <a id="947" class="Keyword">import</a> <a id="954" href="Data.Reflection.Name.html" class="Module">Data.Reflection.Name</a>
<a id="975" class="Keyword">open</a> <a id="980" class="Keyword">import</a> <a id="987" href="Data.Reflection.Term.html" class="Module">Data.Reflection.Term</a>

<a id="1009" class="Keyword">data</a> <a id="Subst"></a><a id="1014" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1020" class="Symbol">:</a> <a id="1022" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1027" class="Keyword">where</a>
  <a id="Subst.idₛ"></a><a id="1035" href="Meta.Reflection.Subst.html#1035" class="InductiveConstructor">idₛ</a>        <a id="1046" class="Symbol">:</a> <a id="1048" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
  <a id="Subst._∷ₛ_"></a><a id="1056" href="Meta.Reflection.Subst.html#1056" class="InductiveConstructor Operator">_∷ₛ_</a>       <a id="1067" class="Symbol">:</a> <a id="1069" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1074" class="Symbol">→</a> <a id="1076" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
  <a id="Subst.wk"></a><a id="1092" href="Meta.Reflection.Subst.html#1092" class="InductiveConstructor">wk</a>         <a id="1103" class="Symbol">:</a> <a id="1105" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1107" class="Symbol">→</a> <a id="1109" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1115" class="Symbol">→</a> <a id="1117" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
  <a id="Subst.lift"></a><a id="1125" href="Meta.Reflection.Subst.html#1125" class="InductiveConstructor">lift</a>       <a id="1136" class="Symbol">:</a> <a id="1138" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1140" class="Symbol">→</a> <a id="1142" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1148" class="Symbol">→</a> <a id="1150" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
  <a id="Subst.strengthen"></a><a id="1158" href="Meta.Reflection.Subst.html#1158" class="InductiveConstructor">strengthen</a> <a id="1169" class="Symbol">:</a> <a id="1171" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1173" class="Symbol">→</a> <a id="1175" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1181" class="Symbol">→</a> <a id="1183" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>

<a id="1190" class="Keyword">infixr</a> <a id="1197" class="Number">20</a> <a id="1200" href="Meta.Reflection.Subst.html#1056" class="InductiveConstructor Operator">_∷ₛ_</a>

<a id="wkS"></a><a id="1206" href="Meta.Reflection.Subst.html#1206" class="Function">wkS</a> <a id="1210" class="Symbol">:</a> <a id="1212" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1214" class="Symbol">→</a> <a id="1216" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1222" class="Symbol">→</a> <a id="1224" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
<a id="1230" href="Meta.Reflection.Subst.html#1206" class="Function">wkS</a> <a id="1234" class="Number">0</a> <a id="1236" href="Meta.Reflection.Subst.html#1236" class="Bound">ρ</a>        <a id="1245" class="Symbol">=</a> <a id="1247" href="Meta.Reflection.Subst.html#1236" class="Bound">ρ</a>
<a id="1249" href="Meta.Reflection.Subst.html#1206" class="CatchallClause Function">wkS</a><a id="1252" class="CatchallClause"> </a><a id="1253" href="Meta.Reflection.Subst.html#1253" class="CatchallClause Bound">n</a><a id="1254" class="CatchallClause"> </a><a id="1255" class="CatchallClause Symbol">(</a><a id="1256" href="Meta.Reflection.Subst.html#1092" class="CatchallClause InductiveConstructor">wk</a><a id="1258" class="CatchallClause"> </a><a id="1259" href="Meta.Reflection.Subst.html#1259" class="CatchallClause Bound">x</a><a id="1260" class="CatchallClause"> </a><a id="1261" href="Meta.Reflection.Subst.html#1261" class="CatchallClause Bound">ρ</a><a id="1262" class="CatchallClause Symbol">)</a> <a id="1264" class="Symbol">=</a> <a id="1266" href="Meta.Reflection.Subst.html#1092" class="InductiveConstructor">wk</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Meta.Reflection.Subst.html#1253" class="Bound">n</a> <a id="1272" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1274" href="Meta.Reflection.Subst.html#1259" class="Bound">x</a><a id="1275" class="Symbol">)</a> <a id="1277" href="Meta.Reflection.Subst.html#1261" class="Bound">ρ</a>
<a id="1279" href="Meta.Reflection.Subst.html#1206" class="CatchallClause Function">wkS</a><a id="1282" class="CatchallClause"> </a><a id="1283" href="Meta.Reflection.Subst.html#1283" class="CatchallClause Bound">n</a><a id="1284" class="CatchallClause"> </a><a id="1285" href="Meta.Reflection.Subst.html#1285" class="CatchallClause Bound">ρ</a>        <a id="1294" class="Symbol">=</a> <a id="1296" href="Meta.Reflection.Subst.html#1092" class="InductiveConstructor">wk</a> <a id="1299" href="Meta.Reflection.Subst.html#1283" class="Bound">n</a> <a id="1301" href="Meta.Reflection.Subst.html#1285" class="Bound">ρ</a>

<a id="liftS"></a><a id="1304" href="Meta.Reflection.Subst.html#1304" class="Function">liftS</a> <a id="1310" class="Symbol">:</a> <a id="1312" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1314" class="Symbol">→</a> <a id="1316" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1322" class="Symbol">→</a> <a id="1324" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
<a id="1330" href="Meta.Reflection.Subst.html#1304" class="Function">liftS</a> <a id="1336" class="Number">0</a> <a id="1338" href="Meta.Reflection.Subst.html#1338" class="Bound">ρ</a>          <a id="1349" class="Symbol">=</a> <a id="1351" href="Meta.Reflection.Subst.html#1338" class="Bound">ρ</a>
<a id="1353" href="Meta.Reflection.Subst.html#1304" class="CatchallClause Function">liftS</a><a id="1358" class="CatchallClause"> </a><a id="1359" href="Meta.Reflection.Subst.html#1359" class="CatchallClause Bound">n</a><a id="1360" class="CatchallClause"> </a><a id="1361" href="Meta.Reflection.Subst.html#1035" class="CatchallClause InductiveConstructor">idₛ</a>        <a id="1372" class="Symbol">=</a> <a id="1374" href="Meta.Reflection.Subst.html#1035" class="InductiveConstructor">idₛ</a>
<a id="1378" href="Meta.Reflection.Subst.html#1304" class="CatchallClause Function">liftS</a><a id="1383" class="CatchallClause"> </a><a id="1384" href="Meta.Reflection.Subst.html#1384" class="CatchallClause Bound">n</a><a id="1385" class="CatchallClause"> </a><a id="1386" class="CatchallClause Symbol">(</a><a id="1387" href="Meta.Reflection.Subst.html#1125" class="CatchallClause InductiveConstructor">lift</a><a id="1391" class="CatchallClause"> </a><a id="1392" href="Meta.Reflection.Subst.html#1392" class="CatchallClause Bound">k</a><a id="1393" class="CatchallClause"> </a><a id="1394" href="Meta.Reflection.Subst.html#1394" class="CatchallClause Bound">ρ</a><a id="1395" class="CatchallClause Symbol">)</a> <a id="1397" class="Symbol">=</a> <a id="1399" href="Meta.Reflection.Subst.html#1125" class="InductiveConstructor">lift</a> <a id="1404" class="Symbol">(</a><a id="1405" href="Meta.Reflection.Subst.html#1384" class="Bound">n</a> <a id="1407" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="1409" href="Meta.Reflection.Subst.html#1392" class="Bound">k</a><a id="1410" class="Symbol">)</a> <a id="1412" href="Meta.Reflection.Subst.html#1394" class="Bound">ρ</a>
<a id="1414" href="Meta.Reflection.Subst.html#1304" class="CatchallClause Function">liftS</a><a id="1419" class="CatchallClause"> </a><a id="1420" href="Meta.Reflection.Subst.html#1420" class="CatchallClause Bound">n</a><a id="1421" class="CatchallClause"> </a><a id="1422" href="Meta.Reflection.Subst.html#1422" class="CatchallClause Bound">ρ</a>          <a id="1433" class="Symbol">=</a> <a id="1435" href="Meta.Reflection.Subst.html#1125" class="InductiveConstructor">lift</a> <a id="1440" href="Meta.Reflection.Subst.html#1420" class="Bound">n</a> <a id="1442" href="Meta.Reflection.Subst.html#1422" class="Bound">ρ</a>

<a id="_++#_"></a><a id="1445" href="Meta.Reflection.Subst.html#1445" class="Function Operator">_++#_</a> <a id="1451" class="Symbol">:</a> <a id="1453" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1458" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1463" class="Symbol">→</a> <a id="1465" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="1471" class="Symbol">→</a> <a id="1473" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
<a id="1479" href="Meta.Reflection.Subst.html#1479" class="Bound">x</a> <a id="1481" href="Meta.Reflection.Subst.html#1445" class="Function Operator">++#</a> <a id="1485" href="Meta.Reflection.Subst.html#1485" class="Bound">ρ</a> <a id="1487" class="Symbol">=</a> <a id="1489" href="Meta.Effect.Foldable.html#355" class="Field">fold-r</a> <a id="1496" class="Symbol">(</a><a id="1497" href="Meta.Reflection.Subst.html#1056" class="InductiveConstructor Operator">_∷ₛ_</a><a id="1501" class="Symbol">)</a> <a id="1503" href="Meta.Reflection.Subst.html#1485" class="Bound">ρ</a> <a id="1505" href="Meta.Reflection.Subst.html#1479" class="Bound">x</a>
<a id="1507" class="Keyword">infix</a> <a id="1513" class="Number">15</a> <a id="1516" href="Meta.Reflection.Subst.html#1445" class="Function Operator">_++#_</a>

<a id="raiseS"></a><a id="1523" href="Meta.Reflection.Subst.html#1523" class="Function">raiseS</a> <a id="1530" class="Symbol">:</a> <a id="1532" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1534" class="Symbol">→</a> <a id="1536" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
<a id="1542" href="Meta.Reflection.Subst.html#1523" class="Function">raiseS</a> <a id="1549" href="Meta.Reflection.Subst.html#1549" class="Bound">n</a> <a id="1551" class="Symbol">=</a> <a id="1553" href="Meta.Reflection.Subst.html#1092" class="InductiveConstructor">wk</a> <a id="1556" href="Meta.Reflection.Subst.html#1549" class="Bound">n</a> <a id="1558" href="Meta.Reflection.Subst.html#1035" class="InductiveConstructor">idₛ</a>

<a id="raise-fromS"></a><a id="1563" href="Meta.Reflection.Subst.html#1563" class="Function">raise-fromS</a> <a id="1575" class="Symbol">:</a> <a id="1577" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1579" class="Symbol">→</a> <a id="1581" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1583" class="Symbol">→</a> <a id="1585" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
<a id="1591" href="Meta.Reflection.Subst.html#1563" class="Function">raise-fromS</a> <a id="1603" href="Meta.Reflection.Subst.html#1603" class="Bound">n</a> <a id="1605" href="Meta.Reflection.Subst.html#1605" class="Bound">k</a> <a id="1607" class="Symbol">=</a> <a id="1609" href="Meta.Reflection.Subst.html#1304" class="Function">liftS</a> <a id="1615" href="Meta.Reflection.Subst.html#1603" class="Bound">n</a> <a id="1617" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="1619" href="Meta.Reflection.Subst.html#1523" class="Function">raiseS</a> <a id="1626" href="Meta.Reflection.Subst.html#1605" class="Bound">k</a>

<a id="1629" class="Comment">--            Γ, Δ ⊢ u : A</a>
<a id="1656" class="Comment">-- ---------------------------------</a>
<a id="1693" class="Comment">-- Γ, Δ ⊢ singletonS |Δ| u : Γ, A, Δ</a>
<a id="singletonS"></a><a id="1730" href="Meta.Reflection.Subst.html#1730" class="Function">singletonS</a> <a id="1741" class="Symbol">:</a> <a id="1743" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1745" class="Symbol">→</a> <a id="1747" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1752" class="Symbol">→</a> <a id="1754" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
<a id="1760" href="Meta.Reflection.Subst.html#1730" class="Function">singletonS</a> <a id="1771" href="Meta.Reflection.Subst.html#1771" class="Bound">n</a> <a id="1773" href="Meta.Reflection.Subst.html#1773" class="Bound">u</a> <a id="1775" class="Symbol">=</a> <a id="1777" class="Symbol">((λ</a> <a id="1781" href="Meta.Reflection.Subst.html#1781" class="Bound">m</a> <a id="1783" class="Symbol">→</a> <a id="1785" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="1789" href="Meta.Reflection.Subst.html#1781" class="Bound">m</a> <a id="1791" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1793" class="Symbol">)</a> <a id="1795" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="1799" href="Data.List.Operations.html#2712" class="Function">count-from-to</a> <a id="1813" class="Number">0</a> <a id="1815" href="Meta.Reflection.Subst.html#1771" class="Bound">n</a><a id="1816" class="Symbol">)</a> <a id="1818" href="Meta.Reflection.Subst.html#1445" class="Function Operator">++#</a> <a id="1822" href="Meta.Reflection.Subst.html#1773" class="Bound">u</a> <a id="1824" href="Meta.Reflection.Subst.html#1056" class="InductiveConstructor Operator">∷ₛ</a> <a id="1827" href="Meta.Reflection.Subst.html#1523" class="Function">raiseS</a> <a id="1834" href="Meta.Reflection.Subst.html#1771" class="Bound">n</a>

<a id="1837" class="Comment">--           Γ, A, Δ ⊢ u : A</a>
<a id="1866" class="Comment">-- ----------------------------------</a>
<a id="1904" class="Comment">-- Γ, A, Δ ⊢ inplaceS |Δ| u : Γ, A, Δ</a>
<a id="inplaceS"></a><a id="1942" href="Meta.Reflection.Subst.html#1942" class="Function">inplaceS</a> <a id="1951" class="Symbol">:</a> <a id="1953" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1955" class="Symbol">→</a> <a id="1957" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1962" class="Symbol">→</a> <a id="1964" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
<a id="1970" href="Meta.Reflection.Subst.html#1942" class="Function">inplaceS</a> <a id="1979" href="Meta.Reflection.Subst.html#1979" class="Bound">n</a> <a id="1981" href="Meta.Reflection.Subst.html#1981" class="Bound">u</a> <a id="1983" class="Symbol">=</a> <a id="1985" class="Symbol">((λ</a> <a id="1989" href="Meta.Reflection.Subst.html#1989" class="Bound">m</a> <a id="1991" class="Symbol">→</a> <a id="1993" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="1997" href="Meta.Reflection.Subst.html#1989" class="Bound">m</a> <a id="1999" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2001" class="Symbol">)</a> <a id="2003" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="2007" href="Data.List.Operations.html#2712" class="Function">count-from-to</a> <a id="2021" class="Number">0</a> <a id="2023" href="Meta.Reflection.Subst.html#1979" class="Bound">n</a><a id="2024" class="Symbol">)</a> <a id="2026" href="Meta.Reflection.Subst.html#1445" class="Function Operator">++#</a> <a id="2030" href="Meta.Reflection.Subst.html#1981" class="Bound">u</a> <a id="2032" href="Meta.Reflection.Subst.html#1056" class="InductiveConstructor Operator">∷ₛ</a> <a id="2035" href="Meta.Reflection.Subst.html#1523" class="Function">raiseS</a> <a id="2042" class="Symbol">(</a><a id="2043" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="2047" href="Meta.Reflection.Subst.html#1979" class="Bound">n</a><a id="2048" class="Symbol">)</a>


<a id="2052" class="Keyword">private</a> <a id="2060" class="Keyword">variable</a>
  <a id="2071" href="Meta.Reflection.Subst.html#2071" class="Generalizable">ℓ</a> <a id="2073" class="Symbol">:</a> <a id="2075" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="2083" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="2085" class="Symbol">:</a> <a id="2087" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="2092" href="Meta.Reflection.Subst.html#2071" class="Generalizable">ℓ</a>

<a id="2095" class="Comment">-- using wf in reflection is an overkill innit</a>
<a id="2142" class="Keyword">record</a> <a id="Has-subst"></a><a id="2149" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="2159" class="Symbol">{</a><a id="2160" href="Meta.Reflection.Subst.html#2160" class="Bound">ℓ</a><a id="2161" class="Symbol">}</a> <a id="2163" class="Symbol">(</a><a id="2164" href="Meta.Reflection.Subst.html#2164" class="Bound">A</a> <a id="2166" class="Symbol">:</a> <a id="2168" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="2173" href="Meta.Reflection.Subst.html#2160" class="Bound">ℓ</a><a id="2174" class="Symbol">)</a> <a id="2176" class="Symbol">:</a> <a id="2178" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="2183" class="Symbol">(</a><a id="2184" href="Foundations.Prim.Type.html#402" class="Primitive">ℓsuc</a> <a id="2189" href="Meta.Reflection.Subst.html#2160" class="Bound">ℓ</a><a id="2190" class="Symbol">)</a> <a id="2192" class="Keyword">where</a>
  <a id="2200" class="Keyword">field</a> <a id="Has-subst.applyS"></a><a id="2206" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="2213" class="Symbol">:</a> <a id="2215" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="2221" class="Symbol">→</a> <a id="2223" href="Meta.Reflection.Subst.html#2164" class="Bound">A</a> <a id="2225" class="Symbol">→</a> <a id="2227" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2233" href="Meta.Reflection.Subst.html#2164" class="Bound">A</a>

<a id="2236" class="Keyword">open</a> <a id="2241" href="Meta.Reflection.Subst.html#2149" class="Module">Has-subst</a> <a id="2251" class="Symbol">⦃</a> <a id="2253" class="Symbol">...</a> <a id="2257" class="Symbol">⦄</a> <a id="2259" class="Keyword">using</a> <a id="2265" class="Symbol">(</a><a id="2266" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a><a id="2272" class="Symbol">)</a> <a id="2274" class="Keyword">public</a>

<a id="raise"></a><a id="2282" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="2288" class="Symbol">:</a> <a id="2290" class="Symbol">⦃</a> <a id="2292" href="Meta.Reflection.Subst.html#2292" class="Bound">_</a> <a id="2294" class="Symbol">:</a> <a id="2296" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="2306" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="2308" class="Symbol">⦄</a> <a id="2310" class="Symbol">→</a> <a id="2312" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2314" class="Symbol">→</a> <a id="2316" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="2318" class="Symbol">→</a> <a id="2320" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2326" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a>
<a id="2328" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="2334" href="Meta.Reflection.Subst.html#2334" class="Bound">n</a> <a id="2336" class="Symbol">=</a> <a id="2338" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="2345" class="Symbol">(</a><a id="2346" href="Meta.Reflection.Subst.html#1523" class="Function">raiseS</a> <a id="2353" href="Meta.Reflection.Subst.html#2334" class="Bound">n</a><a id="2354" class="Symbol">)</a>

<a id="raise*"></a><a id="2357" href="Meta.Reflection.Subst.html#2357" class="Function">raise*</a> <a id="2364" class="Symbol">:</a> <a id="2366" class="Symbol">⦃</a> <a id="2368" href="Meta.Reflection.Subst.html#2368" class="Bound">_</a> <a id="2370" class="Symbol">:</a> <a id="2372" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="2382" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="2384" class="Symbol">⦄</a> <a id="2386" class="Symbol">→</a> <a id="2388" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2390" class="Symbol">→</a> <a id="2392" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2397" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="2399" class="Symbol">→</a> <a id="2401" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2407" class="Symbol">(</a><a id="2408" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2413" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a><a id="2414" class="Symbol">)</a>
<a id="2416" href="Meta.Reflection.Subst.html#2357" class="Function">raise*</a> <a id="2423" href="Meta.Reflection.Subst.html#2423" class="Bound">n</a> <a id="2425" class="Symbol">=</a> <a id="2427" href="Meta.Effect.Traversable.html#315" class="Field">traverse</a> <a id="2436" class="Symbol">(</a><a id="2437" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="2443" href="Meta.Reflection.Subst.html#2423" class="Bound">n</a><a id="2444" class="Symbol">)</a>

<a id="applyS*"></a><a id="2447" href="Meta.Reflection.Subst.html#2447" class="Function">applyS*</a> <a id="2455" class="Symbol">:</a> <a id="2457" class="Symbol">⦃</a> <a id="2459" href="Meta.Reflection.Subst.html#2459" class="Bound">_</a> <a id="2461" class="Symbol">:</a> <a id="2463" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="2473" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="2475" class="Symbol">⦄</a> <a id="2477" class="Symbol">→</a> <a id="2479" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="2485" class="Symbol">→</a> <a id="2487" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2492" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="2494" class="Symbol">→</a> <a id="2496" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2502" class="Symbol">(</a><a id="2503" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2508" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a><a id="2509" class="Symbol">)</a>
<a id="2511" href="Meta.Reflection.Subst.html#2447" class="Function">applyS*</a> <a id="2519" href="Meta.Reflection.Subst.html#2519" class="Bound">ρ</a> <a id="2521" class="Symbol">=</a> <a id="2523" href="Meta.Effect.Traversable.html#315" class="Field">traverse</a> <a id="2532" class="Symbol">(</a><a id="2533" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="2540" href="Meta.Reflection.Subst.html#2519" class="Bound">ρ</a><a id="2541" class="Symbol">)</a>

<a id="2544" class="Keyword">instance</a>
  <a id="Has-subst-Arg"></a><a id="2555" href="Meta.Reflection.Subst.html#2555" class="Function">Has-subst-Arg</a> <a id="2569" class="Symbol">:</a> <a id="2571" class="Symbol">⦃</a> <a id="2573" href="Meta.Reflection.Subst.html#2573" class="Bound">_</a> <a id="2575" class="Symbol">:</a> <a id="2577" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="2587" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="2589" class="Symbol">⦄</a> <a id="2591" class="Symbol">→</a> <a id="2593" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="2603" class="Symbol">(</a><a id="2604" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="2608" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a><a id="2609" class="Symbol">)</a>
  <a id="2613" href="Meta.Reflection.Subst.html#2555" class="Function">Has-subst-Arg</a> <a id="2627" class="Symbol">.</a><a id="2628" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="2635" href="Meta.Reflection.Subst.html#2635" class="Bound">ρ</a> <a id="2637" class="Symbol">(</a><a id="2638" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="2642" href="Meta.Reflection.Subst.html#2642" class="Bound">ai</a> <a id="2645" href="Meta.Reflection.Subst.html#2645" class="Bound">x</a><a id="2646" class="Symbol">)</a> <a id="2648" class="Symbol">=</a> <a id="2650" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="2654" href="Meta.Reflection.Subst.html#2642" class="Bound">ai</a> <a id="2657" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="2661" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="2668" href="Meta.Reflection.Subst.html#2635" class="Bound">ρ</a> <a id="2670" href="Meta.Reflection.Subst.html#2645" class="Bound">x</a>


<a id="2674" class="Comment">-- fueled</a>
<a id="subst-clause"></a><a id="2684" href="Meta.Reflection.Subst.html#2684" class="Function">subst-clause</a> <a id="2697" class="Symbol">:</a> <a id="2699" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2701" class="Symbol">→</a> <a id="2703" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="2709" class="Symbol">→</a> <a id="2711" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a> <a id="2718" class="Symbol">→</a> <a id="2720" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2726" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a>
<a id="subst-tm"></a><a id="2733" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a>     <a id="2746" class="Symbol">:</a> <a id="2748" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2750" class="Symbol">→</a> <a id="2752" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="2758" class="Symbol">→</a> <a id="2760" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2765" class="Symbol">→</a> <a id="2767" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2773" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="subst-tm*"></a><a id="2778" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a>    <a id="2791" class="Symbol">:</a> <a id="2793" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2795" class="Symbol">→</a> <a id="2797" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="2803" class="Symbol">→</a> <a id="2805" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2810" class="Symbol">(</a><a id="2811" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="2815" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="2819" class="Symbol">)</a> <a id="2821" class="Symbol">→</a> <a id="2823" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2829" class="Symbol">(</a><a id="2830" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="2835" class="Symbol">(</a><a id="2836" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="2840" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="2844" class="Symbol">))</a>
<a id="apply-tm"></a><a id="2847" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a>     <a id="2860" class="Symbol">:</a> <a id="2862" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2864" class="Symbol">→</a> <a id="2866" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2871" class="Symbol">→</a> <a id="2873" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="2877" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2882" class="Symbol">→</a> <a id="2884" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2890" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="subst-tel"></a><a id="2895" href="Meta.Reflection.Subst.html#2895" class="Function">subst-tel</a>    <a id="2908" class="Symbol">:</a> <a id="2910" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2912" class="Symbol">→</a> <a id="2914" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="2920" class="Symbol">→</a> <a id="2922" href="Data.Reflection.Term.html#844" class="Function">Telescope</a> <a id="2932" class="Symbol">→</a> <a id="2934" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="2940" href="Data.Reflection.Term.html#844" class="Function">Telescope</a>

<a id="2951" class="Keyword">instance</a>
  <a id="Has-subst-Term"></a><a id="2962" href="Meta.Reflection.Subst.html#2962" class="Function">Has-subst-Term</a> <a id="2977" class="Symbol">:</a> <a id="2979" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="2989" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="2996" href="Meta.Reflection.Subst.html#2962" class="Function">Has-subst-Term</a> <a id="3011" class="Symbol">=</a> <a id="3013" class="Keyword">record</a> <a id="3020" class="Symbol">{</a> <a id="3022" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="3029" class="Symbol">=</a> <a id="3031" href="Meta.Reflection.Base.html#3396" class="Function">with-full-tank</a> <a id="3046" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="3055" class="Symbol">}</a>

  <a id="Has-subst-Clause"></a><a id="3060" href="Meta.Reflection.Subst.html#3060" class="Function">Has-subst-Clause</a> <a id="3077" class="Symbol">:</a> <a id="3079" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="3089" href="Agda.Builtin.Reflection.html#5050" class="Datatype">Clause</a>
  <a id="3098" href="Meta.Reflection.Subst.html#3060" class="Function">Has-subst-Clause</a> <a id="3115" class="Symbol">=</a> <a id="3117" class="Keyword">record</a> <a id="3124" class="Symbol">{</a> <a id="3126" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="3133" class="Symbol">=</a> <a id="3135" href="Meta.Reflection.Base.html#3396" class="Function">with-full-tank</a> <a id="3150" href="Meta.Reflection.Subst.html#2684" class="Function">subst-clause</a> <a id="3163" class="Symbol">}</a>

  <a id="Has-subst-Args"></a><a id="3168" href="Meta.Reflection.Subst.html#3168" class="Function">Has-subst-Args</a> <a id="3183" class="Symbol">:</a> <a id="3185" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="3195" class="Symbol">(</a><a id="3196" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3201" class="Symbol">(</a><a id="3202" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="3206" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3210" class="Symbol">))</a>
  <a id="3215" href="Meta.Reflection.Subst.html#3168" class="Function">Has-subst-Args</a> <a id="3230" class="Symbol">=</a> <a id="3232" class="Keyword">record</a> <a id="3239" class="Symbol">{</a> <a id="3241" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="3248" class="Symbol">=</a> <a id="3250" href="Meta.Reflection.Base.html#3396" class="Function">with-full-tank</a> <a id="3265" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="3275" class="Symbol">}</a>

  <a id="Has-subst-Telescope"></a><a id="3280" href="Meta.Reflection.Subst.html#3280" class="Function">Has-subst-Telescope</a> <a id="3300" class="Symbol">:</a> <a id="3302" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="3312" href="Data.Reflection.Term.html#844" class="Function">Telescope</a>
  <a id="3324" href="Meta.Reflection.Subst.html#3280" class="Function">Has-subst-Telescope</a> <a id="3344" class="Symbol">=</a> <a id="3346" class="Keyword">record</a> <a id="3353" class="Symbol">{</a> <a id="3355" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="3362" class="Symbol">=</a> <a id="3364" href="Meta.Reflection.Base.html#3396" class="Function">with-full-tank</a> <a id="3379" href="Meta.Reflection.Subst.html#2895" class="Function">subst-tel</a> <a id="3389" class="Symbol">}</a>

<a id="3392" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="3402" class="Number">0</a>          <a id="3413" class="Symbol">_</a> <a id="3415" class="Symbol">_</a>              <a id="3430" class="Symbol">=</a> <a id="3432" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="3440" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="3450" class="Symbol">(</a><a id="3451" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3455" href="Meta.Reflection.Subst.html#3455" class="Bound">fuel</a><a id="3459" class="Symbol">)</a> <a id="3461" href="Meta.Reflection.Subst.html#3461" class="Bound">ρ</a> <a id="3463" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>             <a id="3478" class="Symbol">=</a> <a id="3480" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="3485" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="3488" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="3498" class="Symbol">(</a><a id="3499" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3503" href="Meta.Reflection.Subst.html#3503" class="Bound">fuel</a><a id="3507" class="Symbol">)</a> <a id="3509" href="Meta.Reflection.Subst.html#3509" class="Bound">ρ</a> <a id="3511" class="Symbol">(</a><a id="3512" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3516" href="Meta.Reflection.Subst.html#3516" class="Bound">ι</a> <a id="3518" href="Meta.Reflection.Subst.html#3518" class="Bound">x</a> <a id="3520" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3522" href="Meta.Reflection.Subst.html#3522" class="Bound">ls</a><a id="3524" class="Symbol">)</a> <a id="3526" class="Symbol">=</a> <a id="3528" class="Keyword">do</a>
  <a id="3533" href="Meta.Reflection.Subst.html#3533" class="Bound">x′</a>  <a id="3537" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3539" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="3548" href="Meta.Reflection.Subst.html#3503" class="Bound">fuel</a> <a id="3553" href="Meta.Reflection.Subst.html#3509" class="Bound">ρ</a> <a id="3555" href="Meta.Reflection.Subst.html#3518" class="Bound">x</a>
  <a id="3559" href="Meta.Reflection.Subst.html#3559" class="Bound">ls′</a> <a id="3563" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3565" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="3575" href="Meta.Reflection.Subst.html#3503" class="Bound">fuel</a> <a id="3580" href="Meta.Reflection.Subst.html#3509" class="Bound">ρ</a> <a id="3582" href="Meta.Reflection.Subst.html#3522" class="Bound">ls</a>
  <a id="3587" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="3592" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="3594" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3598" href="Meta.Reflection.Subst.html#3516" class="Bound">ι</a> <a id="3600" href="Meta.Reflection.Subst.html#3533" class="Bound">x′</a> <a id="3603" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3605" href="Meta.Reflection.Subst.html#3559" class="Bound">ls′</a>

<a id="apply-tm*"></a><a id="3610" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="3620" class="Symbol">:</a> <a id="3622" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3624" class="Symbol">→</a> <a id="3626" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3631" class="Symbol">→</a> <a id="3633" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3638" class="Symbol">(</a><a id="3639" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="3643" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="3647" class="Symbol">)</a> <a id="3649" class="Symbol">→</a> <a id="3651" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3657" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="3662" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="3672" class="Number">0</a>          <a id="3683" class="Symbol">_</a>  <a id="3686" class="Symbol">_</a>        <a id="3695" class="Symbol">=</a> <a id="3697" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="3705" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="3715" class="Symbol">(</a><a id="3716" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3720" href="Meta.Reflection.Subst.html#3720" class="Bound">fuel</a><a id="3724" class="Symbol">)</a> <a id="3726" href="Meta.Reflection.Subst.html#3726" class="Bound">tm</a> <a id="3729" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>       <a id="3738" class="Symbol">=</a> <a id="3740" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="3745" href="Meta.Reflection.Subst.html#3726" class="Bound">tm</a>
<a id="3748" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="3758" class="Symbol">(</a><a id="3759" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3763" href="Meta.Reflection.Subst.html#3763" class="Bound">fuel</a><a id="3767" class="Symbol">)</a> <a id="3769" href="Meta.Reflection.Subst.html#3769" class="Bound">tm</a> <a id="3772" class="Symbol">(</a><a id="3773" href="Meta.Reflection.Subst.html#3773" class="Bound">x</a> <a id="3775" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="3777" href="Meta.Reflection.Subst.html#3777" class="Bound">xs</a><a id="3779" class="Symbol">)</a> <a id="3781" class="Symbol">=</a> <a id="3783" class="Keyword">do</a>
  <a id="3788" href="Meta.Reflection.Subst.html#3788" class="Bound">t</a> <a id="3790" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3792" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="3801" href="Meta.Reflection.Subst.html#3763" class="Bound">fuel</a> <a id="3806" href="Meta.Reflection.Subst.html#3769" class="Bound">tm</a> <a id="3809" href="Meta.Reflection.Subst.html#3773" class="Bound">x</a>
  <a id="3813" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="3823" href="Meta.Reflection.Subst.html#3763" class="Bound">fuel</a> <a id="3828" href="Meta.Reflection.Subst.html#3788" class="Bound">t</a> <a id="3830" href="Meta.Reflection.Subst.html#3777" class="Bound">xs</a>

<a id="lookup-tm"></a><a id="3834" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="3844" class="Symbol">:</a> <a id="3846" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3848" class="Symbol">→</a> <a id="3850" class="Symbol">(</a><a id="3851" href="Meta.Reflection.Subst.html#3851" class="Bound">σ</a> <a id="3853" class="Symbol">:</a> <a id="3855" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a><a id="3860" class="Symbol">)</a> <a id="3862" class="Symbol">(</a><a id="3863" href="Meta.Reflection.Subst.html#3863" class="Bound">i</a> <a id="3865" class="Symbol">:</a> <a id="3867" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="3868" class="Symbol">)</a> <a id="3870" class="Symbol">→</a> <a id="3872" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="3878" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="3883" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="3893" class="Number">0</a> <a id="3895" class="Symbol">_</a> <a id="3897" class="Symbol">_</a> <a id="3899" class="Symbol">=</a> <a id="3901" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="3909" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="3919" class="Symbol">(</a><a id="3920" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3924" href="Meta.Reflection.Subst.html#3924" class="Bound">fuel</a><a id="3928" class="Symbol">)</a> <a id="3930" href="Meta.Reflection.Subst.html#1035" class="InductiveConstructor">idₛ</a> <a id="3934" href="Meta.Reflection.Subst.html#3934" class="Bound">i</a> <a id="3936" class="Symbol">=</a> <a id="3938" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="3943" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="3945" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="3949" href="Meta.Reflection.Subst.html#3934" class="Bound">i</a> <a id="3951" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="3954" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="3964" class="Symbol">(</a><a id="3965" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="3969" href="Meta.Reflection.Subst.html#3969" class="Bound">fuel</a><a id="3973" class="Symbol">)</a> <a id="3975" class="Symbol">(</a><a id="3976" href="Meta.Reflection.Subst.html#1092" class="InductiveConstructor">wk</a> <a id="3979" href="Meta.Reflection.Subst.html#3979" class="Bound">n</a> <a id="3981" href="Meta.Reflection.Subst.html#1035" class="InductiveConstructor">idₛ</a><a id="3984" class="Symbol">)</a> <a id="3986" href="Meta.Reflection.Subst.html#3986" class="Bound">i</a> <a id="3988" class="Symbol">=</a> <a id="3990" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="3995" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="3997" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="4001" class="Symbol">(</a><a id="4002" href="Meta.Reflection.Subst.html#3986" class="Bound">i</a> <a id="4004" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="4006" href="Meta.Reflection.Subst.html#3979" class="Bound">n</a><a id="4007" class="Symbol">)</a> <a id="4009" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="4012" href="Meta.Reflection.Subst.html#3834" class="CatchallClause Function">lookup-tm</a><a id="4021" class="CatchallClause"> </a><a id="4022" class="CatchallClause Symbol">(</a><a id="4023" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="4026" class="CatchallClause"> </a><a id="4027" href="Meta.Reflection.Subst.html#4027" class="CatchallClause Bound">fuel</a><a id="4031" class="CatchallClause Symbol">)</a><a id="4032" class="CatchallClause"> </a><a id="4033" class="CatchallClause Symbol">(</a><a id="4034" href="Meta.Reflection.Subst.html#1092" class="CatchallClause InductiveConstructor">wk</a><a id="4036" class="CatchallClause"> </a><a id="4037" href="Meta.Reflection.Subst.html#4037" class="CatchallClause Bound">n</a><a id="4038" class="CatchallClause"> </a><a id="4039" href="Meta.Reflection.Subst.html#4039" class="CatchallClause Bound">ρ</a><a id="4040" class="CatchallClause Symbol">)</a><a id="4041" class="CatchallClause"> </a><a id="4042" href="Meta.Reflection.Subst.html#4042" class="CatchallClause Bound">i</a> <a id="4044" class="Symbol">=</a> <a id="4046" class="Keyword">do</a>
  <a id="4051" href="Meta.Reflection.Subst.html#4051" class="Bound">t</a> <a id="4053" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4055" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="4065" href="Meta.Reflection.Subst.html#4027" class="Bound">fuel</a> <a id="4070" href="Meta.Reflection.Subst.html#4039" class="Bound">ρ</a> <a id="4072" href="Meta.Reflection.Subst.html#4042" class="Bound">i</a>
  <a id="4076" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="4085" href="Meta.Reflection.Subst.html#4027" class="Bound">fuel</a> <a id="4090" class="Symbol">(</a><a id="4091" href="Meta.Reflection.Subst.html#1523" class="Function">raiseS</a> <a id="4098" href="Meta.Reflection.Subst.html#4037" class="Bound">n</a><a id="4099" class="Symbol">)</a> <a id="4101" href="Meta.Reflection.Subst.html#4051" class="Bound">t</a>
<a id="4103" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="4113" class="Symbol">(</a><a id="4114" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4118" href="Meta.Reflection.Subst.html#4118" class="Bound">fuel</a><a id="4122" class="Symbol">)</a> <a id="4124" class="Symbol">(</a><a id="4125" href="Meta.Reflection.Subst.html#4125" class="Bound">x</a> <a id="4127" href="Meta.Reflection.Subst.html#1056" class="InductiveConstructor Operator">∷ₛ</a> <a id="4130" href="Meta.Reflection.Subst.html#4130" class="Bound">ρ</a><a id="4131" class="Symbol">)</a> <a id="4133" href="Meta.Reflection.Subst.html#4133" class="Bound">i</a> <a id="4135" class="Keyword">with</a> <a id="4140" class="Symbol">(</a><a id="4141" href="Meta.Reflection.Subst.html#4133" class="Bound">i</a> <a id="4143" href="Agda.Builtin.Nat.html#631" class="Primitive Operator">==</a> <a id="4146" class="Number">0</a><a id="4147" class="Symbol">)</a>
<a id="4149" class="Symbol">…</a> <a id="4151" class="Symbol">|</a> <a id="4153" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="4159" class="Symbol">=</a> <a id="4161" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="4166" class="Bound">x</a>
<a id="4168" class="Symbol">…</a> <a id="4170" class="Symbol">|</a> <a id="4172" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4178" class="Symbol">=</a> <a id="4180" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="4190" class="Bound">fuel</a> <a id="4195" class="Bound">ρ</a> <a id="4197" class="Symbol">(</a><a id="4198" class="Bound">i</a> <a id="4200" href="Data.Nat.Base.html#318" class="Primitive Operator">∸</a> <a id="4202" class="Number">1</a><a id="4203" class="Symbol">)</a>
<a id="4205" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="4215" class="Symbol">(</a><a id="4216" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4220" href="Meta.Reflection.Subst.html#4220" class="Bound">fuel</a><a id="4224" class="Symbol">)</a> <a id="4226" class="Symbol">(</a><a id="4227" href="Meta.Reflection.Subst.html#1158" class="InductiveConstructor">strengthen</a> <a id="4238" href="Meta.Reflection.Subst.html#4238" class="Bound">n</a> <a id="4240" href="Meta.Reflection.Subst.html#4240" class="Bound">ρ</a><a id="4241" class="Symbol">)</a> <a id="4243" href="Meta.Reflection.Subst.html#4243" class="Bound">i</a> <a id="4245" class="Keyword">with</a> <a id="4250" class="Symbol">(</a><a id="4251" href="Meta.Reflection.Subst.html#4243" class="Bound">i</a> <a id="4253" href="Data.Nat.Base.html#360" class="Primitive Operator">&lt;ᵇ</a> <a id="4256" href="Meta.Reflection.Subst.html#4238" class="Bound">n</a><a id="4257" class="Symbol">)</a>
<a id="4259" class="Symbol">…</a> <a id="4261" class="Symbol">|</a> <a id="4263" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="4269" class="Symbol">=</a> <a id="4271" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="4276" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>
<a id="4284" class="Symbol">…</a> <a id="4286" class="Symbol">|</a> <a id="4288" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4294" class="Symbol">=</a> <a id="4296" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="4306" class="Bound">fuel</a> <a id="4311" class="Bound">ρ</a> <a id="4313" class="Symbol">(</a><a id="4314" class="Bound">i</a> <a id="4316" href="Data.Nat.Base.html#318" class="Primitive Operator">∸</a> <a id="4318" class="Bound">n</a><a id="4319" class="Symbol">)</a>
<a id="4321" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="4331" class="Symbol">(</a><a id="4332" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4336" href="Meta.Reflection.Subst.html#4336" class="Bound">fuel</a><a id="4340" class="Symbol">)</a> <a id="4342" class="Symbol">(</a><a id="4343" href="Meta.Reflection.Subst.html#1125" class="InductiveConstructor">lift</a> <a id="4348" href="Meta.Reflection.Subst.html#4348" class="Bound">n</a> <a id="4350" href="Meta.Reflection.Subst.html#4350" class="Bound">σ</a><a id="4351" class="Symbol">)</a> <a id="4353" href="Meta.Reflection.Subst.html#4353" class="Bound">i</a> <a id="4355" class="Keyword">with</a> <a id="4360" class="Symbol">(</a><a id="4361" href="Meta.Reflection.Subst.html#4353" class="Bound">i</a> <a id="4363" href="Data.Nat.Base.html#360" class="Primitive Operator">&lt;ᵇ</a> <a id="4366" href="Meta.Reflection.Subst.html#4348" class="Bound">n</a><a id="4367" class="Symbol">)</a>
<a id="4369" class="Symbol">…</a> <a id="4371" class="Symbol">|</a> <a id="4373" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>  <a id="4379" class="Symbol">=</a> <a id="4381" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="4386" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="4388" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="4392" class="Bound">i</a> <a id="4394" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="4397" class="Symbol">…</a> <a id="4399" class="Symbol">|</a> <a id="4401" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="4407" class="Symbol">=</a> <a id="4409" class="Keyword">do</a>
  <a id="4414" href="Meta.Reflection.Subst.html#4414" class="Bound">t</a> <a id="4416" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4418" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="4428" class="Bound">fuel</a> <a id="4433" class="Bound">σ</a> <a id="4435" class="Symbol">(</a><a id="4436" class="Bound">i</a> <a id="4438" href="Data.Nat.Base.html#318" class="Primitive Operator">∸</a> <a id="4440" class="Bound">n</a><a id="4441" class="Symbol">)</a>
  <a id="4445" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="4454" class="Bound">fuel</a> <a id="4459" class="Symbol">(</a><a id="4460" href="Meta.Reflection.Subst.html#1523" class="Function">raiseS</a> <a id="4467" class="Bound">n</a><a id="4468" class="Symbol">)</a> <a id="4470" href="Meta.Reflection.Subst.html#4414" class="Bound">t</a>

<a id="4473" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="4482" class="Number">0</a> <a id="4484" class="Symbol">_</a> <a id="4486" class="Symbol">_</a> <a id="4488" class="Symbol">=</a> <a id="4490" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="4498" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="4507" class="Symbol">(</a><a id="4508" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4512" href="Meta.Reflection.Subst.html#4512" class="Bound">fuel</a><a id="4516" class="Symbol">)</a> <a id="4518" class="Symbol">(</a><a id="4519" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="4523" href="Meta.Reflection.Subst.html#4523" class="Bound">x</a> <a id="4525" href="Meta.Reflection.Subst.html#4525" class="Bound">args</a><a id="4529" class="Symbol">)</a>      <a id="4536" href="Meta.Reflection.Subst.html#4536" class="Bound">argu</a> <a id="4541" class="Symbol">=</a> <a id="4543" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="4548" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="4550" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="4554" href="Meta.Reflection.Subst.html#4523" class="Bound">x</a> <a id="4556" class="Symbol">(</a><a id="4557" href="Meta.Reflection.Subst.html#4525" class="Bound">args</a> <a id="4562" href="Data.List.Base.html#725" class="Function Operator">++</a> <a id="4565" href="Meta.Reflection.Subst.html#4536" class="Bound">argu</a> <a id="4570" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4572" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4574" class="Symbol">)</a>
<a id="4576" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="4585" class="Symbol">(</a><a id="4586" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4590" href="Meta.Reflection.Subst.html#4590" class="Bound">fuel</a><a id="4594" class="Symbol">)</a> <a id="4596" class="Symbol">(</a><a id="4597" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="4601" href="Meta.Reflection.Subst.html#4601" class="Bound">c</a> <a id="4603" href="Meta.Reflection.Subst.html#4603" class="Bound">args</a><a id="4607" class="Symbol">)</a>      <a id="4614" href="Meta.Reflection.Subst.html#4614" class="Bound">argu</a> <a id="4619" class="Symbol">=</a> <a id="4621" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="4626" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="4628" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="4632" href="Meta.Reflection.Subst.html#4601" class="Bound">c</a> <a id="4634" class="Symbol">(</a><a id="4635" href="Meta.Reflection.Subst.html#4603" class="Bound">args</a> <a id="4640" href="Data.List.Base.html#725" class="Function Operator">++</a> <a id="4643" href="Meta.Reflection.Subst.html#4614" class="Bound">argu</a> <a id="4648" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4650" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4652" class="Symbol">)</a>
<a id="4654" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="4663" class="Symbol">(</a><a id="4664" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4668" href="Meta.Reflection.Subst.html#4668" class="Bound">fuel</a><a id="4672" class="Symbol">)</a> <a id="4674" class="Symbol">(</a><a id="4675" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="4679" href="Meta.Reflection.Subst.html#4679" class="Bound">f</a> <a id="4681" href="Meta.Reflection.Subst.html#4681" class="Bound">args</a><a id="4685" class="Symbol">)</a>      <a id="4692" href="Meta.Reflection.Subst.html#4692" class="Bound">argu</a> <a id="4697" class="Symbol">=</a> <a id="4699" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="4704" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="4706" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="4710" href="Meta.Reflection.Subst.html#4679" class="Bound">f</a> <a id="4712" class="Symbol">(</a><a id="4713" href="Meta.Reflection.Subst.html#4681" class="Bound">args</a> <a id="4718" href="Data.List.Base.html#725" class="Function Operator">++</a> <a id="4721" href="Meta.Reflection.Subst.html#4692" class="Bound">argu</a> <a id="4726" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4728" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4730" class="Symbol">)</a>
<a id="4732" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="4741" class="Symbol">(</a><a id="4742" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4746" href="Meta.Reflection.Subst.html#4746" class="Bound">fuel</a><a id="4750" class="Symbol">)</a> <a id="4752" class="Symbol">(</a><a id="4753" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="4757" href="Meta.Reflection.Subst.html#4757" class="Bound">v</a> <a id="4759" class="Symbol">(</a><a id="4760" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="4764" href="Meta.Reflection.Subst.html#4764" class="Bound">n</a> <a id="4766" href="Meta.Reflection.Subst.html#4766" class="Bound">t</a><a id="4767" class="Symbol">))</a> <a id="4770" class="Symbol">(</a><a id="4771" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="4775" class="Symbol">_</a> <a id="4777" href="Meta.Reflection.Subst.html#4777" class="Bound">argu</a><a id="4781" class="Symbol">)</a> <a id="4783" class="Symbol">=</a> <a id="4785" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="4794" href="Meta.Reflection.Subst.html#4746" class="Bound">fuel</a> <a id="4799" class="Symbol">(</a><a id="4800" href="Meta.Reflection.Subst.html#4777" class="Bound">argu</a> <a id="4805" href="Meta.Reflection.Subst.html#1056" class="InductiveConstructor Operator">∷ₛ</a> <a id="4808" href="Meta.Reflection.Subst.html#1035" class="InductiveConstructor">idₛ</a><a id="4811" class="Symbol">)</a> <a id="4813" href="Meta.Reflection.Subst.html#4766" class="Bound">t</a>
<a id="4815" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="4824" class="Symbol">(</a><a id="4825" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4829" href="Meta.Reflection.Subst.html#4829" class="Bound">fuel</a><a id="4833" class="Symbol">)</a> <a id="4835" class="Symbol">(</a><a id="4836" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="4844" href="Meta.Reflection.Subst.html#4844" class="Bound">cs</a> <a id="4847" href="Meta.Reflection.Subst.html#4847" class="Bound">args</a><a id="4851" class="Symbol">)</a> <a id="4853" href="Meta.Reflection.Subst.html#4853" class="Bound">argu</a> <a id="4858" class="Symbol">=</a> <a id="4860" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="4865" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="4867" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="4875" href="Meta.Reflection.Subst.html#4844" class="Bound">cs</a> <a id="4878" class="Symbol">(</a><a id="4879" href="Meta.Reflection.Subst.html#4847" class="Bound">args</a> <a id="4884" href="Data.List.Base.html#725" class="Function Operator">++</a> <a id="4887" href="Meta.Reflection.Subst.html#4853" class="Bound">argu</a> <a id="4892" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="4894" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="4896" class="Symbol">)</a>
<a id="4898" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="4907" class="Symbol">(</a><a id="4908" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4912" href="Meta.Reflection.Subst.html#4912" class="Bound">fuel</a><a id="4916" class="Symbol">)</a> <a id="4918" class="Symbol">(</a><a id="4919" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="4922" href="Meta.Reflection.Subst.html#4922" class="Bound">a</a> <a id="4924" href="Meta.Reflection.Subst.html#4924" class="Bound">b</a><a id="4925" class="Symbol">)</a>          <a id="4936" href="Meta.Reflection.Subst.html#4936" class="Bound">argu</a> <a id="4941" class="Symbol">=</a> <a id="4943" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="4948" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="4950" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="4953" href="Meta.Reflection.Subst.html#4922" class="Bound">a</a> <a id="4955" href="Meta.Reflection.Subst.html#4924" class="Bound">b</a>
<a id="4957" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="4966" class="Symbol">(</a><a id="4967" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="4971" href="Meta.Reflection.Subst.html#4971" class="Bound">fuel</a><a id="4975" class="Symbol">)</a> <a id="4977" class="Symbol">(</a><a id="4978" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="4988" href="Meta.Reflection.Subst.html#4988" class="Bound">s</a><a id="4989" class="Symbol">)</a>     <a id="4995" href="Meta.Reflection.Subst.html#4995" class="Bound">argu</a> <a id="5000" class="Symbol">=</a> <a id="5002" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="5007" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="5009" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="5019" href="Meta.Reflection.Subst.html#4988" class="Bound">s</a>
<a id="5021" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="5030" class="Symbol">(</a><a id="5031" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5035" href="Meta.Reflection.Subst.html#5035" class="Bound">fuel</a><a id="5039" class="Symbol">)</a> <a id="5041" class="Symbol">(</a><a id="5042" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="5046" href="Meta.Reflection.Subst.html#5046" class="Bound">l</a><a id="5047" class="Symbol">)</a>           <a id="5059" href="Meta.Reflection.Subst.html#5059" class="Bound">argu</a> <a id="5064" class="Symbol">=</a> <a id="5066" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="5071" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="5073" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="5077" href="Meta.Reflection.Subst.html#5046" class="Bound">l</a>
<a id="5079" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="5088" class="Symbol">(</a><a id="5089" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5093" href="Meta.Reflection.Subst.html#5093" class="Bound">fuel</a><a id="5097" class="Symbol">)</a> <a id="5099" class="Symbol">(</a><a id="5100" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="5105" href="Meta.Reflection.Subst.html#5105" class="Bound">x</a> <a id="5107" href="Meta.Reflection.Subst.html#5107" class="Bound">args</a><a id="5111" class="Symbol">)</a>     <a id="5117" href="Meta.Reflection.Subst.html#5117" class="Bound">argu</a> <a id="5122" class="Symbol">=</a> <a id="5124" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="5129" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="5131" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="5136" href="Meta.Reflection.Subst.html#5105" class="Bound">x</a> <a id="5138" class="Symbol">(</a><a id="5139" href="Meta.Reflection.Subst.html#5107" class="Bound">args</a> <a id="5144" href="Data.List.Base.html#725" class="Function Operator">++</a> <a id="5147" href="Meta.Reflection.Subst.html#5117" class="Bound">argu</a> <a id="5152" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="5154" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="5156" class="Symbol">)</a>
<a id="5158" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="5167" class="Symbol">(</a><a id="5168" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5172" href="Meta.Reflection.Subst.html#5172" class="Bound">fuel</a><a id="5176" class="Symbol">)</a> <a id="5178" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>           <a id="5196" href="Meta.Reflection.Subst.html#5196" class="Bound">argu</a> <a id="5201" class="Symbol">=</a> <a id="5203" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="5208" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>

<a id="5217" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="5226" class="Number">0</a> <a id="5228" class="Symbol">_</a> <a id="5230" class="Symbol">_</a> <a id="5232" class="Symbol">=</a> <a id="5234" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="5242" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="5251" class="Symbol">(</a><a id="5252" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="5256" href="Meta.Reflection.Subst.html#5256" class="Bound">fuel</a><a id="5260" class="Symbol">)</a> <a id="5262" href="Meta.Reflection.Subst.html#1035" class="InductiveConstructor">idₛ</a> <a id="5266" href="Meta.Reflection.Subst.html#5266" class="Bound">tm</a> <a id="5269" class="Symbol">=</a> <a id="5271" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="5276" href="Meta.Reflection.Subst.html#5266" class="Bound">tm</a>
<a id="5279" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="5287" class="CatchallClause"> </a><a id="5288" class="CatchallClause Symbol">(</a><a id="5289" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="5292" class="CatchallClause"> </a><a id="5293" href="Meta.Reflection.Subst.html#5293" class="CatchallClause Bound">fuel</a><a id="5297" class="CatchallClause Symbol">)</a><a id="5298" class="CatchallClause"> </a><a id="5299" href="Meta.Reflection.Subst.html#5299" class="CatchallClause Bound">ρ</a><a id="5300" class="CatchallClause"> </a><a id="5301" class="CatchallClause Symbol">(</a><a id="5302" href="Agda.Builtin.Reflection.html#5138" class="CatchallClause InductiveConstructor">var</a><a id="5305" class="CatchallClause"> </a><a id="5306" href="Meta.Reflection.Subst.html#5306" class="CatchallClause Bound">i</a><a id="5307" class="CatchallClause"> </a><a id="5308" href="Meta.Reflection.Subst.html#5308" class="CatchallClause Bound">args</a><a id="5312" class="CatchallClause Symbol">)</a>      <a id="5319" class="Symbol">=</a> <a id="5321" class="Keyword">do</a>
  <a id="5326" href="Meta.Reflection.Subst.html#5326" class="Bound">a</a> <a id="5328" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5330" href="Meta.Reflection.Subst.html#3834" class="Function">lookup-tm</a> <a id="5340" href="Meta.Reflection.Subst.html#5293" class="Bound">fuel</a> <a id="5345" href="Meta.Reflection.Subst.html#5299" class="Bound">ρ</a> <a id="5347" href="Meta.Reflection.Subst.html#5306" class="Bound">i</a>
  <a id="5351" href="Meta.Reflection.Subst.html#5351" class="Bound">b</a> <a id="5353" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5355" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="5365" href="Meta.Reflection.Subst.html#5293" class="Bound">fuel</a> <a id="5370" href="Meta.Reflection.Subst.html#5299" class="Bound">ρ</a> <a id="5372" href="Meta.Reflection.Subst.html#5308" class="Bound">args</a>
  <a id="5379" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="5389" href="Meta.Reflection.Subst.html#5293" class="Bound">fuel</a> <a id="5394" href="Meta.Reflection.Subst.html#5326" class="Bound">a</a> <a id="5396" href="Meta.Reflection.Subst.html#5351" class="Bound">b</a>
<a id="5398" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="5406" class="CatchallClause"> </a><a id="5407" class="CatchallClause Symbol">(</a><a id="5408" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="5411" class="CatchallClause"> </a><a id="5412" href="Meta.Reflection.Subst.html#5412" class="CatchallClause Bound">fuel</a><a id="5416" class="CatchallClause Symbol">)</a><a id="5417" class="CatchallClause"> </a><a id="5418" href="Meta.Reflection.Subst.html#5418" class="CatchallClause Bound">ρ</a><a id="5419" class="CatchallClause"> </a><a id="5420" class="CatchallClause Symbol">(</a><a id="5421" href="Agda.Builtin.Reflection.html#5194" class="CatchallClause InductiveConstructor">con</a><a id="5424" class="CatchallClause"> </a><a id="5425" href="Meta.Reflection.Subst.html#5425" class="CatchallClause Bound">c</a><a id="5426" class="CatchallClause"> </a><a id="5427" href="Meta.Reflection.Subst.html#5427" class="CatchallClause Bound">args</a><a id="5431" class="CatchallClause Symbol">)</a>      <a id="5438" class="Symbol">=</a> <a id="5440" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="5444" href="Meta.Reflection.Subst.html#5425" class="Bound">c</a> <a id="5446" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="5450" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="5460" href="Meta.Reflection.Subst.html#5412" class="Bound">fuel</a> <a id="5465" href="Meta.Reflection.Subst.html#5418" class="Bound">ρ</a> <a id="5467" href="Meta.Reflection.Subst.html#5427" class="Bound">args</a>
<a id="5472" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="5480" class="CatchallClause"> </a><a id="5481" class="CatchallClause Symbol">(</a><a id="5482" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="5485" class="CatchallClause"> </a><a id="5486" href="Meta.Reflection.Subst.html#5486" class="CatchallClause Bound">fuel</a><a id="5490" class="CatchallClause Symbol">)</a><a id="5491" class="CatchallClause"> </a><a id="5492" href="Meta.Reflection.Subst.html#5492" class="CatchallClause Bound">ρ</a><a id="5493" class="CatchallClause"> </a><a id="5494" class="CatchallClause Symbol">(</a><a id="5495" href="Agda.Builtin.Reflection.html#5251" class="CatchallClause InductiveConstructor">def</a><a id="5498" class="CatchallClause"> </a><a id="5499" href="Meta.Reflection.Subst.html#5499" class="CatchallClause Bound">f</a><a id="5500" class="CatchallClause"> </a><a id="5501" href="Meta.Reflection.Subst.html#5501" class="CatchallClause Bound">args</a><a id="5505" class="CatchallClause Symbol">)</a>      <a id="5512" class="Symbol">=</a> <a id="5514" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="5518" href="Meta.Reflection.Subst.html#5499" class="Bound">f</a> <a id="5520" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="5524" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="5534" href="Meta.Reflection.Subst.html#5486" class="Bound">fuel</a> <a id="5539" href="Meta.Reflection.Subst.html#5492" class="Bound">ρ</a> <a id="5541" href="Meta.Reflection.Subst.html#5501" class="Bound">args</a>
<a id="5546" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="5554" class="CatchallClause"> </a><a id="5555" class="CatchallClause Symbol">(</a><a id="5556" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="5559" class="CatchallClause"> </a><a id="5560" href="Meta.Reflection.Subst.html#5560" class="CatchallClause Bound">fuel</a><a id="5564" class="CatchallClause Symbol">)</a><a id="5565" class="CatchallClause"> </a><a id="5566" href="Meta.Reflection.Subst.html#5566" class="CatchallClause Bound">ρ</a><a id="5567" class="CatchallClause"> </a><a id="5568" class="CatchallClause Symbol">(</a><a id="5569" href="Agda.Builtin.Reflection.html#5544" class="CatchallClause InductiveConstructor">meta</a><a id="5573" class="CatchallClause"> </a><a id="5574" href="Meta.Reflection.Subst.html#5574" class="CatchallClause Bound">x</a><a id="5575" class="CatchallClause"> </a><a id="5576" href="Meta.Reflection.Subst.html#5576" class="CatchallClause Bound">args</a><a id="5580" class="CatchallClause Symbol">)</a>     <a id="5586" class="Symbol">=</a> <a id="5588" href="Agda.Builtin.Reflection.html#5544" class="InductiveConstructor">meta</a> <a id="5593" href="Meta.Reflection.Subst.html#5574" class="Bound">x</a> <a id="5595" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="5599" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="5609" href="Meta.Reflection.Subst.html#5560" class="Bound">fuel</a> <a id="5614" href="Meta.Reflection.Subst.html#5566" class="Bound">ρ</a> <a id="5616" href="Meta.Reflection.Subst.html#5576" class="Bound">args</a>
<a id="5621" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="5629" class="CatchallClause"> </a><a id="5630" class="CatchallClause Symbol">(</a><a id="5631" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="5634" class="CatchallClause"> </a><a id="5635" href="Meta.Reflection.Subst.html#5635" class="CatchallClause Bound">fuel</a><a id="5639" class="CatchallClause Symbol">)</a><a id="5640" class="CatchallClause"> </a><a id="5641" href="Meta.Reflection.Subst.html#5641" class="CatchallClause Bound">ρ</a><a id="5642" class="CatchallClause"> </a><a id="5643" class="CatchallClause Symbol">(</a><a id="5644" href="Agda.Builtin.Reflection.html#5361" class="CatchallClause InductiveConstructor">pat-lam</a><a id="5651" class="CatchallClause"> </a><a id="5652" href="Meta.Reflection.Subst.html#5652" class="CatchallClause Bound">cs</a><a id="5654" class="CatchallClause"> </a><a id="5655" href="Meta.Reflection.Subst.html#5655" class="CatchallClause Bound">args</a><a id="5659" class="CatchallClause Symbol">)</a> <a id="5661" class="Symbol">=</a> <a id="5663" class="Keyword">do</a>
  <a id="5668" href="Meta.Reflection.Subst.html#5668" class="Bound">a</a> <a id="5670" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5672" href="Meta.Effect.Traversable.html#315" class="Field">traverse</a> <a id="5681" class="Symbol">(</a><a id="5682" href="Meta.Reflection.Subst.html#2684" class="Function">subst-clause</a> <a id="5695" href="Meta.Reflection.Subst.html#5635" class="Bound">fuel</a> <a id="5700" href="Meta.Reflection.Subst.html#5641" class="Bound">ρ</a><a id="5701" class="Symbol">)</a> <a id="5703" href="Meta.Reflection.Subst.html#5652" class="Bound">cs</a>
  <a id="5708" href="Meta.Reflection.Subst.html#5708" class="Bound">b</a> <a id="5710" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5712" href="Meta.Reflection.Subst.html#2778" class="Function">subst-tm*</a> <a id="5722" href="Meta.Reflection.Subst.html#5635" class="Bound">fuel</a> <a id="5727" href="Meta.Reflection.Subst.html#5641" class="Bound">ρ</a> <a id="5729" href="Meta.Reflection.Subst.html#5655" class="Bound">args</a>
  <a id="5736" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="5741" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="5743" href="Agda.Builtin.Reflection.html#5361" class="InductiveConstructor">pat-lam</a> <a id="5751" href="Meta.Reflection.Subst.html#5668" class="Bound">a</a> <a id="5753" href="Meta.Reflection.Subst.html#5708" class="Bound">b</a>
<a id="5755" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="5763" class="CatchallClause"> </a><a id="5764" class="CatchallClause Symbol">(</a><a id="5765" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="5768" class="CatchallClause"> </a><a id="5769" href="Meta.Reflection.Subst.html#5769" class="CatchallClause Bound">fuel</a><a id="5773" class="CatchallClause Symbol">)</a><a id="5774" class="CatchallClause"> </a><a id="5775" href="Meta.Reflection.Subst.html#5775" class="CatchallClause Bound">ρ</a><a id="5776" class="CatchallClause"> </a><a id="5777" class="CatchallClause Symbol">(</a><a id="5778" href="Agda.Builtin.Reflection.html#5308" class="CatchallClause InductiveConstructor">lam</a><a id="5781" class="CatchallClause"> </a><a id="5782" href="Meta.Reflection.Subst.html#5782" class="CatchallClause Bound">v</a><a id="5783" class="CatchallClause"> </a><a id="5784" class="CatchallClause Symbol">(</a><a id="5785" href="Agda.Builtin.Reflection.html#4285" class="CatchallClause InductiveConstructor">abs</a><a id="5788" class="CatchallClause"> </a><a id="5789" href="Meta.Reflection.Subst.html#5789" class="CatchallClause Bound">n</a><a id="5790" class="CatchallClause"> </a><a id="5791" href="Meta.Reflection.Subst.html#5791" class="CatchallClause Bound">b</a><a id="5792" class="CatchallClause Symbol">))</a> <a id="5795" class="Symbol">=</a>
  <a id="5799" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="5803" href="Meta.Reflection.Subst.html#5782" class="Bound">v</a> <a id="5805" href="Foundations.Pi.Base.html#2648" class="Function Operator">∘</a> <a id="5807" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="5811" href="Meta.Reflection.Subst.html#5789" class="Bound">n</a> <a id="5813" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="5817" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="5826" href="Meta.Reflection.Subst.html#5769" class="Bound">fuel</a> <a id="5831" class="Symbol">(</a><a id="5832" href="Meta.Reflection.Subst.html#1304" class="Function">liftS</a> <a id="5838" class="Number">1</a> <a id="5840" href="Meta.Reflection.Subst.html#5775" class="Bound">ρ</a><a id="5841" class="Symbol">)</a> <a id="5843" href="Meta.Reflection.Subst.html#5791" class="Bound">b</a>
<a id="5845" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="5853" class="CatchallClause"> </a><a id="5854" class="CatchallClause Symbol">(</a><a id="5855" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="5858" class="CatchallClause"> </a><a id="5859" href="Meta.Reflection.Subst.html#5859" class="CatchallClause Bound">fuel</a><a id="5863" class="CatchallClause Symbol">)</a><a id="5864" class="CatchallClause"> </a><a id="5865" href="Meta.Reflection.Subst.html#5865" class="CatchallClause Bound">ρ</a><a id="5866" class="CatchallClause"> </a><a id="5867" class="CatchallClause Symbol">(</a><a id="5868" href="Agda.Builtin.Reflection.html#5426" class="CatchallClause InductiveConstructor">pi</a><a id="5870" class="CatchallClause"> </a><a id="5871" class="CatchallClause Symbol">(</a><a id="5872" href="Agda.Builtin.Reflection.html#3732" class="CatchallClause InductiveConstructor">arg</a><a id="5875" class="CatchallClause"> </a><a id="5876" href="Meta.Reflection.Subst.html#5876" class="CatchallClause Bound">ι</a><a id="5877" class="CatchallClause"> </a><a id="5878" href="Meta.Reflection.Subst.html#5878" class="CatchallClause Bound">a</a><a id="5879" class="CatchallClause Symbol">)</a><a id="5880" class="CatchallClause"> </a><a id="5881" class="CatchallClause Symbol">(</a><a id="5882" href="Agda.Builtin.Reflection.html#4285" class="CatchallClause InductiveConstructor">abs</a><a id="5885" class="CatchallClause"> </a><a id="5886" href="Meta.Reflection.Subst.html#5886" class="CatchallClause Bound">n</a><a id="5887" class="CatchallClause"> </a><a id="5888" href="Meta.Reflection.Subst.html#5888" class="CatchallClause Bound">b</a><a id="5889" class="CatchallClause Symbol">))</a> <a id="5892" class="Symbol">=</a> <a id="5894" class="Keyword">do</a>
  <a id="5899" href="Meta.Reflection.Subst.html#5899" class="Bound">a′</a> <a id="5902" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5904" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="5913" href="Meta.Reflection.Subst.html#5859" class="Bound">fuel</a> <a id="5918" href="Meta.Reflection.Subst.html#5865" class="Bound">ρ</a> <a id="5920" href="Meta.Reflection.Subst.html#5878" class="Bound">a</a>
  <a id="5924" href="Meta.Reflection.Subst.html#5924" class="Bound">b′</a> <a id="5927" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="5929" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="5938" href="Meta.Reflection.Subst.html#5859" class="Bound">fuel</a> <a id="5943" class="Symbol">(</a><a id="5944" href="Meta.Reflection.Subst.html#1304" class="Function">liftS</a> <a id="5950" class="Number">1</a> <a id="5952" href="Meta.Reflection.Subst.html#5865" class="Bound">ρ</a><a id="5953" class="Symbol">)</a> <a id="5955" href="Meta.Reflection.Subst.html#5888" class="Bound">b</a>
  <a id="5959" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="5964" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="5966" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="5969" class="Symbol">(</a><a id="5970" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="5974" href="Meta.Reflection.Subst.html#5876" class="Bound">ι</a> <a id="5976" href="Meta.Reflection.Subst.html#5899" class="Bound">a′</a><a id="5978" class="Symbol">)</a> <a id="5980" class="Symbol">(</a><a id="5981" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="5985" href="Meta.Reflection.Subst.html#5886" class="Bound">n</a> <a id="5987" href="Meta.Reflection.Subst.html#5924" class="Bound">b′</a><a id="5989" class="Symbol">)</a>
<a id="5991" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="5999" class="CatchallClause"> </a><a id="6000" class="CatchallClause Symbol">(</a><a id="6001" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="6004" class="CatchallClause"> </a><a id="6005" href="Meta.Reflection.Subst.html#6005" class="CatchallClause Bound">fuel</a><a id="6009" class="CatchallClause Symbol">)</a><a id="6010" class="CatchallClause"> </a><a id="6011" href="Meta.Reflection.Subst.html#6011" class="CatchallClause Bound">ρ</a><a id="6012" class="CatchallClause"> </a><a id="6013" class="CatchallClause Symbol">(</a><a id="6014" href="Agda.Builtin.Reflection.html#5509" class="CatchallClause InductiveConstructor">lit</a><a id="6017" class="CatchallClause"> </a><a id="6018" href="Meta.Reflection.Subst.html#6018" class="CatchallClause Bound">l</a><a id="6019" class="CatchallClause Symbol">)</a> <a id="6021" class="Symbol">=</a> <a id="6023" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6028" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="6030" href="Agda.Builtin.Reflection.html#5509" class="InductiveConstructor">lit</a> <a id="6034" href="Meta.Reflection.Subst.html#6018" class="Bound">l</a>
<a id="6036" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="6044" class="CatchallClause"> </a><a id="6045" class="CatchallClause Symbol">(</a><a id="6046" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="6049" class="CatchallClause"> </a><a id="6050" href="Meta.Reflection.Subst.html#6050" class="CatchallClause Bound">fuel</a><a id="6054" class="CatchallClause Symbol">)</a><a id="6055" class="CatchallClause"> </a><a id="6056" href="Meta.Reflection.Subst.html#6056" class="CatchallClause Bound">ρ</a><a id="6057" class="CatchallClause"> </a><a id="6058" href="Agda.Builtin.Reflection.html#5594" class="CatchallClause InductiveConstructor">unknown</a> <a id="6066" class="Symbol">=</a> <a id="6068" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6073" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>
<a id="6081" href="Meta.Reflection.Subst.html#2733" class="CatchallClause Function">subst-tm</a><a id="6089" class="CatchallClause"> </a><a id="6090" class="CatchallClause Symbol">(</a><a id="6091" href="Agda.Builtin.Nat.html#234" class="CatchallClause InductiveConstructor">suc</a><a id="6094" class="CatchallClause"> </a><a id="6095" href="Meta.Reflection.Subst.html#6095" class="CatchallClause Bound">fuel</a><a id="6099" class="CatchallClause Symbol">)</a><a id="6100" class="CatchallClause"> </a><a id="6101" href="Meta.Reflection.Subst.html#6101" class="CatchallClause Bound">ρ</a><a id="6102" class="CatchallClause"> </a><a id="6103" class="CatchallClause Symbol">(</a><a id="6104" href="Agda.Builtin.Reflection.html#5477" class="CatchallClause InductiveConstructor">agda-sort</a><a id="6113" class="CatchallClause"> </a><a id="6114" href="Meta.Reflection.Subst.html#6114" class="CatchallClause Bound">s</a><a id="6115" class="CatchallClause Symbol">)</a> <a id="6117" class="Keyword">with</a> <a id="6122" href="Meta.Reflection.Subst.html#6114" class="Bound">s</a>
<a id="6124" class="Symbol">…</a> <a id="6126" class="Symbol">|</a> <a id="6128" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="6132" href="Meta.Reflection.Subst.html#6132" class="Bound">t</a>      <a id="6139" class="Symbol">=</a> <a id="6141" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="6151" href="Foundations.Pi.Base.html#2648" class="Function Operator">∘</a> <a id="6153" href="Agda.Builtin.Reflection.html#5630" class="InductiveConstructor">set</a> <a id="6157" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="6161" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="6170" class="Bound">fuel</a> <a id="6175" class="Bound">ρ</a> <a id="6177" href="Meta.Reflection.Subst.html#6132" class="Bound">t</a>
<a id="6179" class="Symbol">…</a> <a id="6181" class="Symbol">|</a> <a id="6183" href="Agda.Builtin.Reflection.html#5660" class="InductiveConstructor">lit</a> <a id="6187" href="Meta.Reflection.Subst.html#6187" class="Bound">n</a>      <a id="6194" class="Symbol">=</a> <a id="6196" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6201" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="6203" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="6213" class="Symbol">(</a><a id="6214" href="Agda.Builtin.Reflection.html#5660" class="InductiveConstructor">lit</a> <a id="6218" href="Meta.Reflection.Subst.html#6187" class="Bound">n</a><a id="6219" class="Symbol">)</a>
<a id="6221" class="Symbol">…</a> <a id="6223" class="Symbol">|</a> <a id="6225" href="Agda.Builtin.Reflection.html#5689" class="InductiveConstructor">prop</a> <a id="6230" href="Meta.Reflection.Subst.html#6230" class="Bound">t</a>     <a id="6236" class="Symbol">=</a> <a id="6238" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="6248" href="Foundations.Pi.Base.html#2648" class="Function Operator">∘</a> <a id="6250" href="Agda.Builtin.Reflection.html#5689" class="InductiveConstructor">prop</a> <a id="6255" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="6259" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="6268" class="Bound">fuel</a> <a id="6273" class="Bound">ρ</a> <a id="6275" href="Meta.Reflection.Subst.html#6230" class="Bound">t</a>
<a id="6277" class="Symbol">…</a> <a id="6279" class="Symbol">|</a> <a id="6281" href="Agda.Builtin.Reflection.html#5719" class="InductiveConstructor">prop-lit</a> <a id="6290" href="Meta.Reflection.Subst.html#6290" class="Bound">n</a> <a id="6292" class="Symbol">=</a> <a id="6294" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6299" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="6301" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="6311" class="Symbol">(</a><a id="6312" href="Agda.Builtin.Reflection.html#5719" class="InductiveConstructor">prop-lit</a> <a id="6321" href="Meta.Reflection.Subst.html#6290" class="Bound">n</a><a id="6322" class="Symbol">)</a>
<a id="6324" class="Symbol">…</a> <a id="6326" class="Symbol">|</a> <a id="6328" href="Agda.Builtin.Reflection.html#5748" class="InductiveConstructor">inf</a> <a id="6332" href="Meta.Reflection.Subst.html#6332" class="Bound">n</a>      <a id="6339" class="Symbol">=</a> <a id="6341" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6346" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="6348" href="Agda.Builtin.Reflection.html#5477" class="InductiveConstructor">agda-sort</a> <a id="6358" class="Symbol">(</a><a id="6359" href="Agda.Builtin.Reflection.html#5748" class="InductiveConstructor">inf</a> <a id="6363" href="Meta.Reflection.Subst.html#6332" class="Bound">n</a><a id="6364" class="Symbol">)</a>
<a id="6366" class="Symbol">…</a> <a id="6368" class="Symbol">|</a> <a id="6370" href="Agda.Builtin.Reflection.html#5777" class="InductiveConstructor">unknown</a>    <a id="6381" class="Symbol">=</a> <a id="6383" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6388" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a>

<a id="6397" href="Meta.Reflection.Subst.html#2895" class="Function">subst-tel</a> <a id="6407" class="Number">0</a> <a id="6409" class="Symbol">_</a> <a id="6411" class="Symbol">_</a> <a id="6413" class="Symbol">=</a> <a id="6415" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="6423" href="Meta.Reflection.Subst.html#2895" class="Function">subst-tel</a> <a id="6433" class="Symbol">(</a><a id="6434" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6438" href="Meta.Reflection.Subst.html#6438" class="Bound">fuel</a><a id="6442" class="Symbol">)</a> <a id="6444" href="Meta.Reflection.Subst.html#6444" class="Bound">ρ</a> <a id="6446" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>                    <a id="6468" class="Symbol">=</a> <a id="6470" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6475" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="6478" href="Meta.Reflection.Subst.html#2895" class="Function">subst-tel</a> <a id="6488" class="Symbol">(</a><a id="6489" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6493" href="Meta.Reflection.Subst.html#6493" class="Bound">fuel</a><a id="6497" class="Symbol">)</a> <a id="6499" href="Meta.Reflection.Subst.html#6499" class="Bound">ρ</a> <a id="6501" class="Symbol">((</a><a id="6503" href="Meta.Reflection.Subst.html#6503" class="Bound">x</a> <a id="6505" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6507" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6511" href="Meta.Reflection.Subst.html#6511" class="Bound">ai</a> <a id="6514" href="Meta.Reflection.Subst.html#6514" class="Bound">t</a><a id="6515" class="Symbol">)</a> <a id="6517" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6519" href="Meta.Reflection.Subst.html#6519" class="Bound">xs</a><a id="6521" class="Symbol">)</a> <a id="6523" class="Symbol">=</a> <a id="6525" class="Keyword">do</a>
  <a id="6530" href="Meta.Reflection.Subst.html#6530" class="Bound">x′</a>  <a id="6534" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6536" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="6545" href="Meta.Reflection.Subst.html#6493" class="Bound">fuel</a> <a id="6550" href="Meta.Reflection.Subst.html#6499" class="Bound">ρ</a> <a id="6552" href="Meta.Reflection.Subst.html#6514" class="Bound">t</a>
  <a id="6556" href="Meta.Reflection.Subst.html#6556" class="Bound">xs′</a> <a id="6560" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6562" href="Meta.Reflection.Subst.html#2895" class="Function">subst-tel</a> <a id="6572" href="Meta.Reflection.Subst.html#6493" class="Bound">fuel</a> <a id="6577" class="Symbol">(</a><a id="6578" href="Meta.Reflection.Subst.html#1304" class="Function">liftS</a> <a id="6584" class="Number">1</a> <a id="6586" href="Meta.Reflection.Subst.html#6499" class="Bound">ρ</a><a id="6587" class="Symbol">)</a> <a id="6589" href="Meta.Reflection.Subst.html#6519" class="Bound">xs</a>
  <a id="6594" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6599" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="6601" class="Symbol">(</a><a id="6602" href="Meta.Reflection.Subst.html#6503" class="Bound">x</a> <a id="6604" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6606" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="6610" href="Meta.Reflection.Subst.html#6511" class="Bound">ai</a> <a id="6613" href="Meta.Reflection.Subst.html#6530" class="Bound">x′</a><a id="6615" class="Symbol">)</a> <a id="6617" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6619" href="Meta.Reflection.Subst.html#6556" class="Bound">xs′</a>

<a id="6624" href="Meta.Reflection.Subst.html#2684" class="Function">subst-clause</a> <a id="6637" class="Number">0</a> <a id="6639" class="Symbol">_</a> <a id="6641" class="Symbol">_</a> <a id="6643" class="Symbol">=</a> <a id="6645" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
<a id="6653" href="Meta.Reflection.Subst.html#2684" class="Function">subst-clause</a> <a id="6666" class="Symbol">(</a><a id="6667" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6671" href="Meta.Reflection.Subst.html#6671" class="Bound">fuel</a><a id="6675" class="Symbol">)</a> <a id="6677" href="Meta.Reflection.Subst.html#6677" class="Bound">σ</a> <a id="6679" class="Symbol">(</a><a id="6680" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="6687" href="Meta.Reflection.Subst.html#6687" class="Bound">tel</a> <a id="6691" href="Meta.Reflection.Subst.html#6691" class="Bound">ps</a> <a id="6694" href="Meta.Reflection.Subst.html#6694" class="Bound">t</a><a id="6695" class="Symbol">)</a>      <a id="6702" class="Symbol">=</a> <a id="6704" class="Keyword">do</a>
  <a id="6709" href="Meta.Reflection.Subst.html#6709" class="Bound">a</a> <a id="6711" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6713" href="Meta.Reflection.Subst.html#2895" class="Function">subst-tel</a> <a id="6723" href="Meta.Reflection.Subst.html#6671" class="Bound">fuel</a> <a id="6728" href="Meta.Reflection.Subst.html#6677" class="Bound">σ</a> <a id="6730" href="Meta.Reflection.Subst.html#6687" class="Bound">tel</a>
  <a id="6736" href="Meta.Reflection.Subst.html#6736" class="Bound">b</a> <a id="6738" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6740" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="6749" href="Meta.Reflection.Subst.html#6671" class="Bound">fuel</a> <a id="6754" class="Symbol">(</a><a id="6755" href="Meta.Reflection.Subst.html#1304" class="Function">liftS</a> <a id="6761" class="Symbol">(</a><a id="6762" href="Data.List.Operations.html#962" class="Function">length</a> <a id="6769" href="Meta.Reflection.Subst.html#6687" class="Bound">tel</a><a id="6772" class="Symbol">)</a> <a id="6774" href="Meta.Reflection.Subst.html#6677" class="Bound">σ</a><a id="6775" class="Symbol">)</a> <a id="6777" href="Meta.Reflection.Subst.html#6694" class="Bound">t</a> <a id="6779" class="Comment">-- TODO need tests for this</a>
  <a id="6809" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6814" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="6816" href="Agda.Builtin.Reflection.html#6106" class="InductiveConstructor">clause</a> <a id="6823" href="Meta.Reflection.Subst.html#6709" class="Bound">a</a> <a id="6825" href="Meta.Reflection.Subst.html#6691" class="Bound">ps</a> <a id="6828" href="Meta.Reflection.Subst.html#6736" class="Bound">b</a>
<a id="6830" href="Meta.Reflection.Subst.html#2684" class="Function">subst-clause</a> <a id="6843" class="Symbol">(</a><a id="6844" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="6848" href="Meta.Reflection.Subst.html#6848" class="Bound">fuel</a><a id="6852" class="Symbol">)</a> <a id="6854" href="Meta.Reflection.Subst.html#6854" class="Bound">σ</a> <a id="6856" class="Symbol">(</a><a id="6857" href="Agda.Builtin.Reflection.html#6188" class="InductiveConstructor">absurd-clause</a> <a id="6871" href="Meta.Reflection.Subst.html#6871" class="Bound">tel</a> <a id="6875" href="Meta.Reflection.Subst.html#6875" class="Bound">ps</a><a id="6877" class="Symbol">)</a> <a id="6879" class="Symbol">=</a> <a id="6881" class="Keyword">do</a>
  <a id="6886" href="Meta.Reflection.Subst.html#6886" class="Bound">x</a> <a id="6888" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="6890" href="Meta.Reflection.Subst.html#2895" class="Function">subst-tel</a> <a id="6900" href="Meta.Reflection.Subst.html#6848" class="Bound">fuel</a> <a id="6905" href="Meta.Reflection.Subst.html#6854" class="Bound">σ</a> <a id="6907" href="Meta.Reflection.Subst.html#6871" class="Bound">tel</a>
  <a id="6913" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="6918" href="Foundations.Notation.Underlying.html#1490" class="Function Operator">$</a> <a id="6920" href="Agda.Builtin.Reflection.html#6188" class="InductiveConstructor">absurd-clause</a> <a id="6934" href="Meta.Reflection.Subst.html#6886" class="Bound">x</a> <a id="6936" href="Meta.Reflection.Subst.html#6875" class="Bound">ps</a>

<a id="_&lt;#&gt;_"></a><a id="6940" href="Meta.Reflection.Subst.html#6940" class="Function Operator">_&lt;#&gt;_</a> <a id="6946" class="Symbol">:</a> <a id="6948" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6954" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6959" class="Symbol">→</a> <a id="6961" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="6965" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="6970" class="Symbol">→</a> <a id="6972" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="6978" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="6983" href="Meta.Reflection.Subst.html#6983" class="Bound">f</a> <a id="6985" href="Meta.Reflection.Subst.html#6940" class="Function Operator">&lt;#&gt;</a> <a id="6989" href="Meta.Reflection.Subst.html#6989" class="Bound">x</a> <a id="6991" class="Symbol">=</a> <a id="6993" class="Keyword">do</a>
  <a id="6998" href="Meta.Reflection.Subst.html#6998" class="Bound">f</a> <a id="7000" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="7002" href="Meta.Reflection.Subst.html#6983" class="Bound">f</a>
  <a id="7006" href="Meta.Reflection.Base.html#3396" class="Function">with-full-tank</a> <a id="7021" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="7030" href="Meta.Reflection.Subst.html#6998" class="Bound">f</a> <a id="7032" href="Meta.Reflection.Subst.html#6989" class="Bound">x</a>

<a id="7035" class="Keyword">infixl</a> <a id="7042" class="Number">7</a> <a id="7044" href="Meta.Reflection.Subst.html#6940" class="Function Operator">_&lt;#&gt;_</a>

<a id="pi-apply"></a><a id="7051" href="Meta.Reflection.Subst.html#7051" class="Function">pi-apply</a> <a id="7060" class="Symbol">:</a> <a id="7062" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7067" class="Symbol">→</a> <a id="7069" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7074" class="Symbol">(</a><a id="7075" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="7079" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="7083" class="Symbol">)</a> <a id="7085" class="Symbol">→</a> <a id="7087" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7093" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="7098" href="Meta.Reflection.Subst.html#7051" class="Function">pi-apply</a> <a id="7107" href="Meta.Reflection.Subst.html#7107" class="Bound">ty</a> <a id="7110" href="Meta.Reflection.Subst.html#7110" class="Bound">as</a> <a id="7113" class="Symbol">=</a> <a id="7115" href="Meta.Reflection.Subst.html#7136" class="Function">go</a> <a id="7118" href="Meta.Reflection.Subst.html#7107" class="Bound">ty</a> <a id="7121" href="Meta.Reflection.Subst.html#7110" class="Bound">as</a> <a id="7124" href="Meta.Reflection.Subst.html#1035" class="InductiveConstructor">idₛ</a> <a id="7128" class="Keyword">where</a>
  <a id="7136" href="Meta.Reflection.Subst.html#7136" class="Function">go</a> <a id="7139" class="Symbol">:</a> <a id="7141" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7146" class="Symbol">→</a> <a id="7148" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7153" class="Symbol">(</a><a id="7154" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="7158" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="7162" class="Symbol">)</a> <a id="7164" class="Symbol">→</a> <a id="7166" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="7172" class="Symbol">→</a> <a id="7174" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7180" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="7187" href="Meta.Reflection.Subst.html#7136" class="Function">go</a> <a id="7190" class="Symbol">(</a><a id="7191" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="7194" class="Symbol">(</a><a id="7195" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="7199" class="Symbol">_</a> <a id="7201" href="Meta.Reflection.Subst.html#7201" class="Bound">x</a><a id="7202" class="Symbol">)</a> <a id="7204" class="Symbol">(</a><a id="7205" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="7209" href="Meta.Reflection.Subst.html#7209" class="Bound">n</a> <a id="7211" href="Meta.Reflection.Subst.html#7211" class="Bound">y</a><a id="7212" class="Symbol">))</a> <a id="7215" class="Symbol">(</a><a id="7216" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="7220" class="Symbol">_</a> <a id="7222" href="Meta.Reflection.Subst.html#7222" class="Bound">a</a> <a id="7224" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7226" href="Meta.Reflection.Subst.html#7226" class="Bound">as</a><a id="7228" class="Symbol">)</a> <a id="7230" href="Meta.Reflection.Subst.html#7230" class="Bound">s</a> <a id="7232" class="Symbol">=</a> <a id="7234" href="Meta.Reflection.Subst.html#7136" class="Function">go</a> <a id="7237" href="Meta.Reflection.Subst.html#7211" class="Bound">y</a> <a id="7239" href="Meta.Reflection.Subst.html#7226" class="Bound">as</a> <a id="7242" class="Symbol">(</a><a id="7243" href="Meta.Reflection.Subst.html#7222" class="Bound">a</a> <a id="7245" href="Meta.Reflection.Subst.html#1056" class="InductiveConstructor Operator">∷ₛ</a> <a id="7248" href="Meta.Reflection.Subst.html#7230" class="Bound">s</a><a id="7249" class="Symbol">)</a>
  <a id="7253" href="Meta.Reflection.Subst.html#7136" class="CatchallClause Function">go</a><a id="7255" class="CatchallClause"> </a><a id="7256" class="CatchallClause Symbol">_</a><a id="7257" class="CatchallClause"> </a><a id="7258" class="CatchallClause Symbol">(_</a><a id="7260" class="CatchallClause"> </a><a id="7261" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="7262" class="CatchallClause"> </a><a id="7263" href="Meta.Reflection.Subst.html#7263" class="CatchallClause Bound">as</a><a id="7265" class="CatchallClause Symbol">)</a><a id="7266" class="CatchallClause"> </a><a id="7267" href="Meta.Reflection.Subst.html#7267" class="CatchallClause Bound">s</a> <a id="7269" class="Symbol">=</a> <a id="7271" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a>
  <a id="7281" href="Meta.Reflection.Subst.html#7136" class="CatchallClause Function">go</a><a id="7283" class="CatchallClause"> </a><a id="7284" href="Meta.Reflection.Subst.html#7284" class="CatchallClause Bound">t</a><a id="7285" class="CatchallClause"> </a><a id="7286" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a><a id="7288" class="CatchallClause"> </a><a id="7289" href="Meta.Reflection.Subst.html#7289" class="CatchallClause Bound">s</a> <a id="7291" class="Symbol">=</a> <a id="7293" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="7300" href="Meta.Reflection.Subst.html#7289" class="Bound">s</a> <a id="7302" href="Meta.Reflection.Subst.html#7284" class="Bound">t</a>

<a id="maybe→tc"></a><a id="7305" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="7314" class="Symbol">:</a> <a id="7316" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="7322" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="7324" class="Symbol">→</a>  <a id="7327" class="Symbol">(</a><a id="7328" href="Meta.Reflection.Subst.html#7328" class="Bound">err</a> <a id="7332" class="Symbol">:</a> <a id="7334" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7339" href="Agda.Builtin.Reflection.html#8214" class="Datatype">ErrorPart</a><a id="7348" class="Symbol">)</a> <a id="7350" class="Symbol">→</a> <a id="7352" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="7355" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a>
<a id="7357" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="7366" href="Meta.Reflection.Subst.html#7366" class="Bound">act</a> <a id="7370" href="Meta.Reflection.Subst.html#7370" class="Bound">err</a> <a id="7374" class="Keyword">with</a> <a id="7379" href="Meta.Reflection.Subst.html#7366" class="Bound">act</a>
<a id="7383" class="Symbol">...</a> <a id="7387" class="Symbol">|</a> <a id="7389" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="7394" href="Meta.Reflection.Subst.html#7394" class="Bound">x</a> <a id="7396" class="Symbol">=</a> <a id="7398" href="Meta.Effect.Idiom.html#408" class="Field">pure</a> <a id="7403" href="Meta.Reflection.Subst.html#7394" class="Bound">x</a>
<a id="7405" class="Symbol">...</a> <a id="7409" class="Symbol">|</a> <a id="7411" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="7419" class="Symbol">=</a> <a id="7421" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="7432" class="Bound">err</a>

<a id="pi-applyTC"></a><a id="7437" href="Meta.Reflection.Subst.html#7437" class="Function">pi-applyTC</a> <a id="7448" class="Symbol">:</a> <a id="7450" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7455" class="Symbol">→</a> <a id="7457" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7462" class="Symbol">(</a><a id="7463" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="7467" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="7471" class="Symbol">)</a> <a id="7473" class="Symbol">→</a> <a id="7475" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="7478" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="7483" href="Meta.Reflection.Subst.html#7437" class="Function">pi-applyTC</a> <a id="7494" href="Meta.Reflection.Subst.html#7494" class="Bound">t</a> <a id="7496" href="Meta.Reflection.Subst.html#7496" class="Bound">as</a> <a id="7499" class="Symbol">=</a> <a id="7501" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="7510" class="Symbol">(</a><a id="7511" href="Meta.Reflection.Subst.html#7051" class="Function">pi-apply</a> <a id="7520" href="Meta.Reflection.Subst.html#7494" class="Bound">t</a> <a id="7522" href="Meta.Reflection.Subst.html#7496" class="Bound">as</a><a id="7524" class="Symbol">)</a>
                           <a id="7553" class="Symbol">(</a><a id="7554" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="7556" class="String">&quot;Failed to apply type &quot;</a> <a id="7580" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="7582" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="7591" href="Meta.Reflection.Subst.html#7494" class="Bound">t</a> <a id="7593" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a><a id="7594" class="Symbol">)</a>

<a id="raiseTC"></a><a id="7597" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="7605" class="Symbol">:</a> <a id="7607" class="Symbol">⦃</a> <a id="7609" href="Meta.Reflection.Subst.html#7609" class="Bound">_</a> <a id="7611" class="Symbol">:</a> <a id="7613" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="7623" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="7625" class="Symbol">⦄</a> <a id="7627" class="Symbol">→</a> <a id="7629" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="7631" class="Symbol">→</a> <a id="7633" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="7635" class="Symbol">→</a> <a id="7637" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="7640" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a>
<a id="7642" href="Meta.Reflection.Subst.html#7597" class="Function">raiseTC</a> <a id="7650" href="Meta.Reflection.Subst.html#7650" class="Bound">n</a> <a id="7652" href="Meta.Reflection.Subst.html#7652" class="Bound">a</a> <a id="7654" class="Symbol">=</a> <a id="7656" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="7665" class="Symbol">(</a><a id="7666" href="Meta.Reflection.Subst.html#2282" class="Function">raise</a> <a id="7672" href="Meta.Reflection.Subst.html#7650" class="Bound">n</a> <a id="7674" href="Meta.Reflection.Subst.html#7652" class="Bound">a</a><a id="7675" class="Symbol">)</a> <a id="7677" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="7679" class="String">&quot;Failed to raise term &quot;</a> <a id="7703" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="substTC"></a><a id="7706" href="Meta.Reflection.Subst.html#7706" class="Function">substTC</a> <a id="7714" class="Symbol">:</a> <a id="7716" class="Symbol">⦃</a> <a id="7718" href="Meta.Reflection.Subst.html#7718" class="Bound">_</a> <a id="7720" class="Symbol">:</a> <a id="7722" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="7732" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="7734" class="Symbol">⦄</a> <a id="7736" class="Symbol">→</a> <a id="7738" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="7744" class="Symbol">→</a> <a id="7746" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="7748" class="Symbol">→</a> <a id="7750" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="7753" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a>
<a id="7755" href="Meta.Reflection.Subst.html#7706" class="Function">substTC</a> <a id="7763" href="Meta.Reflection.Subst.html#7763" class="Bound">θ</a> <a id="7765" href="Meta.Reflection.Subst.html#7765" class="Bound">a</a> <a id="7767" class="Symbol">=</a> <a id="7769" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="7778" class="Symbol">(</a><a id="7779" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="7786" href="Meta.Reflection.Subst.html#7763" class="Bound">θ</a> <a id="7788" href="Meta.Reflection.Subst.html#7765" class="Bound">a</a><a id="7789" class="Symbol">)</a> <a id="7791" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="7793" class="String">&quot;Failed to substitute in term &quot;</a> <a id="7825" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="applyS*TC"></a><a id="7828" href="Meta.Reflection.Subst.html#7828" class="Function">applyS*TC</a> <a id="7838" class="Symbol">:</a> <a id="7840" class="Symbol">⦃</a> <a id="7842" href="Meta.Reflection.Subst.html#7842" class="Bound">_</a> <a id="7844" class="Symbol">:</a> <a id="7846" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="7856" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="7858" class="Symbol">⦄</a> <a id="7860" class="Symbol">→</a> <a id="7862" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a> <a id="7868" class="Symbol">→</a> <a id="7870" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7875" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="7877" class="Symbol">→</a> <a id="7879" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="7882" class="Symbol">(</a><a id="7883" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="7888" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a><a id="7889" class="Symbol">)</a>
<a id="7891" href="Meta.Reflection.Subst.html#7828" class="Function">applyS*TC</a> <a id="7901" href="Meta.Reflection.Subst.html#7901" class="Bound">ρ</a> <a id="7903" href="Meta.Reflection.Subst.html#7903" class="Bound">xs</a> <a id="7906" class="Symbol">=</a> <a id="7908" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="7917" class="Symbol">(</a><a id="7918" href="Meta.Reflection.Subst.html#2447" class="Function">applyS*</a> <a id="7926" href="Meta.Reflection.Subst.html#7901" class="Bound">ρ</a> <a id="7928" href="Meta.Reflection.Subst.html#7903" class="Bound">xs</a><a id="7930" class="Symbol">)</a> <a id="7932" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="7934" class="String">&quot;Failed to apply in terms &quot;</a> <a id="7962" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="applyTC"></a><a id="7965" href="Meta.Reflection.Subst.html#7965" class="Function">applyTC</a> <a id="7973" class="Symbol">:</a> <a id="7975" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7980" class="Symbol">→</a> <a id="7982" href="Agda.Builtin.Reflection.html#3696" class="Datatype">Arg</a> <a id="7986" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="7991" class="Symbol">→</a> <a id="7993" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="7996" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="8001" href="Meta.Reflection.Subst.html#7965" class="Function">applyTC</a> <a id="8009" href="Meta.Reflection.Subst.html#8009" class="Bound">f</a> <a id="8011" href="Meta.Reflection.Subst.html#8011" class="Bound">x</a> <a id="8013" class="Symbol">=</a> <a id="8015" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="8024" class="Symbol">(</a><a id="8025" href="Meta.Reflection.Base.html#3396" class="Function">with-full-tank</a> <a id="8040" href="Meta.Reflection.Subst.html#2847" class="Function">apply-tm</a> <a id="8049" href="Meta.Reflection.Subst.html#8009" class="Bound">f</a> <a id="8051" href="Meta.Reflection.Subst.html#8011" class="Bound">x</a><a id="8052" class="Symbol">)</a> <a id="8054" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="8056" class="String">&quot;Failed to apply function &quot;</a> <a id="8084" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8086" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="8095" href="Meta.Reflection.Subst.html#8009" class="Bound">f</a> <a id="8097" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="apply*TC"></a><a id="8100" href="Meta.Reflection.Subst.html#8100" class="Function">apply*TC</a> <a id="8109" class="Symbol">:</a> <a id="8111" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8116" class="Symbol">→</a> <a id="8118" href="Data.Reflection.Term.html#882" class="Function">Args</a> <a id="8123" class="Symbol">→</a> <a id="8125" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="8128" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="8133" href="Meta.Reflection.Subst.html#8100" class="Function">apply*TC</a> <a id="8142" href="Meta.Reflection.Subst.html#8142" class="Bound">f</a> <a id="8144" href="Meta.Reflection.Subst.html#8144" class="Bound">x</a> <a id="8146" class="Symbol">=</a> <a id="8148" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="8157" class="Symbol">(</a><a id="8158" href="Meta.Reflection.Base.html#3396" class="Function">with-full-tank</a> <a id="8173" href="Meta.Reflection.Subst.html#3610" class="Function">apply-tm*</a> <a id="8183" href="Meta.Reflection.Subst.html#8142" class="Bound">f</a> <a id="8185" href="Meta.Reflection.Subst.html#8144" class="Bound">x</a><a id="8186" class="Symbol">)</a> <a id="8188" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="8190" class="String">&quot;Failed to apply function &quot;</a> <a id="8218" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8220" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="8229" href="Meta.Reflection.Subst.html#8142" class="Bound">f</a> <a id="8231" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>


<a id="8235" class="Comment">-- very unsafe way to do this</a>
<a id="8265" class="Comment">-- you should enforce that all the elements are unique</a>
<a id="Ren"></a><a id="8320" href="Meta.Reflection.Subst.html#8320" class="Function">Ren</a> <a id="8324" class="Symbol">:</a> <a id="8326" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a>
<a id="8331" href="Meta.Reflection.Subst.html#8320" class="Function">Ren</a> <a id="8335" class="Symbol">=</a> <a id="8337" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8342" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="8345" class="Comment">-- TODO refactor</a>
<a id="inverseR"></a><a id="8362" href="Meta.Reflection.Subst.html#8362" class="Function">inverseR</a> <a id="8371" class="Symbol">:</a> <a id="8373" href="Meta.Reflection.Subst.html#8320" class="Function">Ren</a> <a id="8377" class="Symbol">→</a> <a id="8379" href="Meta.Reflection.Subst.html#8320" class="Function">Ren</a>
<a id="8383" href="Meta.Reflection.Subst.html#8362" class="Function">inverseR</a> <a id="8392" class="Symbol">=</a> <a id="8394" href="Meta.Reflection.Subst.html#8505" class="Function">go</a> <a id="8397" class="Number">0</a> <a id="8399" href="Foundations.Pi.Base.html#2648" class="Function Operator">∘</a> <a id="8401" href="Data.List.Operations.html#2138" class="Function">insertion-sort</a> <a id="8416" class="Symbol">(λ</a> <a id="8419" href="Meta.Reflection.Subst.html#8419" class="Bound">x</a> <a id="8421" href="Meta.Reflection.Subst.html#8421" class="Bound">y</a> <a id="8423" class="Symbol">→</a> <a id="8425" href="Meta.Reflection.Subst.html#8419" class="Bound">x</a> <a id="8427" class="Symbol">.</a><a id="8428" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="8432" href="Data.Nat.Base.html#360" class="Primitive Operator">&lt;ᵇ</a> <a id="8435" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8439" class="Symbol">(</a><a id="8440" href="Meta.Reflection.Subst.html#8421" class="Bound">y</a> <a id="8442" class="Symbol">.</a><a id="8443" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a><a id="8446" class="Symbol">))</a> <a id="8449" href="Foundations.Pi.Base.html#2648" class="Function Operator">∘</a> <a id="8451" class="Symbol">(λ</a> <a id="8454" href="Meta.Reflection.Subst.html#8454" class="Bound">vs</a> <a id="8457" class="Symbol">→</a> <a id="8459" href="Data.List.Operations.html#3366" class="Function">zip</a> <a id="8463" href="Meta.Reflection.Subst.html#8454" class="Bound">vs</a> <a id="8466" class="Symbol">(</a><a id="8467" href="Data.List.Operations.html#2712" class="Function">count-from-to</a> <a id="8481" class="Number">0</a> <a id="8483" class="Symbol">(</a><a id="8484" href="Data.List.Operations.html#962" class="Function">length</a> <a id="8491" href="Meta.Reflection.Subst.html#8454" class="Bound">vs</a><a id="8493" class="Symbol">)))</a> <a id="8497" class="Keyword">where</a>
  <a id="8505" href="Meta.Reflection.Subst.html#8505" class="Function">go</a> <a id="8508" class="Symbol">:</a> <a id="8510" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8512" class="Symbol">→</a> <a id="8514" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8519" class="Symbol">(</a><a id="8520" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8522" href="Foundations.Notation.Logic.html#2757" class="Field Operator">×</a> <a id="8524" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8525" class="Symbol">)</a> <a id="8527" class="Symbol">→</a> <a id="8529" href="Meta.Reflection.Subst.html#8320" class="Function">Ren</a>
  <a id="8535" href="Meta.Reflection.Subst.html#8505" class="Function">go</a> <a id="8538" href="Meta.Reflection.Subst.html#8538" class="Bound">n</a> <a id="8540" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8543" class="Symbol">=</a> <a id="8545" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="8550" href="Meta.Reflection.Subst.html#8505" class="Function">go</a> <a id="8553" href="Meta.Reflection.Subst.html#8553" class="Bound">n</a> <a id="8555" class="Symbol">((</a><a id="8557" href="Meta.Reflection.Subst.html#8557" class="Bound">k</a> <a id="8559" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="8561" href="Meta.Reflection.Subst.html#8561" class="Bound">v</a><a id="8562" class="Symbol">)</a> <a id="8564" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8566" href="Meta.Reflection.Subst.html#8566" class="Bound">ss</a><a id="8568" class="Symbol">)</a> <a id="8570" class="Symbol">=</a> <a id="8572" href="Data.List.Operations.html#2712" class="Function">count-from-to</a> <a id="8586" href="Meta.Reflection.Subst.html#8553" class="Bound">n</a> <a id="8588" href="Meta.Reflection.Subst.html#8557" class="Bound">k</a> <a id="8590" href="Data.List.Base.html#725" class="Function Operator">++</a> <a id="8593" class="Symbol">(</a><a id="8594" href="Meta.Reflection.Subst.html#8561" class="Bound">v</a> <a id="8596" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="8598" href="Meta.Reflection.Subst.html#8505" class="Function">go</a> <a id="8601" class="Symbol">(</a><a id="8602" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8606" href="Meta.Reflection.Subst.html#8557" class="Bound">k</a><a id="8607" class="Symbol">)</a> <a id="8609" href="Meta.Reflection.Subst.html#8566" class="Bound">ss</a><a id="8611" class="Symbol">)</a>

<a id="ren→sub"></a><a id="8614" href="Meta.Reflection.Subst.html#8614" class="Function">ren→sub</a> <a id="8622" class="Symbol">:</a> <a id="8624" href="Meta.Reflection.Subst.html#8320" class="Function">Ren</a> <a id="8628" class="Symbol">→</a> <a id="8630" href="Meta.Reflection.Subst.html#1014" class="Datatype">Subst</a>
<a id="8636" href="Meta.Reflection.Subst.html#8614" class="Function">ren→sub</a> <a id="8644" href="Meta.Reflection.Subst.html#8644" class="Bound">vs</a> <a id="8647" class="Symbol">=</a> <a id="8649" class="Symbol">((λ</a> <a id="8653" href="Meta.Reflection.Subst.html#8653" class="Bound">v</a> <a id="8655" class="Symbol">→</a> <a id="8657" href="Agda.Builtin.Reflection.html#5138" class="InductiveConstructor">var</a> <a id="8661" href="Meta.Reflection.Subst.html#8653" class="Bound">v</a> <a id="8663" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="8665" class="Symbol">)</a> <a id="8667" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="8671" href="Meta.Reflection.Subst.html#8644" class="Bound">vs</a><a id="8673" class="Symbol">)</a> <a id="8675" href="Meta.Reflection.Subst.html#1445" class="Function Operator">++#</a> <a id="8679" href="Meta.Reflection.Subst.html#1035" class="InductiveConstructor">idₛ</a>

<a id="rename-tm"></a><a id="8684" href="Meta.Reflection.Subst.html#8684" class="Function">rename-tm</a> <a id="8694" class="Symbol">:</a> <a id="8696" class="Symbol">(</a><a id="8697" href="Meta.Reflection.Subst.html#8697" class="Bound">fuel</a> <a id="8702" class="Symbol">:</a> <a id="8704" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="8705" class="Symbol">)</a> <a id="8707" class="Symbol">→</a> <a id="8709" href="Meta.Reflection.Subst.html#8320" class="Function">Ren</a> <a id="8713" class="Symbol">→</a> <a id="8715" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8720" class="Symbol">→</a> <a id="8722" href="Agda.Builtin.Maybe.html#135" class="Datatype">Maybe</a> <a id="8728" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="8733" href="Meta.Reflection.Subst.html#8684" class="Function">rename-tm</a> <a id="8743" href="Meta.Reflection.Subst.html#8743" class="Bound">fuel</a> <a id="8748" class="Symbol">=</a> <a id="8750" href="Meta.Reflection.Subst.html#2733" class="Function">subst-tm</a> <a id="8759" href="Meta.Reflection.Subst.html#8743" class="Bound">fuel</a> <a id="8764" href="Foundations.Pi.Base.html#2648" class="Function Operator">∘</a> <a id="8766" href="Meta.Reflection.Subst.html#8614" class="Function">ren→sub</a>

<a id="renameTC"></a><a id="8775" href="Meta.Reflection.Subst.html#8775" class="Function">renameTC</a> <a id="8784" class="Symbol">:</a> <a id="8786" class="Symbol">⦃</a> <a id="8788" href="Meta.Reflection.Subst.html#8788" class="Bound">_</a> <a id="8790" class="Symbol">:</a> <a id="8792" href="Meta.Reflection.Subst.html#2149" class="Record">Has-subst</a> <a id="8802" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="8804" class="Symbol">⦄</a> <a id="8806" class="Symbol">→</a> <a id="8808" href="Meta.Reflection.Subst.html#8320" class="Function">Ren</a> <a id="8812" class="Symbol">→</a> <a id="8814" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a> <a id="8816" class="Symbol">→</a> <a id="8818" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="8821" href="Meta.Reflection.Subst.html#2083" class="Generalizable">A</a>
<a id="8823" href="Meta.Reflection.Subst.html#8775" class="Function">renameTC</a> <a id="8832" href="Meta.Reflection.Subst.html#8832" class="Bound">vs</a> <a id="8835" href="Meta.Reflection.Subst.html#8835" class="Bound">tm</a> <a id="8838" class="Symbol">=</a> <a id="8840" href="Meta.Reflection.Subst.html#7305" class="Function">maybe→tc</a> <a id="8849" class="Symbol">(</a><a id="8850" href="Meta.Reflection.Subst.html#2206" class="Field">applyS</a> <a id="8857" class="Symbol">(</a><a id="8858" href="Meta.Reflection.Subst.html#8614" class="Function">ren→sub</a> <a id="8866" href="Meta.Reflection.Subst.html#8832" class="Bound">vs</a><a id="8868" class="Symbol">)</a> <a id="8870" href="Meta.Reflection.Subst.html#8835" class="Bound">tm</a><a id="8872" class="Symbol">)</a> <a id="8874" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="8876" class="String">&quot;Failed to rename term &quot;</a> <a id="8901" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="generalize"></a><a id="8904" href="Meta.Reflection.Subst.html#8904" class="Function">generalize</a> <a id="8915" class="Symbol">:</a> <a id="8917" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="8922" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8924" class="Symbol">→</a> <a id="8926" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="8931" class="Symbol">→</a> <a id="8933" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="8936" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="8941" href="Meta.Reflection.Subst.html#8904" class="Function">generalize</a> <a id="8952" href="Meta.Reflection.Subst.html#8952" class="Bound">fvs</a> <a id="8956" href="Meta.Reflection.Subst.html#8956" class="Bound">t</a>
  <a id="8960" class="Symbol">=</a>   <a id="8964" href="Data.Nat.Base.html#628" class="Function">iter</a> <a id="8969" class="Symbol">(</a><a id="8970" href="Data.List.Operations.html#962" class="Function">length</a> <a id="8977" href="Meta.Reflection.Subst.html#8952" class="Bound">fvs</a><a id="8980" class="Symbol">)</a> <a id="8982" class="Symbol">(</a><a id="8983" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="8986" class="Symbol">(</a><a id="8987" href="Data.Reflection.Argument.html#1257" class="InductiveConstructor">varg</a> <a id="8992" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a><a id="8999" class="Symbol">)</a> <a id="9001" href="Foundations.Pi.Base.html#2648" class="Function Operator">∘</a> <a id="9003" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="9007" class="String">&quot;x&quot;</a><a id="9010" class="Symbol">)</a>
  <a id="9014" href="Meta.Effect.Map.Base.html#411" class="Function Operator">&lt;$&gt;</a> <a id="9018" href="Meta.Reflection.Subst.html#8775" class="Function">renameTC</a> <a id="9027" class="Symbol">(</a><a id="9028" href="Meta.Reflection.Subst.html#8362" class="Function">inverseR</a> <a id="9037" href="Meta.Reflection.Subst.html#8952" class="Bound">fvs</a><a id="9040" class="Symbol">)</a> <a id="9042" href="Meta.Reflection.Subst.html#8956" class="Bound">t</a>
</pre></body></html>