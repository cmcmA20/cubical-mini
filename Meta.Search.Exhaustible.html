<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Search.Exhaustible</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.Search.Exhaustible.html" class="Module">Meta.Search.Exhaustible</a> <a id="55" class="Keyword">where</a>

<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Foundations.Base.html" class="Module">Foundations.Base</a>
<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Foundations.Equiv.html" class="Module">Foundations.Equiv</a>

<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>
<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Meta.Search.Base.html" class="Module">Meta.Search.Base</a> <a id="179" class="Keyword">public</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Meta.Search.Decidable.html" class="Module">Meta.Search.Decidable</a>
<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Meta.Search.HLevel.html" class="Module">Meta.Search.HLevel</a>
<a id="251" class="Keyword">open</a> <a id="256" class="Keyword">import</a> <a id="263" href="Meta.Variadic.html" class="Module">Meta.Variadic</a>

<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="Correspondences.Exhaustible.html" class="Module">Correspondences.Exhaustible</a>
<a id="318" class="Keyword">open</a> <a id="323" href="Correspondences.Exhaustible.html" class="Module">Correspondences.Exhaustible</a> <a id="351" class="Keyword">public</a>
  <a id="360" class="Keyword">using</a> <a id="366" class="Symbol">(</a> <a id="368" href="Correspondences.Exhaustible.html#346" class="Record">Exhaustible</a> <a id="380" class="Symbol">;</a> <a id="382" href="Correspondences.Exhaustible.html#478" class="Field">exhaustible-β</a> <a id="396" class="Symbol">;</a> <a id="398" href="Correspondences.Exhaustible.html#456" class="InductiveConstructor">exhaustible-η</a>
        <a id="420" class="Symbol">;</a> <a id="422" href="Correspondences.Exhaustible.html#562" class="Function">exhaust</a>
        <a id="438" class="Symbol">;</a> <a id="440" href="Correspondences.Exhaustible.html#814" class="Function">Π-decision</a> <a id="451" class="Symbol">)</a>

<a id="454" class="Keyword">open</a> <a id="459" class="Keyword">import</a> <a id="466" href="Data.Dec.Base.html" class="Module">Data.Dec.Base</a> <a id="480" class="Symbol">as</a> <a id="483" class="Module">Dec</a>
<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="Data.Empty.Base.html" class="Module">Data.Empty.Base</a> <a id="515" class="Symbol">as</a> <a id="518" class="Module">⊥</a>
<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Data.Fin.Computational.Instances.FromNat.html" class="Module">Data.Fin.Computational.Instances.FromNat</a>

<a id="574" class="Keyword">private</a> <a id="582" class="Keyword">variable</a>
  <a id="593" href="Meta.Search.Exhaustible.html#593" class="Generalizable">ℓ</a> <a id="595" href="Meta.Search.Exhaustible.html#595" class="Generalizable">ℓ′</a> <a id="598" href="Meta.Search.Exhaustible.html#598" class="Generalizable">ℓa</a> <a id="601" href="Meta.Search.Exhaustible.html#601" class="Generalizable">ℓb</a> <a id="604" href="Meta.Search.Exhaustible.html#604" class="Generalizable">ℓc</a> <a id="607" href="Meta.Search.Exhaustible.html#607" class="Generalizable">ℓd</a> <a id="610" class="Symbol">:</a> <a id="612" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="620" href="Meta.Search.Exhaustible.html#620" class="Generalizable">T</a> <a id="622" class="Symbol">:</a> <a id="624" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="629" href="Meta.Search.Exhaustible.html#593" class="Generalizable">ℓ</a>
  <a id="633" href="Meta.Search.Exhaustible.html#633" class="Generalizable">A</a> <a id="635" class="Symbol">:</a> <a id="637" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="642" href="Meta.Search.Exhaustible.html#598" class="Generalizable">ℓa</a>
  <a id="647" href="Meta.Search.Exhaustible.html#647" class="Generalizable">B</a> <a id="649" class="Symbol">:</a> <a id="651" href="Meta.Search.Exhaustible.html#633" class="Generalizable">A</a> <a id="653" class="Symbol">→</a> <a id="655" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="660" href="Meta.Search.Exhaustible.html#601" class="Generalizable">ℓb</a>
  <a id="665" href="Meta.Search.Exhaustible.html#665" class="Generalizable">C</a> <a id="667" class="Symbol">:</a> <a id="669" class="Symbol">(</a><a id="670" href="Meta.Search.Exhaustible.html#670" class="Bound">a</a> <a id="672" class="Symbol">:</a> <a id="674" href="Meta.Search.Exhaustible.html#633" class="Generalizable">A</a><a id="675" class="Symbol">)</a> <a id="677" class="Symbol">(</a><a id="678" href="Meta.Search.Exhaustible.html#678" class="Bound">b</a> <a id="680" class="Symbol">:</a> <a id="682" href="Meta.Search.Exhaustible.html#647" class="Generalizable">B</a> <a id="684" href="Meta.Search.Exhaustible.html#670" class="Bound">a</a><a id="685" class="Symbol">)</a> <a id="687" class="Symbol">→</a> <a id="689" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="694" href="Meta.Search.Exhaustible.html#604" class="Generalizable">ℓc</a>
  <a id="699" href="Meta.Search.Exhaustible.html#699" class="Generalizable">D</a> <a id="701" class="Symbol">:</a> <a id="703" class="Symbol">(</a><a id="704" href="Meta.Search.Exhaustible.html#704" class="Bound">a</a> <a id="706" class="Symbol">:</a> <a id="708" href="Meta.Search.Exhaustible.html#633" class="Generalizable">A</a><a id="709" class="Symbol">)</a> <a id="711" class="Symbol">(</a><a id="712" href="Meta.Search.Exhaustible.html#712" class="Bound">b</a> <a id="714" class="Symbol">:</a> <a id="716" href="Meta.Search.Exhaustible.html#647" class="Generalizable">B</a> <a id="718" href="Meta.Search.Exhaustible.html#704" class="Bound">a</a><a id="719" class="Symbol">)</a> <a id="721" class="Symbol">(</a><a id="722" href="Meta.Search.Exhaustible.html#722" class="Bound">c</a> <a id="724" class="Symbol">:</a> <a id="726" href="Meta.Search.Exhaustible.html#665" class="Generalizable">C</a> <a id="728" href="Meta.Search.Exhaustible.html#704" class="Bound">a</a> <a id="730" href="Meta.Search.Exhaustible.html#712" class="Bound">b</a><a id="731" class="Symbol">)</a> <a id="733" class="Symbol">→</a> <a id="735" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="740" href="Meta.Search.Exhaustible.html#607" class="Generalizable">ℓd</a>
  <a id="745" href="Meta.Search.Exhaustible.html#745" class="Generalizable">n</a> <a id="747" class="Symbol">:</a> <a id="749" href="Foundations.Base.html#12403" class="Function">HLevel</a>

<a id="757" class="Keyword">instance</a>
  <a id="Tactic-exhaust"></a><a id="768" href="Meta.Search.Exhaustible.html#768" class="Function">Tactic-exhaust</a> <a id="783" class="Symbol">:</a> <a id="785" href="Meta.Search.Base.html#1881" class="Record">Tactic-desc</a> <a id="797" class="Symbol">(</a><a id="798" class="Keyword">quote</a> <a id="804" href="Correspondences.Exhaustible.html#346" class="Record">Exhaustible</a><a id="815" class="Symbol">)</a> <a id="817" href="Meta.Search.Base.html#677" class="InductiveConstructor">none</a>
  <a id="824" href="Meta.Search.Exhaustible.html#768" class="Function">Tactic-exhaust</a> <a id="839" class="Symbol">.</a><a id="840" href="Meta.Search.Base.html#1963" class="Field">Tactic-desc.args-length</a> <a id="864" class="Symbol">=</a> <a id="866" class="Number">3</a>
  <a id="870" href="Meta.Search.Exhaustible.html#768" class="Function">Tactic-exhaust</a> <a id="885" class="Symbol">.</a><a id="886" href="Meta.Search.Base.html#1983" class="Field">Tactic-desc.goal-selector</a> <a id="912" class="Symbol">=</a> <a id="914" class="Number">2</a>
  <a id="918" href="Meta.Search.Exhaustible.html#768" class="Function">Tactic-exhaust</a> <a id="933" class="Symbol">.</a><a id="934" href="Meta.Search.Base.html#2202" class="Field">Tactic-desc.other-atoms</a> <a id="958" class="Symbol">=</a> <a id="960" href="Meta.Literals.FromProduct.html#346" class="Function Operator">[</a> <a id="962" class="Keyword">quote</a> <a id="968" href="Agda.Builtin.Cubical.Equiv.html#1012" class="Function Operator">_≃_</a> <a id="972" href="Meta.Literals.FromProduct.html#346" class="Function Operator">]</a>
  <a id="976" href="Meta.Search.Exhaustible.html#768" class="Function">Tactic-exhaust</a> <a id="991" class="Symbol">.</a><a id="992" href="Meta.Search.Base.html#2257" class="Field">Tactic-desc.instance-helper</a> <a id="1020" class="Symbol">=</a> <a id="1022" class="Keyword">quote</a> <a id="1028" href="Correspondences.Exhaustible.html#562" class="Function">exhaust</a>
  <a id="1038" href="Meta.Search.Exhaustible.html#768" class="Function">Tactic-exhaust</a> <a id="1053" class="Symbol">.</a><a id="1054" href="Meta.Search.Base.html#2230" class="Field">Tactic-desc.instance-name</a> <a id="1080" class="Symbol">=</a> <a id="1082" class="Keyword">quote</a> <a id="1088" href="Correspondences.Exhaustible.html#346" class="Record">Exhaustible</a>

<a id="exhaust-tactic-worker"></a><a id="1101" href="Meta.Search.Exhaustible.html#1101" class="Function">exhaust-tactic-worker</a> <a id="1123" class="Symbol">=</a> <a id="1125" href="Meta.Search.Base.html#20314" class="Function">search-tactic-worker</a> <a id="1146" href="Meta.Search.Exhaustible.html#768" class="Function">Tactic-exhaust</a>
<a id="1161" class="Keyword">macro</a> <a id="exhaust!"></a><a id="1167" href="Meta.Search.Exhaustible.html#1167" class="Function">exhaust!</a> <a id="1176" class="Symbol">=</a> <a id="1178" href="Meta.Search.Exhaustible.html#1101" class="Function">exhaust-tactic-worker</a>

<a id="1201" class="Keyword">instance</a>
  <a id="decomp-exh-lift"></a><a id="1212" href="Meta.Search.Exhaustible.html#1212" class="Function">decomp-exh-lift</a> <a id="1228" class="Symbol">:</a> <a id="1230" href="Meta.Search.Base.html#2891" class="Datatype">goal-decomposition</a> <a id="1249" class="Symbol">(</a><a id="1250" class="Keyword">quote</a> <a id="1256" href="Correspondences.Exhaustible.html#346" class="Record">Exhaustible</a><a id="1267" class="Symbol">)</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="1275" href="Meta.Search.Exhaustible.html#595" class="Generalizable">ℓ′</a> <a id="1278" href="Meta.Search.Exhaustible.html#633" class="Generalizable">A</a><a id="1279" class="Symbol">)</a>
  <a id="1283" href="Meta.Search.Exhaustible.html#1212" class="Function">decomp-exh-lift</a> <a id="1299" class="Symbol">=</a> <a id="1301" href="Meta.Search.Base.html#3042" class="InductiveConstructor">decomp</a> <a id="1308" class="Symbol">(</a><a id="1309" class="Keyword">quote</a> <a id="1315" href="Correspondences.Exhaustible.html#633" class="Function">lift-exhaustible</a><a id="1331" class="Symbol">)</a> <a id="1333" href="Meta.Literals.FromProduct.html#346" class="Function Operator">[</a> <a id="1335" href="Meta.Search.Base.html#2779" class="InductiveConstructor">`search</a> <a id="1343" class="Symbol">(</a><a id="1344" class="Keyword">quote</a> <a id="1350" href="Correspondences.Exhaustible.html#346" class="Record">Exhaustible</a><a id="1361" class="Symbol">)</a> <a id="1363" href="Meta.Literals.FromProduct.html#346" class="Function Operator">]</a>

  <a id="decomp-dec-Π"></a><a id="1368" href="Meta.Search.Exhaustible.html#1368" class="Function">decomp-dec-Π</a> <a id="1381" class="Symbol">:</a> <a id="1383" href="Meta.Search.Base.html#2891" class="Datatype">goal-decomposition</a> <a id="1402" class="Symbol">(</a><a id="1403" class="Keyword">quote</a> <a id="1409" href="Data.Dec.Base.html#1378" class="Record">Dec</a><a id="1412" class="Symbol">)</a> <a id="1414" href="Meta.Variadic.html#6674" class="Macro Operator">Π[</a> <a id="1417" href="Meta.Search.Exhaustible.html#647" class="Generalizable">B</a> <a id="1419" href="Meta.Variadic.html#6674" class="Macro Operator">]</a>
  <a id="1423" href="Meta.Search.Exhaustible.html#1368" class="Function">decomp-dec-Π</a> <a id="1436" class="Symbol">=</a> <a id="1438" href="Meta.Search.Base.html#3042" class="InductiveConstructor">decomp</a> <a id="1445" class="Symbol">(</a><a id="1446" class="Keyword">quote</a> <a id="1452" href="Correspondences.Exhaustible.html#814" class="Function">Π-decision</a><a id="1462" class="Symbol">)</a> <a id="1464" href="Meta.Literals.FromProduct.html#346" class="Function Operator">[</a> <a id="1466" href="Meta.Search.Base.html#2662" class="InductiveConstructor">`search-under</a> <a id="1480" class="Number">1</a> <a id="1482" class="Symbol">(</a><a id="1483" class="Keyword">quote</a> <a id="1489" href="Data.Dec.Base.html#1378" class="Record">Dec</a><a id="1492" class="Symbol">)</a> <a id="1494" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1496" href="Meta.Search.Base.html#2779" class="InductiveConstructor">`search</a> <a id="1504" class="Symbol">(</a><a id="1505" class="Keyword">quote</a> <a id="1511" href="Correspondences.Exhaustible.html#346" class="Record">Exhaustible</a><a id="1522" class="Symbol">)</a> <a id="1524" href="Meta.Literals.FromProduct.html#346" class="Function Operator">]</a>

  <a id="decomp-dec-∀"></a><a id="1529" href="Meta.Search.Exhaustible.html#1529" class="Function">decomp-dec-∀</a> <a id="1542" class="Symbol">:</a> <a id="1544" href="Meta.Search.Base.html#2891" class="Datatype">goal-decomposition</a> <a id="1563" class="Symbol">(</a><a id="1564" class="Keyword">quote</a> <a id="1570" href="Data.Dec.Base.html#1378" class="Record">Dec</a><a id="1573" class="Symbol">)</a> <a id="1575" href="Meta.Variadic.html#6719" class="Macro Operator">∀[</a> <a id="1578" href="Meta.Search.Exhaustible.html#647" class="Generalizable">B</a> <a id="1580" href="Meta.Variadic.html#6719" class="Macro Operator">]</a>
  <a id="1584" href="Meta.Search.Exhaustible.html#1529" class="Function">decomp-dec-∀</a> <a id="1597" class="Symbol">=</a> <a id="1599" href="Meta.Search.Base.html#3042" class="InductiveConstructor">decomp</a> <a id="1606" class="Symbol">(</a><a id="1607" class="Keyword">quote</a> <a id="1613" href="Correspondences.Exhaustible.html#955" class="Function">∀-decision</a><a id="1623" class="Symbol">)</a> <a id="1625" href="Meta.Literals.FromProduct.html#346" class="Function Operator">[</a> <a id="1627" href="Meta.Search.Base.html#2662" class="InductiveConstructor">`search-under</a> <a id="1641" class="Number">1</a> <a id="1643" class="Symbol">(</a><a id="1644" class="Keyword">quote</a> <a id="1650" href="Data.Dec.Base.html#1378" class="Record">Dec</a><a id="1653" class="Symbol">)</a> <a id="1655" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1657" href="Meta.Search.Base.html#2779" class="InductiveConstructor">`search</a> <a id="1665" class="Symbol">(</a><a id="1666" class="Keyword">quote</a> <a id="1672" href="Correspondences.Exhaustible.html#346" class="Record">Exhaustible</a><a id="1683" class="Symbol">)</a> <a id="1685" href="Meta.Literals.FromProduct.html#346" class="Function Operator">]</a>

<a id="1688" class="Comment">-- TODO more decompositions</a>

<a id="1717" class="Comment">-- Usage</a>
<a id="1726" class="Keyword">private</a>
  <a id="1736" class="Keyword">module</a> <a id="1743" href="Meta.Search.Exhaustible.html#1743" class="Module">_</a> <a id="1745" class="Symbol">⦃</a> <a id="1747" href="Meta.Search.Exhaustible.html#1747" class="Bound">A-exh</a> <a id="1753" class="Symbol">:</a> <a id="1755" href="Correspondences.Exhaustible.html#346" class="Record">Exhaustible</a> <a id="1767" class="Symbol">{</a><a id="1768" href="Meta.Search.Exhaustible.html#593" class="Generalizable">ℓ</a><a id="1769" class="Symbol">}</a> <a id="1771" href="Meta.Search.Exhaustible.html#633" class="Generalizable">A</a> <a id="1773" class="Symbol">⦄</a> <a id="1775" class="Keyword">where</a>
    <a id="1785" href="Meta.Search.Exhaustible.html#1785" class="Function">_</a> <a id="1787" class="Symbol">:</a> <a id="1789" href="Correspondences.Exhaustible.html#346" class="Record">Exhaustible</a> <a id="1801" class="Symbol">(</a><a id="1802" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="1807" href="Meta.Search.Exhaustible.html#1768" class="Bound">ℓ</a> <a id="1809" href="Meta.Search.Exhaustible.html#1771" class="Bound">A</a><a id="1810" class="Symbol">)</a>
    <a id="1816" class="Symbol">_</a> <a id="1818" class="Symbol">=</a> <a id="1820" href="Meta.Search.Exhaustible.html#1167" class="Macro">exhaust!</a>
</pre></body></html>