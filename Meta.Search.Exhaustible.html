<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Search.Exhaustible</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.Search.Exhaustible.html" class="Module">Meta.Search.Exhaustible</a> <a id="55" class="Keyword">where</a>

<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Foundations.Base.html" class="Module">Foundations.Base</a>
<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Foundations.Equiv.html" class="Module">Foundations.Equiv</a>

<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>
<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Meta.Search.Base.html" class="Module">Meta.Search.Base</a> <a id="179" class="Keyword">public</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Meta.Search.Decidable.html" class="Module">Meta.Search.Decidable</a>
<a id="220" class="Keyword">open</a> <a id="225" class="Keyword">import</a> <a id="232" href="Meta.Search.HLevel.html" class="Module">Meta.Search.HLevel</a>

<a id="252" class="Keyword">open</a> <a id="257" class="Keyword">import</a> <a id="264" href="Correspondences.Exhaustible.html" class="Module">Correspondences.Exhaustible</a>
<a id="292" class="Keyword">open</a> <a id="297" href="Correspondences.Exhaustible.html" class="Module">Correspondences.Exhaustible</a> <a id="325" class="Keyword">public</a>
  <a id="334" class="Keyword">using</a> <a id="340" class="Symbol">(</a> <a id="342" href="Correspondences.Exhaustible.html#341" class="Function">Exhaustible</a> <a id="354" class="Symbol">;</a> <a id="356" href="Correspondences.Exhaustible.html#473" class="Function">exhaustible-β</a> <a id="370" class="Symbol">;</a> <a id="372" href="Correspondences.Exhaustible.html#584" class="Function">exhaustible-η</a>
        <a id="394" class="Symbol">;</a> <a id="396" href="Correspondences.Exhaustible.html#695" class="Function">exhaust</a>
        <a id="412" class="Symbol">;</a> <a id="414" href="Correspondences.Exhaustible.html#976" class="Function">Π-decision</a> <a id="425" class="Symbol">)</a>

<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="Data.Dec.Base.html" class="Module">Data.Dec.Base</a> <a id="454" class="Symbol">as</a> <a id="457" class="Module">Dec</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Data.Empty.Base.html" class="Module">Data.Empty.Base</a> <a id="489" class="Symbol">as</a> <a id="492" class="Module">⊥</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Data.Fin.Instances.FromNat.html" class="Module">Data.Fin.Instances.FromNat</a>
<a id="533" class="Keyword">open</a> <a id="538" class="Keyword">import</a> <a id="545" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>

<a id="578" class="Keyword">private</a> <a id="586" class="Keyword">variable</a>
  <a id="597" href="Meta.Search.Exhaustible.html#597" class="Generalizable">ℓ</a> <a id="599" href="Meta.Search.Exhaustible.html#599" class="Generalizable">ℓ′</a> <a id="602" href="Meta.Search.Exhaustible.html#602" class="Generalizable">ℓa</a> <a id="605" href="Meta.Search.Exhaustible.html#605" class="Generalizable">ℓb</a> <a id="608" href="Meta.Search.Exhaustible.html#608" class="Generalizable">ℓc</a> <a id="611" href="Meta.Search.Exhaustible.html#611" class="Generalizable">ℓd</a> <a id="614" class="Symbol">:</a> <a id="616" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="624" href="Meta.Search.Exhaustible.html#624" class="Generalizable">T</a> <a id="626" class="Symbol">:</a> <a id="628" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="633" href="Meta.Search.Exhaustible.html#597" class="Generalizable">ℓ</a>
  <a id="637" href="Meta.Search.Exhaustible.html#637" class="Generalizable">A</a> <a id="639" class="Symbol">:</a> <a id="641" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="646" href="Meta.Search.Exhaustible.html#602" class="Generalizable">ℓa</a>
  <a id="651" href="Meta.Search.Exhaustible.html#651" class="Generalizable">B</a> <a id="653" class="Symbol">:</a> <a id="655" href="Meta.Search.Exhaustible.html#637" class="Generalizable">A</a> <a id="657" class="Symbol">→</a> <a id="659" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="664" href="Meta.Search.Exhaustible.html#605" class="Generalizable">ℓb</a>
  <a id="669" href="Meta.Search.Exhaustible.html#669" class="Generalizable">C</a> <a id="671" class="Symbol">:</a> <a id="673" class="Symbol">(</a><a id="674" href="Meta.Search.Exhaustible.html#674" class="Bound">a</a> <a id="676" class="Symbol">:</a> <a id="678" href="Meta.Search.Exhaustible.html#637" class="Generalizable">A</a><a id="679" class="Symbol">)</a> <a id="681" class="Symbol">(</a><a id="682" href="Meta.Search.Exhaustible.html#682" class="Bound">b</a> <a id="684" class="Symbol">:</a> <a id="686" href="Meta.Search.Exhaustible.html#651" class="Generalizable">B</a> <a id="688" href="Meta.Search.Exhaustible.html#674" class="Bound">a</a><a id="689" class="Symbol">)</a> <a id="691" class="Symbol">→</a> <a id="693" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="698" href="Meta.Search.Exhaustible.html#608" class="Generalizable">ℓc</a>
  <a id="703" href="Meta.Search.Exhaustible.html#703" class="Generalizable">D</a> <a id="705" class="Symbol">:</a> <a id="707" class="Symbol">(</a><a id="708" href="Meta.Search.Exhaustible.html#708" class="Bound">a</a> <a id="710" class="Symbol">:</a> <a id="712" href="Meta.Search.Exhaustible.html#637" class="Generalizable">A</a><a id="713" class="Symbol">)</a> <a id="715" class="Symbol">(</a><a id="716" href="Meta.Search.Exhaustible.html#716" class="Bound">b</a> <a id="718" class="Symbol">:</a> <a id="720" href="Meta.Search.Exhaustible.html#651" class="Generalizable">B</a> <a id="722" href="Meta.Search.Exhaustible.html#708" class="Bound">a</a><a id="723" class="Symbol">)</a> <a id="725" class="Symbol">(</a><a id="726" href="Meta.Search.Exhaustible.html#726" class="Bound">c</a> <a id="728" class="Symbol">:</a> <a id="730" href="Meta.Search.Exhaustible.html#669" class="Generalizable">C</a> <a id="732" href="Meta.Search.Exhaustible.html#708" class="Bound">a</a> <a id="734" href="Meta.Search.Exhaustible.html#716" class="Bound">b</a><a id="735" class="Symbol">)</a> <a id="737" class="Symbol">→</a> <a id="739" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="744" href="Meta.Search.Exhaustible.html#611" class="Generalizable">ℓd</a>
  <a id="749" href="Meta.Search.Exhaustible.html#749" class="Generalizable">n</a> <a id="751" class="Symbol">:</a> <a id="753" href="Foundations.Base.html#10777" class="Function">HLevel</a>

<a id="761" class="Keyword">instance</a>
  <a id="Tactic-exhaust"></a><a id="772" href="Meta.Search.Exhaustible.html#772" class="Function">Tactic-exhaust</a> <a id="787" class="Symbol">:</a> <a id="789" href="Meta.Search.Base.html#1794" class="Record">Tactic-desc</a> <a id="801" class="Symbol">(</a><a id="802" class="Keyword">quote</a> <a id="808" href="Correspondences.Exhaustible.html#341" class="Function">Exhaustible</a><a id="819" class="Symbol">)</a> <a id="821" href="Meta.Search.Base.html#597" class="InductiveConstructor">none</a>
  <a id="828" href="Meta.Search.Exhaustible.html#772" class="Function">Tactic-exhaust</a> <a id="843" class="Symbol">.</a><a id="844" href="Meta.Search.Base.html#1876" class="Field">Tactic-desc.args-length</a> <a id="868" class="Symbol">=</a> <a id="870" class="Number">3</a>
  <a id="874" href="Meta.Search.Exhaustible.html#772" class="Function">Tactic-exhaust</a> <a id="889" class="Symbol">.</a><a id="890" href="Meta.Search.Base.html#1896" class="Field">Tactic-desc.goal-selector</a> <a id="916" class="Symbol">=</a> <a id="918" class="Number">2</a>
  <a id="922" href="Meta.Search.Exhaustible.html#772" class="Function">Tactic-exhaust</a> <a id="937" class="Symbol">.</a><a id="938" href="Meta.Search.Base.html#2115" class="Field">Tactic-desc.other-atoms</a> <a id="962" class="Symbol">=</a> <a id="964" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="966" class="Keyword">quote</a> <a id="972" href="Agda.Builtin.Cubical.Equiv.html#1012" class="Function Operator">_≃_</a> <a id="976" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>
  <a id="980" href="Meta.Search.Exhaustible.html#772" class="Function">Tactic-exhaust</a> <a id="995" class="Symbol">.</a><a id="996" href="Meta.Search.Base.html#2143" class="Field">Tactic-desc.instance-helper</a> <a id="1024" class="Symbol">=</a> <a id="1026" class="Keyword">quote</a> <a id="1032" href="Correspondences.Exhaustible.html#695" class="Function">exhaust</a>

<a id="exhaust-tactic-worker"></a><a id="1041" href="Meta.Search.Exhaustible.html#1041" class="Function">exhaust-tactic-worker</a> <a id="1063" class="Symbol">=</a> <a id="1065" href="Meta.Search.Base.html#21040" class="Function">search-tactic-worker</a> <a id="1086" href="Meta.Search.Exhaustible.html#772" class="Function">Tactic-exhaust</a>
<a id="1101" class="Keyword">macro</a> <a id="exhaust!"></a><a id="1107" href="Meta.Search.Exhaustible.html#1107" class="Function">exhaust!</a> <a id="1116" class="Symbol">=</a> <a id="1118" href="Meta.Search.Exhaustible.html#1041" class="Function">exhaust-tactic-worker</a>

<a id="1141" class="Keyword">instance</a>
  <a id="decomp-exh-lift"></a><a id="1152" href="Meta.Search.Exhaustible.html#1152" class="Function">decomp-exh-lift</a> <a id="1168" class="Symbol">:</a> <a id="1170" href="Meta.Search.Base.html#2777" class="Datatype">goal-decomposition</a> <a id="1189" class="Symbol">(</a><a id="1190" class="Keyword">quote</a> <a id="1196" href="Correspondences.Exhaustible.html#341" class="Function">Exhaustible</a><a id="1207" class="Symbol">)</a> <a id="1209" class="Symbol">(</a><a id="1210" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="1215" href="Meta.Search.Exhaustible.html#599" class="Generalizable">ℓ′</a> <a id="1218" href="Meta.Search.Exhaustible.html#637" class="Generalizable">A</a><a id="1219" class="Symbol">)</a>
  <a id="1223" href="Meta.Search.Exhaustible.html#1152" class="Function">decomp-exh-lift</a> <a id="1239" class="Symbol">=</a> <a id="1241" href="Meta.Search.Base.html#2928" class="InductiveConstructor">decomp</a> <a id="1248" class="Symbol">(</a><a id="1249" class="Keyword">quote</a> <a id="1255" href="Correspondences.Exhaustible.html#805" class="Function">lift-exhaustible</a><a id="1271" class="Symbol">)</a> <a id="1273" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="1275" href="Meta.Search.Base.html#2665" class="InductiveConstructor">`search</a> <a id="1283" class="Symbol">(</a><a id="1284" class="Keyword">quote</a> <a id="1290" href="Correspondences.Exhaustible.html#341" class="Function">Exhaustible</a><a id="1301" class="Symbol">)</a> <a id="1303" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

  <a id="decomp-dec-Π"></a><a id="1308" href="Meta.Search.Exhaustible.html#1308" class="Function">decomp-dec-Π</a> <a id="1321" class="Symbol">:</a> <a id="1323" href="Meta.Search.Base.html#2777" class="Datatype">goal-decomposition</a> <a id="1342" class="Symbol">(</a><a id="1343" class="Keyword">quote</a> <a id="1349" href="Data.Dec.Base.html#1386" class="Record">Dec</a><a id="1352" class="Symbol">)</a> <a id="1354" class="Symbol">(</a><a id="1355" href="Foundations.Pi.Base.html#153" class="Function">Π[</a> <a id="1358" href="Meta.Search.Exhaustible.html#1358" class="Bound">a</a> <a id="1360" href="Foundations.Pi.Base.html#153" class="Function">꞉</a> <a id="1362" href="Meta.Search.Exhaustible.html#637" class="Generalizable">A</a> <a id="1364" href="Foundations.Pi.Base.html#153" class="Function">]</a> <a id="1366" href="Meta.Search.Exhaustible.html#651" class="Generalizable">B</a> <a id="1368" href="Meta.Search.Exhaustible.html#1358" class="Bound">a</a> <a id="1370" class="Symbol">)</a>
  <a id="1374" href="Meta.Search.Exhaustible.html#1308" class="Function">decomp-dec-Π</a> <a id="1387" class="Symbol">=</a> <a id="1389" href="Meta.Search.Base.html#2928" class="InductiveConstructor">decomp</a> <a id="1396" class="Symbol">(</a><a id="1397" class="Keyword">quote</a> <a id="1403" href="Correspondences.Exhaustible.html#976" class="Function">Π-decision</a><a id="1413" class="Symbol">)</a> <a id="1415" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="1417" href="Meta.Search.Base.html#2548" class="InductiveConstructor">`search-under</a> <a id="1431" class="Number">1</a> <a id="1433" class="Symbol">(</a><a id="1434" class="Keyword">quote</a> <a id="1440" href="Data.Dec.Base.html#1386" class="Record">Dec</a><a id="1443" class="Symbol">)</a> <a id="1445" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1447" href="Meta.Search.Base.html#2665" class="InductiveConstructor">`search</a> <a id="1455" class="Symbol">(</a><a id="1456" class="Keyword">quote</a> <a id="1462" href="Correspondences.Exhaustible.html#341" class="Function">Exhaustible</a><a id="1473" class="Symbol">)</a> <a id="1475" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

  <a id="decomp-dec-∀"></a><a id="1480" href="Meta.Search.Exhaustible.html#1480" class="Function">decomp-dec-∀</a> <a id="1493" class="Symbol">:</a> <a id="1495" href="Meta.Search.Base.html#2777" class="Datatype">goal-decomposition</a> <a id="1514" class="Symbol">(</a><a id="1515" class="Keyword">quote</a> <a id="1521" href="Data.Dec.Base.html#1386" class="Record">Dec</a><a id="1524" class="Symbol">)</a> <a id="1526" class="Symbol">(</a><a id="1527" href="Foundations.Pi.Base.html#327" class="Function">∀[</a> <a id="1530" href="Meta.Search.Exhaustible.html#1530" class="Bound">a</a> <a id="1532" href="Foundations.Pi.Base.html#327" class="Function">꞉</a> <a id="1534" href="Meta.Search.Exhaustible.html#637" class="Generalizable">A</a> <a id="1536" href="Foundations.Pi.Base.html#327" class="Function">]</a> <a id="1538" href="Meta.Search.Exhaustible.html#651" class="Generalizable">B</a> <a id="1540" href="Meta.Search.Exhaustible.html#1530" class="Bound">a</a> <a id="1542" class="Symbol">)</a>
  <a id="1546" href="Meta.Search.Exhaustible.html#1480" class="Function">decomp-dec-∀</a> <a id="1559" class="Symbol">=</a> <a id="1561" href="Meta.Search.Base.html#2928" class="InductiveConstructor">decomp</a> <a id="1568" class="Symbol">(</a><a id="1569" class="Keyword">quote</a> <a id="1575" href="Correspondences.Exhaustible.html#1100" class="Function">∀-decision</a><a id="1585" class="Symbol">)</a> <a id="1587" href="Meta.Literals.FromProduct.html#325" class="Function Operator">[</a> <a id="1589" href="Meta.Search.Base.html#2548" class="InductiveConstructor">`search-under</a> <a id="1603" class="Number">1</a> <a id="1605" class="Symbol">(</a><a id="1606" class="Keyword">quote</a> <a id="1612" href="Data.Dec.Base.html#1386" class="Record">Dec</a><a id="1615" class="Symbol">)</a> <a id="1617" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1619" href="Meta.Search.Base.html#2665" class="InductiveConstructor">`search</a> <a id="1627" class="Symbol">(</a><a id="1628" class="Keyword">quote</a> <a id="1634" href="Correspondences.Exhaustible.html#341" class="Function">Exhaustible</a><a id="1645" class="Symbol">)</a> <a id="1647" href="Meta.Literals.FromProduct.html#325" class="Function Operator">]</a>

<a id="1650" class="Comment">-- TODO more decompositions</a>

<a id="1679" class="Comment">-- Usage</a>
<a id="1688" class="Keyword">private</a>
  <a id="1698" class="Keyword">module</a> <a id="1705" href="Meta.Search.Exhaustible.html#1705" class="Module">_</a> <a id="1707" class="Symbol">⦃</a> <a id="1709" href="Meta.Search.Exhaustible.html#1709" class="Bound">A-exh</a> <a id="1715" class="Symbol">:</a> <a id="1717" href="Correspondences.Exhaustible.html#341" class="Function">Exhaustible</a> <a id="1729" class="Symbol">{</a><a id="1730" class="Argument">ℓ′</a> <a id="1733" class="Symbol">=</a> <a id="1735" href="Meta.Search.Exhaustible.html#599" class="Generalizable">ℓ′</a><a id="1737" class="Symbol">}</a> <a id="1739" href="Meta.Search.Exhaustible.html#637" class="Generalizable">A</a> <a id="1741" class="Symbol">⦄</a> <a id="1743" class="Keyword">where</a>
    <a id="1753" href="Meta.Search.Exhaustible.html#1753" class="Function">_</a> <a id="1755" class="Symbol">:</a> <a id="1757" href="Correspondences.Exhaustible.html#341" class="Function">Exhaustible</a> <a id="1769" class="Symbol">{</a><a id="1770" class="Argument">ℓ′</a> <a id="1773" class="Symbol">=</a> <a id="1775" href="Meta.Search.Exhaustible.html#1735" class="Bound">ℓ′</a><a id="1777" class="Symbol">}</a> <a id="1779" class="Symbol">(</a><a id="1780" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="1785" href="Meta.Search.Exhaustible.html#597" class="Generalizable">ℓ</a> <a id="1787" href="Meta.Search.Exhaustible.html#1739" class="Bound">A</a><a id="1788" class="Symbol">)</a>
    <a id="1794" class="Symbol">_</a> <a id="1796" class="Symbol">=</a> <a id="1798" href="Meta.Search.Exhaustible.html#1107" class="Macro">exhaust!</a>
</pre></body></html>