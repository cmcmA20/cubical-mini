<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.IO.Finite</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="System.IO.Finite.html" class="Module">System.IO.Finite</a> <a id="25" class="Keyword">where</a>

<a id="32" class="Keyword">open</a> <a id="37" class="Keyword">import</a> <a id="44" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Data.String.Base.html" class="Module">Data.String.Base</a>

<a id="92" class="Keyword">open</a> <a id="97" class="Keyword">import</a> <a id="104" href="Meta.Show.html" class="Module">Meta.Show</a>

<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="System.IO.Base.html" class="Module">System.IO.Base</a>

<a id="143" class="Keyword">postulate</a>
  <a id="getLine"></a><a id="155" href="System.IO.Finite.html#155" class="Postulate">getLine</a>     <a id="167" class="Symbol">:</a> <a id="169" href="Agda.Builtin.IO.html#137" class="Postulate">IO′</a> <a id="173" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="readFile"></a><a id="182" href="System.IO.Finite.html#182" class="Postulate">readFile</a>    <a id="194" class="Symbol">:</a> <a id="196" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="203" class="Symbol">→</a> <a id="205" href="Agda.Builtin.IO.html#137" class="Postulate">IO′</a> <a id="209" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
  <a id="writeFile"></a><a id="218" href="System.IO.Finite.html#218" class="Postulate">writeFile</a>   <a id="230" class="Symbol">:</a> <a id="232" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="239" class="Symbol">→</a> <a id="241" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="248" class="Symbol">→</a> <a id="250" href="Agda.Builtin.IO.html#137" class="Postulate">IO′</a> <a id="254" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="appendFile"></a><a id="258" href="System.IO.Finite.html#258" class="Postulate">appendFile</a>  <a id="270" class="Symbol">:</a> <a id="272" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="279" class="Symbol">→</a> <a id="281" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="288" class="Symbol">→</a> <a id="290" href="Agda.Builtin.IO.html#137" class="Postulate">IO′</a> <a id="294" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="putStr"></a><a id="298" href="System.IO.Finite.html#298" class="Postulate">putStr</a>      <a id="310" class="Symbol">:</a> <a id="312" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="319" class="Symbol">→</a> <a id="321" href="Agda.Builtin.IO.html#137" class="Postulate">IO′</a> <a id="325" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="putStrLn"></a><a id="329" href="System.IO.Finite.html#329" class="Postulate">putStrLn</a>    <a id="341" class="Symbol">:</a> <a id="343" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="350" class="Symbol">→</a> <a id="352" href="Agda.Builtin.IO.html#137" class="Postulate">IO′</a> <a id="356" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>

<a id="359" class="Symbol">{-#</a> <a id="363" class="Keyword">FOREIGN</a> <a id="371" class="Pragma">GHC</a> <a id="375" class="Pragma">import</a> <a id="382" class="Pragma">qualified</a> <a id="392" class="Pragma">Data.Text</a>    <a id="405" class="Pragma">as</a> <a id="408" class="Pragma">T</a>   <a id="412" class="Symbol">#-}</a>
<a id="416" class="Symbol">{-#</a> <a id="420" class="Keyword">FOREIGN</a> <a id="428" class="Pragma">GHC</a> <a id="432" class="Pragma">import</a> <a id="439" class="Pragma">qualified</a> <a id="449" class="Pragma">Data.Text.IO</a> <a id="462" class="Pragma">as</a> <a id="465" class="Pragma">TIO</a> <a id="469" class="Symbol">#-}</a>
<a id="473" class="Symbol">{-#</a> <a id="477" class="Keyword">FOREIGN</a> <a id="485" class="Pragma">GHC</a> <a id="489" class="Pragma">import</a> <a id="496" class="Pragma">qualified</a> <a id="506" class="Pragma">System.IO</a>           <a id="526" class="Symbol">#-}</a>
<a id="530" class="Symbol">{-#</a> <a id="534" class="Keyword">FOREIGN</a> <a id="542" class="Pragma">GHC</a> <a id="546" class="Pragma">import</a> <a id="553" class="Pragma">qualified</a> <a id="563" class="Pragma">Control.Exception</a>   <a id="583" class="Symbol">#-}</a>

<a id="588" class="Symbol">{-#</a> <a id="592" class="Keyword">FOREIGN</a> <a id="600" class="Pragma">GHC</a>

  <a id="607" class="Pragma">--</a> <a id="610" class="Pragma">Reads</a> <a id="616" class="Pragma">a</a> <a id="618" class="Pragma">finite</a> <a id="625" class="Pragma">file.</a> <a id="631" class="Pragma">Raises</a> <a id="638" class="Pragma">an</a> <a id="641" class="Pragma">exception</a> <a id="651" class="Pragma">if</a> <a id="654" class="Pragma">the</a> <a id="658" class="Pragma">file</a> <a id="663" class="Pragma">path</a> <a id="668" class="Pragma">refers</a>
  <a id="677" class="Pragma">--</a> <a id="680" class="Pragma">to</a> <a id="683" class="Pragma">a</a> <a id="685" class="Pragma">non-physical</a> <a id="698" class="Pragma">file</a> <a id="703" class="Pragma">(like</a> <a id="709" class="Pragma">&quot;/dev/zero&quot;).</a>
  <a id="725" class="Pragma">readFiniteFile</a> <a id="740" class="Pragma">::</a> <a id="743" class="Pragma">T.Text</a> <a id="750" class="Pragma">-&gt;</a> <a id="753" class="Pragma">IO</a> <a id="756" class="Pragma">T.Text</a>
  <a id="765" class="Pragma">readFiniteFile</a> <a id="780" class="Pragma">f</a> <a id="782" class="Pragma">=</a> <a id="784" class="Pragma">do</a>
    <a id="791" class="Pragma">h</a> <a id="793" class="Pragma">&lt;-</a> <a id="796" class="Pragma">System.IO.openFile</a> <a id="815" class="Pragma">(T.unpack</a> <a id="825" class="Pragma">f)</a> <a id="828" class="Pragma">System.IO.ReadMode</a>
    <a id="851" class="Pragma">Control.Exception.bracketOnError</a> <a id="884" class="Pragma">(return</a> <a id="892" class="Pragma">())</a> <a id="896" class="Pragma">(\_</a> <a id="900" class="Pragma">-&gt;</a> <a id="903" class="Pragma">System.IO.hClose</a> <a id="920" class="Pragma">h)</a>
                                                 <a id="972" class="Pragma">(\_</a> <a id="976" class="Pragma">-&gt;</a> <a id="979" class="Pragma">System.IO.hFileSize</a> <a id="999" class="Pragma">h)</a>
    <a id="1006" class="Pragma">TIO.hGetContents</a> <a id="1023" class="Pragma">h</a>

<a id="1026" class="Symbol">#-}</a>

<a id="1031" class="Symbol">{-#</a> <a id="1035" class="Keyword">COMPILE</a> <a id="1043" class="Keyword">GHC</a> <a id="1047" href="System.IO.Finite.html#155" class="Postulate">getLine</a>    <a id="1058" class="Pragma">=</a> <a id="1060" class="Pragma">TIO.getLine</a>               <a id="1086" class="Symbol">#-}</a>
<a id="1090" class="Symbol">{-#</a> <a id="1094" class="Keyword">COMPILE</a> <a id="1102" class="Keyword">GHC</a> <a id="1106" href="System.IO.Finite.html#182" class="Postulate">readFile</a>   <a id="1117" class="Pragma">=</a> <a id="1119" class="Pragma">readFiniteFile</a>            <a id="1145" class="Symbol">#-}</a>
<a id="1149" class="Symbol">{-#</a> <a id="1153" class="Keyword">COMPILE</a> <a id="1161" class="Keyword">GHC</a> <a id="1165" href="System.IO.Finite.html#218" class="Postulate">writeFile</a>  <a id="1176" class="Pragma">=</a> <a id="1178" class="Pragma">TIO.writeFile</a> <a id="1192" class="Pragma">.</a> <a id="1194" class="Pragma">T.unpack</a>  <a id="1204" class="Symbol">#-}</a>
<a id="1208" class="Symbol">{-#</a> <a id="1212" class="Keyword">COMPILE</a> <a id="1220" class="Keyword">GHC</a> <a id="1224" href="System.IO.Finite.html#258" class="Postulate">appendFile</a> <a id="1235" class="Pragma">=</a> <a id="1237" class="Pragma">TIO.appendFile</a> <a id="1252" class="Pragma">.</a> <a id="1254" class="Pragma">T.unpack</a> <a id="1263" class="Symbol">#-}</a>
<a id="1267" class="Symbol">{-#</a> <a id="1271" class="Keyword">COMPILE</a> <a id="1279" class="Keyword">GHC</a> <a id="1283" href="System.IO.Finite.html#298" class="Postulate">putStr</a>     <a id="1294" class="Pragma">=</a> <a id="1296" class="Pragma">TIO.putStr</a>                <a id="1322" class="Symbol">#-}</a>
<a id="1326" class="Symbol">{-#</a> <a id="1330" class="Keyword">COMPILE</a> <a id="1338" class="Keyword">GHC</a> <a id="1342" href="System.IO.Finite.html#329" class="Postulate">putStrLn</a>   <a id="1353" class="Pragma">=</a> <a id="1355" class="Pragma">TIO.putStrLn</a>              <a id="1381" class="Symbol">#-}</a>

<a id="1386" class="Keyword">private</a> <a id="1394" class="Keyword">variable</a>
  <a id="1405" href="System.IO.Finite.html#1405" class="Generalizable">ℓ</a> <a id="1407" class="Symbol">:</a> <a id="1409" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="1417" href="System.IO.Finite.html#1417" class="Generalizable">A</a> <a id="1419" class="Symbol">:</a> <a id="1421" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="1426" href="System.IO.Finite.html#1405" class="Generalizable">ℓ</a>

<a id="get-line"></a><a id="1429" href="System.IO.Finite.html#1429" class="Function">get-line</a> <a id="1438" class="Symbol">:</a> <a id="1440" href="System.IO.Base.html#551" class="Datatype">IO</a> <a id="1443" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="1450" href="System.IO.Finite.html#1429" class="Function">get-line</a> <a id="1459" class="Symbol">=</a> <a id="1461" href="System.IO.Base.html#591" class="InductiveConstructor">lift</a> <a id="1466" href="System.IO.Finite.html#155" class="Postulate">getLine</a>

<a id="read-file"></a><a id="1475" href="System.IO.Finite.html#1475" class="Function">read-file</a> <a id="1485" class="Symbol">:</a> <a id="1487" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1494" class="Symbol">→</a> <a id="1496" href="System.IO.Base.html#551" class="Datatype">IO</a> <a id="1499" href="Agda.Builtin.String.html#335" class="Postulate">String</a>
<a id="1506" href="System.IO.Finite.html#1475" class="Function">read-file</a> <a id="1516" href="System.IO.Finite.html#1516" class="Bound">f</a> <a id="1518" class="Symbol">=</a> <a id="1520" href="System.IO.Base.html#591" class="InductiveConstructor">lift</a> <a id="1525" class="Symbol">(</a><a id="1526" href="System.IO.Finite.html#182" class="Postulate">readFile</a> <a id="1535" href="System.IO.Finite.html#1516" class="Bound">f</a><a id="1536" class="Symbol">)</a>

<a id="write-file"></a><a id="1539" href="System.IO.Finite.html#1539" class="Function">write-file</a> <a id="1550" class="Symbol">:</a> <a id="1552" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1559" class="Symbol">→</a> <a id="1561" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1568" class="Symbol">→</a> <a id="1570" href="System.IO.Base.html#551" class="Datatype">IO</a> <a id="1573" class="Symbol">(</a><a id="1574" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="1579" href="System.IO.Finite.html#1405" class="Generalizable">ℓ</a> <a id="1581" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="1582" class="Symbol">)</a>
<a id="1584" href="System.IO.Finite.html#1539" class="Function">write-file</a> <a id="1595" href="System.IO.Finite.html#1595" class="Bound">f</a> <a id="1597" href="System.IO.Finite.html#1597" class="Bound">s</a> <a id="1599" class="Symbol">=</a> <a id="1601" href="System.IO.Base.html#2055" class="Function">io-lift′</a> <a id="1610" class="Symbol">(</a><a id="1611" href="System.IO.Finite.html#218" class="Postulate">writeFile</a> <a id="1621" href="System.IO.Finite.html#1595" class="Bound">f</a> <a id="1623" href="System.IO.Finite.html#1597" class="Bound">s</a><a id="1624" class="Symbol">)</a>

<a id="append-file"></a><a id="1627" href="System.IO.Finite.html#1627" class="Function">append-file</a> <a id="1639" class="Symbol">:</a> <a id="1641" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1648" class="Symbol">→</a> <a id="1650" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1657" class="Symbol">→</a> <a id="1659" href="System.IO.Base.html#551" class="Datatype">IO</a> <a id="1662" class="Symbol">(</a><a id="1663" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="1668" href="System.IO.Finite.html#1405" class="Generalizable">ℓ</a> <a id="1670" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="1671" class="Symbol">)</a>
<a id="1673" href="System.IO.Finite.html#1627" class="Function">append-file</a> <a id="1685" href="System.IO.Finite.html#1685" class="Bound">f</a> <a id="1687" href="System.IO.Finite.html#1687" class="Bound">s</a> <a id="1689" class="Symbol">=</a> <a id="1691" href="System.IO.Base.html#2055" class="Function">io-lift′</a> <a id="1700" class="Symbol">(</a><a id="1701" href="System.IO.Finite.html#258" class="Postulate">appendFile</a> <a id="1712" href="System.IO.Finite.html#1685" class="Bound">f</a> <a id="1714" href="System.IO.Finite.html#1687" class="Bound">s</a><a id="1715" class="Symbol">)</a>

<a id="put-str"></a><a id="1718" href="System.IO.Finite.html#1718" class="Function">put-str</a> <a id="1726" class="Symbol">:</a> <a id="1728" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1735" class="Symbol">→</a> <a id="1737" href="System.IO.Base.html#551" class="Datatype">IO</a> <a id="1740" class="Symbol">(</a><a id="1741" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="1746" href="System.IO.Finite.html#1405" class="Generalizable">ℓ</a> <a id="1748" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="1749" class="Symbol">)</a>
<a id="1751" href="System.IO.Finite.html#1718" class="Function">put-str</a> <a id="1759" href="System.IO.Finite.html#1759" class="Bound">s</a> <a id="1761" class="Symbol">=</a> <a id="1763" href="System.IO.Base.html#2055" class="Function">io-lift′</a> <a id="1772" class="Symbol">(</a><a id="1773" href="System.IO.Finite.html#298" class="Postulate">putStr</a> <a id="1780" href="System.IO.Finite.html#1759" class="Bound">s</a><a id="1781" class="Symbol">)</a>

<a id="put-str-ln"></a><a id="1784" href="System.IO.Finite.html#1784" class="Function">put-str-ln</a> <a id="1795" class="Symbol">:</a> <a id="1797" href="Agda.Builtin.String.html#335" class="Postulate">String</a> <a id="1804" class="Symbol">→</a> <a id="1806" href="System.IO.Base.html#551" class="Datatype">IO</a> <a id="1809" class="Symbol">(</a><a id="1810" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="1815" href="System.IO.Finite.html#1405" class="Generalizable">ℓ</a> <a id="1817" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="1818" class="Symbol">)</a>
<a id="1820" href="System.IO.Finite.html#1784" class="Function">put-str-ln</a> <a id="1831" href="System.IO.Finite.html#1831" class="Bound">s</a> <a id="1833" class="Symbol">=</a> <a id="1835" href="System.IO.Base.html#2055" class="Function">io-lift′</a> <a id="1844" class="Symbol">(</a><a id="1845" href="System.IO.Finite.html#329" class="Postulate">putStrLn</a> <a id="1854" href="System.IO.Finite.html#1831" class="Bound">s</a><a id="1855" class="Symbol">)</a>

<a id="print"></a><a id="1858" href="System.IO.Finite.html#1858" class="Function">print</a> <a id="1864" class="Symbol">:</a> <a id="1866" class="Symbol">⦃</a> <a id="1868" href="Meta.Show.html#175" class="Record">Show</a> <a id="1873" href="System.IO.Finite.html#1417" class="Generalizable">A</a> <a id="1875" class="Symbol">⦄</a> <a id="1877" class="Symbol">→</a> <a id="1879" href="System.IO.Finite.html#1417" class="Generalizable">A</a> <a id="1881" class="Symbol">→</a> <a id="1883" href="System.IO.Base.html#551" class="Datatype">IO</a> <a id="1886" class="Symbol">(</a><a id="1887" href="Foundations.Prim.Type.html#538" class="Record">Lift</a> <a id="1892" href="System.IO.Finite.html#1405" class="Generalizable">ℓ</a> <a id="1894" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="1895" class="Symbol">)</a>
<a id="1897" href="System.IO.Finite.html#1858" class="Function">print</a> <a id="1903" href="System.IO.Finite.html#1903" class="Bound">x</a> <a id="1905" class="Symbol">=</a> <a id="1907" href="System.IO.Finite.html#1784" class="Function">put-str-ln</a> <a id="1918" class="Symbol">(</a><a id="1919" href="Meta.Show.html#320" class="Function">show</a> <a id="1924" href="System.IO.Finite.html#1903" class="Bound">x</a><a id="1925" class="Symbol">)</a>
</pre></body></html>