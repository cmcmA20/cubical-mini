<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Reflection.Solver</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.Reflection.Solver.html" class="Module">Meta.Reflection.Solver</a> <a id="54" class="Keyword">where</a>

<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Meta.Effect.Alt.html" class="Module">Meta.Effect.Alt</a>
<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Meta.Effect.Idiom.html" class="Module">Meta.Effect.Idiom</a>
<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="Meta.Literals.FromString.html" class="Module">Meta.Literals.FromString</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Meta.Reflection.Base.html" class="Module">Meta.Reflection.Base</a>
<a id="219" class="Keyword">open</a> <a id="224" class="Keyword">import</a> <a id="231" href="Meta.Reflection.Variables.html" class="Module">Meta.Reflection.Variables</a>

<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.Reflection.Error.html" class="Module">Data.Reflection.Error</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Data.Reflection.Instances.FromString.html" class="Module">Data.Reflection.Instances.FromString</a>
<a id="467" class="Keyword">open</a> <a id="472" class="Keyword">import</a> <a id="479" href="Data.Reflection.Name.html" class="Module">Data.Reflection.Name</a>
<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Data.Reflection.Term.html" class="Module">Data.Reflection.Term</a>

<a id="534" class="Keyword">private</a> <a id="542" class="Keyword">variable</a>
  <a id="553" href="Meta.Reflection.Solver.html#553" class="Generalizable">ℓ</a> <a id="555" class="Symbol">:</a> <a id="557" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="565" href="Meta.Reflection.Solver.html#565" class="Generalizable">A</a> <a id="567" href="Meta.Reflection.Solver.html#567" class="Generalizable">T</a> <a id="569" class="Symbol">:</a> <a id="571" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="576" href="Meta.Reflection.Solver.html#553" class="Generalizable">ℓ</a>

<a id="579" class="Comment">--------------------------------------------------------------------------------</a>
<a id="660" class="Comment">-- Helpers</a>

<a id="solver-failed"></a><a id="672" href="Meta.Reflection.Solver.html#672" class="Function">solver-failed</a> <a id="686" class="Symbol">:</a> <a id="688" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="693" class="Symbol">→</a> <a id="695" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="700" class="Symbol">→</a> <a id="702" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="705" href="Meta.Reflection.Solver.html#565" class="Generalizable">A</a>
<a id="707" href="Meta.Reflection.Solver.html#672" class="Function">solver-failed</a> <a id="721" href="Meta.Reflection.Solver.html#721" class="Bound">lhs</a> <a id="725" href="Meta.Reflection.Solver.html#725" class="Bound">rhs</a> <a id="729" class="Symbol">=</a> <a id="731" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a>
  <a id="744" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="746" class="String">&quot;Could not equate the following expressions:\n  &quot;</a>
  <a id="798" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="800" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="809" href="Meta.Reflection.Solver.html#721" class="Bound">lhs</a> <a id="813" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="815" class="String">&quot;\nAnd\n  &quot;</a> <a id="827" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="829" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="838" href="Meta.Reflection.Solver.html#725" class="Bound">rhs</a> <a id="842" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="print-repr"></a><a id="845" href="Meta.Reflection.Solver.html#845" class="Function">print-repr</a> <a id="856" class="Symbol">:</a> <a id="858" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="863" class="Symbol">→</a> <a id="865" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="870" class="Symbol">→</a> <a id="872" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="875" href="Meta.Reflection.Solver.html#565" class="Generalizable">A</a>
<a id="877" href="Meta.Reflection.Solver.html#845" class="Function">print-repr</a> <a id="888" href="Meta.Reflection.Solver.html#888" class="Bound">tm</a> <a id="891" href="Meta.Reflection.Solver.html#891" class="Bound">repr</a> <a id="896" class="Symbol">=</a> <a id="898" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a>
  <a id="911" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="913" class="String">&quot;The expression\n  &quot;</a> <a id="934" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="936" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="945" href="Meta.Reflection.Solver.html#888" class="Bound">tm</a>
  <a id="950" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="952" class="String">&quot;\nIs represented by the expression\n  &quot;</a> <a id="993" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="995" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1004" href="Meta.Reflection.Solver.html#891" class="Bound">repr</a> <a id="1009" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="print-var-repr"></a><a id="1012" href="Meta.Reflection.Solver.html#1012" class="Function">print-var-repr</a> <a id="1027" class="Symbol">:</a> <a id="1029" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1034" class="Symbol">→</a> <a id="1036" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1041" class="Symbol">→</a> <a id="1043" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1048" class="Symbol">→</a> <a id="1050" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1053" href="Meta.Reflection.Solver.html#565" class="Generalizable">A</a>
<a id="1055" href="Meta.Reflection.Solver.html#1012" class="Function">print-var-repr</a> <a id="1070" href="Meta.Reflection.Solver.html#1070" class="Bound">tm</a> <a id="1073" href="Meta.Reflection.Solver.html#1073" class="Bound">repr</a> <a id="1078" href="Meta.Reflection.Solver.html#1078" class="Bound">env</a> <a id="1082" class="Symbol">=</a> <a id="1084" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a>
  <a id="1097" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="1099" class="String">&quot;The expression\n  &quot;</a> <a id="1120" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1122" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1131" href="Meta.Reflection.Solver.html#1070" class="Bound">tm</a>
  <a id="1136" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1138" class="String">&quot;\nIs represented by the expression\n  &quot;</a> <a id="1179" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1181" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1190" href="Meta.Reflection.Solver.html#1073" class="Bound">repr</a>
  <a id="1197" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1199" class="String">&quot;\nIn the environment\n  &quot;</a> <a id="1226" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1228" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1237" href="Meta.Reflection.Solver.html#1078" class="Bound">env</a> <a id="1241" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="print-boundary"></a><a id="1244" href="Meta.Reflection.Solver.html#1244" class="Function">print-boundary</a> <a id="1259" class="Symbol">:</a> <a id="1261" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1266" class="Symbol">→</a> <a id="1268" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1271" href="Meta.Reflection.Solver.html#565" class="Generalizable">A</a>
<a id="1273" href="Meta.Reflection.Solver.html#1244" class="Function">print-boundary</a> <a id="1288" href="Meta.Reflection.Solver.html#1288" class="Bound">goal</a> <a id="1293" class="Symbol">=</a> <a id="1295" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="1306" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="1308" class="String">&quot;Can&#39;t determine boundary: &quot;</a> <a id="1337" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1339" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1348" href="Meta.Reflection.Solver.html#1288" class="Bound">goal</a> <a id="1353" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>


<a id="1357" class="Keyword">data</a> <a id="Reduction-strategy"></a><a id="1362" href="Meta.Reflection.Solver.html#1362" class="Datatype">Reduction-strategy</a> <a id="1381" class="Symbol">:</a> <a id="1383" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1388" class="Keyword">where</a>
  <a id="Reduction-strategy.no"></a><a id="1396" href="Meta.Reflection.Solver.html#1396" class="InductiveConstructor">no</a> <a id="Reduction-strategy.whnf"></a><a id="1399" href="Meta.Reflection.Solver.html#1399" class="InductiveConstructor">whnf</a> <a id="Reduction-strategy.norm"></a><a id="1404" href="Meta.Reflection.Solver.html#1404" class="InductiveConstructor">norm</a> <a id="1409" class="Symbol">:</a> <a id="1411" href="Meta.Reflection.Solver.html#1362" class="Datatype">Reduction-strategy</a>

<a id="1431" class="Keyword">private</a>
  <a id="prepare′"></a><a id="1441" href="Meta.Reflection.Solver.html#1441" class="Function">prepare′</a> <a id="1450" class="Symbol">:</a> <a id="1452" href="Meta.Reflection.Solver.html#1362" class="Datatype">Reduction-strategy</a> <a id="1471" class="Symbol">→</a> <a id="1473" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1478" class="Symbol">→</a> <a id="1480" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1483" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="1490" href="Meta.Reflection.Solver.html#1441" class="Function">prepare′</a> <a id="1499" href="Meta.Reflection.Solver.html#1396" class="InductiveConstructor">no</a>   <a id="1504" class="Symbol">=</a> <a id="1506" href="Meta.Effect.Idiom.html#376" class="Field">pure</a>
  <a id="1513" href="Meta.Reflection.Solver.html#1441" class="Function">prepare′</a> <a id="1522" href="Meta.Reflection.Solver.html#1399" class="InductiveConstructor">whnf</a> <a id="1527" class="Symbol">=</a> <a id="1529" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a>
  <a id="1538" href="Meta.Reflection.Solver.html#1441" class="Function">prepare′</a> <a id="1547" href="Meta.Reflection.Solver.html#1404" class="InductiveConstructor">norm</a> <a id="1552" class="Symbol">=</a> <a id="1554" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a>


<a id="1566" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1647" class="Comment">-- Simple Solvers</a>

<a id="1666" class="Keyword">record</a> <a id="Simple-solver"></a><a id="1673" href="Meta.Reflection.Solver.html#1673" class="Record">Simple-solver</a> <a id="1687" class="Symbol">:</a> <a id="1689" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1694" class="Keyword">where</a>
  <a id="1702" class="Keyword">constructor</a> <a id="simple-solver"></a><a id="1714" href="Meta.Reflection.Solver.html#1714" class="InductiveConstructor">simple-solver</a>
  <a id="1730" class="Keyword">field</a>
    <a id="Simple-solver.dont-reduce"></a><a id="1740" href="Meta.Reflection.Solver.html#1740" class="Field">dont-reduce</a>       <a id="1758" class="Symbol">:</a> <a id="1760" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1765" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Simple-solver.build-expr"></a><a id="1774" href="Meta.Reflection.Solver.html#1774" class="Field">build-expr</a>        <a id="1792" class="Symbol">:</a> <a id="1794" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1799" class="Symbol">→</a> <a id="1801" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1804" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Simple-solver.strat"></a><a id="1813" href="Meta.Reflection.Solver.html#1813" class="Field">strat</a>             <a id="1831" class="Symbol">:</a> <a id="1833" href="Meta.Reflection.Solver.html#1362" class="Datatype">Reduction-strategy</a>
    <a id="Simple-solver.invoke-solver"></a><a id="1856" href="Meta.Reflection.Solver.html#1856" class="Field">invoke-solver</a>     <a id="1874" class="Symbol">:</a> <a id="1876" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1881" class="Symbol">→</a> <a id="1883" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1888" class="Symbol">→</a> <a id="1890" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Simple-solver.invoke-normaliser"></a><a id="1899" href="Meta.Reflection.Solver.html#1899" class="Field">invoke-normaliser</a> <a id="1917" class="Symbol">:</a> <a id="1919" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1924" class="Symbol">→</a> <a id="1926" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

  <a id="Simple-solver.prepare"></a><a id="1934" href="Meta.Reflection.Solver.html#1934" class="Function">prepare</a> <a id="1942" class="Symbol">=</a> <a id="1944" href="Meta.Reflection.Solver.html#1441" class="Function">prepare′</a> <a id="1953" href="Meta.Reflection.Solver.html#1813" class="Field">strat</a>

  <a id="Simple-solver.withReduction"></a><a id="1962" href="Meta.Reflection.Solver.html#1962" class="Function">withReduction</a> <a id="1976" class="Symbol">:</a> <a id="1978" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1981" href="Meta.Reflection.Solver.html#567" class="Generalizable">T</a> <a id="1983" class="Symbol">→</a> <a id="1985" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1988" href="Meta.Reflection.Solver.html#567" class="Generalizable">T</a>
  <a id="1992" href="Meta.Reflection.Solver.html#1962" class="Function">withReduction</a> <a id="2006" class="Symbol">=</a> <a id="2008" href="Agda.Builtin.Reflection.html#10159" class="Postulate">with-normalisation</a> <a id="2027" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                <a id="2049" href="Foundations.Pi.Base.html#2101" class="Function Operator">∘</a> <a id="2051" href="Agda.Builtin.Reflection.html#10803" class="Postulate">with-reduce-defs</a> <a id="2068" class="Symbol">(</a><a id="2069" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2075" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2077" href="Meta.Reflection.Solver.html#1740" class="Field">dont-reduce</a><a id="2088" class="Symbol">)</a>

<a id="2091" class="Keyword">module</a> <a id="2098" href="Meta.Reflection.Solver.html#2098" class="Module">_</a> <a id="2100" class="Symbol">(</a><a id="2101" href="Meta.Reflection.Solver.html#2101" class="Bound">solver</a> <a id="2108" class="Symbol">:</a> <a id="2110" href="Meta.Reflection.Solver.html#1673" class="Record">Simple-solver</a><a id="2123" class="Symbol">)</a> <a id="2125" class="Keyword">where</a>
  <a id="2133" class="Keyword">open</a> <a id="2138" href="Meta.Reflection.Solver.html#1673" class="Module">Simple-solver</a> <a id="2152" href="Meta.Reflection.Solver.html#2101" class="Bound">solver</a>

  <a id="2162" href="Meta.Reflection.Solver.html#2162" class="Function">mk-simple-solver</a> <a id="2179" class="Symbol">:</a> <a id="2181" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2186" class="Symbol">→</a> <a id="2188" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2191" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="2195" href="Meta.Reflection.Solver.html#2162" class="Function">mk-simple-solver</a> <a id="2212" href="Meta.Reflection.Solver.html#2212" class="Bound">hole</a> <a id="2217" class="Symbol">=</a> <a id="2219" href="Meta.Reflection.Solver.html#1962" class="Function">withReduction</a> <a id="2233" class="Keyword">do</a>
    <a id="2240" href="Meta.Reflection.Solver.html#2240" class="Bound">goal</a> <a id="2245" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2247" href="Agda.Builtin.Reflection.html#8893" class="Postulate">infer-type</a> <a id="2258" href="Meta.Reflection.Solver.html#2212" class="Bound">hole</a> <a id="2263" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2267" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a>
    <a id="2278" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2283" class="Symbol">(</a><a id="2284" href="Meta.Reflection.Solver.html#2284" class="Bound">lhs</a> <a id="2288" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2290" href="Meta.Reflection.Solver.html#2290" class="Bound">rhs</a><a id="2293" class="Symbol">)</a> <a id="2295" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2297" href="Meta.Reflection.Base.html#8439" class="Function">get-boundary</a> <a id="2310" href="Meta.Reflection.Solver.html#2240" class="Bound">goal</a> <a id="2315" class="Keyword">where</a>
      <a id="2327" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2335" class="Symbol">→</a> <a id="2337" href="Meta.Reflection.Solver.html#1244" class="Function">print-boundary</a> <a id="2352" href="Meta.Reflection.Solver.html#2240" class="Bound">goal</a>
    <a id="2361" href="Meta.Reflection.Solver.html#2361" class="Bound">lhs</a> <a id="2365" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2367" href="Meta.Reflection.Base.html#6329" class="Function">wait-just-a-bit</a> <a id="2383" href="Meta.Reflection.Solver.html#2284" class="Bound">lhs</a>
    <a id="2391" href="Meta.Reflection.Solver.html#2391" class="Bound">rhs</a> <a id="2395" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2397" href="Meta.Reflection.Base.html#6329" class="Function">wait-just-a-bit</a> <a id="2413" href="Meta.Reflection.Solver.html#2290" class="Bound">rhs</a>
    <a id="2421" href="Meta.Reflection.Solver.html#2421" class="Bound">elhs</a> <a id="2426" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2428" href="Meta.Reflection.Solver.html#1934" class="Function">prepare</a> <a id="2436" href="Meta.Reflection.Solver.html#2361" class="Bound">lhs</a> <a id="2440" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2444" href="Meta.Reflection.Solver.html#1774" class="Field">build-expr</a>
    <a id="2459" href="Meta.Reflection.Solver.html#2459" class="Bound">erhs</a> <a id="2464" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2466" href="Meta.Reflection.Solver.html#1934" class="Function">prepare</a> <a id="2474" href="Meta.Reflection.Solver.html#2391" class="Bound">rhs</a> <a id="2478" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2482" href="Meta.Reflection.Solver.html#1774" class="Field">build-expr</a>
    <a id="2497" href="Agda.Builtin.Reflection.html#11236" class="Postulate">no-constraints</a> <a id="2512" class="Symbol">(</a><a id="2513" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2519" href="Meta.Reflection.Solver.html#2212" class="Bound">hole</a> <a id="2524" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="2526" href="Meta.Reflection.Solver.html#1856" class="Field">invoke-solver</a> <a id="2540" href="Meta.Reflection.Solver.html#2421" class="Bound">elhs</a> <a id="2545" href="Meta.Reflection.Solver.html#2459" class="Bound">erhs</a><a id="2549" class="Symbol">)</a>
      <a id="2557" href="Meta.Effect.Alt.html#342" class="Field Operator">&lt;|&gt;</a> <a id="2561" href="Meta.Reflection.Solver.html#672" class="Function">solver-failed</a> <a id="2575" href="Meta.Reflection.Solver.html#2421" class="Bound">elhs</a> <a id="2580" href="Meta.Reflection.Solver.html#2459" class="Bound">erhs</a>

  <a id="2588" href="Meta.Reflection.Solver.html#2588" class="Function">mk-simple-normalise</a> <a id="2608" class="Symbol">:</a> <a id="2610" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2615" class="Symbol">→</a> <a id="2617" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2622" class="Symbol">→</a> <a id="2624" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2627" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="2631" href="Meta.Reflection.Solver.html#2588" class="Function">mk-simple-normalise</a> <a id="2651" href="Meta.Reflection.Solver.html#2651" class="Bound">tm</a> <a id="2654" href="Meta.Reflection.Solver.html#2654" class="Bound">hole</a> <a id="2659" class="Symbol">=</a> <a id="2661" href="Meta.Reflection.Solver.html#1962" class="Function">withReduction</a> <a id="2675" class="Keyword">do</a>
    <a id="2682" href="Meta.Reflection.Solver.html#2682" class="Bound">e</a> <a id="2684" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2686" href="Meta.Reflection.Solver.html#1934" class="Function">prepare</a> <a id="2694" href="Meta.Reflection.Solver.html#2651" class="Bound">tm</a> <a id="2697" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2701" href="Meta.Reflection.Solver.html#1774" class="Field">build-expr</a>
    <a id="2716" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2722" href="Meta.Reflection.Solver.html#2654" class="Bound">hole</a> <a id="2727" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="2729" href="Meta.Reflection.Solver.html#1899" class="Field">invoke-normaliser</a> <a id="2747" href="Meta.Reflection.Solver.html#2682" class="Bound">e</a>

  <a id="2752" href="Meta.Reflection.Solver.html#2752" class="Function">mk-simple-repr</a> <a id="2767" class="Symbol">:</a> <a id="2769" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2774" class="Symbol">→</a> <a id="2776" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2781" class="Symbol">→</a> <a id="2783" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2786" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="2790" href="Meta.Reflection.Solver.html#2752" class="Function">mk-simple-repr</a> <a id="2805" href="Meta.Reflection.Solver.html#2805" class="Bound">tm</a> <a id="2808" class="Symbol">_</a> <a id="2810" class="Symbol">=</a> <a id="2812" href="Meta.Reflection.Solver.html#1962" class="Function">withReduction</a> <a id="2826" class="Keyword">do</a>
    <a id="2833" href="Meta.Reflection.Solver.html#2833" class="Bound">repr</a> <a id="2838" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2840" href="Meta.Reflection.Solver.html#1934" class="Function">prepare</a> <a id="2848" href="Meta.Reflection.Solver.html#2805" class="Bound">tm</a> <a id="2851" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2855" href="Meta.Reflection.Solver.html#1774" class="Field">build-expr</a>
    <a id="2870" href="Meta.Reflection.Solver.html#845" class="Function">print-repr</a> <a id="2881" href="Meta.Reflection.Solver.html#2805" class="Bound">tm</a> <a id="2884" href="Meta.Reflection.Solver.html#2833" class="Bound">repr</a>


<a id="2891" class="Comment">--------------------------------------------------------------------------------</a>
<a id="2972" class="Comment">-- Solvers with Variables</a>

<a id="2999" class="Keyword">record</a> <a id="Variable-solver"></a><a id="3006" href="Meta.Reflection.Solver.html#3006" class="Record">Variable-solver</a> <a id="3022" class="Symbol">{</a><a id="3023" href="Meta.Reflection.Solver.html#3023" class="Bound">ℓ</a><a id="3024" class="Symbol">}</a> <a id="3026" class="Symbol">(</a><a id="3027" href="Meta.Reflection.Solver.html#3027" class="Bound">A</a> <a id="3029" class="Symbol">:</a> <a id="3031" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3036" href="Meta.Reflection.Solver.html#3023" class="Bound">ℓ</a><a id="3037" class="Symbol">)</a> <a id="3039" class="Symbol">:</a> <a id="3041" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3046" href="Meta.Reflection.Solver.html#3023" class="Bound">ℓ</a> <a id="3048" class="Keyword">where</a>
  <a id="3056" class="Keyword">constructor</a> <a id="var-solver"></a><a id="3068" href="Meta.Reflection.Solver.html#3068" class="InductiveConstructor">var-solver</a>
  <a id="3081" class="Keyword">field</a>
    <a id="Variable-solver.dont-reduce"></a><a id="3091" href="Meta.Reflection.Solver.html#3091" class="Field">dont-reduce</a>       <a id="3109" class="Symbol">:</a> <a id="3111" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3116" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Variable-solver.build-expr"></a><a id="3125" href="Meta.Reflection.Solver.html#3125" class="Field">build-expr</a>        <a id="3143" class="Symbol">:</a> <a id="3145" href="Meta.Reflection.Variables.html#1995" class="Record">Variables</a> <a id="3155" href="Meta.Reflection.Solver.html#3027" class="Bound">A</a> <a id="3157" class="Symbol">→</a> <a id="3159" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3164" class="Symbol">→</a> <a id="3166" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3169" class="Symbol">(</a><a id="3170" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3175" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="3177" href="Meta.Reflection.Variables.html#1995" class="Record">Variables</a> <a id="3187" href="Meta.Reflection.Solver.html#3027" class="Bound">A</a><a id="3188" class="Symbol">)</a>
    <a id="Variable-solver.strat"></a><a id="3194" href="Meta.Reflection.Solver.html#3194" class="Field">strat</a>             <a id="3212" class="Symbol">:</a> <a id="3214" href="Meta.Reflection.Solver.html#1362" class="Datatype">Reduction-strategy</a>
    <a id="Variable-solver.invoke-solver"></a><a id="3237" href="Meta.Reflection.Solver.html#3237" class="Field">invoke-solver</a>     <a id="3255" class="Symbol">:</a> <a id="3257" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3262" class="Symbol">→</a> <a id="3264" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3269" class="Symbol">→</a> <a id="3271" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3276" class="Symbol">→</a> <a id="3278" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Variable-solver.invoke-normaliser"></a><a id="3287" href="Meta.Reflection.Solver.html#3287" class="Field">invoke-normaliser</a> <a id="3305" class="Symbol">:</a> <a id="3307" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3312" class="Symbol">→</a> <a id="3314" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3319" class="Symbol">→</a> <a id="3321" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

  <a id="Variable-solver.prepare"></a><a id="3329" href="Meta.Reflection.Solver.html#3329" class="Function">prepare</a> <a id="3337" class="Symbol">=</a> <a id="3339" href="Meta.Reflection.Solver.html#1441" class="Function">prepare′</a> <a id="3348" href="Meta.Reflection.Solver.html#3194" class="Field">strat</a>

  <a id="Variable-solver.withReduction"></a><a id="3357" href="Meta.Reflection.Solver.html#3357" class="Function">withReduction</a> <a id="3371" class="Symbol">:</a> <a id="3373" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3376" href="Meta.Reflection.Solver.html#567" class="Generalizable">T</a> <a id="3378" class="Symbol">→</a> <a id="3380" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3383" href="Meta.Reflection.Solver.html#567" class="Generalizable">T</a>
  <a id="3387" href="Meta.Reflection.Solver.html#3357" class="Function">withReduction</a> <a id="3401" class="Symbol">=</a> <a id="3403" href="Agda.Builtin.Reflection.html#10159" class="Postulate">with-normalisation</a> <a id="3422" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                <a id="3444" href="Foundations.Pi.Base.html#2101" class="Function Operator">∘</a> <a id="3446" href="Agda.Builtin.Reflection.html#10803" class="Postulate">with-reduce-defs</a> <a id="3463" class="Symbol">(</a><a id="3464" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3470" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3472" href="Meta.Reflection.Solver.html#3091" class="Field">dont-reduce</a><a id="3483" class="Symbol">)</a>

<a id="3486" class="Keyword">module</a> <a id="3493" href="Meta.Reflection.Solver.html#3493" class="Module">_</a> <a id="3495" class="Symbol">{</a><a id="3496" href="Meta.Reflection.Solver.html#3496" class="Bound">ℓ</a><a id="3497" class="Symbol">}</a> <a id="3499" class="Symbol">{</a><a id="3500" href="Meta.Reflection.Solver.html#3500" class="Bound">A</a> <a id="3502" class="Symbol">:</a> <a id="3504" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3509" href="Meta.Reflection.Solver.html#3496" class="Bound">ℓ</a><a id="3510" class="Symbol">}</a> <a id="3512" class="Symbol">(</a><a id="3513" href="Meta.Reflection.Solver.html#3513" class="Bound">solver</a> <a id="3520" class="Symbol">:</a> <a id="3522" href="Meta.Reflection.Solver.html#3006" class="Record">Variable-solver</a> <a id="3538" href="Meta.Reflection.Solver.html#3500" class="Bound">A</a><a id="3539" class="Symbol">)</a> <a id="3541" class="Keyword">where</a>
  <a id="3549" class="Keyword">open</a> <a id="3554" href="Meta.Reflection.Solver.html#3006" class="Module">Variable-solver</a> <a id="3570" href="Meta.Reflection.Solver.html#3513" class="Bound">solver</a>

  <a id="3580" href="Meta.Reflection.Solver.html#3580" class="Function">mk-var-solver</a> <a id="3594" class="Symbol">:</a> <a id="3596" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3601" class="Symbol">→</a> <a id="3603" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3606" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="3610" href="Meta.Reflection.Solver.html#3580" class="Function">mk-var-solver</a> <a id="3624" href="Meta.Reflection.Solver.html#3624" class="Bound">hole</a> <a id="3629" class="Symbol">=</a> <a id="3631" href="Meta.Reflection.Solver.html#3357" class="Function">withReduction</a> <a id="3645" class="Keyword">do</a>
    <a id="3652" href="Meta.Reflection.Solver.html#3652" class="Bound">goal</a> <a id="3657" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3659" href="Agda.Builtin.Reflection.html#8893" class="Postulate">infer-type</a> <a id="3670" href="Meta.Reflection.Solver.html#3624" class="Bound">hole</a> <a id="3675" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="3679" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a>
    <a id="3690" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3695" class="Symbol">(</a><a id="3696" href="Meta.Reflection.Solver.html#3696" class="Bound">lhs</a> <a id="3700" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3702" href="Meta.Reflection.Solver.html#3702" class="Bound">rhs</a><a id="3705" class="Symbol">)</a> <a id="3707" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3709" href="Meta.Reflection.Base.html#8439" class="Function">get-boundary</a> <a id="3722" href="Meta.Reflection.Solver.html#3652" class="Bound">goal</a>
      <a id="3733" class="Keyword">where</a> <a id="3739" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3747" class="Symbol">→</a> <a id="3749" href="Meta.Reflection.Solver.html#1244" class="Function">print-boundary</a> <a id="3764" href="Meta.Reflection.Solver.html#3652" class="Bound">goal</a>
    <a id="3773" href="Meta.Reflection.Solver.html#3773" class="Bound">lhs</a> <a id="3777" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3779" href="Meta.Reflection.Base.html#6329" class="Function">wait-just-a-bit</a> <a id="3795" href="Meta.Reflection.Solver.html#3696" class="Bound">lhs</a>
    <a id="3803" href="Meta.Reflection.Solver.html#3803" class="Bound">rhs</a> <a id="3807" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3809" href="Meta.Reflection.Base.html#6329" class="Function">wait-just-a-bit</a> <a id="3825" href="Meta.Reflection.Solver.html#3702" class="Bound">rhs</a>
    <a id="3833" href="Meta.Reflection.Solver.html#3833" class="Bound">elhs</a> <a id="3838" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3840" href="Meta.Reflection.Solver.html#3840" class="Bound">vs</a> <a id="3843" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3845" href="Meta.Reflection.Solver.html#3329" class="Function">prepare</a> <a id="3853" href="Meta.Reflection.Solver.html#3773" class="Bound">lhs</a> <a id="3857" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="3861" href="Meta.Reflection.Solver.html#3125" class="Field">build-expr</a> <a id="3872" href="Meta.Reflection.Variables.html#2306" class="Function">empty-vars</a>
    <a id="3887" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="3899" class="String">&quot;tactic.solver.var&quot;</a> <a id="3919" class="Number">10</a> <a id="3922" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="3924" class="String">&quot;LHS: &quot;</a> <a id="3932" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3934" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="3943" href="Meta.Reflection.Solver.html#3833" class="Bound">elhs</a> <a id="3948" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="3954" href="Meta.Reflection.Solver.html#3954" class="Bound">erhs</a> <a id="3959" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3961" href="Meta.Reflection.Solver.html#3961" class="Bound">vs</a> <a id="3964" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3966" href="Meta.Reflection.Solver.html#3329" class="Function">prepare</a> <a id="3974" href="Meta.Reflection.Solver.html#3803" class="Bound">rhs</a> <a id="3978" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="3982" href="Meta.Reflection.Solver.html#3125" class="Field">build-expr</a> <a id="3993" href="Meta.Reflection.Solver.html#3840" class="Bound">vs</a>
    <a id="4000" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4012" class="String">&quot;tactic.solver.var&quot;</a> <a id="4032" class="Number">10</a> <a id="4035" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="4037" class="String">&quot;RHS: &quot;</a> <a id="4045" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4047" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4056" href="Meta.Reflection.Solver.html#3954" class="Bound">erhs</a> <a id="4061" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="4067" href="Meta.Reflection.Solver.html#4067" class="Bound">size</a> <a id="4072" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4074" href="Meta.Reflection.Solver.html#4074" class="Bound">env</a> <a id="4078" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4080" href="Meta.Reflection.Variables.html#3549" class="Function">environment</a> <a id="4092" href="Meta.Reflection.Solver.html#3961" class="Bound">vs</a>
    <a id="4099" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4111" class="String">&quot;tactic.solver.var&quot;</a> <a id="4131" class="Number">10</a> <a id="4134" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="4136" class="String">&quot;Env: &quot;</a> <a id="4144" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4146" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4155" href="Meta.Reflection.Solver.html#4074" class="Bound">env</a> <a id="4159" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="4165" class="Symbol">(</a><a id="4166" href="Agda.Builtin.Reflection.html#11236" class="Postulate">no-constraints</a> <a id="4181" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="4183" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="4189" href="Meta.Reflection.Solver.html#3624" class="Bound">hole</a> <a id="4194" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="4196" href="Meta.Reflection.Solver.html#3237" class="Field">invoke-solver</a> <a id="4210" href="Meta.Reflection.Solver.html#3833" class="Bound">elhs</a> <a id="4215" href="Meta.Reflection.Solver.html#3954" class="Bound">erhs</a> <a id="4220" href="Meta.Reflection.Solver.html#4074" class="Bound">env</a><a id="4223" class="Symbol">)</a> <a id="4225" href="Meta.Effect.Alt.html#342" class="Field Operator">&lt;|&gt;</a>
      <a id="4235" href="Meta.Reflection.Solver.html#672" class="Function">solver-failed</a> <a id="4249" href="Meta.Reflection.Solver.html#3833" class="Bound">elhs</a> <a id="4254" href="Meta.Reflection.Solver.html#3954" class="Bound">erhs</a>

  <a id="4262" href="Meta.Reflection.Solver.html#4262" class="Function">mk-var-normalise</a> <a id="4279" class="Symbol">:</a> <a id="4281" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4286" class="Symbol">→</a> <a id="4288" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4293" class="Symbol">→</a> <a id="4295" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4298" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="4302" href="Meta.Reflection.Solver.html#4262" class="Function">mk-var-normalise</a> <a id="4319" href="Meta.Reflection.Solver.html#4319" class="Bound">tm</a> <a id="4322" href="Meta.Reflection.Solver.html#4322" class="Bound">hole</a> <a id="4327" class="Symbol">=</a> <a id="4329" href="Meta.Reflection.Solver.html#3357" class="Function">withReduction</a> <a id="4343" class="Keyword">do</a>
    <a id="4350" href="Meta.Reflection.Solver.html#4350" class="Bound">e</a> <a id="4352" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4354" href="Meta.Reflection.Solver.html#4354" class="Bound">vs</a> <a id="4357" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4359" href="Meta.Reflection.Solver.html#3329" class="Function">prepare</a> <a id="4367" href="Meta.Reflection.Solver.html#4319" class="Bound">tm</a> <a id="4370" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="4374" href="Meta.Reflection.Solver.html#3125" class="Field">build-expr</a> <a id="4385" href="Meta.Reflection.Variables.html#2306" class="Function">empty-vars</a>
    <a id="4400" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4412" class="String">&quot;tactic.solver.var&quot;</a> <a id="4432" class="Number">10</a> <a id="4435" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="4437" class="String">&quot;Expression: &quot;</a> <a id="4452" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4454" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4463" href="Meta.Reflection.Solver.html#4350" class="Bound">e</a> <a id="4465" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="4471" href="Meta.Reflection.Solver.html#4471" class="Bound">size</a> <a id="4476" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4478" href="Meta.Reflection.Solver.html#4478" class="Bound">env</a> <a id="4482" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4484" href="Meta.Reflection.Variables.html#3549" class="Function">environment</a> <a id="4496" href="Meta.Reflection.Solver.html#4354" class="Bound">vs</a>
    <a id="4503" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4515" class="String">&quot;tactic.solver.var&quot;</a> <a id="4535" class="Number">10</a> <a id="4538" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="4540" class="String">&quot;Env: &quot;</a> <a id="4548" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4550" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4559" href="Meta.Reflection.Solver.html#4478" class="Bound">env</a> <a id="4563" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="4569" href="Meta.Reflection.Solver.html#4569" class="Bound">soln</a> <a id="4574" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4576" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a> <a id="4583" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="4585" href="Meta.Reflection.Solver.html#3287" class="Field">invoke-normaliser</a> <a id="4603" href="Meta.Reflection.Solver.html#4350" class="Bound">e</a> <a id="4605" href="Meta.Reflection.Solver.html#4478" class="Bound">env</a>
    <a id="4613" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="4619" href="Meta.Reflection.Solver.html#4322" class="Bound">hole</a> <a id="4624" href="Meta.Reflection.Solver.html#4569" class="Bound">soln</a>

  <a id="4632" href="Meta.Reflection.Solver.html#4632" class="Function">mk-var-repr</a> <a id="4644" class="Symbol">:</a> <a id="4646" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4651" class="Symbol">→</a> <a id="4653" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4656" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="4660" href="Meta.Reflection.Solver.html#4632" class="Function">mk-var-repr</a> <a id="4672" href="Meta.Reflection.Solver.html#4672" class="Bound">tm</a> <a id="4675" class="Symbol">=</a> <a id="4677" href="Meta.Reflection.Solver.html#3357" class="Function">withReduction</a> <a id="4691" class="Keyword">do</a>
    <a id="4698" href="Meta.Reflection.Solver.html#4698" class="Bound">repr</a> <a id="4703" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4705" href="Meta.Reflection.Solver.html#4705" class="Bound">vs</a> <a id="4708" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4710" href="Meta.Reflection.Solver.html#3329" class="Function">prepare</a> <a id="4718" href="Meta.Reflection.Solver.html#4672" class="Bound">tm</a> <a id="4721" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="4725" href="Meta.Reflection.Solver.html#3125" class="Field">build-expr</a> <a id="4736" href="Meta.Reflection.Variables.html#2306" class="Function">empty-vars</a>
    <a id="4751" href="Meta.Reflection.Solver.html#4751" class="Bound">size</a> <a id="4756" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4758" href="Meta.Reflection.Solver.html#4758" class="Bound">env</a> <a id="4762" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4764" href="Meta.Reflection.Variables.html#3549" class="Function">environment</a> <a id="4776" href="Meta.Reflection.Solver.html#4705" class="Bound">vs</a>
    <a id="4783" href="Meta.Reflection.Solver.html#1012" class="Function">print-var-repr</a> <a id="4798" href="Meta.Reflection.Solver.html#4672" class="Bound">tm</a> <a id="4801" href="Meta.Reflection.Solver.html#4698" class="Bound">repr</a> <a id="4806" href="Meta.Reflection.Solver.html#4758" class="Bound">env</a>
</pre></body></html>