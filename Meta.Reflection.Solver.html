<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Reflection.Solver</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.Reflection.Solver.html" class="Module">Meta.Reflection.Solver</a> <a id="54" class="Keyword">where</a>

<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Meta.Effect.Choice.html" class="Module">Meta.Effect.Choice</a>
<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Meta.Effect.Alt.html" class="Module">Meta.Effect.Alt</a>
<a id="150" class="Keyword">open</a> <a id="155" class="Keyword">import</a> <a id="162" href="Meta.Effect.Bind.html" class="Module">Meta.Effect.Bind</a>
<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Meta.Effect.Idiom.html" class="Module">Meta.Effect.Idiom</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Meta.Literals.FromString.html" class="Module">Meta.Literals.FromString</a>
<a id="246" class="Keyword">open</a> <a id="251" class="Keyword">import</a> <a id="258" href="Meta.Reflection.Base.html" class="Module">Meta.Reflection.Base</a>
<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Meta.Reflection.Variables.html" class="Module">Meta.Reflection.Variables</a>

<a id="318" class="Keyword">open</a> <a id="323" class="Keyword">import</a> <a id="330" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="444" class="Keyword">open</a> <a id="449" class="Keyword">import</a> <a id="456" href="Data.Nat.Instances.FromNat.html" class="Module">Data.Nat.Instances.FromNat</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Data.Reflection.Error.html" class="Module">Data.Reflection.Error</a>
<a id="517" class="Keyword">open</a> <a id="522" class="Keyword">import</a> <a id="529" href="Data.Reflection.Instances.FromString.html" class="Module">Data.Reflection.Instances.FromString</a>
<a id="566" class="Keyword">open</a> <a id="571" class="Keyword">import</a> <a id="578" href="Data.Reflection.Name.html" class="Module">Data.Reflection.Name</a>
<a id="599" class="Keyword">open</a> <a id="604" class="Keyword">import</a> <a id="611" href="Data.Reflection.Term.html" class="Module">Data.Reflection.Term</a>
<a id="632" class="Keyword">open</a> <a id="637" class="Keyword">import</a> <a id="644" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a>

<a id="660" class="Keyword">open</a> <a id="665" href="Meta.Effect.Choice.html#167" class="Module">Choice</a> <a id="672" class="Symbol">⦃</a> <a id="674" class="Symbol">...</a> <a id="678" class="Symbol">⦄</a>
<a id="680" class="Keyword">open</a> <a id="685" href="Meta.Effect.Alt.html#309" class="Module">Alt</a> <a id="689" class="Symbol">⦃</a> <a id="691" class="Symbol">...</a> <a id="695" class="Symbol">⦄</a>
<a id="697" class="Keyword">open</a> <a id="702" href="Meta.Effect.Bind.Base.html#236" class="Module">Bind</a> <a id="707" class="Symbol">⦃</a> <a id="709" class="Symbol">...</a> <a id="713" class="Symbol">⦄</a>
<a id="715" class="Keyword">open</a> <a id="720" href="Meta.Effect.Idiom.Base.html#330" class="Module">Idiom</a> <a id="726" class="Symbol">⦃</a> <a id="728" class="Symbol">...</a> <a id="732" class="Symbol">⦄</a>

<a id="735" class="Keyword">private</a> <a id="743" class="Keyword">variable</a>
  <a id="754" href="Meta.Reflection.Solver.html#754" class="Generalizable">ℓ</a> <a id="756" class="Symbol">:</a> <a id="758" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="766" href="Meta.Reflection.Solver.html#766" class="Generalizable">A</a> <a id="768" href="Meta.Reflection.Solver.html#768" class="Generalizable">T</a> <a id="770" class="Symbol">:</a> <a id="772" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="777" href="Meta.Reflection.Solver.html#754" class="Generalizable">ℓ</a>

<a id="780" class="Comment">--------------------------------------------------------------------------------</a>
<a id="861" class="Comment">-- Helpers</a>

<a id="solver-failed"></a><a id="873" href="Meta.Reflection.Solver.html#873" class="Function">solver-failed</a> <a id="887" class="Symbol">:</a> <a id="889" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="894" class="Symbol">→</a> <a id="896" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="901" class="Symbol">→</a> <a id="903" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="906" href="Meta.Reflection.Solver.html#766" class="Generalizable">A</a>
<a id="908" href="Meta.Reflection.Solver.html#873" class="Function">solver-failed</a> <a id="922" href="Meta.Reflection.Solver.html#922" class="Bound">lhs</a> <a id="926" href="Meta.Reflection.Solver.html#926" class="Bound">rhs</a> <a id="930" class="Symbol">=</a> <a id="932" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a>
  <a id="945" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="947" class="String">&quot;Could not equate the following expressions:\n  &quot;</a>
  <a id="999" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1001" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1010" href="Meta.Reflection.Solver.html#922" class="Bound">lhs</a> <a id="1014" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1016" class="String">&quot;\nAnd\n  &quot;</a> <a id="1028" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1030" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1039" href="Meta.Reflection.Solver.html#926" class="Bound">rhs</a> <a id="1043" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>

<a id="print-repr"></a><a id="1046" href="Meta.Reflection.Solver.html#1046" class="Function">print-repr</a> <a id="1057" class="Symbol">:</a> <a id="1059" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1064" class="Symbol">→</a> <a id="1066" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1071" class="Symbol">→</a> <a id="1073" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1076" href="Meta.Reflection.Solver.html#766" class="Generalizable">A</a>
<a id="1078" href="Meta.Reflection.Solver.html#1046" class="Function">print-repr</a> <a id="1089" href="Meta.Reflection.Solver.html#1089" class="Bound">tm</a> <a id="1092" href="Meta.Reflection.Solver.html#1092" class="Bound">repr</a> <a id="1097" class="Symbol">=</a> <a id="1099" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a>
  <a id="1112" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="1114" class="String">&quot;The expression\n  &quot;</a> <a id="1135" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1137" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1146" href="Meta.Reflection.Solver.html#1089" class="Bound">tm</a>
  <a id="1151" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1153" class="String">&quot;\nIs represented by the expression\n  &quot;</a> <a id="1194" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1196" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1205" href="Meta.Reflection.Solver.html#1092" class="Bound">repr</a> <a id="1210" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>

<a id="print-var-repr"></a><a id="1213" href="Meta.Reflection.Solver.html#1213" class="Function">print-var-repr</a> <a id="1228" class="Symbol">:</a> <a id="1230" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1235" class="Symbol">→</a> <a id="1237" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1242" class="Symbol">→</a> <a id="1244" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1249" class="Symbol">→</a> <a id="1251" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1254" href="Meta.Reflection.Solver.html#766" class="Generalizable">A</a>
<a id="1256" href="Meta.Reflection.Solver.html#1213" class="Function">print-var-repr</a> <a id="1271" href="Meta.Reflection.Solver.html#1271" class="Bound">tm</a> <a id="1274" href="Meta.Reflection.Solver.html#1274" class="Bound">repr</a> <a id="1279" href="Meta.Reflection.Solver.html#1279" class="Bound">env</a> <a id="1283" class="Symbol">=</a> <a id="1285" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a>
  <a id="1298" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="1300" class="String">&quot;The expression\n  &quot;</a> <a id="1321" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1323" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1332" href="Meta.Reflection.Solver.html#1271" class="Bound">tm</a>
  <a id="1337" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1339" class="String">&quot;\nIs represented by the expression\n  &quot;</a> <a id="1380" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1382" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1391" href="Meta.Reflection.Solver.html#1274" class="Bound">repr</a>
  <a id="1398" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1400" class="String">&quot;\nIn the environment\n  &quot;</a> <a id="1427" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1429" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1438" href="Meta.Reflection.Solver.html#1279" class="Bound">env</a> <a id="1442" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>

<a id="print-boundary"></a><a id="1445" href="Meta.Reflection.Solver.html#1445" class="Function">print-boundary</a> <a id="1460" class="Symbol">:</a> <a id="1462" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1467" class="Symbol">→</a> <a id="1469" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1472" href="Meta.Reflection.Solver.html#766" class="Generalizable">A</a>
<a id="1474" href="Meta.Reflection.Solver.html#1445" class="Function">print-boundary</a> <a id="1489" href="Meta.Reflection.Solver.html#1489" class="Bound">goal</a> <a id="1494" class="Symbol">=</a> <a id="1496" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="1507" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="1509" class="String">&quot;Can&#39;t determine boundary: &quot;</a> <a id="1538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1540" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1549" href="Meta.Reflection.Solver.html#1489" class="Bound">goal</a> <a id="1554" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>


<a id="1558" class="Keyword">data</a> <a id="Reduction-strategy"></a><a id="1563" href="Meta.Reflection.Solver.html#1563" class="Datatype">Reduction-strategy</a> <a id="1582" class="Symbol">:</a> <a id="1584" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1589" class="Keyword">where</a>
  <a id="Reduction-strategy.no"></a><a id="1597" href="Meta.Reflection.Solver.html#1597" class="InductiveConstructor">no</a> <a id="Reduction-strategy.whnf"></a><a id="1600" href="Meta.Reflection.Solver.html#1600" class="InductiveConstructor">whnf</a> <a id="Reduction-strategy.norm"></a><a id="1605" href="Meta.Reflection.Solver.html#1605" class="InductiveConstructor">norm</a> <a id="1610" class="Symbol">:</a> <a id="1612" href="Meta.Reflection.Solver.html#1563" class="Datatype">Reduction-strategy</a>

<a id="1632" class="Keyword">private</a>
  <a id="prepare′"></a><a id="1642" href="Meta.Reflection.Solver.html#1642" class="Function">prepare′</a> <a id="1651" class="Symbol">:</a> <a id="1653" href="Meta.Reflection.Solver.html#1563" class="Datatype">Reduction-strategy</a> <a id="1672" class="Symbol">→</a> <a id="1674" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1679" class="Symbol">→</a> <a id="1681" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1684" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="1691" href="Meta.Reflection.Solver.html#1642" class="Function">prepare′</a> <a id="1700" href="Meta.Reflection.Solver.html#1597" class="InductiveConstructor">no</a>   <a id="1705" class="Symbol">=</a> <a id="1707" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a>
  <a id="1714" href="Meta.Reflection.Solver.html#1642" class="Function">prepare′</a> <a id="1723" href="Meta.Reflection.Solver.html#1600" class="InductiveConstructor">whnf</a> <a id="1728" class="Symbol">=</a> <a id="1730" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a>
  <a id="1739" href="Meta.Reflection.Solver.html#1642" class="Function">prepare′</a> <a id="1748" href="Meta.Reflection.Solver.html#1605" class="InductiveConstructor">norm</a> <a id="1753" class="Symbol">=</a> <a id="1755" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a>


<a id="1767" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1848" class="Comment">-- Simple Solvers</a>

<a id="1867" class="Keyword">record</a> <a id="Simple-solver"></a><a id="1874" href="Meta.Reflection.Solver.html#1874" class="Record">Simple-solver</a> <a id="1888" class="Symbol">:</a> <a id="1890" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1895" class="Keyword">where</a>
  <a id="1903" class="Keyword">constructor</a> <a id="simple-solver"></a><a id="1915" href="Meta.Reflection.Solver.html#1915" class="InductiveConstructor">simple-solver</a>
  <a id="1931" class="Keyword">field</a>
    <a id="Simple-solver.dont-reduce"></a><a id="1941" href="Meta.Reflection.Solver.html#1941" class="Field">dont-reduce</a>       <a id="1959" class="Symbol">:</a> <a id="1961" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1966" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Simple-solver.build-expr"></a><a id="1975" href="Meta.Reflection.Solver.html#1975" class="Field">build-expr</a>        <a id="1993" class="Symbol">:</a> <a id="1995" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2000" class="Symbol">→</a> <a id="2002" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2005" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Simple-solver.strat"></a><a id="2014" href="Meta.Reflection.Solver.html#2014" class="Field">strat</a>             <a id="2032" class="Symbol">:</a> <a id="2034" href="Meta.Reflection.Solver.html#1563" class="Datatype">Reduction-strategy</a>
    <a id="Simple-solver.invoke-solver"></a><a id="2057" href="Meta.Reflection.Solver.html#2057" class="Field">invoke-solver</a>     <a id="2075" class="Symbol">:</a> <a id="2077" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2082" class="Symbol">→</a> <a id="2084" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2089" class="Symbol">→</a> <a id="2091" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Simple-solver.invoke-normaliser"></a><a id="2100" href="Meta.Reflection.Solver.html#2100" class="Field">invoke-normaliser</a> <a id="2118" class="Symbol">:</a> <a id="2120" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2125" class="Symbol">→</a> <a id="2127" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

  <a id="Simple-solver.prepare"></a><a id="2135" href="Meta.Reflection.Solver.html#2135" class="Function">prepare</a> <a id="2143" class="Symbol">=</a> <a id="2145" href="Meta.Reflection.Solver.html#1642" class="Function">prepare′</a> <a id="2154" href="Meta.Reflection.Solver.html#2014" class="Field">strat</a>

  <a id="Simple-solver.withReduction"></a><a id="2163" href="Meta.Reflection.Solver.html#2163" class="Function">withReduction</a> <a id="2177" class="Symbol">:</a> <a id="2179" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2182" href="Meta.Reflection.Solver.html#768" class="Generalizable">T</a> <a id="2184" class="Symbol">→</a> <a id="2186" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2189" href="Meta.Reflection.Solver.html#768" class="Generalizable">T</a>
  <a id="2193" href="Meta.Reflection.Solver.html#2163" class="Function">withReduction</a> <a id="2207" class="Symbol">=</a> <a id="2209" href="Agda.Builtin.Reflection.html#10159" class="Postulate">with-normalisation</a> <a id="2228" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                <a id="2250" href="Foundations.Pi.Base.html#3422" class="Function Operator">∘</a> <a id="2252" href="Agda.Builtin.Reflection.html#10803" class="Postulate">with-reduce-defs</a> <a id="2269" class="Symbol">(</a><a id="2270" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2276" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2278" href="Meta.Reflection.Solver.html#1941" class="Field">dont-reduce</a><a id="2289" class="Symbol">)</a>

<a id="2292" class="Keyword">module</a> <a id="2299" href="Meta.Reflection.Solver.html#2299" class="Module">_</a> <a id="2301" class="Symbol">(</a><a id="2302" href="Meta.Reflection.Solver.html#2302" class="Bound">solver</a> <a id="2309" class="Symbol">:</a> <a id="2311" href="Meta.Reflection.Solver.html#1874" class="Record">Simple-solver</a><a id="2324" class="Symbol">)</a> <a id="2326" class="Keyword">where</a>
  <a id="2334" class="Keyword">open</a> <a id="2339" href="Meta.Reflection.Solver.html#1874" class="Module">Simple-solver</a> <a id="2353" href="Meta.Reflection.Solver.html#2302" class="Bound">solver</a>

  <a id="2363" href="Meta.Reflection.Solver.html#2363" class="Function">mk-simple-solver</a> <a id="2380" class="Symbol">:</a> <a id="2382" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2387" class="Symbol">→</a> <a id="2389" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2392" href="Foundations.Notation.Logic.html#4427" class="Field">⊤</a>
  <a id="2396" href="Meta.Reflection.Solver.html#2363" class="Function">mk-simple-solver</a> <a id="2413" href="Meta.Reflection.Solver.html#2413" class="Bound">hole</a> <a id="2418" class="Symbol">=</a> <a id="2420" href="Meta.Reflection.Solver.html#2163" class="Function">withReduction</a> <a id="2434" class="Keyword">do</a>
    <a id="2441" href="Meta.Reflection.Solver.html#2441" class="Bound">goal</a> <a id="2446" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="2448" href="Agda.Builtin.Reflection.html#8893" class="Postulate">infer-type</a> <a id="2459" href="Meta.Reflection.Solver.html#2413" class="Bound">hole</a> <a id="2464" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="2468" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a>
    <a id="2479" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2484" class="Symbol">(</a><a id="2485" href="Meta.Reflection.Solver.html#2485" class="Bound">lhs</a> <a id="2489" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2491" href="Meta.Reflection.Solver.html#2491" class="Bound">rhs</a><a id="2494" class="Symbol">)</a> <a id="2496" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="2498" href="Meta.Reflection.Base.html#8406" class="Function">get-boundary</a> <a id="2511" href="Meta.Reflection.Solver.html#2441" class="Bound">goal</a> <a id="2516" class="Keyword">where</a>
      <a id="2528" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2536" class="Symbol">→</a> <a id="2538" href="Meta.Reflection.Solver.html#1445" class="Function">print-boundary</a> <a id="2553" href="Meta.Reflection.Solver.html#2441" class="Bound">goal</a>
    <a id="2562" href="Meta.Reflection.Solver.html#2562" class="Bound">lhs</a> <a id="2566" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="2568" href="Meta.Reflection.Base.html#6296" class="Function">wait-just-a-bit</a> <a id="2584" href="Meta.Reflection.Solver.html#2485" class="Bound">lhs</a>
    <a id="2592" href="Meta.Reflection.Solver.html#2592" class="Bound">rhs</a> <a id="2596" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="2598" href="Meta.Reflection.Base.html#6296" class="Function">wait-just-a-bit</a> <a id="2614" href="Meta.Reflection.Solver.html#2491" class="Bound">rhs</a>
    <a id="2622" href="Meta.Reflection.Solver.html#2622" class="Bound">elhs</a> <a id="2627" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="2629" href="Meta.Reflection.Solver.html#2135" class="Function">prepare</a> <a id="2637" href="Meta.Reflection.Solver.html#2562" class="Bound">lhs</a> <a id="2641" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="2645" href="Meta.Reflection.Solver.html#1975" class="Field">build-expr</a>
    <a id="2660" href="Meta.Reflection.Solver.html#2660" class="Bound">erhs</a> <a id="2665" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="2667" href="Meta.Reflection.Solver.html#2135" class="Function">prepare</a> <a id="2675" href="Meta.Reflection.Solver.html#2592" class="Bound">rhs</a> <a id="2679" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="2683" href="Meta.Reflection.Solver.html#1975" class="Field">build-expr</a>
    <a id="2698" href="Agda.Builtin.Reflection.html#11236" class="Postulate">no-constraints</a> <a id="2713" class="Symbol">(</a><a id="2714" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2720" href="Meta.Reflection.Solver.html#2413" class="Bound">hole</a> <a id="2725" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="2727" href="Meta.Reflection.Solver.html#2057" class="Field">invoke-solver</a> <a id="2741" href="Meta.Reflection.Solver.html#2622" class="Bound">elhs</a> <a id="2746" href="Meta.Reflection.Solver.html#2660" class="Bound">erhs</a><a id="2750" class="Symbol">)</a>
      <a id="2758" href="Meta.Effect.Choice.html#243" class="Field Operator">&lt;|&gt;</a> <a id="2762" href="Meta.Reflection.Solver.html#873" class="Function">solver-failed</a> <a id="2776" href="Meta.Reflection.Solver.html#2622" class="Bound">elhs</a> <a id="2781" href="Meta.Reflection.Solver.html#2660" class="Bound">erhs</a>

  <a id="2789" href="Meta.Reflection.Solver.html#2789" class="Function">mk-simple-normalise</a> <a id="2809" class="Symbol">:</a> <a id="2811" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2816" class="Symbol">→</a> <a id="2818" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2823" class="Symbol">→</a> <a id="2825" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2828" href="Foundations.Notation.Logic.html#4427" class="Field">⊤</a>
  <a id="2832" href="Meta.Reflection.Solver.html#2789" class="Function">mk-simple-normalise</a> <a id="2852" href="Meta.Reflection.Solver.html#2852" class="Bound">tm</a> <a id="2855" href="Meta.Reflection.Solver.html#2855" class="Bound">hole</a> <a id="2860" class="Symbol">=</a> <a id="2862" href="Meta.Reflection.Solver.html#2163" class="Function">withReduction</a> <a id="2876" class="Keyword">do</a>
    <a id="2883" href="Meta.Reflection.Solver.html#2883" class="Bound">e</a> <a id="2885" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="2887" href="Meta.Reflection.Solver.html#2135" class="Function">prepare</a> <a id="2895" href="Meta.Reflection.Solver.html#2852" class="Bound">tm</a> <a id="2898" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="2902" href="Meta.Reflection.Solver.html#1975" class="Field">build-expr</a>
    <a id="2917" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2923" href="Meta.Reflection.Solver.html#2855" class="Bound">hole</a> <a id="2928" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="2930" href="Meta.Reflection.Solver.html#2100" class="Field">invoke-normaliser</a> <a id="2948" href="Meta.Reflection.Solver.html#2883" class="Bound">e</a>

  <a id="2953" href="Meta.Reflection.Solver.html#2953" class="Function">mk-simple-repr</a> <a id="2968" class="Symbol">:</a> <a id="2970" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2975" class="Symbol">→</a> <a id="2977" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2982" class="Symbol">→</a> <a id="2984" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2987" href="Foundations.Notation.Logic.html#4427" class="Field">⊤</a>
  <a id="2991" href="Meta.Reflection.Solver.html#2953" class="Function">mk-simple-repr</a> <a id="3006" href="Meta.Reflection.Solver.html#3006" class="Bound">tm</a> <a id="3009" class="Symbol">_</a> <a id="3011" class="Symbol">=</a> <a id="3013" href="Meta.Reflection.Solver.html#2163" class="Function">withReduction</a> <a id="3027" class="Keyword">do</a>
    <a id="3034" href="Meta.Reflection.Solver.html#3034" class="Bound">repr</a> <a id="3039" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="3041" href="Meta.Reflection.Solver.html#2135" class="Function">prepare</a> <a id="3049" href="Meta.Reflection.Solver.html#3006" class="Bound">tm</a> <a id="3052" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="3056" href="Meta.Reflection.Solver.html#1975" class="Field">build-expr</a>
    <a id="3071" href="Meta.Reflection.Solver.html#1046" class="Function">print-repr</a> <a id="3082" href="Meta.Reflection.Solver.html#3006" class="Bound">tm</a> <a id="3085" href="Meta.Reflection.Solver.html#3034" class="Bound">repr</a>


<a id="3092" class="Comment">--------------------------------------------------------------------------------</a>
<a id="3173" class="Comment">-- Solvers with Variables</a>

<a id="3200" class="Keyword">record</a> <a id="Variable-solver"></a><a id="3207" href="Meta.Reflection.Solver.html#3207" class="Record">Variable-solver</a> <a id="3223" class="Symbol">{</a><a id="3224" href="Meta.Reflection.Solver.html#3224" class="Bound">ℓ</a><a id="3225" class="Symbol">}</a> <a id="3227" class="Symbol">(</a><a id="3228" href="Meta.Reflection.Solver.html#3228" class="Bound">A</a> <a id="3230" class="Symbol">:</a> <a id="3232" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3237" href="Meta.Reflection.Solver.html#3224" class="Bound">ℓ</a><a id="3238" class="Symbol">)</a> <a id="3240" class="Symbol">:</a> <a id="3242" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3247" href="Meta.Reflection.Solver.html#3224" class="Bound">ℓ</a> <a id="3249" class="Keyword">where</a>
  <a id="3257" class="Keyword">constructor</a> <a id="var-solver"></a><a id="3269" href="Meta.Reflection.Solver.html#3269" class="InductiveConstructor">var-solver</a>
  <a id="3282" class="Keyword">field</a>
    <a id="Variable-solver.dont-reduce"></a><a id="3292" href="Meta.Reflection.Solver.html#3292" class="Field">dont-reduce</a>       <a id="3310" class="Symbol">:</a> <a id="3312" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3317" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Variable-solver.build-expr"></a><a id="3326" href="Meta.Reflection.Solver.html#3326" class="Field">build-expr</a>        <a id="3344" class="Symbol">:</a> <a id="3346" href="Meta.Reflection.Variables.html#2085" class="Record">Variables</a> <a id="3356" href="Meta.Reflection.Solver.html#3228" class="Bound">A</a> <a id="3358" class="Symbol">→</a> <a id="3360" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3365" class="Symbol">→</a> <a id="3367" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3370" class="Symbol">(</a><a id="3371" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3376" href="Foundations.Notation.Logic.html#2060" class="Field Operator">×</a> <a id="3378" href="Meta.Reflection.Variables.html#2085" class="Record">Variables</a> <a id="3388" href="Meta.Reflection.Solver.html#3228" class="Bound">A</a><a id="3389" class="Symbol">)</a>
    <a id="Variable-solver.strat"></a><a id="3395" href="Meta.Reflection.Solver.html#3395" class="Field">strat</a>             <a id="3413" class="Symbol">:</a> <a id="3415" href="Meta.Reflection.Solver.html#1563" class="Datatype">Reduction-strategy</a>
    <a id="Variable-solver.invoke-solver"></a><a id="3438" href="Meta.Reflection.Solver.html#3438" class="Field">invoke-solver</a>     <a id="3456" class="Symbol">:</a> <a id="3458" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3463" class="Symbol">→</a> <a id="3465" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3470" class="Symbol">→</a> <a id="3472" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3477" class="Symbol">→</a> <a id="3479" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Variable-solver.invoke-normaliser"></a><a id="3488" href="Meta.Reflection.Solver.html#3488" class="Field">invoke-normaliser</a> <a id="3506" class="Symbol">:</a> <a id="3508" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3513" class="Symbol">→</a> <a id="3515" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3520" class="Symbol">→</a> <a id="3522" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

  <a id="Variable-solver.prepare"></a><a id="3530" href="Meta.Reflection.Solver.html#3530" class="Function">prepare</a> <a id="3538" class="Symbol">=</a> <a id="3540" href="Meta.Reflection.Solver.html#1642" class="Function">prepare′</a> <a id="3549" href="Meta.Reflection.Solver.html#3395" class="Field">strat</a>

  <a id="Variable-solver.withReduction"></a><a id="3558" href="Meta.Reflection.Solver.html#3558" class="Function">withReduction</a> <a id="3572" class="Symbol">:</a> <a id="3574" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3577" href="Meta.Reflection.Solver.html#768" class="Generalizable">T</a> <a id="3579" class="Symbol">→</a> <a id="3581" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3584" href="Meta.Reflection.Solver.html#768" class="Generalizable">T</a>
  <a id="3588" href="Meta.Reflection.Solver.html#3558" class="Function">withReduction</a> <a id="3602" class="Symbol">=</a> <a id="3604" href="Agda.Builtin.Reflection.html#10159" class="Postulate">with-normalisation</a> <a id="3623" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                <a id="3645" href="Foundations.Pi.Base.html#3422" class="Function Operator">∘</a> <a id="3647" href="Agda.Builtin.Reflection.html#10803" class="Postulate">with-reduce-defs</a> <a id="3664" class="Symbol">(</a><a id="3665" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3671" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3673" href="Meta.Reflection.Solver.html#3292" class="Field">dont-reduce</a><a id="3684" class="Symbol">)</a>

<a id="3687" class="Keyword">module</a> <a id="3694" href="Meta.Reflection.Solver.html#3694" class="Module">_</a> <a id="3696" class="Symbol">{</a><a id="3697" href="Meta.Reflection.Solver.html#3697" class="Bound">ℓ</a><a id="3698" class="Symbol">}</a> <a id="3700" class="Symbol">{</a><a id="3701" href="Meta.Reflection.Solver.html#3701" class="Bound">A</a> <a id="3703" class="Symbol">:</a> <a id="3705" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3710" href="Meta.Reflection.Solver.html#3697" class="Bound">ℓ</a><a id="3711" class="Symbol">}</a> <a id="3713" class="Symbol">(</a><a id="3714" href="Meta.Reflection.Solver.html#3714" class="Bound">solver</a> <a id="3721" class="Symbol">:</a> <a id="3723" href="Meta.Reflection.Solver.html#3207" class="Record">Variable-solver</a> <a id="3739" href="Meta.Reflection.Solver.html#3701" class="Bound">A</a><a id="3740" class="Symbol">)</a> <a id="3742" class="Keyword">where</a>
  <a id="3750" class="Keyword">open</a> <a id="3755" href="Meta.Reflection.Solver.html#3207" class="Module">Variable-solver</a> <a id="3771" href="Meta.Reflection.Solver.html#3714" class="Bound">solver</a>

  <a id="3781" href="Meta.Reflection.Solver.html#3781" class="Function">mk-var-solver</a> <a id="3795" class="Symbol">:</a> <a id="3797" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3802" class="Symbol">→</a> <a id="3804" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3807" href="Foundations.Notation.Logic.html#4427" class="Field">⊤</a>
  <a id="3811" href="Meta.Reflection.Solver.html#3781" class="Function">mk-var-solver</a> <a id="3825" href="Meta.Reflection.Solver.html#3825" class="Bound">hole</a> <a id="3830" class="Symbol">=</a> <a id="3832" href="Meta.Reflection.Solver.html#3558" class="Function">withReduction</a> <a id="3846" class="Keyword">do</a>
    <a id="3853" href="Meta.Reflection.Solver.html#3853" class="Bound">goal</a> <a id="3858" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="3860" href="Agda.Builtin.Reflection.html#8893" class="Postulate">infer-type</a> <a id="3871" href="Meta.Reflection.Solver.html#3825" class="Bound">hole</a> <a id="3876" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="3880" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a>
    <a id="3891" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3896" class="Symbol">(</a><a id="3897" href="Meta.Reflection.Solver.html#3897" class="Bound">lhs</a> <a id="3901" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3903" href="Meta.Reflection.Solver.html#3903" class="Bound">rhs</a><a id="3906" class="Symbol">)</a> <a id="3908" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="3910" href="Meta.Reflection.Base.html#8406" class="Function">get-boundary</a> <a id="3923" href="Meta.Reflection.Solver.html#3853" class="Bound">goal</a>
      <a id="3934" class="Keyword">where</a> <a id="3940" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3948" class="Symbol">→</a> <a id="3950" href="Meta.Reflection.Solver.html#1445" class="Function">print-boundary</a> <a id="3965" href="Meta.Reflection.Solver.html#3853" class="Bound">goal</a>
    <a id="3974" href="Meta.Reflection.Solver.html#3974" class="Bound">lhs</a> <a id="3978" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="3980" href="Meta.Reflection.Base.html#6296" class="Function">wait-just-a-bit</a> <a id="3996" href="Meta.Reflection.Solver.html#3897" class="Bound">lhs</a>
    <a id="4004" href="Meta.Reflection.Solver.html#4004" class="Bound">rhs</a> <a id="4008" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="4010" href="Meta.Reflection.Base.html#6296" class="Function">wait-just-a-bit</a> <a id="4026" href="Meta.Reflection.Solver.html#3903" class="Bound">rhs</a>
    <a id="4034" href="Meta.Reflection.Solver.html#4034" class="Bound">elhs</a> <a id="4039" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4041" href="Meta.Reflection.Solver.html#4041" class="Bound">vs</a> <a id="4044" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="4046" href="Meta.Reflection.Solver.html#3530" class="Function">prepare</a> <a id="4054" href="Meta.Reflection.Solver.html#3974" class="Bound">lhs</a> <a id="4058" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="4062" href="Meta.Reflection.Solver.html#3326" class="Field">build-expr</a> <a id="4073" href="Meta.Reflection.Variables.html#2396" class="Function">empty-vars</a>
    <a id="4088" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4100" class="String">&quot;tactic.solver.var&quot;</a> <a id="4120" class="Number">10</a> <a id="4123" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="4125" class="String">&quot;LHS: &quot;</a> <a id="4133" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4135" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4144" href="Meta.Reflection.Solver.html#4034" class="Bound">elhs</a> <a id="4149" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4155" href="Meta.Reflection.Solver.html#4155" class="Bound">erhs</a> <a id="4160" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4162" href="Meta.Reflection.Solver.html#4162" class="Bound">vs</a> <a id="4165" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="4167" href="Meta.Reflection.Solver.html#3530" class="Function">prepare</a> <a id="4175" href="Meta.Reflection.Solver.html#4004" class="Bound">rhs</a> <a id="4179" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="4183" href="Meta.Reflection.Solver.html#3326" class="Field">build-expr</a> <a id="4194" href="Meta.Reflection.Solver.html#4041" class="Bound">vs</a>
    <a id="4201" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4213" class="String">&quot;tactic.solver.var&quot;</a> <a id="4233" class="Number">10</a> <a id="4236" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="4238" class="String">&quot;RHS: &quot;</a> <a id="4246" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4248" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4257" href="Meta.Reflection.Solver.html#4155" class="Bound">erhs</a> <a id="4262" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4268" href="Meta.Reflection.Solver.html#4268" class="Bound">size</a> <a id="4273" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4275" href="Meta.Reflection.Solver.html#4275" class="Bound">env</a> <a id="4279" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="4281" href="Meta.Reflection.Variables.html#3639" class="Function">environment</a> <a id="4293" href="Meta.Reflection.Solver.html#4162" class="Bound">vs</a>
    <a id="4300" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4312" class="String">&quot;tactic.solver.var&quot;</a> <a id="4332" class="Number">10</a> <a id="4335" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="4337" class="String">&quot;Env: &quot;</a> <a id="4345" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4347" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4356" href="Meta.Reflection.Solver.html#4275" class="Bound">env</a> <a id="4360" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4366" class="Symbol">(</a><a id="4367" href="Agda.Builtin.Reflection.html#11236" class="Postulate">no-constraints</a> <a id="4382" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="4384" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="4390" href="Meta.Reflection.Solver.html#3825" class="Bound">hole</a> <a id="4395" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="4397" href="Meta.Reflection.Solver.html#3438" class="Field">invoke-solver</a> <a id="4411" href="Meta.Reflection.Solver.html#4034" class="Bound">elhs</a> <a id="4416" href="Meta.Reflection.Solver.html#4155" class="Bound">erhs</a> <a id="4421" href="Meta.Reflection.Solver.html#4275" class="Bound">env</a><a id="4424" class="Symbol">)</a> <a id="4426" href="Meta.Effect.Choice.html#243" class="Field Operator">&lt;|&gt;</a>
      <a id="4436" href="Meta.Reflection.Solver.html#873" class="Function">solver-failed</a> <a id="4450" href="Meta.Reflection.Solver.html#4034" class="Bound">elhs</a> <a id="4455" href="Meta.Reflection.Solver.html#4155" class="Bound">erhs</a>

  <a id="4463" href="Meta.Reflection.Solver.html#4463" class="Function">mk-var-normalise</a> <a id="4480" class="Symbol">:</a> <a id="4482" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4487" class="Symbol">→</a> <a id="4489" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4494" class="Symbol">→</a> <a id="4496" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4499" href="Foundations.Notation.Logic.html#4427" class="Field">⊤</a>
  <a id="4503" href="Meta.Reflection.Solver.html#4463" class="Function">mk-var-normalise</a> <a id="4520" href="Meta.Reflection.Solver.html#4520" class="Bound">tm</a> <a id="4523" href="Meta.Reflection.Solver.html#4523" class="Bound">hole</a> <a id="4528" class="Symbol">=</a> <a id="4530" href="Meta.Reflection.Solver.html#3558" class="Function">withReduction</a> <a id="4544" class="Keyword">do</a>
    <a id="4551" href="Meta.Reflection.Solver.html#4551" class="Bound">e</a> <a id="4553" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4555" href="Meta.Reflection.Solver.html#4555" class="Bound">vs</a> <a id="4558" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="4560" href="Meta.Reflection.Solver.html#3530" class="Function">prepare</a> <a id="4568" href="Meta.Reflection.Solver.html#4520" class="Bound">tm</a> <a id="4571" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="4575" href="Meta.Reflection.Solver.html#3326" class="Field">build-expr</a> <a id="4586" href="Meta.Reflection.Variables.html#2396" class="Function">empty-vars</a>
    <a id="4601" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4613" class="String">&quot;tactic.solver.var&quot;</a> <a id="4633" class="Number">10</a> <a id="4636" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="4638" class="String">&quot;Expression: &quot;</a> <a id="4653" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4655" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4664" href="Meta.Reflection.Solver.html#4551" class="Bound">e</a> <a id="4666" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4672" href="Meta.Reflection.Solver.html#4672" class="Bound">size</a> <a id="4677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4679" href="Meta.Reflection.Solver.html#4679" class="Bound">env</a> <a id="4683" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="4685" href="Meta.Reflection.Variables.html#3639" class="Function">environment</a> <a id="4697" href="Meta.Reflection.Solver.html#4555" class="Bound">vs</a>
    <a id="4704" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4716" class="String">&quot;tactic.solver.var&quot;</a> <a id="4736" class="Number">10</a> <a id="4739" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="4741" class="String">&quot;Env: &quot;</a> <a id="4749" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4751" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4760" href="Meta.Reflection.Solver.html#4679" class="Bound">env</a> <a id="4764" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4770" href="Meta.Reflection.Solver.html#4770" class="Bound">soln</a> <a id="4775" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="4777" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a> <a id="4784" href="Foundations.Notation.Underlying.html#1770" class="Function Operator">$</a> <a id="4786" href="Meta.Reflection.Solver.html#3488" class="Field">invoke-normaliser</a> <a id="4804" href="Meta.Reflection.Solver.html#4551" class="Bound">e</a> <a id="4806" href="Meta.Reflection.Solver.html#4679" class="Bound">env</a>
    <a id="4814" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="4820" href="Meta.Reflection.Solver.html#4523" class="Bound">hole</a> <a id="4825" href="Meta.Reflection.Solver.html#4770" class="Bound">soln</a>

  <a id="4833" href="Meta.Reflection.Solver.html#4833" class="Function">mk-var-repr</a> <a id="4845" class="Symbol">:</a> <a id="4847" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4852" class="Symbol">→</a> <a id="4854" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4857" href="Foundations.Notation.Logic.html#4427" class="Field">⊤</a>
  <a id="4861" href="Meta.Reflection.Solver.html#4833" class="Function">mk-var-repr</a> <a id="4873" href="Meta.Reflection.Solver.html#4873" class="Bound">tm</a> <a id="4876" class="Symbol">=</a> <a id="4878" href="Meta.Reflection.Solver.html#3558" class="Function">withReduction</a> <a id="4892" class="Keyword">do</a>
    <a id="4899" href="Meta.Reflection.Solver.html#4899" class="Bound">repr</a> <a id="4904" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4906" href="Meta.Reflection.Solver.html#4906" class="Bound">vs</a> <a id="4909" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="4911" href="Meta.Reflection.Solver.html#3530" class="Function">prepare</a> <a id="4919" href="Meta.Reflection.Solver.html#4873" class="Bound">tm</a> <a id="4922" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">&gt;&gt;=</a> <a id="4926" href="Meta.Reflection.Solver.html#3326" class="Field">build-expr</a> <a id="4937" href="Meta.Reflection.Variables.html#2396" class="Function">empty-vars</a>
    <a id="4952" href="Meta.Reflection.Solver.html#4952" class="Bound">size</a> <a id="4957" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4959" href="Meta.Reflection.Solver.html#4959" class="Bound">env</a> <a id="4963" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">←</a> <a id="4965" href="Meta.Reflection.Variables.html#3639" class="Function">environment</a> <a id="4977" href="Meta.Reflection.Solver.html#4906" class="Bound">vs</a>
    <a id="4984" href="Meta.Reflection.Solver.html#1213" class="Function">print-var-repr</a> <a id="4999" href="Meta.Reflection.Solver.html#4873" class="Bound">tm</a> <a id="5002" href="Meta.Reflection.Solver.html#4899" class="Bound">repr</a> <a id="5007" href="Meta.Reflection.Solver.html#4959" class="Bound">env</a>
</pre></body></html>