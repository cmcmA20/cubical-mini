<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Reflection.Solver</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.Reflection.Solver.html" class="Module">Meta.Reflection.Solver</a> <a id="54" class="Keyword">where</a>

<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Meta.Effect.Alt.html" class="Module">Meta.Effect.Alt</a>
<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Meta.Effect.Idiom.html" class="Module">Meta.Effect.Idiom</a>
<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="Meta.Literals.FromString.html" class="Module">Meta.Literals.FromString</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Meta.Reflection.Base.html" class="Module">Meta.Reflection.Base</a>
<a id="219" class="Keyword">open</a> <a id="224" class="Keyword">import</a> <a id="231" href="Meta.Reflection.Variables.html" class="Module">Meta.Reflection.Variables</a>

<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="356" class="Keyword">open</a> <a id="361" class="Keyword">import</a> <a id="368" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.Nat.Instances.FromNat.html" class="Module">Data.Nat.Instances.FromNat</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Reflection.Error.html" class="Module">Data.Reflection.Error</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Data.Reflection.Instances.FromString.html" class="Module">Data.Reflection.Instances.FromString</a>
<a id="506" class="Keyword">open</a> <a id="511" class="Keyword">import</a> <a id="518" href="Data.Reflection.Name.html" class="Module">Data.Reflection.Name</a>
<a id="539" class="Keyword">open</a> <a id="544" class="Keyword">import</a> <a id="551" href="Data.Reflection.Term.html" class="Module">Data.Reflection.Term</a>
<a id="572" class="Keyword">open</a> <a id="577" class="Keyword">import</a> <a id="584" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a>

<a id="600" class="Keyword">private</a> <a id="608" class="Keyword">variable</a>
  <a id="619" href="Meta.Reflection.Solver.html#619" class="Generalizable">ℓ</a> <a id="621" class="Symbol">:</a> <a id="623" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="631" href="Meta.Reflection.Solver.html#631" class="Generalizable">A</a> <a id="633" href="Meta.Reflection.Solver.html#633" class="Generalizable">T</a> <a id="635" class="Symbol">:</a> <a id="637" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="642" href="Meta.Reflection.Solver.html#619" class="Generalizable">ℓ</a>

<a id="645" class="Comment">--------------------------------------------------------------------------------</a>
<a id="726" class="Comment">-- Helpers</a>

<a id="solver-failed"></a><a id="738" href="Meta.Reflection.Solver.html#738" class="Function">solver-failed</a> <a id="752" class="Symbol">:</a> <a id="754" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="759" class="Symbol">→</a> <a id="761" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="766" class="Symbol">→</a> <a id="768" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="771" href="Meta.Reflection.Solver.html#631" class="Generalizable">A</a>
<a id="773" href="Meta.Reflection.Solver.html#738" class="Function">solver-failed</a> <a id="787" href="Meta.Reflection.Solver.html#787" class="Bound">lhs</a> <a id="791" href="Meta.Reflection.Solver.html#791" class="Bound">rhs</a> <a id="795" class="Symbol">=</a> <a id="797" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a>
  <a id="810" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="812" class="String">&quot;Could not equate the following expressions:\n  &quot;</a>
  <a id="864" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="866" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="875" href="Meta.Reflection.Solver.html#787" class="Bound">lhs</a> <a id="879" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="881" class="String">&quot;\nAnd\n  &quot;</a> <a id="893" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="895" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="904" href="Meta.Reflection.Solver.html#791" class="Bound">rhs</a> <a id="908" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>

<a id="print-repr"></a><a id="911" href="Meta.Reflection.Solver.html#911" class="Function">print-repr</a> <a id="922" class="Symbol">:</a> <a id="924" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="929" class="Symbol">→</a> <a id="931" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="936" class="Symbol">→</a> <a id="938" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="941" href="Meta.Reflection.Solver.html#631" class="Generalizable">A</a>
<a id="943" href="Meta.Reflection.Solver.html#911" class="Function">print-repr</a> <a id="954" href="Meta.Reflection.Solver.html#954" class="Bound">tm</a> <a id="957" href="Meta.Reflection.Solver.html#957" class="Bound">repr</a> <a id="962" class="Symbol">=</a> <a id="964" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a>
  <a id="977" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="979" class="String">&quot;The expression\n  &quot;</a> <a id="1000" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1002" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1011" href="Meta.Reflection.Solver.html#954" class="Bound">tm</a>
  <a id="1016" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1018" class="String">&quot;\nIs represented by the expression\n  &quot;</a> <a id="1059" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1061" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1070" href="Meta.Reflection.Solver.html#957" class="Bound">repr</a> <a id="1075" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>

<a id="print-var-repr"></a><a id="1078" href="Meta.Reflection.Solver.html#1078" class="Function">print-var-repr</a> <a id="1093" class="Symbol">:</a> <a id="1095" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1100" class="Symbol">→</a> <a id="1102" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1107" class="Symbol">→</a> <a id="1109" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1114" class="Symbol">→</a> <a id="1116" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1119" href="Meta.Reflection.Solver.html#631" class="Generalizable">A</a>
<a id="1121" href="Meta.Reflection.Solver.html#1078" class="Function">print-var-repr</a> <a id="1136" href="Meta.Reflection.Solver.html#1136" class="Bound">tm</a> <a id="1139" href="Meta.Reflection.Solver.html#1139" class="Bound">repr</a> <a id="1144" href="Meta.Reflection.Solver.html#1144" class="Bound">env</a> <a id="1148" class="Symbol">=</a> <a id="1150" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a>
  <a id="1163" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="1165" class="String">&quot;The expression\n  &quot;</a> <a id="1186" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1188" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1197" href="Meta.Reflection.Solver.html#1136" class="Bound">tm</a>
  <a id="1202" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1204" class="String">&quot;\nIs represented by the expression\n  &quot;</a> <a id="1245" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1247" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1256" href="Meta.Reflection.Solver.html#1139" class="Bound">repr</a>
  <a id="1263" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1265" class="String">&quot;\nIn the environment\n  &quot;</a> <a id="1292" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1294" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1303" href="Meta.Reflection.Solver.html#1144" class="Bound">env</a> <a id="1307" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>

<a id="print-boundary"></a><a id="1310" href="Meta.Reflection.Solver.html#1310" class="Function">print-boundary</a> <a id="1325" class="Symbol">:</a> <a id="1327" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1332" class="Symbol">→</a> <a id="1334" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1337" href="Meta.Reflection.Solver.html#631" class="Generalizable">A</a>
<a id="1339" href="Meta.Reflection.Solver.html#1310" class="Function">print-boundary</a> <a id="1354" href="Meta.Reflection.Solver.html#1354" class="Bound">goal</a> <a id="1359" class="Symbol">=</a> <a id="1361" href="Agda.Builtin.Reflection.html#8830" class="Postulate">type-error</a> <a id="1372" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="1374" class="String">&quot;Can&#39;t determine boundary: &quot;</a> <a id="1403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1405" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1414" href="Meta.Reflection.Solver.html#1354" class="Bound">goal</a> <a id="1419" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>


<a id="1423" class="Keyword">data</a> <a id="Reduction-strategy"></a><a id="1428" href="Meta.Reflection.Solver.html#1428" class="Datatype">Reduction-strategy</a> <a id="1447" class="Symbol">:</a> <a id="1449" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1454" class="Keyword">where</a>
  <a id="Reduction-strategy.no"></a><a id="1462" href="Meta.Reflection.Solver.html#1462" class="InductiveConstructor">no</a> <a id="Reduction-strategy.whnf"></a><a id="1465" href="Meta.Reflection.Solver.html#1465" class="InductiveConstructor">whnf</a> <a id="Reduction-strategy.norm"></a><a id="1470" href="Meta.Reflection.Solver.html#1470" class="InductiveConstructor">norm</a> <a id="1475" class="Symbol">:</a> <a id="1477" href="Meta.Reflection.Solver.html#1428" class="Datatype">Reduction-strategy</a>

<a id="1497" class="Keyword">private</a>
  <a id="prepare′"></a><a id="1507" href="Meta.Reflection.Solver.html#1507" class="Function">prepare′</a> <a id="1516" class="Symbol">:</a> <a id="1518" href="Meta.Reflection.Solver.html#1428" class="Datatype">Reduction-strategy</a> <a id="1537" class="Symbol">→</a> <a id="1539" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1544" class="Symbol">→</a> <a id="1546" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1549" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="1556" href="Meta.Reflection.Solver.html#1507" class="Function">prepare′</a> <a id="1565" href="Meta.Reflection.Solver.html#1462" class="InductiveConstructor">no</a>   <a id="1570" class="Symbol">=</a> <a id="1572" href="Meta.Effect.Idiom.html#408" class="Field">pure</a>
  <a id="1579" href="Meta.Reflection.Solver.html#1507" class="Function">prepare′</a> <a id="1588" href="Meta.Reflection.Solver.html#1465" class="InductiveConstructor">whnf</a> <a id="1593" class="Symbol">=</a> <a id="1595" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a>
  <a id="1604" href="Meta.Reflection.Solver.html#1507" class="Function">prepare′</a> <a id="1613" href="Meta.Reflection.Solver.html#1470" class="InductiveConstructor">norm</a> <a id="1618" class="Symbol">=</a> <a id="1620" href="Agda.Builtin.Reflection.html#8972" class="Postulate">normalise</a>


<a id="1632" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1713" class="Comment">-- Simple Solvers</a>

<a id="1732" class="Keyword">record</a> <a id="Simple-solver"></a><a id="1739" href="Meta.Reflection.Solver.html#1739" class="Record">Simple-solver</a> <a id="1753" class="Symbol">:</a> <a id="1755" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1760" class="Keyword">where</a>
  <a id="1768" class="Keyword">constructor</a> <a id="simple-solver"></a><a id="1780" href="Meta.Reflection.Solver.html#1780" class="InductiveConstructor">simple-solver</a>
  <a id="1796" class="Keyword">field</a>
    <a id="Simple-solver.dont-reduce"></a><a id="1806" href="Meta.Reflection.Solver.html#1806" class="Field">dont-reduce</a>       <a id="1824" class="Symbol">:</a> <a id="1826" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1831" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Simple-solver.build-expr"></a><a id="1840" href="Meta.Reflection.Solver.html#1840" class="Field">build-expr</a>        <a id="1858" class="Symbol">:</a> <a id="1860" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1865" class="Symbol">→</a> <a id="1867" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="1870" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Simple-solver.strat"></a><a id="1879" href="Meta.Reflection.Solver.html#1879" class="Field">strat</a>             <a id="1897" class="Symbol">:</a> <a id="1899" href="Meta.Reflection.Solver.html#1428" class="Datatype">Reduction-strategy</a>
    <a id="Simple-solver.invoke-solver"></a><a id="1922" href="Meta.Reflection.Solver.html#1922" class="Field">invoke-solver</a>     <a id="1940" class="Symbol">:</a> <a id="1942" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1947" class="Symbol">→</a> <a id="1949" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1954" class="Symbol">→</a> <a id="1956" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Simple-solver.invoke-normaliser"></a><a id="1965" href="Meta.Reflection.Solver.html#1965" class="Field">invoke-normaliser</a> <a id="1983" class="Symbol">:</a> <a id="1985" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1990" class="Symbol">→</a> <a id="1992" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

  <a id="Simple-solver.prepare"></a><a id="2000" href="Meta.Reflection.Solver.html#2000" class="Function">prepare</a> <a id="2008" class="Symbol">=</a> <a id="2010" href="Meta.Reflection.Solver.html#1507" class="Function">prepare′</a> <a id="2019" href="Meta.Reflection.Solver.html#1879" class="Field">strat</a>

  <a id="Simple-solver.withReduction"></a><a id="2028" href="Meta.Reflection.Solver.html#2028" class="Function">withReduction</a> <a id="2042" class="Symbol">:</a> <a id="2044" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2047" href="Meta.Reflection.Solver.html#633" class="Generalizable">T</a> <a id="2049" class="Symbol">→</a> <a id="2051" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2054" href="Meta.Reflection.Solver.html#633" class="Generalizable">T</a>
  <a id="2058" href="Meta.Reflection.Solver.html#2028" class="Function">withReduction</a> <a id="2072" class="Symbol">=</a> <a id="2074" href="Agda.Builtin.Reflection.html#10159" class="Postulate">with-normalisation</a> <a id="2093" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                <a id="2115" href="Foundations.Pi.Base.html#3423" class="Function Operator">∘</a> <a id="2117" href="Agda.Builtin.Reflection.html#10803" class="Postulate">with-reduce-defs</a> <a id="2134" class="Symbol">(</a><a id="2135" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2141" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2143" href="Meta.Reflection.Solver.html#1806" class="Field">dont-reduce</a><a id="2154" class="Symbol">)</a>

<a id="2157" class="Keyword">module</a> <a id="2164" href="Meta.Reflection.Solver.html#2164" class="Module">_</a> <a id="2166" class="Symbol">(</a><a id="2167" href="Meta.Reflection.Solver.html#2167" class="Bound">solver</a> <a id="2174" class="Symbol">:</a> <a id="2176" href="Meta.Reflection.Solver.html#1739" class="Record">Simple-solver</a><a id="2189" class="Symbol">)</a> <a id="2191" class="Keyword">where</a>
  <a id="2199" class="Keyword">open</a> <a id="2204" href="Meta.Reflection.Solver.html#1739" class="Module">Simple-solver</a> <a id="2218" href="Meta.Reflection.Solver.html#2167" class="Bound">solver</a>

  <a id="2228" href="Meta.Reflection.Solver.html#2228" class="Function">mk-simple-solver</a> <a id="2245" class="Symbol">:</a> <a id="2247" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2252" class="Symbol">→</a> <a id="2254" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2257" href="Foundations.Notation.Logic.html#4569" class="Field">⊤</a>
  <a id="2261" href="Meta.Reflection.Solver.html#2228" class="Function">mk-simple-solver</a> <a id="2278" href="Meta.Reflection.Solver.html#2278" class="Bound">hole</a> <a id="2283" class="Symbol">=</a> <a id="2285" href="Meta.Reflection.Solver.html#2028" class="Function">withReduction</a> <a id="2299" class="Keyword">do</a>
    <a id="2306" href="Meta.Reflection.Solver.html#2306" class="Bound">goal</a> <a id="2311" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2313" href="Agda.Builtin.Reflection.html#8893" class="Postulate">infer-type</a> <a id="2324" href="Meta.Reflection.Solver.html#2278" class="Bound">hole</a> <a id="2329" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2333" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a>
    <a id="2344" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2349" class="Symbol">(</a><a id="2350" href="Meta.Reflection.Solver.html#2350" class="Bound">lhs</a> <a id="2354" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2356" href="Meta.Reflection.Solver.html#2356" class="Bound">rhs</a><a id="2359" class="Symbol">)</a> <a id="2361" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2363" href="Meta.Reflection.Base.html#8535" class="Function">get-boundary</a> <a id="2376" href="Meta.Reflection.Solver.html#2306" class="Bound">goal</a> <a id="2381" class="Keyword">where</a>
      <a id="2393" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2401" class="Symbol">→</a> <a id="2403" href="Meta.Reflection.Solver.html#1310" class="Function">print-boundary</a> <a id="2418" href="Meta.Reflection.Solver.html#2306" class="Bound">goal</a>
    <a id="2427" href="Meta.Reflection.Solver.html#2427" class="Bound">lhs</a> <a id="2431" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2433" href="Meta.Reflection.Base.html#6425" class="Function">wait-just-a-bit</a> <a id="2449" href="Meta.Reflection.Solver.html#2350" class="Bound">lhs</a>
    <a id="2457" href="Meta.Reflection.Solver.html#2457" class="Bound">rhs</a> <a id="2461" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2463" href="Meta.Reflection.Base.html#6425" class="Function">wait-just-a-bit</a> <a id="2479" href="Meta.Reflection.Solver.html#2356" class="Bound">rhs</a>
    <a id="2487" href="Meta.Reflection.Solver.html#2487" class="Bound">elhs</a> <a id="2492" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2494" href="Meta.Reflection.Solver.html#2000" class="Function">prepare</a> <a id="2502" href="Meta.Reflection.Solver.html#2427" class="Bound">lhs</a> <a id="2506" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2510" href="Meta.Reflection.Solver.html#1840" class="Field">build-expr</a>
    <a id="2525" href="Meta.Reflection.Solver.html#2525" class="Bound">erhs</a> <a id="2530" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2532" href="Meta.Reflection.Solver.html#2000" class="Function">prepare</a> <a id="2540" href="Meta.Reflection.Solver.html#2457" class="Bound">rhs</a> <a id="2544" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2548" href="Meta.Reflection.Solver.html#1840" class="Field">build-expr</a>
    <a id="2563" href="Agda.Builtin.Reflection.html#11236" class="Postulate">no-constraints</a> <a id="2578" class="Symbol">(</a><a id="2579" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2585" href="Meta.Reflection.Solver.html#2278" class="Bound">hole</a> <a id="2590" href="Foundations.Notation.Underlying.html#1772" class="Function Operator">$</a> <a id="2592" href="Meta.Reflection.Solver.html#1922" class="Field">invoke-solver</a> <a id="2606" href="Meta.Reflection.Solver.html#2487" class="Bound">elhs</a> <a id="2611" href="Meta.Reflection.Solver.html#2525" class="Bound">erhs</a><a id="2615" class="Symbol">)</a>
      <a id="2623" href="Meta.Effect.Alt.html#369" class="Field Operator">&lt;|&gt;</a> <a id="2627" href="Meta.Reflection.Solver.html#738" class="Function">solver-failed</a> <a id="2641" href="Meta.Reflection.Solver.html#2487" class="Bound">elhs</a> <a id="2646" href="Meta.Reflection.Solver.html#2525" class="Bound">erhs</a>

  <a id="2654" href="Meta.Reflection.Solver.html#2654" class="Function">mk-simple-normalise</a> <a id="2674" class="Symbol">:</a> <a id="2676" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2681" class="Symbol">→</a> <a id="2683" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2688" class="Symbol">→</a> <a id="2690" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2693" href="Foundations.Notation.Logic.html#4569" class="Field">⊤</a>
  <a id="2697" href="Meta.Reflection.Solver.html#2654" class="Function">mk-simple-normalise</a> <a id="2717" href="Meta.Reflection.Solver.html#2717" class="Bound">tm</a> <a id="2720" href="Meta.Reflection.Solver.html#2720" class="Bound">hole</a> <a id="2725" class="Symbol">=</a> <a id="2727" href="Meta.Reflection.Solver.html#2028" class="Function">withReduction</a> <a id="2741" class="Keyword">do</a>
    <a id="2748" href="Meta.Reflection.Solver.html#2748" class="Bound">e</a> <a id="2750" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2752" href="Meta.Reflection.Solver.html#2000" class="Function">prepare</a> <a id="2760" href="Meta.Reflection.Solver.html#2717" class="Bound">tm</a> <a id="2763" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2767" href="Meta.Reflection.Solver.html#1840" class="Field">build-expr</a>
    <a id="2782" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="2788" href="Meta.Reflection.Solver.html#2720" class="Bound">hole</a> <a id="2793" href="Foundations.Notation.Underlying.html#1772" class="Function Operator">$</a> <a id="2795" href="Meta.Reflection.Solver.html#1965" class="Field">invoke-normaliser</a> <a id="2813" href="Meta.Reflection.Solver.html#2748" class="Bound">e</a>

  <a id="2818" href="Meta.Reflection.Solver.html#2818" class="Function">mk-simple-repr</a> <a id="2833" class="Symbol">:</a> <a id="2835" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2840" class="Symbol">→</a> <a id="2842" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2847" class="Symbol">→</a> <a id="2849" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="2852" href="Foundations.Notation.Logic.html#4569" class="Field">⊤</a>
  <a id="2856" href="Meta.Reflection.Solver.html#2818" class="Function">mk-simple-repr</a> <a id="2871" href="Meta.Reflection.Solver.html#2871" class="Bound">tm</a> <a id="2874" class="Symbol">_</a> <a id="2876" class="Symbol">=</a> <a id="2878" href="Meta.Reflection.Solver.html#2028" class="Function">withReduction</a> <a id="2892" class="Keyword">do</a>
    <a id="2899" href="Meta.Reflection.Solver.html#2899" class="Bound">repr</a> <a id="2904" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="2906" href="Meta.Reflection.Solver.html#2000" class="Function">prepare</a> <a id="2914" href="Meta.Reflection.Solver.html#2871" class="Bound">tm</a> <a id="2917" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="2921" href="Meta.Reflection.Solver.html#1840" class="Field">build-expr</a>
    <a id="2936" href="Meta.Reflection.Solver.html#911" class="Function">print-repr</a> <a id="2947" href="Meta.Reflection.Solver.html#2871" class="Bound">tm</a> <a id="2950" href="Meta.Reflection.Solver.html#2899" class="Bound">repr</a>


<a id="2957" class="Comment">--------------------------------------------------------------------------------</a>
<a id="3038" class="Comment">-- Solvers with Variables</a>

<a id="3065" class="Keyword">record</a> <a id="Variable-solver"></a><a id="3072" href="Meta.Reflection.Solver.html#3072" class="Record">Variable-solver</a> <a id="3088" class="Symbol">{</a><a id="3089" href="Meta.Reflection.Solver.html#3089" class="Bound">ℓ</a><a id="3090" class="Symbol">}</a> <a id="3092" class="Symbol">(</a><a id="3093" href="Meta.Reflection.Solver.html#3093" class="Bound">A</a> <a id="3095" class="Symbol">:</a> <a id="3097" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3102" href="Meta.Reflection.Solver.html#3089" class="Bound">ℓ</a><a id="3103" class="Symbol">)</a> <a id="3105" class="Symbol">:</a> <a id="3107" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3112" href="Meta.Reflection.Solver.html#3089" class="Bound">ℓ</a> <a id="3114" class="Keyword">where</a>
  <a id="3122" class="Keyword">constructor</a> <a id="var-solver"></a><a id="3134" href="Meta.Reflection.Solver.html#3134" class="InductiveConstructor">var-solver</a>
  <a id="3147" class="Keyword">field</a>
    <a id="Variable-solver.dont-reduce"></a><a id="3157" href="Meta.Reflection.Solver.html#3157" class="Field">dont-reduce</a>       <a id="3175" class="Symbol">:</a> <a id="3177" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3182" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Variable-solver.build-expr"></a><a id="3191" href="Meta.Reflection.Solver.html#3191" class="Field">build-expr</a>        <a id="3209" class="Symbol">:</a> <a id="3211" href="Meta.Reflection.Variables.html#2018" class="Record">Variables</a> <a id="3221" href="Meta.Reflection.Solver.html#3093" class="Bound">A</a> <a id="3223" class="Symbol">→</a> <a id="3225" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3230" class="Symbol">→</a> <a id="3232" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3235" class="Symbol">(</a><a id="3236" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3241" href="Foundations.Notation.Logic.html#2845" class="Field Operator">×</a> <a id="3243" href="Meta.Reflection.Variables.html#2018" class="Record">Variables</a> <a id="3253" href="Meta.Reflection.Solver.html#3093" class="Bound">A</a><a id="3254" class="Symbol">)</a>
    <a id="Variable-solver.strat"></a><a id="3260" href="Meta.Reflection.Solver.html#3260" class="Field">strat</a>             <a id="3278" class="Symbol">:</a> <a id="3280" href="Meta.Reflection.Solver.html#1428" class="Datatype">Reduction-strategy</a>
    <a id="Variable-solver.invoke-solver"></a><a id="3303" href="Meta.Reflection.Solver.html#3303" class="Field">invoke-solver</a>     <a id="3321" class="Symbol">:</a> <a id="3323" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3328" class="Symbol">→</a> <a id="3330" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3335" class="Symbol">→</a> <a id="3337" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3342" class="Symbol">→</a> <a id="3344" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Variable-solver.invoke-normaliser"></a><a id="3353" href="Meta.Reflection.Solver.html#3353" class="Field">invoke-normaliser</a> <a id="3371" class="Symbol">:</a> <a id="3373" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3378" class="Symbol">→</a> <a id="3380" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3385" class="Symbol">→</a> <a id="3387" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

  <a id="Variable-solver.prepare"></a><a id="3395" href="Meta.Reflection.Solver.html#3395" class="Function">prepare</a> <a id="3403" class="Symbol">=</a> <a id="3405" href="Meta.Reflection.Solver.html#1507" class="Function">prepare′</a> <a id="3414" href="Meta.Reflection.Solver.html#3260" class="Field">strat</a>

  <a id="Variable-solver.withReduction"></a><a id="3423" href="Meta.Reflection.Solver.html#3423" class="Function">withReduction</a> <a id="3437" class="Symbol">:</a> <a id="3439" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3442" href="Meta.Reflection.Solver.html#633" class="Generalizable">T</a> <a id="3444" class="Symbol">→</a> <a id="3446" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3449" href="Meta.Reflection.Solver.html#633" class="Generalizable">T</a>
  <a id="3453" href="Meta.Reflection.Solver.html#3423" class="Function">withReduction</a> <a id="3467" class="Symbol">=</a> <a id="3469" href="Agda.Builtin.Reflection.html#10159" class="Postulate">with-normalisation</a> <a id="3488" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                <a id="3510" href="Foundations.Pi.Base.html#3423" class="Function Operator">∘</a> <a id="3512" href="Agda.Builtin.Reflection.html#10803" class="Postulate">with-reduce-defs</a> <a id="3529" class="Symbol">(</a><a id="3530" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3536" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3538" href="Meta.Reflection.Solver.html#3157" class="Field">dont-reduce</a><a id="3549" class="Symbol">)</a>

<a id="3552" class="Keyword">module</a> <a id="3559" href="Meta.Reflection.Solver.html#3559" class="Module">_</a> <a id="3561" class="Symbol">{</a><a id="3562" href="Meta.Reflection.Solver.html#3562" class="Bound">ℓ</a><a id="3563" class="Symbol">}</a> <a id="3565" class="Symbol">{</a><a id="3566" href="Meta.Reflection.Solver.html#3566" class="Bound">A</a> <a id="3568" class="Symbol">:</a> <a id="3570" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3575" href="Meta.Reflection.Solver.html#3562" class="Bound">ℓ</a><a id="3576" class="Symbol">}</a> <a id="3578" class="Symbol">(</a><a id="3579" href="Meta.Reflection.Solver.html#3579" class="Bound">solver</a> <a id="3586" class="Symbol">:</a> <a id="3588" href="Meta.Reflection.Solver.html#3072" class="Record">Variable-solver</a> <a id="3604" href="Meta.Reflection.Solver.html#3566" class="Bound">A</a><a id="3605" class="Symbol">)</a> <a id="3607" class="Keyword">where</a>
  <a id="3615" class="Keyword">open</a> <a id="3620" href="Meta.Reflection.Solver.html#3072" class="Module">Variable-solver</a> <a id="3636" href="Meta.Reflection.Solver.html#3579" class="Bound">solver</a>

  <a id="3646" href="Meta.Reflection.Solver.html#3646" class="Function">mk-var-solver</a> <a id="3660" class="Symbol">:</a> <a id="3662" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3667" class="Symbol">→</a> <a id="3669" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="3672" href="Foundations.Notation.Logic.html#4569" class="Field">⊤</a>
  <a id="3676" href="Meta.Reflection.Solver.html#3646" class="Function">mk-var-solver</a> <a id="3690" href="Meta.Reflection.Solver.html#3690" class="Bound">hole</a> <a id="3695" class="Symbol">=</a> <a id="3697" href="Meta.Reflection.Solver.html#3423" class="Function">withReduction</a> <a id="3711" class="Keyword">do</a>
    <a id="3718" href="Meta.Reflection.Solver.html#3718" class="Bound">goal</a> <a id="3723" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3725" href="Agda.Builtin.Reflection.html#8893" class="Postulate">infer-type</a> <a id="3736" href="Meta.Reflection.Solver.html#3690" class="Bound">hole</a> <a id="3741" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="3745" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a>
    <a id="3756" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3761" class="Symbol">(</a><a id="3762" href="Meta.Reflection.Solver.html#3762" class="Bound">lhs</a> <a id="3766" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3768" href="Meta.Reflection.Solver.html#3768" class="Bound">rhs</a><a id="3771" class="Symbol">)</a> <a id="3773" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3775" href="Meta.Reflection.Base.html#8535" class="Function">get-boundary</a> <a id="3788" href="Meta.Reflection.Solver.html#3718" class="Bound">goal</a>
      <a id="3799" class="Keyword">where</a> <a id="3805" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3813" class="Symbol">→</a> <a id="3815" href="Meta.Reflection.Solver.html#1310" class="Function">print-boundary</a> <a id="3830" href="Meta.Reflection.Solver.html#3718" class="Bound">goal</a>
    <a id="3839" href="Meta.Reflection.Solver.html#3839" class="Bound">lhs</a> <a id="3843" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3845" href="Meta.Reflection.Base.html#6425" class="Function">wait-just-a-bit</a> <a id="3861" href="Meta.Reflection.Solver.html#3762" class="Bound">lhs</a>
    <a id="3869" href="Meta.Reflection.Solver.html#3869" class="Bound">rhs</a> <a id="3873" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3875" href="Meta.Reflection.Base.html#6425" class="Function">wait-just-a-bit</a> <a id="3891" href="Meta.Reflection.Solver.html#3768" class="Bound">rhs</a>
    <a id="3899" href="Meta.Reflection.Solver.html#3899" class="Bound">elhs</a> <a id="3904" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3906" href="Meta.Reflection.Solver.html#3906" class="Bound">vs</a> <a id="3909" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="3911" href="Meta.Reflection.Solver.html#3395" class="Function">prepare</a> <a id="3919" href="Meta.Reflection.Solver.html#3839" class="Bound">lhs</a> <a id="3923" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="3927" href="Meta.Reflection.Solver.html#3191" class="Field">build-expr</a> <a id="3938" href="Meta.Reflection.Variables.html#2329" class="Function">empty-vars</a>
    <a id="3953" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="3965" class="String">&quot;tactic.solver.var&quot;</a> <a id="3985" class="Number">10</a> <a id="3988" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="3990" class="String">&quot;LHS: &quot;</a> <a id="3998" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4000" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4009" href="Meta.Reflection.Solver.html#3899" class="Bound">elhs</a> <a id="4014" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4020" href="Meta.Reflection.Solver.html#4020" class="Bound">erhs</a> <a id="4025" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4027" href="Meta.Reflection.Solver.html#4027" class="Bound">vs</a> <a id="4030" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4032" href="Meta.Reflection.Solver.html#3395" class="Function">prepare</a> <a id="4040" href="Meta.Reflection.Solver.html#3869" class="Bound">rhs</a> <a id="4044" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="4048" href="Meta.Reflection.Solver.html#3191" class="Field">build-expr</a> <a id="4059" href="Meta.Reflection.Solver.html#3906" class="Bound">vs</a>
    <a id="4066" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4078" class="String">&quot;tactic.solver.var&quot;</a> <a id="4098" class="Number">10</a> <a id="4101" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="4103" class="String">&quot;RHS: &quot;</a> <a id="4111" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4113" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4122" href="Meta.Reflection.Solver.html#4020" class="Bound">erhs</a> <a id="4127" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4133" href="Meta.Reflection.Solver.html#4133" class="Bound">size</a> <a id="4138" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4140" href="Meta.Reflection.Solver.html#4140" class="Bound">env</a> <a id="4144" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4146" href="Meta.Reflection.Variables.html#3572" class="Function">environment</a> <a id="4158" href="Meta.Reflection.Solver.html#4027" class="Bound">vs</a>
    <a id="4165" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4177" class="String">&quot;tactic.solver.var&quot;</a> <a id="4197" class="Number">10</a> <a id="4200" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="4202" class="String">&quot;Env: &quot;</a> <a id="4210" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4212" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4221" href="Meta.Reflection.Solver.html#4140" class="Bound">env</a> <a id="4225" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4231" class="Symbol">(</a><a id="4232" href="Agda.Builtin.Reflection.html#11236" class="Postulate">no-constraints</a> <a id="4247" href="Foundations.Notation.Underlying.html#1772" class="Function Operator">$</a> <a id="4249" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="4255" href="Meta.Reflection.Solver.html#3690" class="Bound">hole</a> <a id="4260" href="Foundations.Notation.Underlying.html#1772" class="Function Operator">$</a> <a id="4262" href="Meta.Reflection.Solver.html#3303" class="Field">invoke-solver</a> <a id="4276" href="Meta.Reflection.Solver.html#3899" class="Bound">elhs</a> <a id="4281" href="Meta.Reflection.Solver.html#4020" class="Bound">erhs</a> <a id="4286" href="Meta.Reflection.Solver.html#4140" class="Bound">env</a><a id="4289" class="Symbol">)</a> <a id="4291" href="Meta.Effect.Alt.html#369" class="Field Operator">&lt;|&gt;</a>
      <a id="4301" href="Meta.Reflection.Solver.html#738" class="Function">solver-failed</a> <a id="4315" href="Meta.Reflection.Solver.html#3899" class="Bound">elhs</a> <a id="4320" href="Meta.Reflection.Solver.html#4020" class="Bound">erhs</a>

  <a id="4328" href="Meta.Reflection.Solver.html#4328" class="Function">mk-var-normalise</a> <a id="4345" class="Symbol">:</a> <a id="4347" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4352" class="Symbol">→</a> <a id="4354" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4359" class="Symbol">→</a> <a id="4361" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4364" href="Foundations.Notation.Logic.html#4569" class="Field">⊤</a>
  <a id="4368" href="Meta.Reflection.Solver.html#4328" class="Function">mk-var-normalise</a> <a id="4385" href="Meta.Reflection.Solver.html#4385" class="Bound">tm</a> <a id="4388" href="Meta.Reflection.Solver.html#4388" class="Bound">hole</a> <a id="4393" class="Symbol">=</a> <a id="4395" href="Meta.Reflection.Solver.html#3423" class="Function">withReduction</a> <a id="4409" class="Keyword">do</a>
    <a id="4416" href="Meta.Reflection.Solver.html#4416" class="Bound">e</a> <a id="4418" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4420" href="Meta.Reflection.Solver.html#4420" class="Bound">vs</a> <a id="4423" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4425" href="Meta.Reflection.Solver.html#3395" class="Function">prepare</a> <a id="4433" href="Meta.Reflection.Solver.html#4385" class="Bound">tm</a> <a id="4436" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="4440" href="Meta.Reflection.Solver.html#3191" class="Field">build-expr</a> <a id="4451" href="Meta.Reflection.Variables.html#2329" class="Function">empty-vars</a>
    <a id="4466" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4478" class="String">&quot;tactic.solver.var&quot;</a> <a id="4498" class="Number">10</a> <a id="4501" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="4503" class="String">&quot;Expression: &quot;</a> <a id="4518" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4520" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4529" href="Meta.Reflection.Solver.html#4416" class="Bound">e</a> <a id="4531" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4537" href="Meta.Reflection.Solver.html#4537" class="Bound">size</a> <a id="4542" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4544" href="Meta.Reflection.Solver.html#4544" class="Bound">env</a> <a id="4548" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4550" href="Meta.Reflection.Variables.html#3572" class="Function">environment</a> <a id="4562" href="Meta.Reflection.Solver.html#4420" class="Bound">vs</a>
    <a id="4569" href="Agda.Builtin.Reflection.html#11091" class="Postulate">debug-print</a> <a id="4581" class="String">&quot;tactic.solver.var&quot;</a> <a id="4601" class="Number">10</a> <a id="4604" href="Meta.Literals.FromProduct.html#419" class="Function Operator">[</a> <a id="4606" class="String">&quot;Env: &quot;</a> <a id="4614" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4616" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4625" href="Meta.Reflection.Solver.html#4544" class="Bound">env</a> <a id="4629" href="Meta.Literals.FromProduct.html#419" class="Function Operator">]</a>
    <a id="4635" href="Meta.Reflection.Solver.html#4635" class="Bound">soln</a> <a id="4640" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4642" href="Agda.Builtin.Reflection.html#9008" class="Postulate">reduce</a> <a id="4649" href="Foundations.Notation.Underlying.html#1772" class="Function Operator">$</a> <a id="4651" href="Meta.Reflection.Solver.html#3353" class="Field">invoke-normaliser</a> <a id="4669" href="Meta.Reflection.Solver.html#4416" class="Bound">e</a> <a id="4671" href="Meta.Reflection.Solver.html#4544" class="Bound">env</a>
    <a id="4679" href="Agda.Builtin.Reflection.html#8790" class="Postulate">unify</a> <a id="4685" href="Meta.Reflection.Solver.html#4388" class="Bound">hole</a> <a id="4690" href="Meta.Reflection.Solver.html#4635" class="Bound">soln</a>

  <a id="4698" href="Meta.Reflection.Solver.html#4698" class="Function">mk-var-repr</a> <a id="4710" class="Symbol">:</a> <a id="4712" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4717" class="Symbol">→</a> <a id="4719" href="Agda.Builtin.Reflection.html#8617" class="Postulate">TC</a> <a id="4722" href="Foundations.Notation.Logic.html#4569" class="Field">⊤</a>
  <a id="4726" href="Meta.Reflection.Solver.html#4698" class="Function">mk-var-repr</a> <a id="4738" href="Meta.Reflection.Solver.html#4738" class="Bound">tm</a> <a id="4741" class="Symbol">=</a> <a id="4743" href="Meta.Reflection.Solver.html#3423" class="Function">withReduction</a> <a id="4757" class="Keyword">do</a>
    <a id="4764" href="Meta.Reflection.Solver.html#4764" class="Bound">repr</a> <a id="4769" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4771" href="Meta.Reflection.Solver.html#4771" class="Bound">vs</a> <a id="4774" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4776" href="Meta.Reflection.Solver.html#3395" class="Function">prepare</a> <a id="4784" href="Meta.Reflection.Solver.html#4738" class="Bound">tm</a> <a id="4787" href="Meta.Effect.Bind.html#305" class="Field Operator">&gt;&gt;=</a> <a id="4791" href="Meta.Reflection.Solver.html#3191" class="Field">build-expr</a> <a id="4802" href="Meta.Reflection.Variables.html#2329" class="Function">empty-vars</a>
    <a id="4817" href="Meta.Reflection.Solver.html#4817" class="Bound">size</a> <a id="4822" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4824" href="Meta.Reflection.Solver.html#4824" class="Bound">env</a> <a id="4828" href="Meta.Effect.Bind.html#305" class="Field Operator">←</a> <a id="4830" href="Meta.Reflection.Variables.html#3572" class="Function">environment</a> <a id="4842" href="Meta.Reflection.Solver.html#4771" class="Bound">vs</a>
    <a id="4849" href="Meta.Reflection.Solver.html#1078" class="Function">print-var-repr</a> <a id="4864" href="Meta.Reflection.Solver.html#4738" class="Bound">tm</a> <a id="4867" href="Meta.Reflection.Solver.html#4764" class="Bound">repr</a> <a id="4872" href="Meta.Reflection.Solver.html#4824" class="Bound">env</a>
</pre></body></html>