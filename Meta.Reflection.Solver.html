<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Reflection.Solver</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.Reflection.Solver.html" class="Module">Meta.Reflection.Solver</a> <a id="54" class="Keyword">where</a>

<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Meta.Effect.Alt.html" class="Module">Meta.Effect.Alt</a>
<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Meta.Literals.FromString.html" class="Module">Meta.Literals.FromString</a>
<a id="156" class="Keyword">open</a> <a id="161" class="Keyword">import</a> <a id="168" href="Meta.Reflection.Base.html" class="Module">Meta.Reflection.Base</a>
<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Meta.Reflection.Variables.html" class="Module">Meta.Reflection.Variables</a>

<a id="228" class="Keyword">open</a> <a id="233" class="Keyword">import</a> <a id="240" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="255" class="Keyword">open</a> <a id="260" class="Keyword">import</a> <a id="267" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="326" class="Keyword">open</a> <a id="331" class="Keyword">import</a> <a id="338" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Data.Reflection.Error.html" class="Module">Data.Reflection.Error</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Data.Reflection.Instances.FromString.html" class="Module">Data.Reflection.Instances.FromString</a>
<a id="437" class="Keyword">open</a> <a id="442" class="Keyword">import</a> <a id="449" href="Data.Reflection.Name.html" class="Module">Data.Reflection.Name</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Data.Reflection.Term.html" class="Module">Data.Reflection.Term</a>

<a id="504" class="Keyword">private</a> <a id="512" class="Keyword">variable</a>
  <a id="523" href="Meta.Reflection.Solver.html#523" class="Generalizable">ℓ</a> <a id="525" class="Symbol">:</a> <a id="527" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="535" href="Meta.Reflection.Solver.html#535" class="Generalizable">A</a> <a id="537" href="Meta.Reflection.Solver.html#537" class="Generalizable">T</a> <a id="539" class="Symbol">:</a> <a id="541" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="546" href="Meta.Reflection.Solver.html#523" class="Generalizable">ℓ</a>

<a id="549" class="Comment">--------------------------------------------------------------------------------</a>
<a id="630" class="Comment">-- Helpers</a>

<a id="solver-failed"></a><a id="642" href="Meta.Reflection.Solver.html#642" class="Function">solver-failed</a> <a id="656" class="Symbol">:</a> <a id="658" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="663" class="Symbol">→</a> <a id="665" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="670" class="Symbol">→</a> <a id="672" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="675" href="Meta.Reflection.Solver.html#535" class="Generalizable">A</a>
<a id="677" href="Meta.Reflection.Solver.html#642" class="Function">solver-failed</a> <a id="691" href="Meta.Reflection.Solver.html#691" class="Bound">lhs</a> <a id="695" href="Meta.Reflection.Solver.html#695" class="Bound">rhs</a> <a id="699" class="Symbol">=</a> <a id="701" href="Agda.Builtin.Reflection.html#8815" class="Postulate">type-error</a>
  <a id="714" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="716" class="String">&quot;Could not equate the following expressions:\n  &quot;</a>
  <a id="768" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="770" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="779" href="Meta.Reflection.Solver.html#691" class="Bound">lhs</a> <a id="783" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="785" class="String">&quot;\nAnd\n  &quot;</a> <a id="797" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="799" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="808" href="Meta.Reflection.Solver.html#695" class="Bound">rhs</a> <a id="812" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="print-repr"></a><a id="815" href="Meta.Reflection.Solver.html#815" class="Function">print-repr</a> <a id="826" class="Symbol">:</a> <a id="828" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="833" class="Symbol">→</a> <a id="835" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="840" class="Symbol">→</a> <a id="842" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="845" href="Meta.Reflection.Solver.html#535" class="Generalizable">A</a>
<a id="847" href="Meta.Reflection.Solver.html#815" class="Function">print-repr</a> <a id="858" href="Meta.Reflection.Solver.html#858" class="Bound">tm</a> <a id="861" href="Meta.Reflection.Solver.html#861" class="Bound">repr</a> <a id="866" class="Symbol">=</a> <a id="868" href="Agda.Builtin.Reflection.html#8815" class="Postulate">type-error</a>
  <a id="881" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="883" class="String">&quot;The expression\n  &quot;</a> <a id="904" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="906" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="915" href="Meta.Reflection.Solver.html#858" class="Bound">tm</a>
  <a id="920" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="922" class="String">&quot;\nIs represented by the expression\n  &quot;</a> <a id="963" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="965" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="974" href="Meta.Reflection.Solver.html#861" class="Bound">repr</a> <a id="979" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="print-var-repr"></a><a id="982" href="Meta.Reflection.Solver.html#982" class="Function">print-var-repr</a> <a id="997" class="Symbol">:</a> <a id="999" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1004" class="Symbol">→</a> <a id="1006" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1011" class="Symbol">→</a> <a id="1013" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1018" class="Symbol">→</a> <a id="1020" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1023" href="Meta.Reflection.Solver.html#535" class="Generalizable">A</a>
<a id="1025" href="Meta.Reflection.Solver.html#982" class="Function">print-var-repr</a> <a id="1040" href="Meta.Reflection.Solver.html#1040" class="Bound">tm</a> <a id="1043" href="Meta.Reflection.Solver.html#1043" class="Bound">repr</a> <a id="1048" href="Meta.Reflection.Solver.html#1048" class="Bound">env</a> <a id="1052" class="Symbol">=</a> <a id="1054" href="Agda.Builtin.Reflection.html#8815" class="Postulate">type-error</a>
  <a id="1067" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="1069" class="String">&quot;The expression\n  &quot;</a> <a id="1090" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1092" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1101" href="Meta.Reflection.Solver.html#1040" class="Bound">tm</a>
  <a id="1106" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1108" class="String">&quot;\nIs represented by the expression\n  &quot;</a> <a id="1149" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1151" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1160" href="Meta.Reflection.Solver.html#1043" class="Bound">repr</a>
  <a id="1167" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1169" class="String">&quot;\nIn the environment\n  &quot;</a> <a id="1196" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1198" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1207" href="Meta.Reflection.Solver.html#1048" class="Bound">env</a> <a id="1211" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="print-boundary"></a><a id="1214" href="Meta.Reflection.Solver.html#1214" class="Function">print-boundary</a> <a id="1229" class="Symbol">:</a> <a id="1231" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1236" class="Symbol">→</a> <a id="1238" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1241" href="Meta.Reflection.Solver.html#535" class="Generalizable">A</a>
<a id="1243" href="Meta.Reflection.Solver.html#1214" class="Function">print-boundary</a> <a id="1258" href="Meta.Reflection.Solver.html#1258" class="Bound">goal</a> <a id="1263" class="Symbol">=</a> <a id="1265" href="Agda.Builtin.Reflection.html#8815" class="Postulate">type-error</a> <a id="1276" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="1278" class="String">&quot;Can&#39;t determine boundary: &quot;</a> <a id="1307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1309" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="1318" href="Meta.Reflection.Solver.html#1258" class="Bound">goal</a> <a id="1323" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>


<a id="1327" class="Keyword">data</a> <a id="Reduction-strategy"></a><a id="1332" href="Meta.Reflection.Solver.html#1332" class="Datatype">Reduction-strategy</a> <a id="1351" class="Symbol">:</a> <a id="1353" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1358" class="Keyword">where</a>
  <a id="Reduction-strategy.no"></a><a id="1366" href="Meta.Reflection.Solver.html#1366" class="InductiveConstructor">no</a> <a id="Reduction-strategy.whnf"></a><a id="1369" href="Meta.Reflection.Solver.html#1369" class="InductiveConstructor">whnf</a> <a id="Reduction-strategy.norm"></a><a id="1374" href="Meta.Reflection.Solver.html#1374" class="InductiveConstructor">norm</a> <a id="1379" class="Symbol">:</a> <a id="1381" href="Meta.Reflection.Solver.html#1332" class="Datatype">Reduction-strategy</a>

<a id="1401" class="Keyword">private</a>
  <a id="prepare′"></a><a id="1411" href="Meta.Reflection.Solver.html#1411" class="Function">prepare′</a> <a id="1420" class="Symbol">:</a> <a id="1422" href="Meta.Reflection.Solver.html#1332" class="Datatype">Reduction-strategy</a> <a id="1441" class="Symbol">→</a> <a id="1443" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1448" class="Symbol">→</a> <a id="1450" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1453" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="1460" href="Meta.Reflection.Solver.html#1411" class="Function">prepare′</a> <a id="1469" href="Meta.Reflection.Solver.html#1366" class="InductiveConstructor">no</a>   <a id="1474" class="Symbol">=</a> <a id="1476" href="Meta.Effect.Idiom.html#354" class="Field">pure</a>
  <a id="1483" href="Meta.Reflection.Solver.html#1411" class="Function">prepare′</a> <a id="1492" href="Meta.Reflection.Solver.html#1369" class="InductiveConstructor">whnf</a> <a id="1497" class="Symbol">=</a> <a id="1499" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
  <a id="1508" href="Meta.Reflection.Solver.html#1411" class="Function">prepare′</a> <a id="1517" href="Meta.Reflection.Solver.html#1374" class="InductiveConstructor">norm</a> <a id="1522" class="Symbol">=</a> <a id="1524" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a>


<a id="1536" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1617" class="Comment">-- Simple Solvers</a>

<a id="1636" class="Keyword">record</a> <a id="Simple-solver"></a><a id="1643" href="Meta.Reflection.Solver.html#1643" class="Record">Simple-solver</a> <a id="1657" class="Symbol">:</a> <a id="1659" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="1664" class="Keyword">where</a>
  <a id="1672" class="Keyword">constructor</a> <a id="simple-solver"></a><a id="1684" href="Meta.Reflection.Solver.html#1684" class="InductiveConstructor">simple-solver</a>
  <a id="1700" class="Keyword">field</a>
    <a id="Simple-solver.dont-reduce"></a><a id="1710" href="Meta.Reflection.Solver.html#1710" class="Field">dont-reduce</a>       <a id="1728" class="Symbol">:</a> <a id="1730" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1735" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Simple-solver.build-expr"></a><a id="1744" href="Meta.Reflection.Solver.html#1744" class="Field">build-expr</a>        <a id="1762" class="Symbol">:</a> <a id="1764" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1769" class="Symbol">→</a> <a id="1771" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1774" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Simple-solver.strat"></a><a id="1783" href="Meta.Reflection.Solver.html#1783" class="Field">strat</a>             <a id="1801" class="Symbol">:</a> <a id="1803" href="Meta.Reflection.Solver.html#1332" class="Datatype">Reduction-strategy</a>
    <a id="Simple-solver.invoke-solver"></a><a id="1826" href="Meta.Reflection.Solver.html#1826" class="Field">invoke-solver</a>     <a id="1844" class="Symbol">:</a> <a id="1846" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1851" class="Symbol">→</a> <a id="1853" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1858" class="Symbol">→</a> <a id="1860" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Simple-solver.invoke-normaliser"></a><a id="1869" href="Meta.Reflection.Solver.html#1869" class="Field">invoke-normaliser</a> <a id="1887" class="Symbol">:</a> <a id="1889" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1894" class="Symbol">→</a> <a id="1896" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

  <a id="Simple-solver.prepare"></a><a id="1904" href="Meta.Reflection.Solver.html#1904" class="Function">prepare</a> <a id="1912" class="Symbol">=</a> <a id="1914" href="Meta.Reflection.Solver.html#1411" class="Function">prepare′</a> <a id="1923" href="Meta.Reflection.Solver.html#1783" class="Field">strat</a>

  <a id="Simple-solver.withReduction"></a><a id="1932" href="Meta.Reflection.Solver.html#1932" class="Function">withReduction</a> <a id="1946" class="Symbol">:</a> <a id="1948" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1951" href="Meta.Reflection.Solver.html#537" class="Generalizable">T</a> <a id="1953" class="Symbol">→</a> <a id="1955" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1958" href="Meta.Reflection.Solver.html#537" class="Generalizable">T</a>
  <a id="1962" href="Meta.Reflection.Solver.html#1932" class="Function">withReduction</a> <a id="1976" class="Symbol">=</a> <a id="1978" href="Agda.Builtin.Reflection.html#10125" class="Postulate">with-normalisation</a> <a id="1997" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                <a id="2019" href="Foundations.Pi.Base.html#2101" class="Function Operator">∘</a> <a id="2021" href="Agda.Builtin.Reflection.html#10769" class="Postulate">with-reduce-defs</a> <a id="2038" class="Symbol">(</a><a id="2039" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="2045" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2047" href="Meta.Reflection.Solver.html#1710" class="Field">dont-reduce</a><a id="2058" class="Symbol">)</a>

<a id="2061" class="Keyword">module</a> <a id="2068" href="Meta.Reflection.Solver.html#2068" class="Module">_</a> <a id="2070" class="Symbol">(</a><a id="2071" href="Meta.Reflection.Solver.html#2071" class="Bound">solver</a> <a id="2078" class="Symbol">:</a> <a id="2080" href="Meta.Reflection.Solver.html#1643" class="Record">Simple-solver</a><a id="2093" class="Symbol">)</a> <a id="2095" class="Keyword">where</a>
  <a id="2103" class="Keyword">open</a> <a id="2108" href="Meta.Reflection.Solver.html#1643" class="Module">Simple-solver</a> <a id="2122" href="Meta.Reflection.Solver.html#2071" class="Bound">solver</a>

  <a id="2132" href="Meta.Reflection.Solver.html#2132" class="Function">mk-simple-solver</a> <a id="2149" class="Symbol">:</a> <a id="2151" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2156" class="Symbol">→</a> <a id="2158" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2161" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="2165" href="Meta.Reflection.Solver.html#2132" class="Function">mk-simple-solver</a> <a id="2182" href="Meta.Reflection.Solver.html#2182" class="Bound">hole</a> <a id="2187" class="Symbol">=</a> <a id="2189" href="Meta.Reflection.Solver.html#1932" class="Function">withReduction</a> <a id="2203" class="Keyword">do</a>
    <a id="2210" href="Meta.Reflection.Solver.html#2210" class="Bound">goal</a> <a id="2215" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="2217" href="Agda.Builtin.Reflection.html#8878" class="Postulate">infer-type</a> <a id="2228" href="Meta.Reflection.Solver.html#2182" class="Bound">hole</a> <a id="2233" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="2237" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
    <a id="2248" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="2253" class="Symbol">(</a><a id="2254" href="Meta.Reflection.Solver.html#2254" class="Bound">lhs</a> <a id="2258" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2260" href="Meta.Reflection.Solver.html#2260" class="Bound">rhs</a><a id="2263" class="Symbol">)</a> <a id="2265" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="2267" href="Meta.Reflection.Base.html#8332" class="Function">get-boundary</a> <a id="2280" href="Meta.Reflection.Solver.html#2210" class="Bound">goal</a> <a id="2285" class="Keyword">where</a>
      <a id="2297" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="2305" class="Symbol">→</a> <a id="2307" href="Meta.Reflection.Solver.html#1214" class="Function">print-boundary</a> <a id="2322" href="Meta.Reflection.Solver.html#2210" class="Bound">goal</a>
    <a id="2331" href="Meta.Reflection.Solver.html#2331" class="Bound">lhs</a> <a id="2335" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="2337" href="Meta.Reflection.Base.html#6222" class="Function">wait-just-a-bit</a> <a id="2353" href="Meta.Reflection.Solver.html#2254" class="Bound">lhs</a>
    <a id="2361" href="Meta.Reflection.Solver.html#2361" class="Bound">rhs</a> <a id="2365" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="2367" href="Meta.Reflection.Base.html#6222" class="Function">wait-just-a-bit</a> <a id="2383" href="Meta.Reflection.Solver.html#2260" class="Bound">rhs</a>
    <a id="2391" href="Meta.Reflection.Solver.html#2391" class="Bound">elhs</a> <a id="2396" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="2398" href="Meta.Reflection.Solver.html#1904" class="Function">prepare</a> <a id="2406" href="Meta.Reflection.Solver.html#2331" class="Bound">lhs</a> <a id="2410" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="2414" href="Meta.Reflection.Solver.html#1744" class="Field">build-expr</a>
    <a id="2429" href="Meta.Reflection.Solver.html#2429" class="Bound">erhs</a> <a id="2434" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="2436" href="Meta.Reflection.Solver.html#1904" class="Function">prepare</a> <a id="2444" href="Meta.Reflection.Solver.html#2361" class="Bound">rhs</a> <a id="2448" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="2452" href="Meta.Reflection.Solver.html#1744" class="Field">build-expr</a>
    <a id="2467" href="Agda.Builtin.Reflection.html#11202" class="Postulate">no-constraints</a> <a id="2482" class="Symbol">(</a><a id="2483" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="2489" href="Meta.Reflection.Solver.html#2182" class="Bound">hole</a> <a id="2494" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="2496" href="Meta.Reflection.Solver.html#1826" class="Field">invoke-solver</a> <a id="2510" href="Meta.Reflection.Solver.html#2391" class="Bound">elhs</a> <a id="2515" href="Meta.Reflection.Solver.html#2429" class="Bound">erhs</a><a id="2519" class="Symbol">)</a>
      <a id="2527" href="Meta.Effect.Alt.html#320" class="Field Operator">&lt;|&gt;</a> <a id="2531" href="Meta.Reflection.Solver.html#642" class="Function">solver-failed</a> <a id="2545" href="Meta.Reflection.Solver.html#2391" class="Bound">elhs</a> <a id="2550" href="Meta.Reflection.Solver.html#2429" class="Bound">erhs</a>

  <a id="2558" href="Meta.Reflection.Solver.html#2558" class="Function">mk-simple-normalise</a> <a id="2578" class="Symbol">:</a> <a id="2580" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2585" class="Symbol">→</a> <a id="2587" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2592" class="Symbol">→</a> <a id="2594" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2597" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="2601" href="Meta.Reflection.Solver.html#2558" class="Function">mk-simple-normalise</a> <a id="2621" href="Meta.Reflection.Solver.html#2621" class="Bound">tm</a> <a id="2624" href="Meta.Reflection.Solver.html#2624" class="Bound">hole</a> <a id="2629" class="Symbol">=</a> <a id="2631" href="Meta.Reflection.Solver.html#1932" class="Function">withReduction</a> <a id="2645" class="Keyword">do</a>
    <a id="2652" href="Meta.Reflection.Solver.html#2652" class="Bound">e</a> <a id="2654" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="2656" href="Meta.Reflection.Solver.html#1904" class="Function">prepare</a> <a id="2664" href="Meta.Reflection.Solver.html#2621" class="Bound">tm</a> <a id="2667" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="2671" href="Meta.Reflection.Solver.html#1744" class="Field">build-expr</a>
    <a id="2686" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="2692" href="Meta.Reflection.Solver.html#2624" class="Bound">hole</a> <a id="2697" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="2699" href="Meta.Reflection.Solver.html#1869" class="Field">invoke-normaliser</a> <a id="2717" href="Meta.Reflection.Solver.html#2652" class="Bound">e</a>

  <a id="2722" href="Meta.Reflection.Solver.html#2722" class="Function">mk-simple-repr</a> <a id="2737" class="Symbol">:</a> <a id="2739" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2744" class="Symbol">→</a> <a id="2746" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2751" class="Symbol">→</a> <a id="2753" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2756" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="2760" href="Meta.Reflection.Solver.html#2722" class="Function">mk-simple-repr</a> <a id="2775" href="Meta.Reflection.Solver.html#2775" class="Bound">tm</a> <a id="2778" class="Symbol">_</a> <a id="2780" class="Symbol">=</a> <a id="2782" href="Meta.Reflection.Solver.html#1932" class="Function">withReduction</a> <a id="2796" class="Keyword">do</a>
    <a id="2803" href="Meta.Reflection.Solver.html#2803" class="Bound">repr</a> <a id="2808" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="2810" href="Meta.Reflection.Solver.html#1904" class="Function">prepare</a> <a id="2818" href="Meta.Reflection.Solver.html#2775" class="Bound">tm</a> <a id="2821" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="2825" href="Meta.Reflection.Solver.html#1744" class="Field">build-expr</a>
    <a id="2840" href="Meta.Reflection.Solver.html#815" class="Function">print-repr</a> <a id="2851" href="Meta.Reflection.Solver.html#2775" class="Bound">tm</a> <a id="2854" href="Meta.Reflection.Solver.html#2803" class="Bound">repr</a>


<a id="2861" class="Comment">--------------------------------------------------------------------------------</a>
<a id="2942" class="Comment">-- Solvers with Variables</a>

<a id="2969" class="Keyword">record</a> <a id="Variable-solver"></a><a id="2976" href="Meta.Reflection.Solver.html#2976" class="Record">Variable-solver</a> <a id="2992" class="Symbol">{</a><a id="2993" href="Meta.Reflection.Solver.html#2993" class="Bound">ℓ</a><a id="2994" class="Symbol">}</a> <a id="2996" class="Symbol">(</a><a id="2997" href="Meta.Reflection.Solver.html#2997" class="Bound">A</a> <a id="2999" class="Symbol">:</a> <a id="3001" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3006" href="Meta.Reflection.Solver.html#2993" class="Bound">ℓ</a><a id="3007" class="Symbol">)</a> <a id="3009" class="Symbol">:</a> <a id="3011" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3016" href="Meta.Reflection.Solver.html#2993" class="Bound">ℓ</a> <a id="3018" class="Keyword">where</a>
  <a id="3026" class="Keyword">constructor</a> <a id="var-solver"></a><a id="3038" href="Meta.Reflection.Solver.html#3038" class="InductiveConstructor">var-solver</a>
  <a id="3051" class="Keyword">field</a>
    <a id="Variable-solver.dont-reduce"></a><a id="3061" href="Meta.Reflection.Solver.html#3061" class="Field">dont-reduce</a>       <a id="3079" class="Symbol">:</a> <a id="3081" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3086" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>
    <a id="Variable-solver.build-expr"></a><a id="3095" href="Meta.Reflection.Solver.html#3095" class="Field">build-expr</a>        <a id="3113" class="Symbol">:</a> <a id="3115" href="Meta.Reflection.Variables.html#1965" class="Record">Variables</a> <a id="3125" href="Meta.Reflection.Solver.html#2997" class="Bound">A</a> <a id="3127" class="Symbol">→</a> <a id="3129" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3134" class="Symbol">→</a> <a id="3136" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3139" class="Symbol">(</a><a id="3140" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3145" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="3147" href="Meta.Reflection.Variables.html#1965" class="Record">Variables</a> <a id="3157" href="Meta.Reflection.Solver.html#2997" class="Bound">A</a><a id="3158" class="Symbol">)</a>
    <a id="Variable-solver.strat"></a><a id="3164" href="Meta.Reflection.Solver.html#3164" class="Field">strat</a>             <a id="3182" class="Symbol">:</a> <a id="3184" href="Meta.Reflection.Solver.html#1332" class="Datatype">Reduction-strategy</a>
    <a id="Variable-solver.invoke-solver"></a><a id="3207" href="Meta.Reflection.Solver.html#3207" class="Field">invoke-solver</a>     <a id="3225" class="Symbol">:</a> <a id="3227" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3232" class="Symbol">→</a> <a id="3234" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3239" class="Symbol">→</a> <a id="3241" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3246" class="Symbol">→</a> <a id="3248" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="Variable-solver.invoke-normaliser"></a><a id="3257" href="Meta.Reflection.Solver.html#3257" class="Field">invoke-normaliser</a> <a id="3275" class="Symbol">:</a> <a id="3277" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3282" class="Symbol">→</a> <a id="3284" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3289" class="Symbol">→</a> <a id="3291" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>

  <a id="Variable-solver.prepare"></a><a id="3299" href="Meta.Reflection.Solver.html#3299" class="Function">prepare</a> <a id="3307" class="Symbol">=</a> <a id="3309" href="Meta.Reflection.Solver.html#1411" class="Function">prepare′</a> <a id="3318" href="Meta.Reflection.Solver.html#3164" class="Field">strat</a>

  <a id="Variable-solver.withReduction"></a><a id="3327" href="Meta.Reflection.Solver.html#3327" class="Function">withReduction</a> <a id="3341" class="Symbol">:</a> <a id="3343" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3346" href="Meta.Reflection.Solver.html#537" class="Generalizable">T</a> <a id="3348" class="Symbol">→</a> <a id="3350" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3353" href="Meta.Reflection.Solver.html#537" class="Generalizable">T</a>
  <a id="3357" href="Meta.Reflection.Solver.html#3327" class="Function">withReduction</a> <a id="3371" class="Symbol">=</a> <a id="3373" href="Agda.Builtin.Reflection.html#10125" class="Postulate">with-normalisation</a> <a id="3392" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
                <a id="3414" href="Foundations.Pi.Base.html#2101" class="Function Operator">∘</a> <a id="3416" href="Agda.Builtin.Reflection.html#10769" class="Postulate">with-reduce-defs</a> <a id="3433" class="Symbol">(</a><a id="3434" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="3440" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3442" href="Meta.Reflection.Solver.html#3061" class="Field">dont-reduce</a><a id="3453" class="Symbol">)</a>

<a id="3456" class="Keyword">module</a> <a id="3463" href="Meta.Reflection.Solver.html#3463" class="Module">_</a> <a id="3465" class="Symbol">{</a><a id="3466" href="Meta.Reflection.Solver.html#3466" class="Bound">ℓ</a><a id="3467" class="Symbol">}</a> <a id="3469" class="Symbol">{</a><a id="3470" href="Meta.Reflection.Solver.html#3470" class="Bound">A</a> <a id="3472" class="Symbol">:</a> <a id="3474" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3479" href="Meta.Reflection.Solver.html#3466" class="Bound">ℓ</a><a id="3480" class="Symbol">}</a> <a id="3482" class="Symbol">(</a><a id="3483" href="Meta.Reflection.Solver.html#3483" class="Bound">solver</a> <a id="3490" class="Symbol">:</a> <a id="3492" href="Meta.Reflection.Solver.html#2976" class="Record">Variable-solver</a> <a id="3508" href="Meta.Reflection.Solver.html#3470" class="Bound">A</a><a id="3509" class="Symbol">)</a> <a id="3511" class="Keyword">where</a>
  <a id="3519" class="Keyword">open</a> <a id="3524" href="Meta.Reflection.Solver.html#2976" class="Module">Variable-solver</a> <a id="3540" href="Meta.Reflection.Solver.html#3483" class="Bound">solver</a>

  <a id="3550" href="Meta.Reflection.Solver.html#3550" class="Function">mk-var-solver</a> <a id="3564" class="Symbol">:</a> <a id="3566" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3571" class="Symbol">→</a> <a id="3573" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3576" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="3580" href="Meta.Reflection.Solver.html#3550" class="Function">mk-var-solver</a> <a id="3594" href="Meta.Reflection.Solver.html#3594" class="Bound">hole</a> <a id="3599" class="Symbol">=</a> <a id="3601" href="Meta.Reflection.Solver.html#3327" class="Function">withReduction</a> <a id="3615" class="Keyword">do</a>
    <a id="3622" href="Meta.Reflection.Solver.html#3622" class="Bound">goal</a> <a id="3627" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="3629" href="Agda.Builtin.Reflection.html#8878" class="Postulate">infer-type</a> <a id="3640" href="Meta.Reflection.Solver.html#3594" class="Bound">hole</a> <a id="3645" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="3649" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
    <a id="3660" href="Agda.Builtin.Maybe.html#173" class="InductiveConstructor">just</a> <a id="3665" class="Symbol">(</a><a id="3666" href="Meta.Reflection.Solver.html#3666" class="Bound">lhs</a> <a id="3670" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3672" href="Meta.Reflection.Solver.html#3672" class="Bound">rhs</a><a id="3675" class="Symbol">)</a> <a id="3677" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="3679" href="Meta.Reflection.Base.html#8332" class="Function">get-boundary</a> <a id="3692" href="Meta.Reflection.Solver.html#3622" class="Bound">goal</a>
      <a id="3703" class="Keyword">where</a> <a id="3709" href="Agda.Builtin.Maybe.html#194" class="InductiveConstructor">nothing</a> <a id="3717" class="Symbol">→</a> <a id="3719" href="Meta.Reflection.Solver.html#1214" class="Function">print-boundary</a> <a id="3734" href="Meta.Reflection.Solver.html#3622" class="Bound">goal</a>
    <a id="3743" href="Meta.Reflection.Solver.html#3743" class="Bound">lhs</a> <a id="3747" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="3749" href="Meta.Reflection.Base.html#6222" class="Function">wait-just-a-bit</a> <a id="3765" href="Meta.Reflection.Solver.html#3666" class="Bound">lhs</a>
    <a id="3773" href="Meta.Reflection.Solver.html#3773" class="Bound">rhs</a> <a id="3777" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="3779" href="Meta.Reflection.Base.html#6222" class="Function">wait-just-a-bit</a> <a id="3795" href="Meta.Reflection.Solver.html#3672" class="Bound">rhs</a>
    <a id="3803" href="Meta.Reflection.Solver.html#3803" class="Bound">elhs</a> <a id="3808" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3810" href="Meta.Reflection.Solver.html#3810" class="Bound">vs</a> <a id="3813" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="3815" href="Meta.Reflection.Solver.html#3299" class="Function">prepare</a> <a id="3823" href="Meta.Reflection.Solver.html#3743" class="Bound">lhs</a> <a id="3827" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="3831" href="Meta.Reflection.Solver.html#3095" class="Field">build-expr</a> <a id="3842" href="Meta.Reflection.Variables.html#2276" class="Function">empty-vars</a>
    <a id="3857" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="3869" class="String">&quot;tactic.solver.var&quot;</a> <a id="3889" class="Number">10</a> <a id="3892" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="3894" class="String">&quot;LHS: &quot;</a> <a id="3902" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3904" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="3913" href="Meta.Reflection.Solver.html#3803" class="Bound">elhs</a> <a id="3918" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="3924" href="Meta.Reflection.Solver.html#3924" class="Bound">erhs</a> <a id="3929" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3931" href="Meta.Reflection.Solver.html#3931" class="Bound">vs</a> <a id="3934" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="3936" href="Meta.Reflection.Solver.html#3299" class="Function">prepare</a> <a id="3944" href="Meta.Reflection.Solver.html#3773" class="Bound">rhs</a> <a id="3948" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="3952" href="Meta.Reflection.Solver.html#3095" class="Field">build-expr</a> <a id="3963" href="Meta.Reflection.Solver.html#3810" class="Bound">vs</a>
    <a id="3970" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="3982" class="String">&quot;tactic.solver.var&quot;</a> <a id="4002" class="Number">10</a> <a id="4005" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="4007" class="String">&quot;RHS: &quot;</a> <a id="4015" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4017" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4026" href="Meta.Reflection.Solver.html#3924" class="Bound">erhs</a> <a id="4031" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="4037" href="Meta.Reflection.Solver.html#4037" class="Bound">size</a> <a id="4042" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4044" href="Meta.Reflection.Solver.html#4044" class="Bound">env</a> <a id="4048" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="4050" href="Meta.Reflection.Variables.html#3519" class="Function">environment</a> <a id="4062" href="Meta.Reflection.Solver.html#3931" class="Bound">vs</a>
    <a id="4069" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="4081" class="String">&quot;tactic.solver.var&quot;</a> <a id="4101" class="Number">10</a> <a id="4104" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="4106" class="String">&quot;Env: &quot;</a> <a id="4114" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4116" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4125" href="Meta.Reflection.Solver.html#4044" class="Bound">env</a> <a id="4129" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="4135" class="Symbol">(</a><a id="4136" href="Agda.Builtin.Reflection.html#11202" class="Postulate">no-constraints</a> <a id="4151" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="4153" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="4159" href="Meta.Reflection.Solver.html#3594" class="Bound">hole</a> <a id="4164" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="4166" href="Meta.Reflection.Solver.html#3207" class="Field">invoke-solver</a> <a id="4180" href="Meta.Reflection.Solver.html#3803" class="Bound">elhs</a> <a id="4185" href="Meta.Reflection.Solver.html#3924" class="Bound">erhs</a> <a id="4190" href="Meta.Reflection.Solver.html#4044" class="Bound">env</a><a id="4193" class="Symbol">)</a> <a id="4195" href="Meta.Effect.Alt.html#320" class="Field Operator">&lt;|&gt;</a>
      <a id="4205" href="Meta.Reflection.Solver.html#642" class="Function">solver-failed</a> <a id="4219" href="Meta.Reflection.Solver.html#3803" class="Bound">elhs</a> <a id="4224" href="Meta.Reflection.Solver.html#3924" class="Bound">erhs</a>

  <a id="4232" href="Meta.Reflection.Solver.html#4232" class="Function">mk-var-normalise</a> <a id="4249" class="Symbol">:</a> <a id="4251" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4256" class="Symbol">→</a> <a id="4258" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4263" class="Symbol">→</a> <a id="4265" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="4268" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="4272" href="Meta.Reflection.Solver.html#4232" class="Function">mk-var-normalise</a> <a id="4289" href="Meta.Reflection.Solver.html#4289" class="Bound">tm</a> <a id="4292" href="Meta.Reflection.Solver.html#4292" class="Bound">hole</a> <a id="4297" class="Symbol">=</a> <a id="4299" href="Meta.Reflection.Solver.html#3327" class="Function">withReduction</a> <a id="4313" class="Keyword">do</a>
    <a id="4320" href="Meta.Reflection.Solver.html#4320" class="Bound">e</a> <a id="4322" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4324" href="Meta.Reflection.Solver.html#4324" class="Bound">vs</a> <a id="4327" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="4329" href="Meta.Reflection.Solver.html#3299" class="Function">prepare</a> <a id="4337" href="Meta.Reflection.Solver.html#4289" class="Bound">tm</a> <a id="4340" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="4344" href="Meta.Reflection.Solver.html#3095" class="Field">build-expr</a> <a id="4355" href="Meta.Reflection.Variables.html#2276" class="Function">empty-vars</a>
    <a id="4370" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="4382" class="String">&quot;tactic.solver.var&quot;</a> <a id="4402" class="Number">10</a> <a id="4405" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="4407" class="String">&quot;Expression: &quot;</a> <a id="4422" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4424" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4433" href="Meta.Reflection.Solver.html#4320" class="Bound">e</a> <a id="4435" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="4441" href="Meta.Reflection.Solver.html#4441" class="Bound">size</a> <a id="4446" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4448" href="Meta.Reflection.Solver.html#4448" class="Bound">env</a> <a id="4452" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="4454" href="Meta.Reflection.Variables.html#3519" class="Function">environment</a> <a id="4466" href="Meta.Reflection.Solver.html#4324" class="Bound">vs</a>
    <a id="4473" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="4485" class="String">&quot;tactic.solver.var&quot;</a> <a id="4505" class="Number">10</a> <a id="4508" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="4510" class="String">&quot;Env: &quot;</a> <a id="4518" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4520" href="Data.Reflection.Error.html#191" class="InductiveConstructor">term-err</a> <a id="4529" href="Meta.Reflection.Solver.html#4448" class="Bound">env</a> <a id="4533" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="4539" href="Meta.Reflection.Solver.html#4539" class="Bound">soln</a> <a id="4544" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="4546" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="4553" href="Foundations.Pi.Base.html#1914" class="Function Operator">$</a> <a id="4555" href="Meta.Reflection.Solver.html#3257" class="Field">invoke-normaliser</a> <a id="4573" href="Meta.Reflection.Solver.html#4320" class="Bound">e</a> <a id="4575" href="Meta.Reflection.Solver.html#4448" class="Bound">env</a>
    <a id="4583" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="4589" href="Meta.Reflection.Solver.html#4292" class="Bound">hole</a> <a id="4594" href="Meta.Reflection.Solver.html#4539" class="Bound">soln</a>

  <a id="4602" href="Meta.Reflection.Solver.html#4602" class="Function">mk-var-repr</a> <a id="4614" class="Symbol">:</a> <a id="4616" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="4621" class="Symbol">→</a> <a id="4623" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="4626" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="4630" href="Meta.Reflection.Solver.html#4602" class="Function">mk-var-repr</a> <a id="4642" href="Meta.Reflection.Solver.html#4642" class="Bound">tm</a> <a id="4645" class="Symbol">=</a> <a id="4647" href="Meta.Reflection.Solver.html#3327" class="Function">withReduction</a> <a id="4661" class="Keyword">do</a>
    <a id="4668" href="Meta.Reflection.Solver.html#4668" class="Bound">repr</a> <a id="4673" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4675" href="Meta.Reflection.Solver.html#4675" class="Bound">vs</a> <a id="4678" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="4680" href="Meta.Reflection.Solver.html#3299" class="Function">prepare</a> <a id="4688" href="Meta.Reflection.Solver.html#4642" class="Bound">tm</a> <a id="4691" href="Meta.Effect.Bind.html#283" class="Field Operator">&gt;&gt;=</a> <a id="4695" href="Meta.Reflection.Solver.html#3095" class="Field">build-expr</a> <a id="4706" href="Meta.Reflection.Variables.html#2276" class="Function">empty-vars</a>
    <a id="4721" href="Meta.Reflection.Solver.html#4721" class="Bound">size</a> <a id="4726" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4728" href="Meta.Reflection.Solver.html#4728" class="Bound">env</a> <a id="4732" href="Meta.Effect.Bind.html#283" class="Field Operator">←</a> <a id="4734" href="Meta.Reflection.Variables.html#3519" class="Function">environment</a> <a id="4746" href="Meta.Reflection.Solver.html#4675" class="Bound">vs</a>
    <a id="4753" href="Meta.Reflection.Solver.html#982" class="Function">print-var-repr</a> <a id="4768" href="Meta.Reflection.Solver.html#4642" class="Bound">tm</a> <a id="4771" href="Meta.Reflection.Solver.html#4668" class="Bound">repr</a> <a id="4776" href="Meta.Reflection.Solver.html#4728" class="Bound">env</a>
</pre></body></html>