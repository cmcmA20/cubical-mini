<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Structures.FinSet</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Structures.FinSet.html" class="Module">Structures.FinSet</a> <a id="49" class="Keyword">where</a>

<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Foundations.Base.html" class="Module">Foundations.Base</a>
<a id="85" class="Keyword">open</a> <a id="90" class="Keyword">import</a> <a id="97" href="Foundations.Sigma.html" class="Module">Foundations.Sigma</a>

<a id="116" class="Keyword">open</a> <a id="121" class="Keyword">import</a> <a id="128" href="Meta.Idiom.html" class="Module">Meta.Idiom</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Meta.Decision.html" class="Module">Meta.Decision</a>
<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="Meta.HLevel.html" class="Module">Meta.HLevel</a>
<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Meta.Finite.html" class="Module">Meta.Finite</a>     <a id="217" class="Keyword">public</a>
<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Meta.Underlying.html" class="Module">Meta.Underlying</a> <a id="252" class="Keyword">public</a>

<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Structures.n-Type.html" class="Module">Structures.n-Type</a>

<a id="291" class="Keyword">open</a> <a id="296" class="Keyword">import</a> <a id="303" href="Correspondences.Nullary.Omniscience.html" class="Module">Correspondences.Nullary.Omniscience</a>
<a id="339" class="Keyword">open</a> <a id="344" class="Keyword">import</a> <a id="351" href="Correspondences.Unary.Decidable.html" class="Module">Correspondences.Unary.Decidable</a>

<a id="384" class="Keyword">import</a>      <a id="396" href="Data.Dec.Base.html" class="Module">Data.Dec.Base</a> <a id="410" class="Symbol">as</a> <a id="413" class="Module">Dec</a>
<a id="417" class="Keyword">open</a> <a id="422" href="Data.Dec.Base.html" class="Module">Dec</a>
<a id="426" class="Keyword">open</a> <a id="431" class="Keyword">import</a> <a id="438" href="Data.Dec.Properties.html" class="Module">Data.Dec.Properties</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Data.Dec.Instances.HLevel.html" class="Module">Data.Dec.Instances.HLevel</a>
<a id="496" class="Keyword">open</a> <a id="501" class="Keyword">import</a> <a id="508" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="519" class="Keyword">open</a> <a id="524" class="Keyword">import</a> <a id="531" href="Data.Fin.html" class="Module">Data.Fin</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="561" class="Keyword">open</a> <a id="566" class="Keyword">import</a> <a id="573" href="Data.Vec.html" class="Module">Data.Vec</a>
<a id="582" class="Keyword">open</a> <a id="587" class="Keyword">import</a> <a id="594" href="Data.Vec.Correspondences.Unary.Any.html" class="Module">Data.Vec.Correspondences.Unary.Any</a>

<a id="630" class="Keyword">import</a> <a id="637" href="Truncation.Propositional.html" class="Module">Truncation.Propositional</a> <a id="662" class="Symbol">as</a> <a id="665" class="Module">∥-∥₁</a>
<a id="670" class="Keyword">open</a> <a id="675" href="Truncation.Propositional.html" class="Module">∥-∥₁</a>

<a id="681" class="Keyword">private</a> <a id="689" class="Keyword">variable</a>
  <a id="700" href="Structures.FinSet.html#700" class="Generalizable">ℓ</a> <a id="702" href="Structures.FinSet.html#702" class="Generalizable">ℓ′</a> <a id="705" class="Symbol">:</a> <a id="707" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="715" href="Structures.FinSet.html#715" class="Generalizable">A</a> <a id="717" class="Symbol">:</a> <a id="719" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="724" href="Structures.FinSet.html#700" class="Generalizable">ℓ</a>

<a id="Fin-ordered"></a><a id="727" href="Structures.FinSet.html#727" class="Function">Fin-ordered</a> <a id="739" class="Symbol">:</a> <a id="741" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="746" href="Structures.FinSet.html#700" class="Generalizable">ℓ</a> <a id="748" class="Symbol">→</a> <a id="750" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="755" href="Structures.FinSet.html#700" class="Generalizable">ℓ</a>
<a id="757" href="Structures.FinSet.html#727" class="Function">Fin-ordered</a> <a id="769" href="Structures.FinSet.html#769" class="Bound">A</a> <a id="771" class="Symbol">=</a> <a id="773" href="Foundations.Sigma.Base.html#152" class="Function">Σ[</a> <a id="776" href="Structures.FinSet.html#776" class="Bound">n</a> <a id="778" href="Foundations.Sigma.Base.html#152" class="Function">꞉</a> <a id="780" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="782" href="Foundations.Sigma.Base.html#152" class="Function">]</a> <a id="784" href="Structures.FinSet.html#769" class="Bound">A</a> <a id="786" href="Agda.Builtin.Cubical.Equiv.html#1012" class="Function Operator">≃</a> <a id="788" href="Data.Fin.Base.html#184" class="Datatype">Fin</a> <a id="792" href="Structures.FinSet.html#776" class="Bound">n</a>

<a id="fin-ordered-is-set"></a><a id="795" href="Structures.FinSet.html#795" class="Function">fin-ordered-is-set</a> <a id="814" class="Symbol">:</a> <a id="816" href="Foundations.Base.html#12851" class="Function">is-set</a> <a id="823" class="Symbol">(</a><a id="824" href="Structures.FinSet.html#727" class="Function">Fin-ordered</a> <a id="836" href="Structures.FinSet.html#715" class="Generalizable">A</a><a id="837" class="Symbol">)</a>
<a id="839" href="Structures.FinSet.html#795" class="Function">fin-ordered-is-set</a> <a id="858" class="Symbol">=</a> <a id="860" href="Meta.HLevel.Reflection.html#24463" class="Macro">hlevel!</a>

<a id="is-fin-set"></a><a id="869" href="Structures.FinSet.html#869" class="Function">is-fin-set</a> <a id="880" class="Symbol">:</a> <a id="882" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="887" href="Structures.FinSet.html#700" class="Generalizable">ℓ</a> <a id="889" class="Symbol">→</a> <a id="891" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="896" href="Structures.FinSet.html#700" class="Generalizable">ℓ</a>
<a id="898" href="Structures.FinSet.html#869" class="Function">is-fin-set</a> <a id="909" href="Structures.FinSet.html#909" class="Bound">A</a> <a id="911" class="Symbol">=</a> <a id="913" href="Foundations.Sigma.Base.html#152" class="Function">Σ[</a> <a id="916" href="Structures.FinSet.html#916" class="Bound">n</a> <a id="918" href="Foundations.Sigma.Base.html#152" class="Function">꞉</a> <a id="920" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="922" href="Foundations.Sigma.Base.html#152" class="Function">]</a> <a id="924" href="Truncation.Propositional.Base.html#139" class="Datatype Operator">∥</a> <a id="926" href="Structures.FinSet.html#909" class="Bound">A</a> <a id="928" href="Agda.Builtin.Cubical.Equiv.html#1012" class="Function Operator">≃</a> <a id="930" href="Data.Fin.Base.html#184" class="Datatype">Fin</a> <a id="934" href="Structures.FinSet.html#916" class="Bound">n</a> <a id="936" href="Truncation.Propositional.Base.html#139" class="Datatype Operator">∥₁</a>

<a id="is-fin-set-is-prop"></a><a id="940" href="Structures.FinSet.html#940" class="Function">is-fin-set-is-prop</a> <a id="959" class="Symbol">:</a> <a id="961" href="Foundations.Base.html#12782" class="Function">is-prop</a> <a id="969" class="Symbol">(</a><a id="970" href="Structures.FinSet.html#869" class="Function">is-fin-set</a> <a id="981" href="Structures.FinSet.html#715" class="Generalizable">A</a><a id="982" class="Symbol">)</a>
<a id="984" href="Structures.FinSet.html#940" class="Function">is-fin-set-is-prop</a> <a id="1003" class="Symbol">(</a><a id="1004" href="Structures.FinSet.html#1004" class="Bound">m</a> <a id="1006" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1008" href="Structures.FinSet.html#1008" class="Bound">∣p∣₁</a><a id="1012" class="Symbol">)</a> <a id="1014" class="Symbol">(</a><a id="1015" href="Structures.FinSet.html#1015" class="Bound">n</a> <a id="1017" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1019" href="Structures.FinSet.html#1019" class="Bound">∣q∣₁</a><a id="1023" class="Symbol">)</a> <a id="1025" class="Symbol">=</a>
  <a id="1029" href="Foundations.Sigma.Properties.html#4626" class="Function">Σ-prop-path-equiv</a> <a id="1047" href="Meta.HLevel.Reflection.html#24463" class="Macro">hlevel!</a> <a id="1055" class="Symbol">.</a><a id="1056" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="1060" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a>
    <a id="1066" href="Truncation.Propositional.Properties.html#316" class="Function">∥-∥₁.elim₂</a> <a id="1077" class="Symbol">(λ</a> <a id="1080" href="Structures.FinSet.html#1080" class="Bound">_</a> <a id="1082" href="Structures.FinSet.html#1082" class="Bound">_</a> <a id="1084" class="Symbol">→</a> <a id="1086" href="Data.Nat.Path.html#1089" class="Function">ℕ-is-set</a> <a id="1095" href="Structures.FinSet.html#1004" class="Bound">m</a> <a id="1097" href="Structures.FinSet.html#1015" class="Bound">n</a><a id="1098" class="Symbol">)</a>
               <a id="1115" class="Symbol">(λ</a> <a id="1118" href="Structures.FinSet.html#1118" class="Bound">p</a> <a id="1120" href="Structures.FinSet.html#1120" class="Bound">q</a> <a id="1122" class="Symbol">→</a> <a id="1124" href="Data.Fin.Properties.html#4373" class="Function">fin-injective</a> <a id="1138" class="Symbol">((</a><a id="1140" href="Structures.FinSet.html#1118" class="Bound">p</a> <a id="1142" href="Foundations.Equiv.Properties.html#332" class="Function Operator">ₑ⁻¹</a><a id="1145" class="Symbol">)</a> <a id="1147" href="Foundations.Equiv.Base.html#3628" class="Function Operator">∙ₑ</a> <a id="1150" href="Structures.FinSet.html#1120" class="Bound">q</a><a id="1151" class="Symbol">))</a>
               <a id="1169" href="Structures.FinSet.html#1008" class="Bound">∣p∣₁</a>
               <a id="1189" href="Structures.FinSet.html#1019" class="Bound">∣q∣₁</a>

<a id="Finite→is-fin-set"></a><a id="1195" href="Structures.FinSet.html#1195" class="Function">Finite→is-fin-set</a> <a id="1213" class="Symbol">:</a> <a id="1215" href="Meta.Finite.html#505" class="Record">Finite</a> <a id="1222" href="Structures.FinSet.html#715" class="Generalizable">A</a> <a id="1224" class="Symbol">→</a> <a id="1226" href="Structures.FinSet.html#869" class="Function">is-fin-set</a> <a id="1237" href="Structures.FinSet.html#715" class="Generalizable">A</a>
<a id="1239" href="Structures.FinSet.html#1195" class="Function">Finite→is-fin-set</a> <a id="1257" href="Structures.FinSet.html#1257" class="Bound">A-fin</a> <a id="1263" class="Symbol">=</a> <a id="1265" href="Structures.FinSet.html#1257" class="Bound">A-fin</a> <a id="1271" class="Symbol">.</a><a id="1272" href="Meta.Finite.html#575" class="Field">cardinality</a> <a id="1284" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1286" href="Structures.FinSet.html#1257" class="Bound">A-fin</a> <a id="1292" class="Symbol">.</a><a id="1293" href="Meta.Finite.html#596" class="Field">enumeration</a>

<a id="is-fin-set→is-set"></a><a id="1306" href="Structures.FinSet.html#1306" class="Function">is-fin-set→is-set</a> <a id="1324" class="Symbol">:</a> <a id="1326" href="Structures.FinSet.html#869" class="Function">is-fin-set</a> <a id="1337" href="Structures.FinSet.html#715" class="Generalizable">A</a> <a id="1339" class="Symbol">→</a> <a id="1341" href="Foundations.Base.html#12851" class="Function">is-set</a> <a id="1348" href="Structures.FinSet.html#715" class="Generalizable">A</a>
<a id="1350" href="Structures.FinSet.html#1306" class="Function">is-fin-set→is-set</a> <a id="1368" class="Symbol">(_</a> <a id="1371" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1373" href="Structures.FinSet.html#1373" class="Bound">∣e∣₁</a><a id="1377" class="Symbol">)</a> <a id="1379" class="Symbol">=</a>
  <a id="1383" href="Truncation.Propositional.Base.html#295" class="Function">∥-∥₁.rec</a> <a id="1392" class="Symbol">(</a><a id="1393" href="Foundations.HLevel.Base.html#4578" class="Function">is-of-hlevel-is-prop</a> <a id="1414" class="Number">2</a><a id="1415" class="Symbol">)</a> <a id="1417" class="Symbol">(λ</a> <a id="1420" href="Structures.FinSet.html#1420" class="Bound">e</a> <a id="1422" class="Symbol">→</a> <a id="1424" href="Foundations.HLevel.Retracts.html#2387" class="Function">is-of-hlevel-≃</a> <a id="1439" class="Number">2</a> <a id="1441" href="Structures.FinSet.html#1420" class="Bound">e</a> <a id="1443" href="Meta.HLevel.Reflection.html#24463" class="Macro">hlevel!</a><a id="1450" class="Symbol">)</a> <a id="1452" href="Structures.FinSet.html#1373" class="Bound">∣e∣₁</a>

<a id="fin-ordered→is-fin-set"></a><a id="1458" href="Structures.FinSet.html#1458" class="Function">fin-ordered→is-fin-set</a> <a id="1481" class="Symbol">:</a> <a id="1483" href="Structures.FinSet.html#727" class="Function">Fin-ordered</a> <a id="1495" href="Structures.FinSet.html#715" class="Generalizable">A</a> <a id="1497" class="Symbol">→</a> <a id="1499" href="Structures.FinSet.html#869" class="Function">is-fin-set</a> <a id="1510" href="Structures.FinSet.html#715" class="Generalizable">A</a>
<a id="1512" href="Structures.FinSet.html#1458" class="Function">fin-ordered→is-fin-set</a> <a id="1535" class="Symbol">(</a><a id="1536" href="Structures.FinSet.html#1536" class="Bound">n</a> <a id="1538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1540" href="Structures.FinSet.html#1540" class="Bound">e</a><a id="1541" class="Symbol">)</a> <a id="1543" class="Symbol">=</a> <a id="1545" href="Structures.FinSet.html#1536" class="Bound">n</a> <a id="1547" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1549" href="Truncation.Propositional.Base.html#178" class="InductiveConstructor Operator">∣</a> <a id="1551" href="Structures.FinSet.html#1540" class="Bound">e</a> <a id="1553" href="Truncation.Propositional.Base.html#178" class="InductiveConstructor Operator">∣₁</a>

<a id="1557" class="Comment">-- TODO</a>
<a id="1565" class="Comment">-- fin-set→is-discrete : is-fin-set A → is-discrete A</a>
<a id="1619" class="Comment">-- fin-set→is-discrete A-f = {!!}</a>

<a id="fin-ordered→omniscient"></a><a id="1654" href="Structures.FinSet.html#1654" class="Function">fin-ordered→omniscient</a> <a id="1677" class="Symbol">:</a> <a id="1679" href="Structures.FinSet.html#727" class="Function">Fin-ordered</a> <a id="1691" href="Structures.FinSet.html#715" class="Generalizable">A</a> <a id="1693" class="Symbol">→</a> <a id="1695" href="Correspondences.Nullary.Omniscience.html#674" class="Function">Omniscient</a> <a id="1706" class="Symbol">{</a><a id="1707" class="Argument">ℓ′</a> <a id="1710" class="Symbol">=</a> <a id="1712" href="Structures.FinSet.html#702" class="Generalizable">ℓ′</a><a id="1714" class="Symbol">}</a> <a id="1716" href="Structures.FinSet.html#715" class="Generalizable">A</a>
<a id="1718" href="Structures.FinSet.html#1654" class="Function">fin-ordered→omniscient</a> <a id="1741" class="Symbol">{</a><a id="1742" href="Structures.FinSet.html#1742" class="Bound">A</a><a id="1743" class="Symbol">}</a> <a id="1745" class="Symbol">(</a><a id="1746" href="Structures.FinSet.html#1746" class="Bound">n</a> <a id="1748" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1750" href="Structures.FinSet.html#1750" class="Bound">aeq</a><a id="1753" class="Symbol">)</a> <a id="1755" class="Symbol">{</a><a id="1756" href="Structures.FinSet.html#1756" class="Bound">P</a><a id="1757" class="Symbol">}</a> <a id="1759" href="Structures.FinSet.html#1759" class="Bound">P?</a> <a id="1762" class="Symbol">=</a>
  <a id="1766" href="Data.Dec.Base.html#1513" class="Function">Dec.map</a> <a id="1774" href="Structures.FinSet.html#1935" class="Function">lemma₁</a> <a id="1781" href="Structures.FinSet.html#1988" class="Function">lemma₂</a> <a id="1788" class="Symbol">(</a><a id="1789" href="Data.Vec.Correspondences.Unary.Any.html#450" class="Function">any?</a> <a id="1794" href="Structures.FinSet.html#1759" class="Bound">P?</a> <a id="1797" href="Structures.FinSet.html#1874" class="Function">xs</a><a id="1799" class="Symbol">)</a> <a id="1801" class="Keyword">where</a>
    <a id="1811" class="Keyword">module</a> <a id="1818" href="Structures.FinSet.html#1818" class="Module">Ã</a> <a id="1821" class="Symbol">=</a> <a id="1823" href="Foundations.Equiv.Properties.html#1827" class="Module">Equiv</a> <a id="1829" href="Structures.FinSet.html#1750" class="Bound">aeq</a>
    <a id="1837" class="Keyword">module</a> <a id="1844" href="Structures.FinSet.html#1844" class="Module">Ṽ</a> <a id="1847" class="Symbol">=</a> <a id="1849" href="Foundations.Equiv.Properties.html#1827" class="Module">Equiv</a> <a id="1855" href="Data.Vec.Properties.html#966" class="Function">vec-fun-equiv</a>

    <a id="1874" href="Structures.FinSet.html#1874" class="Function">xs</a> <a id="1877" class="Symbol">:</a> <a id="1879" href="Data.Vec.Base.html#232" class="Datatype">Vec</a> <a id="1883" href="Structures.FinSet.html#1742" class="Bound">A</a> <a id="1885" href="Structures.FinSet.html#1746" class="Bound">n</a>
    <a id="1891" href="Structures.FinSet.html#1874" class="Function">xs</a> <a id="1894" class="Symbol">=</a> <a id="1896" href="Foundations.Equiv.Properties.html#2298" class="Function">Ṽ.inverse</a> <a id="1907" class="Symbol">.</a><a id="1908" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="1912" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="1914" href="Foundations.Equiv.Properties.html#2298" class="Function">Ã.inverse</a> <a id="1925" class="Symbol">.</a><a id="1926" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a>

    <a id="1935" href="Structures.FinSet.html#1935" class="Function">lemma₁</a> <a id="1942" class="Symbol">:</a> <a id="1944" class="Symbol">_</a>
    <a id="1950" href="Structures.FinSet.html#1935" class="Function">lemma₁</a> <a id="1957" class="Symbol">(</a><a id="1958" href="Structures.FinSet.html#1958" class="Bound">i</a> <a id="1960" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1962" href="Structures.FinSet.html#1962" class="Bound">p</a><a id="1963" class="Symbol">)</a> <a id="1965" class="Symbol">=</a> <a id="1967" href="Data.Vec.Properties.html#844" class="Function">lookup</a> <a id="1974" href="Structures.FinSet.html#1874" class="Function">xs</a> <a id="1977" href="Structures.FinSet.html#1958" class="Bound">i</a> <a id="1979" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1981" href="Structures.FinSet.html#1962" class="Bound">p</a>

    <a id="1988" href="Structures.FinSet.html#1988" class="Function">lemma₂</a> <a id="1995" class="Symbol">:</a> <a id="1997" class="Symbol">_</a>
    <a id="2003" href="Structures.FinSet.html#1988" class="Function">lemma₂</a> <a id="2010" href="Structures.FinSet.html#2010" class="Bound">¬p</a> <a id="2013" class="Symbol">(</a><a id="2014" href="Structures.FinSet.html#2014" class="Bound">a</a> <a id="2016" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2018" href="Structures.FinSet.html#2018" class="Bound">pa</a><a id="2020" class="Symbol">)</a> <a id="2022" class="Symbol">=</a> <a id="2024" href="Structures.FinSet.html#2010" class="Bound">¬p</a> <a id="2027" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="2029" href="Foundations.Equiv.Properties.html#1853" class="Function">Ã.to</a> <a id="2035" href="Structures.FinSet.html#2014" class="Bound">a</a> <a id="2037" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2039" href="Foundations.Base.html#10677" class="Function">subst</a> <a id="2045" href="Structures.FinSet.html#1756" class="Bound">P</a> <a id="2047" class="Symbol">(</a><a id="2048" href="Foundations.Prim.Kan.html#1519" class="Function">sym</a> <a id="2052" class="Symbol">(</a><a id="2053" href="Foundations.Base.html#11932" class="Function">happly</a> <a id="2060" class="Symbol">(</a><a id="2061" href="Foundations.Equiv.Properties.html#1931" class="Function">Ṽ.ε</a> <a id="2066" class="Symbol">_)</a> <a id="2069" class="Symbol">_</a> <a id="2071" href="Foundations.Base.html#5663" class="Function Operator">∙</a> <a id="2073" href="Foundations.Equiv.Properties.html#1902" class="Function">Ã.η</a> <a id="2078" href="Structures.FinSet.html#2014" class="Bound">a</a><a id="2079" class="Symbol">))</a> <a id="2082" href="Structures.FinSet.html#2018" class="Bound">pa</a>

<a id="is-fin-set→omniscient₁"></a><a id="2086" href="Structures.FinSet.html#2086" class="Function">is-fin-set→omniscient₁</a> <a id="2109" class="Symbol">:</a> <a id="2111" href="Structures.FinSet.html#869" class="Function">is-fin-set</a> <a id="2122" href="Structures.FinSet.html#715" class="Generalizable">A</a> <a id="2124" class="Symbol">→</a> <a id="2126" href="Correspondences.Nullary.Omniscience.html#1185" class="Function">Omniscient₁</a> <a id="2138" class="Symbol">{</a><a id="2139" class="Argument">ℓ′</a> <a id="2142" class="Symbol">=</a> <a id="2144" href="Structures.FinSet.html#702" class="Generalizable">ℓ′</a><a id="2146" class="Symbol">}</a> <a id="2148" href="Structures.FinSet.html#715" class="Generalizable">A</a>
<a id="2150" href="Structures.FinSet.html#2086" class="Function">is-fin-set→omniscient₁</a> <a id="2173" class="Symbol">{</a><a id="2174" href="Structures.FinSet.html#2174" class="Bound">A</a><a id="2175" class="Symbol">}</a> <a id="2177" class="Symbol">(</a><a id="2178" href="Structures.FinSet.html#2178" class="Bound">n</a> <a id="2180" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2182" href="Structures.FinSet.html#2182" class="Bound">∣aeq∣₁</a><a id="2188" class="Symbol">)</a> <a id="2190" class="Symbol">{</a><a id="2191" href="Structures.FinSet.html#2191" class="Bound">P</a><a id="2192" class="Symbol">}</a> <a id="2194" class="Symbol">=</a> <a id="2196" href="Truncation.Propositional.Properties.html#1041" class="Function">∥-∥₁.elim!</a> <a id="2207" href="Structures.FinSet.html#2238" class="Function">go</a> <a id="2210" class="Symbol">((</a><a id="2212" href="Structures.FinSet.html#2178" class="Bound">n</a> <a id="2214" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="2216" class="Symbol">)</a> <a id="2218" href="Meta.Idiom.html#282" class="Field Operator">&lt;$&gt;</a> <a id="2222" href="Structures.FinSet.html#2182" class="Bound">∣aeq∣₁</a><a id="2228" class="Symbol">)</a> <a id="2230" class="Keyword">where</a>
  <a id="2238" href="Structures.FinSet.html#2238" class="Function">go</a> <a id="2241" class="Symbol">:</a> <a id="2243" href="Foundations.Pi.Base.html#146" class="Function">Π[</a> <a id="2246" href="Structures.FinSet.html#2246" class="Bound">A-f</a> <a id="2250" href="Foundations.Pi.Base.html#146" class="Function">꞉</a> <a id="2252" href="Structures.FinSet.html#727" class="Function">Fin-ordered</a> <a id="2264" href="Structures.FinSet.html#2174" class="Bound">A</a> <a id="2266" href="Foundations.Pi.Base.html#146" class="Function">]</a> <a id="2268" class="Symbol">(</a><a id="2269" href="Correspondences.Unary.Decidable.html#316" class="Function">Decidable₁</a> <a id="2280" href="Structures.FinSet.html#2191" class="Bound">P</a> <a id="2282" class="Symbol">→</a> <a id="2284" href="Data.Dec.Base.html#1308" class="Record">Dec</a> <a id="2288" href="Truncation.Propositional.Base.html#139" class="Datatype Operator">∥</a> <a id="2290" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="2292" href="Structures.FinSet.html#2174" class="Bound">A</a> <a id="2294" class="Symbol">_</a> <a id="2296" href="Truncation.Propositional.Base.html#139" class="Datatype Operator">∥₁</a><a id="2298" class="Symbol">)</a>
  <a id="2302" href="Structures.FinSet.html#2238" class="Function">go</a> <a id="2305" href="Structures.FinSet.html#2305" class="Bound">A-f</a> <a id="2309" class="Symbol">=</a> <a id="2311" href="Data.Dec.Base.html#1513" class="Function">Dec.map</a> <a id="2319" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="2324" href="Truncation.Propositional.Properties.html#910" class="Function">rec!</a> <a id="2329" href="Foundations.Pi.Base.html#1050" class="Function Operator">∘</a> <a id="2331" href="Structures.FinSet.html#1654" class="Function">fin-ordered→omniscient</a> <a id="2354" href="Structures.FinSet.html#2305" class="Bound">A-f</a>

<a id="is-fin-set→exhaustible₁"></a><a id="2359" href="Structures.FinSet.html#2359" class="Function">is-fin-set→exhaustible₁</a> <a id="2383" class="Symbol">:</a> <a id="2385" href="Structures.FinSet.html#869" class="Function">is-fin-set</a> <a id="2396" href="Structures.FinSet.html#715" class="Generalizable">A</a> <a id="2398" class="Symbol">→</a> <a id="2400" href="Correspondences.Nullary.Omniscience.html#1040" class="Function">Exhaustible₁</a> <a id="2413" class="Symbol">{</a><a id="2414" class="Argument">ℓ′</a> <a id="2417" class="Symbol">=</a> <a id="2419" href="Structures.FinSet.html#702" class="Generalizable">ℓ′</a><a id="2421" class="Symbol">}</a> <a id="2423" href="Structures.FinSet.html#715" class="Generalizable">A</a>
<a id="2425" href="Structures.FinSet.html#2359" class="Function">is-fin-set→exhaustible₁</a> <a id="2449" class="Symbol">=</a> <a id="2451" href="Correspondences.Nullary.Omniscience.html#1347" class="Function">omniscient₁→exhaustible₁</a> <a id="2476" href="Foundations.Pi.Base.html#1050" class="Function Operator">∘</a> <a id="2478" href="Structures.FinSet.html#2086" class="Function">is-fin-set→omniscient₁</a>

<a id="2502" class="Comment">-- is-fin-set→omniscient</a>
<a id="2527" class="Comment">--   : is-fin-set A → {P : Pred₁ ℓ′ A} → Decidable₁ P → Dec (Σ[ a ꞉ A ] ⌞ P a ⌟)</a>
<a id="2608" class="Comment">-- is-fin-set→omniscient A-fin P? with is-fin-set→omniscient₁ A-fin P?</a>
<a id="2679" class="Comment">-- ... | yes p = yes {!!}</a>
<a id="2705" class="Comment">-- ... | no ¬p = {!!}</a>

<a id="2728" class="Comment">-- is-fin-set→exhaustible₁</a>
<a id="2755" class="Comment">--   : is-fin-set A → {P : Pred₁ ℓ′ A} → Decidable₁ P → Dec (Π[ a ꞉ A ] ⌞ P a ⌟)</a>
<a id="2836" class="Comment">-- is-fin-set→exhaustible₁ A-fin {P} P? =</a>
<a id="2878" class="Comment">--   let z = omniscient₁→exhaustible₁ (is-fin-set→omniscient₁ A-fin) P?</a>
<a id="2950" class="Comment">-- --       w = ∥-∥₁.proj (Finite-choice ⦃ {!!} ⦄ λ x → (dec-∥-∥₁-equiv ₑ⁻¹) .fst x)</a>
<a id="3035" class="Comment">--   in omniscient→exhaustible {!!} P?</a>
<a id="3074" class="Comment">-- --     in ∥-∥₁.proj {!Finite-choice ? ?!} -- ((dec-∥-∥₁-equiv ₑ⁻¹) .fst z)</a>

<a id="3153" class="Keyword">record</a> <a id="FinSet"></a><a id="3160" href="Structures.FinSet.html#3160" class="Record">FinSet</a> <a id="3167" href="Structures.FinSet.html#3167" class="Bound">ℓ</a> <a id="3169" class="Symbol">:</a> <a id="3171" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3176" class="Symbol">(</a><a id="3177" href="Foundations.Prim.Type.html#375" class="Primitive">ℓsuc</a> <a id="3182" href="Structures.FinSet.html#3167" class="Bound">ℓ</a><a id="3183" class="Symbol">)</a> <a id="3185" class="Keyword">where</a>
  <a id="3193" class="Keyword">no-eta-equality</a>
  <a id="3211" class="Keyword">constructor</a> <a id="fin-set"></a><a id="3223" href="Structures.FinSet.html#3223" class="InductiveConstructor">fin-set</a>
  <a id="3233" class="Keyword">field</a>
    <a id="FinSet.typ"></a><a id="3243" href="Structures.FinSet.html#3243" class="Field">typ</a>            <a id="3258" class="Symbol">:</a> <a id="3260" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3265" href="Structures.FinSet.html#3167" class="Bound">ℓ</a>
    <a id="FinSet.has-is-fin-set"></a><a id="3271" href="Structures.FinSet.html#3271" class="Field">has-is-fin-set</a> <a id="3286" class="Symbol">:</a> <a id="3288" href="Structures.FinSet.html#869" class="Function">is-fin-set</a> <a id="3299" href="Structures.FinSet.html#3243" class="Field">typ</a>
  <a id="3305" class="Keyword">instance</a>
    <a id="FinSet.Finite-FinSet"></a><a id="3318" href="Structures.FinSet.html#3318" class="Function">Finite-FinSet</a> <a id="3332" class="Symbol">:</a> <a id="3334" href="Meta.Finite.html#505" class="Record">Finite</a> <a id="3341" href="Structures.FinSet.html#3243" class="Field">typ</a>
    <a id="3349" href="Structures.FinSet.html#3318" class="Function">Finite-FinSet</a> <a id="3363" class="Symbol">=</a> <a id="3365" href="Meta.Finite.html#558" class="InductiveConstructor">fin</a> <a id="3369" href="Foundations.Pi.Base.html#957" class="Function Operator">$</a> <a id="3371" href="Structures.FinSet.html#3271" class="Field">has-is-fin-set</a> <a id="3386" class="Symbol">.</a><a id="3387" href="Agda.Builtin.Sigma.html#263" class="Field">snd</a>

    <a id="FinSet.H-Level-FinSet"></a><a id="3396" href="Structures.FinSet.html#3396" class="Function">H-Level-FinSet</a> <a id="3411" class="Symbol">:</a> <a id="3413" class="Symbol">∀</a> <a id="3415" class="Symbol">{</a><a id="3416" href="Structures.FinSet.html#3416" class="Bound">n</a><a id="3417" class="Symbol">}</a> <a id="3419" class="Symbol">→</a> <a id="3421" href="Meta.HLevel.Base.html#186" class="Record">H-Level</a> <a id="3429" class="Symbol">(</a><a id="3430" class="Number">2</a> <a id="3432" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3434" href="Structures.FinSet.html#3416" class="Bound">n</a><a id="3435" class="Symbol">)</a> <a id="3437" href="Structures.FinSet.html#3243" class="Field">typ</a>
    <a id="3445" href="Structures.FinSet.html#3396" class="Function">H-Level-FinSet</a> <a id="3460" class="Symbol">=</a> <a id="3462" href="Meta.HLevel.Base.html#559" class="Function">basic-instance</a> <a id="3477" class="Number">2</a> <a id="3479" class="Symbol">(</a><a id="3480" href="Structures.FinSet.html#1306" class="Function">is-fin-set→is-set</a> <a id="3498" href="Structures.FinSet.html#3271" class="Field">has-is-fin-set</a><a id="3512" class="Symbol">)</a>

<a id="3515" class="Keyword">open</a> <a id="3520" href="Structures.FinSet.html#3160" class="Module">FinSet</a> <a id="3527" class="Keyword">public</a>
  <a id="3536" class="Keyword">using</a> <a id="3542" class="Symbol">(</a><a id="3543" href="Structures.FinSet.html#3318" class="Function">Finite-FinSet</a><a id="3556" class="Symbol">;</a> <a id="3558" href="Structures.FinSet.html#3396" class="Function">H-Level-FinSet</a><a id="3572" class="Symbol">)</a>
<a id="3574" class="Keyword">open</a> <a id="3579" href="Structures.FinSet.html#3160" class="Module">FinSet</a> <a id="3586" class="Keyword">using</a> <a id="3592" class="Symbol">(</a><a id="3593" href="Structures.FinSet.html#3243" class="Field">typ</a><a id="3596" class="Symbol">;</a> <a id="3598" href="Structures.FinSet.html#3271" class="Field">has-is-fin-set</a><a id="3612" class="Symbol">)</a>

<a id="fin-set!"></a><a id="3615" href="Structures.FinSet.html#3615" class="Function">fin-set!</a> <a id="3624" class="Symbol">:</a> <a id="3626" class="Symbol">(</a><a id="3627" href="Structures.FinSet.html#3627" class="Bound">A</a> <a id="3629" class="Symbol">:</a> <a id="3631" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3636" href="Structures.FinSet.html#700" class="Generalizable">ℓ</a><a id="3637" class="Symbol">)</a> <a id="3639" class="Symbol">→</a> <a id="3641" class="Symbol">⦃</a> <a id="3643" href="Meta.Finite.html#505" class="Record">Finite</a> <a id="3650" href="Structures.FinSet.html#3627" class="Bound">A</a> <a id="3652" class="Symbol">⦄</a> <a id="3654" class="Symbol">→</a> <a id="3656" href="Structures.FinSet.html#3160" class="Record">FinSet</a> <a id="3663" href="Structures.FinSet.html#700" class="Generalizable">ℓ</a>
<a id="3665" href="Structures.FinSet.html#3615" class="Function">fin-set!</a> <a id="3674" href="Structures.FinSet.html#3674" class="Bound">A</a> <a id="3676" class="Symbol">⦃</a> <a id="3678" class="Symbol">(</a><a id="3679" href="Structures.FinSet.html#3679" class="Bound">A-fin</a><a id="3684" class="Symbol">)</a> <a id="3686" class="Symbol">⦄</a> <a id="3688" class="Symbol">=</a> <a id="3690" href="Structures.FinSet.html#3223" class="InductiveConstructor">fin-set</a> <a id="3698" href="Structures.FinSet.html#3674" class="Bound">A</a> <a id="3700" class="Symbol">(</a><a id="3701" href="Structures.FinSet.html#1195" class="Function">Finite→is-fin-set</a> <a id="3719" href="Structures.FinSet.html#3679" class="Bound">A-fin</a><a id="3724" class="Symbol">)</a>

<a id="3727" class="Keyword">instance</a>
  <a id="Underlying-FinSet"></a><a id="3738" href="Structures.FinSet.html#3738" class="Function">Underlying-FinSet</a> <a id="3756" class="Symbol">:</a> <a id="3758" href="Meta.Underlying.html#91" class="Record">Underlying</a> <a id="3769" class="Symbol">(</a><a id="3770" href="Structures.FinSet.html#3160" class="Record">FinSet</a> <a id="3777" href="Structures.FinSet.html#700" class="Generalizable">ℓ</a><a id="3778" class="Symbol">)</a>
  <a id="3782" href="Structures.FinSet.html#3738" class="Function">Underlying-FinSet</a> <a id="3800" class="Symbol">{</a><a id="3801" href="Structures.FinSet.html#3801" class="Bound">ℓ</a><a id="3802" class="Symbol">}</a> <a id="3804" class="Symbol">.</a><a id="3805" href="Meta.Underlying.html#145" class="Field">Underlying.ℓ-underlying</a> <a id="3829" class="Symbol">=</a> <a id="3831" href="Structures.FinSet.html#3801" class="Bound">ℓ</a>
  <a id="3835" href="Structures.FinSet.html#3738" class="Function">Underlying-FinSet</a> <a id="3853" class="Symbol">.</a><a id="3854" href="Meta.Underlying.html#170" class="Field Operator">⌞_⌟</a> <a id="3858" class="Symbol">=</a> <a id="3860" href="Structures.FinSet.html#3243" class="Field">typ</a>


<a id="3866" class="Comment">-- TODO</a>
<a id="3874" class="Comment">-- fin-set-path : ⌞ X ⌟ ＝ ⌞ Y ⌟ → X ＝ Y</a>
<a id="3914" class="Comment">-- fin-set-path f i .typ = f i</a>
<a id="3945" class="Comment">-- fin-set-path {X} {Y} f i .has-is-fin-set = {!!} , {!!}</a>
<a id="4003" class="Comment">--   -- is-prop→pathP (λ i → is-of-hlevel-is-prop {A = f i} _) (X .is-tr) (Y .is-tr) i</a>

<a id="4091" class="Comment">-- @0 fin-set-ua : ⌞ X ⌟ ≃ ⌞ Y ⌟ → X ＝ Y</a>
<a id="4132" class="Comment">-- fin-set-ua f = n-path (ua f)</a>

<a id="4165" class="Comment">-- @0 fin-set-univalence : {X Y : n-Type ℓ n} → (⌞ X ⌟ ≃ ⌞ Y ⌟) ≃ (X ＝ Y)</a>
<a id="4239" class="Comment">-- fin-set-univalence {n} {X} {Y} = n-ua , is-iso→is-equiv isic where</a>
<a id="4309" class="Comment">--   inv : ∀ {Y} → X ＝ Y → ⌞ X ⌟ ≃ ⌞ Y ⌟</a>
<a id="4350" class="Comment">--   inv p = path→equiv (ap typ p)</a>

<a id="4386" class="Comment">--   linv : ∀ {Y} → (inv {Y}) is-left-inverse-of n-ua</a>
<a id="4440" class="Comment">--   linv x = Σ-prop-path is-equiv-is-prop (fun-ext λ x → transport-refl _)</a>

<a id="4517" class="Comment">--   rinv : ∀ {Y} → (inv {Y}) is-right-inverse-of n-ua</a>
<a id="4572" class="Comment">--   rinv = J (λ y p → n-ua (inv p) ＝ p) path where</a>
<a id="4624" class="Comment">--     path : n-ua (inv {X} refl) ＝ refl</a>
<a id="4665" class="Comment">--     path i j .typ = ua.ε refl i j</a>
<a id="4702" class="Comment">--     path i j .is-tr = is-prop→SquareP</a>
<a id="4743" class="Comment">--       (λ i j → is-of-hlevel-is-prop</a>
<a id="4782" class="Comment">--         {A = ua.ε {A = ⌞ X ⌟} refl i j } n)</a>
<a id="4829" class="Comment">--       (λ j → X .is-tr) (λ j → n-ua {X = X} {Y = X} (path→equiv refl) j .is-tr)</a>
<a id="4911" class="Comment">--       (λ j → X .is-tr) (λ j → X .is-tr)</a>
<a id="4954" class="Comment">--       i j</a>

<a id="4968" class="Comment">--   isic : is-iso n-ua</a>
<a id="4992" class="Comment">--   isic = iso inv rinv (linv {Y})</a>

<a id="5029" class="Comment">-- @0 fin-set-is-of-hlevel : ∀ n → is-of-hlevel (suc n) (n-Type ℓ n)</a>
<a id="5098" class="Comment">-- fin-set-is-of-hlevel zero x y = n-ua</a>
<a id="5138" class="Comment">--   ((λ _ → y .is-tr .fst) , is-contr→is-equiv (x .is-tr) (y .is-tr))</a>
<a id="5209" class="Comment">-- fin-set-is-of-hlevel (suc n) x y =</a>
<a id="5247" class="Comment">--   is-of-hlevel-≃ (suc n) (n-univalence ₑ⁻¹) (≃-is-of-hlevel (suc n) (x .is-tr) (y .is-tr))</a>

<a id="5342" class="Comment">-- instance</a>
<a id="5354" class="Comment">--   @0 H-Level-nType : ∀ {n k} → H-Level (1 + k + n) (n-Type ℓ k)</a>
<a id="5421" class="Comment">--   H-Level-nType {k} = basic-instance (1 + k) (n-Type-is-of-hlevel k)</a>

<a id="5494" class="Comment">--   H-Level-is-equiv</a>
<a id="5516" class="Comment">--     : {f : A → B} {n : HLevel}</a>
<a id="5550" class="Comment">--     → H-Level (suc n) (is-equiv f)</a>
<a id="5588" class="Comment">--   H-Level-is-equiv = prop-instance (is-equiv-is-prop _)</a>

<a id="5648" class="Comment">-- module _ {ℓ : Level} where private</a>
<a id="5686" class="Comment">--   open import Foundations.Univalence.SIP</a>
<a id="5730" class="Comment">--   _ : FinSet ℓ ≃ Type-with {S = is-fin-set} (HomT→Str λ _ _ _ → ⊤)</a>
<a id="5800" class="Comment">--   _ = iso→equiv the-iso</a>
<a id="5827" class="Comment">--     where</a>
<a id="5840" class="Comment">--       open import Meta.Reflection.Record</a>
<a id="5884" class="Comment">--       the-iso : Iso (FinSet ℓ) (Σ[ T ꞉ Type ℓ ] is-fin-set T)</a>
<a id="5949" class="Comment">--       unquoteDef the-iso = define-record-iso the-iso (quote FinSet)</a>
</pre></body></html>