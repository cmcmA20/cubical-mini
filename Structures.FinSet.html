<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Structures.FinSet</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Structures.FinSet.html" class="Module">Structures.FinSet</a> <a id="49" class="Keyword">where</a>

<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Foundations.Base.html" class="Module">Foundations.Base</a>
<a id="85" class="Keyword">open</a> <a id="90" class="Keyword">import</a> <a id="97" href="Foundations.Sigma.html" class="Module">Foundations.Sigma</a>

<a id="116" class="Keyword">open</a> <a id="121" class="Keyword">import</a> <a id="128" href="Meta.Idiom.html" class="Module">Meta.Idiom</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="Meta.Discrete.html" class="Module">Meta.Discrete</a>
<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="Meta.Reflection.HLevel.html" class="Module">Meta.Reflection.HLevel</a>
<a id="200" class="Keyword">open</a> <a id="205" class="Keyword">import</a> <a id="212" href="Meta.Finite.html" class="Module">Meta.Finite</a>            <a id="235" class="Keyword">public</a>
<a id="242" class="Keyword">open</a> <a id="247" class="Keyword">import</a> <a id="254" href="Meta.Underlying.html" class="Module">Meta.Underlying</a>        <a id="277" class="Keyword">public</a>

<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Structures.Omniscience.html" class="Module">Structures.Omniscience</a>
<a id="320" class="Keyword">open</a> <a id="325" class="Keyword">import</a> <a id="332" href="Structures.n-Type.html" class="Module">Structures.n-Type</a>

<a id="351" class="Keyword">open</a> <a id="356" class="Keyword">import</a> <a id="363" href="Correspondences.Unary.Decidable.html" class="Module">Correspondences.Unary.Decidable</a>

<a id="396" class="Keyword">import</a>      <a id="408" href="Data.Dec.Base.html" class="Module">Data.Dec.Base</a> <a id="422" class="Symbol">as</a> <a id="425" class="Module">Dec</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="Data.Dec.Properties.html" class="Module">Data.Dec.Properties</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Data.Dec.Instances.HLevel.html" class="Module">Data.Dec.Instances.HLevel</a>
<a id="499" class="Keyword">open</a> <a id="504" class="Keyword">import</a> <a id="511" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Data.Fin.html" class="Module">Data.Fin</a>
<a id="543" class="Keyword">open</a> <a id="548" class="Keyword">import</a> <a id="555" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="564" class="Keyword">open</a> <a id="569" class="Keyword">import</a> <a id="576" href="Data.Vec.html" class="Module">Data.Vec</a>
<a id="585" class="Keyword">open</a> <a id="590" class="Keyword">import</a> <a id="597" href="Data.Vec.Correspondences.Unary.Any.html" class="Module">Data.Vec.Correspondences.Unary.Any</a>

<a id="633" class="Keyword">import</a> <a id="640" href="Truncation.Propositional.html" class="Module">Truncation.Propositional</a> <a id="665" class="Symbol">as</a> <a id="668" class="Module">∥-∥₁</a>
<a id="673" class="Keyword">open</a> <a id="678" href="Truncation.Propositional.html" class="Module">∥-∥₁</a>

<a id="684" class="Keyword">private</a> <a id="692" class="Keyword">variable</a>
  <a id="703" href="Structures.FinSet.html#703" class="Generalizable">ℓ</a> <a id="705" href="Structures.FinSet.html#705" class="Generalizable">ℓ′</a> <a id="708" class="Symbol">:</a> <a id="710" href="Agda.Primitive.html#742" class="Postulate">Level</a>
  <a id="718" href="Structures.FinSet.html#718" class="Generalizable">A</a> <a id="720" class="Symbol">:</a> <a id="722" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="727" href="Structures.FinSet.html#703" class="Generalizable">ℓ</a>

<a id="Fin-ordered"></a><a id="730" href="Structures.FinSet.html#730" class="Function">Fin-ordered</a> <a id="742" class="Symbol">:</a> <a id="744" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="749" href="Structures.FinSet.html#703" class="Generalizable">ℓ</a> <a id="751" class="Symbol">→</a> <a id="753" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="758" href="Structures.FinSet.html#703" class="Generalizable">ℓ</a>
<a id="760" href="Structures.FinSet.html#730" class="Function">Fin-ordered</a> <a id="772" href="Structures.FinSet.html#772" class="Bound">A</a> <a id="774" class="Symbol">=</a> <a id="776" href="Foundations.Sigma.Base.html#152" class="Function">Σ[</a> <a id="779" href="Structures.FinSet.html#779" class="Bound">n</a> <a id="781" href="Foundations.Sigma.Base.html#152" class="Function">꞉</a> <a id="783" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="785" href="Foundations.Sigma.Base.html#152" class="Function">]</a> <a id="787" href="Structures.FinSet.html#772" class="Bound">A</a> <a id="789" href="Agda.Builtin.Cubical.Equiv.html#1012" class="Function Operator">≃</a> <a id="791" href="Data.Fin.Base.html#184" class="Datatype">Fin</a> <a id="795" href="Structures.FinSet.html#779" class="Bound">n</a>

<a id="fin-ordered-is-set"></a><a id="798" href="Structures.FinSet.html#798" class="Function">fin-ordered-is-set</a> <a id="817" class="Symbol">:</a> <a id="819" href="Foundations.Base.html#12851" class="Function">is-set</a> <a id="826" class="Symbol">(</a><a id="827" href="Structures.FinSet.html#730" class="Function">Fin-ordered</a> <a id="839" href="Structures.FinSet.html#718" class="Generalizable">A</a><a id="840" class="Symbol">)</a>
<a id="842" href="Structures.FinSet.html#798" class="Function">fin-ordered-is-set</a> <a id="861" class="Symbol">=</a>
  <a id="865" href="Foundations.HLevel.Retracts.html#4155" class="Function">Σ-is-of-hlevel</a> <a id="880" class="Number">2</a> <a id="882" href="Meta.Reflection.HLevel.html#24338" class="Macro">hlevel!</a> <a id="890" class="Symbol">(λ</a> <a id="893" href="Structures.FinSet.html#893" class="Bound">_</a> <a id="895" class="Symbol">→</a> <a id="897" href="Foundations.HLevel.Retracts.html#6081" class="Function">≃-is-of-hlevel-right-suc</a> <a id="922" class="Number">1</a> <a id="924" href="Meta.Reflection.HLevel.html#24338" class="Macro">hlevel!</a><a id="931" class="Symbol">)</a>

<a id="is-fin-set"></a><a id="934" href="Structures.FinSet.html#934" class="Function">is-fin-set</a> <a id="945" class="Symbol">:</a> <a id="947" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="952" href="Structures.FinSet.html#703" class="Generalizable">ℓ</a> <a id="954" class="Symbol">→</a> <a id="956" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="961" href="Structures.FinSet.html#703" class="Generalizable">ℓ</a>
<a id="963" href="Structures.FinSet.html#934" class="Function">is-fin-set</a> <a id="974" href="Structures.FinSet.html#974" class="Bound">A</a> <a id="976" class="Symbol">=</a> <a id="978" href="Foundations.Sigma.Base.html#152" class="Function">Σ[</a> <a id="981" href="Structures.FinSet.html#981" class="Bound">n</a> <a id="983" href="Foundations.Sigma.Base.html#152" class="Function">꞉</a> <a id="985" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="987" href="Foundations.Sigma.Base.html#152" class="Function">]</a> <a id="989" href="Truncation.Propositional.Base.html#139" class="Datatype Operator">∥</a> <a id="991" href="Structures.FinSet.html#974" class="Bound">A</a> <a id="993" href="Agda.Builtin.Cubical.Equiv.html#1012" class="Function Operator">≃</a> <a id="995" href="Data.Fin.Base.html#184" class="Datatype">Fin</a> <a id="999" href="Structures.FinSet.html#981" class="Bound">n</a> <a id="1001" href="Truncation.Propositional.Base.html#139" class="Datatype Operator">∥₁</a>

<a id="is-fin-set-is-prop"></a><a id="1005" href="Structures.FinSet.html#1005" class="Function">is-fin-set-is-prop</a> <a id="1024" class="Symbol">:</a> <a id="1026" href="Foundations.Base.html#12782" class="Function">is-prop</a> <a id="1034" class="Symbol">(</a><a id="1035" href="Structures.FinSet.html#934" class="Function">is-fin-set</a> <a id="1046" href="Structures.FinSet.html#718" class="Generalizable">A</a><a id="1047" class="Symbol">)</a>
<a id="1049" href="Structures.FinSet.html#1005" class="Function">is-fin-set-is-prop</a> <a id="1068" class="Symbol">(</a><a id="1069" href="Structures.FinSet.html#1069" class="Bound">m</a> <a id="1071" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1073" href="Structures.FinSet.html#1073" class="Bound">∣p∣₁</a><a id="1077" class="Symbol">)</a> <a id="1079" class="Symbol">(</a><a id="1080" href="Structures.FinSet.html#1080" class="Bound">n</a> <a id="1082" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1084" href="Structures.FinSet.html#1084" class="Bound">∣q∣₁</a><a id="1088" class="Symbol">)</a> <a id="1090" class="Symbol">=</a>
  <a id="1094" href="Foundations.Sigma.Properties.html#4453" class="Function">Σ-prop-path-equiv</a> <a id="1112" href="Meta.Reflection.HLevel.html#24338" class="Macro">hlevel!</a> <a id="1120" class="Symbol">.</a><a id="1121" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="1125" href="Foundations.Pi.Base.html#813" class="Function Operator">$</a>
    <a id="1131" href="Truncation.Propositional.Properties.html#327" class="Function">∥-∥₁.elim₂</a> <a id="1142" class="Symbol">(λ</a> <a id="1145" href="Structures.FinSet.html#1145" class="Bound">_</a> <a id="1147" href="Structures.FinSet.html#1147" class="Bound">_</a> <a id="1149" class="Symbol">→</a> <a id="1151" href="Data.Nat.Path.html#1121" class="Function">ℕ-is-set</a> <a id="1160" href="Structures.FinSet.html#1069" class="Bound">m</a> <a id="1162" href="Structures.FinSet.html#1080" class="Bound">n</a><a id="1163" class="Symbol">)</a>
               <a id="1180" class="Symbol">(λ</a> <a id="1183" href="Structures.FinSet.html#1183" class="Bound">p</a> <a id="1185" href="Structures.FinSet.html#1185" class="Bound">q</a> <a id="1187" class="Symbol">→</a> <a id="1189" href="Data.Fin.Properties.html#4406" class="Function">fin-injective</a> <a id="1203" class="Symbol">((</a><a id="1205" href="Structures.FinSet.html#1183" class="Bound">p</a> <a id="1207" href="Foundations.Equiv.Properties.html#332" class="Function Operator">ₑ⁻¹</a><a id="1210" class="Symbol">)</a> <a id="1212" href="Foundations.Equiv.Base.html#3636" class="Function Operator">∙ₑ</a> <a id="1215" href="Structures.FinSet.html#1185" class="Bound">q</a><a id="1216" class="Symbol">))</a>
               <a id="1234" href="Structures.FinSet.html#1073" class="Bound">∣p∣₁</a>
               <a id="1254" href="Structures.FinSet.html#1084" class="Bound">∣q∣₁</a>

<a id="Finite→is-fin-set"></a><a id="1260" href="Structures.FinSet.html#1260" class="Function">Finite→is-fin-set</a> <a id="1278" class="Symbol">:</a> <a id="1280" href="Meta.Finite.html#505" class="Record">Finite</a> <a id="1287" href="Structures.FinSet.html#718" class="Generalizable">A</a> <a id="1289" class="Symbol">→</a> <a id="1291" href="Structures.FinSet.html#934" class="Function">is-fin-set</a> <a id="1302" href="Structures.FinSet.html#718" class="Generalizable">A</a>
<a id="1304" href="Structures.FinSet.html#1260" class="Function">Finite→is-fin-set</a> <a id="1322" href="Structures.FinSet.html#1322" class="Bound">A-fin</a> <a id="1328" class="Symbol">=</a> <a id="1330" href="Structures.FinSet.html#1322" class="Bound">A-fin</a> <a id="1336" class="Symbol">.</a><a id="1337" href="Meta.Finite.html#575" class="Field">cardinality</a> <a id="1349" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1351" href="Structures.FinSet.html#1322" class="Bound">A-fin</a> <a id="1357" class="Symbol">.</a><a id="1358" href="Meta.Finite.html#596" class="Field">enumeration</a>

<a id="is-fin-set→is-set"></a><a id="1371" href="Structures.FinSet.html#1371" class="Function">is-fin-set→is-set</a> <a id="1389" class="Symbol">:</a> <a id="1391" href="Structures.FinSet.html#934" class="Function">is-fin-set</a> <a id="1402" href="Structures.FinSet.html#718" class="Generalizable">A</a> <a id="1404" class="Symbol">→</a> <a id="1406" href="Foundations.Base.html#12851" class="Function">is-set</a> <a id="1413" href="Structures.FinSet.html#718" class="Generalizable">A</a>
<a id="1415" href="Structures.FinSet.html#1371" class="Function">is-fin-set→is-set</a> <a id="1433" class="Symbol">(_</a> <a id="1436" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1438" href="Structures.FinSet.html#1438" class="Bound">∣e∣₁</a><a id="1442" class="Symbol">)</a> <a id="1444" class="Symbol">=</a>
  <a id="1448" href="Truncation.Propositional.Base.html#295" class="Function">∥-∥₁.rec</a> <a id="1457" class="Symbol">(</a><a id="1458" href="Foundations.HLevel.Base.html#4600" class="Function">is-of-hlevel-is-prop</a> <a id="1479" class="Number">2</a><a id="1480" class="Symbol">)</a> <a id="1482" class="Symbol">(λ</a> <a id="1485" href="Structures.FinSet.html#1485" class="Bound">e</a> <a id="1487" class="Symbol">→</a> <a id="1489" href="Foundations.HLevel.Retracts.html#2387" class="Function">is-of-hlevel-≃</a> <a id="1504" class="Number">2</a> <a id="1506" href="Structures.FinSet.html#1485" class="Bound">e</a> <a id="1508" href="Meta.Reflection.HLevel.html#24338" class="Macro">hlevel!</a><a id="1515" class="Symbol">)</a> <a id="1517" href="Structures.FinSet.html#1438" class="Bound">∣e∣₁</a>

<a id="fin-ordered→is-fin-set"></a><a id="1523" href="Structures.FinSet.html#1523" class="Function">fin-ordered→is-fin-set</a> <a id="1546" class="Symbol">:</a> <a id="1548" href="Structures.FinSet.html#730" class="Function">Fin-ordered</a> <a id="1560" href="Structures.FinSet.html#718" class="Generalizable">A</a> <a id="1562" class="Symbol">→</a> <a id="1564" href="Structures.FinSet.html#934" class="Function">is-fin-set</a> <a id="1575" href="Structures.FinSet.html#718" class="Generalizable">A</a>
<a id="1577" href="Structures.FinSet.html#1523" class="Function">fin-ordered→is-fin-set</a> <a id="1600" class="Symbol">(</a><a id="1601" href="Structures.FinSet.html#1601" class="Bound">n</a> <a id="1603" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1605" href="Structures.FinSet.html#1605" class="Bound">e</a><a id="1606" class="Symbol">)</a> <a id="1608" class="Symbol">=</a> <a id="1610" href="Structures.FinSet.html#1601" class="Bound">n</a> <a id="1612" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1614" href="Truncation.Propositional.Base.html#178" class="InductiveConstructor Operator">∣</a> <a id="1616" href="Structures.FinSet.html#1605" class="Bound">e</a> <a id="1618" href="Truncation.Propositional.Base.html#178" class="InductiveConstructor Operator">∣₁</a>

<a id="1622" class="Comment">-- TODO</a>
<a id="1630" class="Comment">-- fin-set→is-discrete : is-fin-set A → is-discrete A</a>
<a id="1684" class="Comment">-- fin-set→is-discrete A-f = {!!}</a>

<a id="fin-ordered→omniscient"></a><a id="1719" href="Structures.FinSet.html#1719" class="Function">fin-ordered→omniscient</a> <a id="1742" class="Symbol">:</a> <a id="1744" href="Structures.FinSet.html#730" class="Function">Fin-ordered</a> <a id="1756" href="Structures.FinSet.html#718" class="Generalizable">A</a> <a id="1758" class="Symbol">→</a> <a id="1760" href="Structures.Omniscience.html#590" class="Function">Omniscient</a> <a id="1771" class="Symbol">{</a><a id="1772" class="Argument">ℓ′</a> <a id="1775" class="Symbol">=</a> <a id="1777" href="Structures.FinSet.html#705" class="Generalizable">ℓ′</a><a id="1779" class="Symbol">}</a> <a id="1781" href="Structures.FinSet.html#718" class="Generalizable">A</a>
<a id="1783" href="Structures.FinSet.html#1719" class="Function">fin-ordered→omniscient</a> <a id="1806" class="Symbol">{</a><a id="1807" href="Structures.FinSet.html#1807" class="Bound">A</a><a id="1808" class="Symbol">}</a> <a id="1810" class="Symbol">(</a><a id="1811" href="Structures.FinSet.html#1811" class="Bound">n</a> <a id="1813" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1815" href="Structures.FinSet.html#1815" class="Bound">aeq</a><a id="1818" class="Symbol">)</a> <a id="1820" class="Symbol">{</a><a id="1821" href="Structures.FinSet.html#1821" class="Bound">P</a><a id="1822" class="Symbol">}</a> <a id="1824" href="Structures.FinSet.html#1824" class="Bound">P?</a> <a id="1827" class="Symbol">=</a>
  <a id="1831" href="Data.Dec.Base.html#1532" class="Function">Dec.map</a> <a id="1839" href="Structures.FinSet.html#2000" class="Function">lemma₁</a> <a id="1846" href="Structures.FinSet.html#2053" class="Function">lemma₂</a> <a id="1853" class="Symbol">(</a><a id="1854" href="Data.Vec.Correspondences.Unary.Any.html#450" class="Function">any?</a> <a id="1859" href="Structures.FinSet.html#1824" class="Bound">P?</a> <a id="1862" href="Structures.FinSet.html#1939" class="Function">xs</a><a id="1864" class="Symbol">)</a> <a id="1866" class="Keyword">where</a>
    <a id="1876" class="Keyword">module</a> <a id="1883" href="Structures.FinSet.html#1883" class="Module">Ã</a> <a id="1886" class="Symbol">=</a> <a id="1888" href="Foundations.Equiv.Properties.html#1827" class="Module">Equiv</a> <a id="1894" href="Structures.FinSet.html#1815" class="Bound">aeq</a>
    <a id="1902" class="Keyword">module</a> <a id="1909" href="Structures.FinSet.html#1909" class="Module">Ṽ</a> <a id="1912" class="Symbol">=</a> <a id="1914" href="Foundations.Equiv.Properties.html#1827" class="Module">Equiv</a> <a id="1920" href="Data.Vec.Properties.html#966" class="Function">vec-fun-equiv</a>

    <a id="1939" href="Structures.FinSet.html#1939" class="Function">xs</a> <a id="1942" class="Symbol">:</a> <a id="1944" href="Data.Vec.Base.html#231" class="Datatype">Vec</a> <a id="1948" href="Structures.FinSet.html#1807" class="Bound">A</a> <a id="1950" href="Structures.FinSet.html#1811" class="Bound">n</a>
    <a id="1956" href="Structures.FinSet.html#1939" class="Function">xs</a> <a id="1959" class="Symbol">=</a> <a id="1961" href="Foundations.Equiv.Properties.html#2298" class="Function">Ṽ.inverse</a> <a id="1972" class="Symbol">.</a><a id="1973" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="1977" href="Foundations.Pi.Base.html#813" class="Function Operator">$</a> <a id="1979" href="Foundations.Equiv.Properties.html#2298" class="Function">Ã.inverse</a> <a id="1990" class="Symbol">.</a><a id="1991" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a>

    <a id="2000" href="Structures.FinSet.html#2000" class="Function">lemma₁</a> <a id="2007" class="Symbol">:</a> <a id="2009" class="Symbol">_</a>
    <a id="2015" href="Structures.FinSet.html#2000" class="Function">lemma₁</a> <a id="2022" class="Symbol">(</a><a id="2023" href="Structures.FinSet.html#2023" class="Bound">i</a> <a id="2025" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2027" href="Structures.FinSet.html#2027" class="Bound">p</a><a id="2028" class="Symbol">)</a> <a id="2030" class="Symbol">=</a> <a id="2032" href="Data.Vec.Properties.html#844" class="Function">lookup</a> <a id="2039" href="Structures.FinSet.html#1939" class="Function">xs</a> <a id="2042" href="Structures.FinSet.html#2023" class="Bound">i</a> <a id="2044" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2046" href="Structures.FinSet.html#2027" class="Bound">p</a>

    <a id="2053" href="Structures.FinSet.html#2053" class="Function">lemma₂</a> <a id="2060" class="Symbol">:</a> <a id="2062" class="Symbol">_</a>
    <a id="2068" href="Structures.FinSet.html#2053" class="Function">lemma₂</a> <a id="2075" href="Structures.FinSet.html#2075" class="Bound">¬p</a> <a id="2078" class="Symbol">(</a><a id="2079" href="Structures.FinSet.html#2079" class="Bound">a</a> <a id="2081" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2083" href="Structures.FinSet.html#2083" class="Bound">pa</a><a id="2085" class="Symbol">)</a> <a id="2087" class="Symbol">=</a> <a id="2089" href="Structures.FinSet.html#2075" class="Bound">¬p</a> <a id="2092" href="Foundations.Pi.Base.html#813" class="Function Operator">$</a> <a id="2094" href="Foundations.Equiv.Properties.html#1853" class="Function">Ã.to</a> <a id="2100" href="Structures.FinSet.html#2079" class="Bound">a</a> <a id="2102" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2104" href="Foundations.Base.html#10677" class="Function">subst</a> <a id="2110" href="Structures.FinSet.html#1821" class="Bound">P</a> <a id="2112" class="Symbol">(</a><a id="2113" href="Foundations.Prim.Kan.html#1527" class="Function">sym</a> <a id="2117" class="Symbol">(</a><a id="2118" href="Foundations.Base.html#11932" class="Function">happly</a> <a id="2125" class="Symbol">(</a><a id="2126" href="Foundations.Equiv.Properties.html#1931" class="Function">Ṽ.ε</a> <a id="2131" class="Symbol">_)</a> <a id="2134" class="Symbol">_</a> <a id="2136" href="Foundations.Base.html#5663" class="Function Operator">∙</a> <a id="2138" href="Foundations.Equiv.Properties.html#1902" class="Function">Ã.η</a> <a id="2143" href="Structures.FinSet.html#2079" class="Bound">a</a><a id="2144" class="Symbol">))</a> <a id="2147" href="Structures.FinSet.html#2083" class="Bound">pa</a>

<a id="is-fin-set→omniscient₁"></a><a id="2151" href="Structures.FinSet.html#2151" class="Function">is-fin-set→omniscient₁</a> <a id="2174" class="Symbol">:</a> <a id="2176" href="Structures.FinSet.html#934" class="Function">is-fin-set</a> <a id="2187" href="Structures.FinSet.html#718" class="Generalizable">A</a> <a id="2189" class="Symbol">→</a> <a id="2191" href="Structures.Omniscience.html#1101" class="Function">Omniscient₁</a> <a id="2203" class="Symbol">{</a><a id="2204" class="Argument">ℓ′</a> <a id="2207" class="Symbol">=</a> <a id="2209" href="Structures.FinSet.html#705" class="Generalizable">ℓ′</a><a id="2211" class="Symbol">}</a> <a id="2213" href="Structures.FinSet.html#718" class="Generalizable">A</a>
<a id="2215" href="Structures.FinSet.html#2151" class="Function">is-fin-set→omniscient₁</a> <a id="2238" class="Symbol">{</a><a id="2239" href="Structures.FinSet.html#2239" class="Bound">A</a><a id="2240" class="Symbol">}</a> <a id="2242" class="Symbol">(</a><a id="2243" href="Structures.FinSet.html#2243" class="Bound">n</a> <a id="2245" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2247" href="Structures.FinSet.html#2247" class="Bound">∣aeq∣₁</a><a id="2253" class="Symbol">)</a> <a id="2255" class="Symbol">{</a><a id="2256" href="Structures.FinSet.html#2256" class="Bound">P</a><a id="2257" class="Symbol">}</a> <a id="2259" class="Symbol">=</a> <a id="2261" href="Truncation.Propositional.Properties.html#1052" class="Function">∥-∥₁.elim!</a> <a id="2272" href="Structures.FinSet.html#2303" class="Function">go</a> <a id="2275" class="Symbol">((</a><a id="2277" href="Structures.FinSet.html#2243" class="Bound">n</a> <a id="2279" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,_</a><a id="2281" class="Symbol">)</a> <a id="2283" href="Meta.Idiom.html#282" class="Field Operator">&lt;$&gt;</a> <a id="2287" href="Structures.FinSet.html#2247" class="Bound">∣aeq∣₁</a><a id="2293" class="Symbol">)</a> <a id="2295" class="Keyword">where</a>
  <a id="2303" href="Structures.FinSet.html#2303" class="Function">go</a> <a id="2306" class="Symbol">:</a> <a id="2308" href="Foundations.Pi.Base.html#146" class="Function">Π[</a> <a id="2311" href="Structures.FinSet.html#2311" class="Bound">A-f</a> <a id="2315" href="Foundations.Pi.Base.html#146" class="Function">꞉</a> <a id="2317" href="Structures.FinSet.html#730" class="Function">Fin-ordered</a> <a id="2329" href="Structures.FinSet.html#2239" class="Bound">A</a> <a id="2331" href="Foundations.Pi.Base.html#146" class="Function">]</a> <a id="2333" class="Symbol">(</a><a id="2334" href="Correspondences.Unary.Decidable.html#316" class="Function">Decidable₁</a> <a id="2345" href="Structures.FinSet.html#2256" class="Bound">P</a> <a id="2347" class="Symbol">→</a> <a id="2349" href="Data.Dec.Base.html#1327" class="Record">Dec</a> <a id="2353" href="Truncation.Propositional.Base.html#139" class="Datatype Operator">∥</a> <a id="2355" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="2357" href="Structures.FinSet.html#2239" class="Bound">A</a> <a id="2359" class="Symbol">_</a> <a id="2361" href="Truncation.Propositional.Base.html#139" class="Datatype Operator">∥₁</a><a id="2363" class="Symbol">)</a>
  <a id="2367" href="Structures.FinSet.html#2303" class="Function">go</a> <a id="2370" href="Structures.FinSet.html#2370" class="Bound">A-f</a> <a id="2374" class="Symbol">=</a> <a id="2376" href="Data.Dec.Base.html#1532" class="Function">Dec.map</a> <a id="2384" href="Meta.Idiom.html#583" class="Field">pure</a> <a id="2389" href="Truncation.Propositional.Properties.html#921" class="Function">rec!</a> <a id="2394" href="Foundations.Pi.Base.html#906" class="Function Operator">∘</a> <a id="2396" href="Structures.FinSet.html#1719" class="Function">fin-ordered→omniscient</a> <a id="2419" href="Structures.FinSet.html#2370" class="Bound">A-f</a>

<a id="is-fin-set→exhaustible₁"></a><a id="2424" href="Structures.FinSet.html#2424" class="Function">is-fin-set→exhaustible₁</a> <a id="2448" class="Symbol">:</a> <a id="2450" href="Structures.FinSet.html#934" class="Function">is-fin-set</a> <a id="2461" href="Structures.FinSet.html#718" class="Generalizable">A</a> <a id="2463" class="Symbol">→</a> <a id="2465" href="Structures.Omniscience.html#956" class="Function">Exhaustible₁</a> <a id="2478" class="Symbol">{</a><a id="2479" class="Argument">ℓ′</a> <a id="2482" class="Symbol">=</a> <a id="2484" href="Structures.FinSet.html#705" class="Generalizable">ℓ′</a><a id="2486" class="Symbol">}</a> <a id="2488" href="Structures.FinSet.html#718" class="Generalizable">A</a>
<a id="2490" href="Structures.FinSet.html#2424" class="Function">is-fin-set→exhaustible₁</a> <a id="2514" class="Symbol">=</a> <a id="2516" href="Structures.Omniscience.html#1263" class="Function">omniscient₁→exhaustible₁</a> <a id="2541" href="Foundations.Pi.Base.html#906" class="Function Operator">∘</a> <a id="2543" href="Structures.FinSet.html#2151" class="Function">is-fin-set→omniscient₁</a>

<a id="2567" class="Comment">-- is-fin-set→omniscient</a>
<a id="2592" class="Comment">--   : is-fin-set A → {P : Pred₁ ℓ′ A} → Decidable₁ P → Dec (Σ[ a ꞉ A ] ⌞ P a ⌟)</a>
<a id="2673" class="Comment">-- is-fin-set→omniscient A-fin P? with is-fin-set→omniscient₁ A-fin P?</a>
<a id="2744" class="Comment">-- ... | yes p = yes {!!}</a>
<a id="2770" class="Comment">-- ... | no ¬p = {!!}</a>

<a id="2793" class="Comment">-- is-fin-set→exhaustible₁</a>
<a id="2820" class="Comment">--   : is-fin-set A → {P : Pred₁ ℓ′ A} → Decidable₁ P → Dec (Π[ a ꞉ A ] ⌞ P a ⌟)</a>
<a id="2901" class="Comment">-- is-fin-set→exhaustible₁ A-fin {P} P? =</a>
<a id="2943" class="Comment">--   let z = omniscient₁→exhaustible₁ (is-fin-set→omniscient₁ A-fin) P?</a>
<a id="3015" class="Comment">-- --       w = ∥-∥₁.proj (Finite-choice ⦃ {!!} ⦄ λ x → (dec-∥-∥₁-equiv ₑ⁻¹) .fst x)</a>
<a id="3100" class="Comment">--   in omniscient→exhaustible {!!} P?</a>
<a id="3139" class="Comment">-- --     in ∥-∥₁.proj {!Finite-choice ? ?!} -- ((dec-∥-∥₁-equiv ₑ⁻¹) .fst z)</a>

<a id="3218" class="Keyword">record</a> <a id="FinSet"></a><a id="3225" href="Structures.FinSet.html#3225" class="Record">FinSet</a> <a id="3232" href="Structures.FinSet.html#3232" class="Bound">ℓ</a> <a id="3234" class="Symbol">:</a> <a id="3236" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3241" class="Symbol">(</a><a id="3242" href="Foundations.Prim.Type.html#375" class="Primitive">ℓsuc</a> <a id="3247" href="Structures.FinSet.html#3232" class="Bound">ℓ</a><a id="3248" class="Symbol">)</a> <a id="3250" class="Keyword">where</a>
  <a id="3258" class="Keyword">no-eta-equality</a>
  <a id="3276" class="Keyword">constructor</a> <a id="fin-set"></a><a id="3288" href="Structures.FinSet.html#3288" class="InductiveConstructor">fin-set</a>
  <a id="3298" class="Keyword">field</a>
    <a id="FinSet.typ"></a><a id="3308" href="Structures.FinSet.html#3308" class="Field">typ</a>            <a id="3323" class="Symbol">:</a> <a id="3325" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3330" href="Structures.FinSet.html#3232" class="Bound">ℓ</a>
    <a id="FinSet.has-is-fin-set"></a><a id="3336" href="Structures.FinSet.html#3336" class="Field">has-is-fin-set</a> <a id="3351" class="Symbol">:</a> <a id="3353" href="Structures.FinSet.html#934" class="Function">is-fin-set</a> <a id="3364" href="Structures.FinSet.html#3308" class="Field">typ</a>
  <a id="3370" class="Keyword">instance</a>
    <a id="FinSet.Finite-FinSet"></a><a id="3383" href="Structures.FinSet.html#3383" class="Function">Finite-FinSet</a> <a id="3397" class="Symbol">:</a> <a id="3399" href="Meta.Finite.html#505" class="Record">Finite</a> <a id="3406" href="Structures.FinSet.html#3308" class="Field">typ</a>
    <a id="3414" href="Structures.FinSet.html#3383" class="Function">Finite-FinSet</a> <a id="3428" class="Symbol">=</a> <a id="3430" href="Meta.Finite.html#558" class="InductiveConstructor">fin</a> <a id="3434" href="Foundations.Pi.Base.html#813" class="Function Operator">$</a> <a id="3436" href="Structures.FinSet.html#3336" class="Field">has-is-fin-set</a> <a id="3451" class="Symbol">.</a><a id="3452" href="Agda.Builtin.Sigma.html#263" class="Field">snd</a>

    <a id="FinSet.H-Level-FinSet"></a><a id="3461" href="Structures.FinSet.html#3461" class="Function">H-Level-FinSet</a> <a id="3476" class="Symbol">:</a> <a id="3478" class="Symbol">∀</a> <a id="3480" class="Symbol">{</a><a id="3481" href="Structures.FinSet.html#3481" class="Bound">n</a><a id="3482" class="Symbol">}</a> <a id="3484" class="Symbol">→</a> <a id="3486" href="Meta.HLevel.html#181" class="Record">H-Level</a> <a id="3494" class="Symbol">(</a><a id="3495" class="Number">2</a> <a id="3497" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3499" href="Structures.FinSet.html#3481" class="Bound">n</a><a id="3500" class="Symbol">)</a> <a id="3502" href="Structures.FinSet.html#3308" class="Field">typ</a>
    <a id="3510" href="Structures.FinSet.html#3461" class="Function">H-Level-FinSet</a> <a id="3525" class="Symbol">=</a> <a id="3527" href="Meta.HLevel.html#554" class="Function">basic-instance</a> <a id="3542" class="Number">2</a> <a id="3544" class="Symbol">(</a><a id="3545" href="Structures.FinSet.html#1371" class="Function">is-fin-set→is-set</a> <a id="3563" href="Structures.FinSet.html#3336" class="Field">has-is-fin-set</a><a id="3577" class="Symbol">)</a>

<a id="3580" class="Keyword">open</a> <a id="3585" href="Structures.FinSet.html#3225" class="Module">FinSet</a> <a id="3592" class="Keyword">public</a>
  <a id="3601" class="Keyword">using</a> <a id="3607" class="Symbol">(</a><a id="3608" href="Structures.FinSet.html#3383" class="Function">Finite-FinSet</a><a id="3621" class="Symbol">;</a> <a id="3623" href="Structures.FinSet.html#3461" class="Function">H-Level-FinSet</a><a id="3637" class="Symbol">)</a>
<a id="3639" class="Keyword">open</a> <a id="3644" href="Structures.FinSet.html#3225" class="Module">FinSet</a> <a id="3651" class="Keyword">using</a> <a id="3657" class="Symbol">(</a><a id="3658" href="Structures.FinSet.html#3308" class="Field">typ</a><a id="3661" class="Symbol">;</a> <a id="3663" href="Structures.FinSet.html#3336" class="Field">has-is-fin-set</a><a id="3677" class="Symbol">)</a>

<a id="fin-set!"></a><a id="3680" href="Structures.FinSet.html#3680" class="Function">fin-set!</a> <a id="3689" class="Symbol">:</a> <a id="3691" class="Symbol">(</a><a id="3692" href="Structures.FinSet.html#3692" class="Bound">A</a> <a id="3694" class="Symbol">:</a> <a id="3696" href="Foundations.Prim.Type.html#295" class="Primitive">Type</a> <a id="3701" href="Structures.FinSet.html#703" class="Generalizable">ℓ</a><a id="3702" class="Symbol">)</a> <a id="3704" class="Symbol">→</a> <a id="3706" class="Symbol">⦃</a> <a id="3708" href="Meta.Finite.html#505" class="Record">Finite</a> <a id="3715" href="Structures.FinSet.html#3692" class="Bound">A</a> <a id="3717" class="Symbol">⦄</a> <a id="3719" class="Symbol">→</a> <a id="3721" href="Structures.FinSet.html#3225" class="Record">FinSet</a> <a id="3728" href="Structures.FinSet.html#703" class="Generalizable">ℓ</a>
<a id="3730" href="Structures.FinSet.html#3680" class="Function">fin-set!</a> <a id="3739" href="Structures.FinSet.html#3739" class="Bound">A</a> <a id="3741" class="Symbol">⦃</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Structures.FinSet.html#3744" class="Bound">A-fin</a><a id="3749" class="Symbol">)</a> <a id="3751" class="Symbol">⦄</a> <a id="3753" class="Symbol">=</a> <a id="3755" href="Structures.FinSet.html#3288" class="InductiveConstructor">fin-set</a> <a id="3763" href="Structures.FinSet.html#3739" class="Bound">A</a> <a id="3765" class="Symbol">(</a><a id="3766" href="Structures.FinSet.html#1260" class="Function">Finite→is-fin-set</a> <a id="3784" href="Structures.FinSet.html#3744" class="Bound">A-fin</a><a id="3789" class="Symbol">)</a>

<a id="3792" class="Keyword">instance</a>
  <a id="Underlying-FinSet"></a><a id="3803" href="Structures.FinSet.html#3803" class="Function">Underlying-FinSet</a> <a id="3821" class="Symbol">:</a> <a id="3823" href="Meta.Underlying.html#91" class="Record">Underlying</a> <a id="3834" class="Symbol">(</a><a id="3835" href="Structures.FinSet.html#3225" class="Record">FinSet</a> <a id="3842" href="Structures.FinSet.html#703" class="Generalizable">ℓ</a><a id="3843" class="Symbol">)</a>
  <a id="3847" href="Structures.FinSet.html#3803" class="Function">Underlying-FinSet</a> <a id="3865" class="Symbol">{</a><a id="3866" href="Structures.FinSet.html#3866" class="Bound">ℓ</a><a id="3867" class="Symbol">}</a> <a id="3869" class="Symbol">.</a><a id="3870" href="Meta.Underlying.html#145" class="Field">Underlying.ℓ-underlying</a> <a id="3894" class="Symbol">=</a> <a id="3896" href="Structures.FinSet.html#3866" class="Bound">ℓ</a>
  <a id="3900" href="Structures.FinSet.html#3803" class="Function">Underlying-FinSet</a> <a id="3918" class="Symbol">.</a><a id="3919" href="Meta.Underlying.html#170" class="Field Operator">⌞_⌟</a> <a id="3923" class="Symbol">=</a> <a id="3925" href="Structures.FinSet.html#3308" class="Field">typ</a>


<a id="3931" class="Comment">-- TODO</a>
<a id="3939" class="Comment">-- fin-set-path : ⌞ X ⌟ ＝ ⌞ Y ⌟ → X ＝ Y</a>
<a id="3979" class="Comment">-- fin-set-path f i .typ = f i</a>
<a id="4010" class="Comment">-- fin-set-path {X} {Y} f i .has-is-fin-set = {!!} , {!!}</a>
<a id="4068" class="Comment">--   -- is-prop→pathP (λ i → is-of-hlevel-is-prop {A = f i} _) (X .is-tr) (Y .is-tr) i</a>

<a id="4156" class="Comment">-- @0 fin-set-ua : ⌞ X ⌟ ≃ ⌞ Y ⌟ → X ＝ Y</a>
<a id="4197" class="Comment">-- fin-set-ua f = n-path (ua f)</a>

<a id="4230" class="Comment">-- @0 fin-set-univalence : {X Y : n-Type ℓ n} → (⌞ X ⌟ ≃ ⌞ Y ⌟) ≃ (X ＝ Y)</a>
<a id="4304" class="Comment">-- fin-set-univalence {n} {X} {Y} = n-ua , is-iso→is-equiv isic where</a>
<a id="4374" class="Comment">--   inv : ∀ {Y} → X ＝ Y → ⌞ X ⌟ ≃ ⌞ Y ⌟</a>
<a id="4415" class="Comment">--   inv p = path→equiv (ap typ p)</a>

<a id="4451" class="Comment">--   linv : ∀ {Y} → (inv {Y}) is-left-inverse-of n-ua</a>
<a id="4505" class="Comment">--   linv x = Σ-prop-path is-equiv-is-prop (fun-ext λ x → transport-refl _)</a>

<a id="4582" class="Comment">--   rinv : ∀ {Y} → (inv {Y}) is-right-inverse-of n-ua</a>
<a id="4637" class="Comment">--   rinv = J (λ y p → n-ua (inv p) ＝ p) path where</a>
<a id="4689" class="Comment">--     path : n-ua (inv {X} refl) ＝ refl</a>
<a id="4730" class="Comment">--     path i j .typ = ua.ε refl i j</a>
<a id="4767" class="Comment">--     path i j .is-tr = is-prop→SquareP</a>
<a id="4808" class="Comment">--       (λ i j → is-of-hlevel-is-prop</a>
<a id="4847" class="Comment">--         {A = ua.ε {A = ⌞ X ⌟} refl i j } n)</a>
<a id="4894" class="Comment">--       (λ j → X .is-tr) (λ j → n-ua {X = X} {Y = X} (path→equiv refl) j .is-tr)</a>
<a id="4976" class="Comment">--       (λ j → X .is-tr) (λ j → X .is-tr)</a>
<a id="5019" class="Comment">--       i j</a>

<a id="5033" class="Comment">--   isic : is-iso n-ua</a>
<a id="5057" class="Comment">--   isic = iso inv rinv (linv {Y})</a>

<a id="5094" class="Comment">-- @0 fin-set-is-of-hlevel : ∀ n → is-of-hlevel (suc n) (n-Type ℓ n)</a>
<a id="5163" class="Comment">-- fin-set-is-of-hlevel zero x y = n-ua</a>
<a id="5203" class="Comment">--   ((λ _ → y .is-tr .fst) , is-contr→is-equiv (x .is-tr) (y .is-tr))</a>
<a id="5274" class="Comment">-- fin-set-is-of-hlevel (suc n) x y =</a>
<a id="5312" class="Comment">--   is-of-hlevel-≃ (suc n) (n-univalence ₑ⁻¹) (≃-is-of-hlevel (suc n) (x .is-tr) (y .is-tr))</a>

<a id="5407" class="Comment">-- instance</a>
<a id="5419" class="Comment">--   @0 H-Level-nType : ∀ {n k} → H-Level (1 + k + n) (n-Type ℓ k)</a>
<a id="5486" class="Comment">--   H-Level-nType {k} = basic-instance (1 + k) (n-Type-is-of-hlevel k)</a>

<a id="5559" class="Comment">--   H-Level-is-equiv</a>
<a id="5581" class="Comment">--     : {f : A → B} {n : HLevel}</a>
<a id="5615" class="Comment">--     → H-Level (suc n) (is-equiv f)</a>
<a id="5653" class="Comment">--   H-Level-is-equiv = prop-instance (is-equiv-is-prop _)</a>

<a id="5713" class="Comment">-- module _ {ℓ : Level} where private</a>
<a id="5751" class="Comment">--   open import Foundations.Univalence.SIP</a>
<a id="5795" class="Comment">--   _ : FinSet ℓ ≃ Type-with {S = is-fin-set} (HomT→Str λ _ _ _ → ⊤)</a>
<a id="5865" class="Comment">--   _ = iso→equiv the-iso</a>
<a id="5892" class="Comment">--     where</a>
<a id="5905" class="Comment">--       open import Meta.Reflection.Record</a>
<a id="5949" class="Comment">--       the-iso : Iso (FinSet ℓ) (Σ[ T ꞉ Type ℓ ] is-fin-set T)</a>
<a id="6014" class="Comment">--       unquoteDef the-iso = define-record-iso the-iso (quote FinSet)</a>
</pre></body></html>