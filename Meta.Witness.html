<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Witness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.Witness.html" class="Module">Meta.Witness</a> <a id="44" class="Keyword">where</a>

<a id="51" class="Keyword">open</a> <a id="56" class="Keyword">import</a> <a id="63" href="Foundations.Base.html" class="Module">Foundations.Base</a>

<a id="81" class="Keyword">open</a> <a id="86" class="Keyword">import</a> <a id="93" href="Meta.Reflection.html" class="Module">Meta.Reflection</a>
<a id="109" class="Keyword">open</a> <a id="114" class="Keyword">import</a> <a id="121" href="Meta.Search.Decidable.html" class="Module">Meta.Search.Decidable</a>

<a id="144" class="Keyword">open</a> <a id="149" class="Keyword">import</a> <a id="156" href="Correspondences.Discrete.html" class="Module">Correspondences.Discrete</a>
<a id="181" class="Keyword">open</a> <a id="186" class="Keyword">import</a> <a id="193" href="Correspondences.Finite.Bishop.html" class="Module">Correspondences.Finite.Bishop</a>
<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Correspondences.Finite.ManifestBishop.html" class="Module">Correspondences.Finite.ManifestBishop</a>
<a id="273" class="Keyword">open</a> <a id="278" class="Keyword">import</a> <a id="285" href="Correspondences.Omniscient.html" class="Module">Correspondences.Omniscient</a>

<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Data.Dec.Base.html" class="Module">Data.Dec.Base</a>
<a id="366" class="Keyword">open</a> <a id="371" class="Keyword">import</a> <a id="378" href="Data.FinSub.Closure.html" class="Module">Data.FinSub.Closure</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Data.FinSub.Properties.html" class="Module">Data.FinSub.Properties</a>
<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="460" class="Keyword">open</a> <a id="465" class="Keyword">import</a> <a id="472" href="Data.List.Instances.FromProduct.html" class="Module">Data.List.Instances.FromProduct</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="Data.Vec.Correspondences.Unary.Any.Computational.html" class="Module">Data.Vec.Correspondences.Unary.Any.Computational</a>

<a id="witness-macro"></a><a id="566" href="Meta.Witness.html#566" class="Function">witness-macro</a> <a id="580" class="Symbol">:</a> <a id="582" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="587" class="Symbol">→</a> <a id="589" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="594" class="Symbol">→</a> <a id="596" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="599" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="601" href="Meta.Witness.html#566" class="Function">witness-macro</a> <a id="615" class="Symbol">_</a> <a id="617" class="Symbol">(</a><a id="618" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="622" class="Symbol">_</a> <a id="624" class="Symbol">_)</a> <a id="627" class="Symbol">=</a> <a id="629" href="Agda.Builtin.Reflection.html#9830" class="Postulate">commitTC</a> <a id="638" class="Comment">-- Agda&#39;s too smart about unit type</a>
<a id="674" href="Meta.Witness.html#566" class="CatchallClause Function">witness-macro</a><a id="687" class="CatchallClause"> </a><a id="688" href="Meta.Witness.html#688" class="CatchallClause Bound">strict?</a><a id="695" class="CatchallClause"> </a><a id="696" href="Meta.Witness.html#696" class="CatchallClause Bound">hole</a> <a id="701" class="Symbol">=</a> <a id="703" class="Keyword">do</a>
  <a id="708" href="Meta.Witness.html#708" class="Bound">ty</a> <a id="711" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="713" href="Agda.Builtin.Reflection.html#8878" class="Postulate">inferType</a> <a id="723" href="Meta.Witness.html#696" class="Bound">hole</a> <a id="728" href="Meta.Bind.html#190" class="Field Operator">&gt;&gt;=</a> <a id="732" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a>
  <a id="741" href="Meta.Witness.html#741" class="Bound">candidate</a> <a id="751" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="753" href="Meta.Reflection.html#1976" class="Function">new-meta</a> <a id="762" class="Symbol">(</a><a id="763" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="767" class="Symbol">(</a><a id="768" class="Keyword">quote</a> <a id="774" href="Data.Dec.Base.html#1383" class="Record">Dec</a><a id="777" class="Symbol">)</a> <a id="779" class="Symbol">(</a><a id="780" href="Agda.Builtin.Reflection.html#5594" class="InductiveConstructor">unknown</a> <a id="788" href="Meta.Reflection.html#2711" class="InductiveConstructor Operator">h∷</a> <a id="791" href="Meta.Witness.html#708" class="Bound">ty</a> <a id="794" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="797" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="799" class="Symbol">))</a>
  <a id="804" href="Meta.Search.Decidable.html#799" class="Function">decide-tactic-worker</a> <a id="825" href="Meta.Witness.html#741" class="Bound">candidate</a>
  <a id="837" class="Keyword">let</a> <a id="841" href="Meta.Witness.html#841" class="Bound">prf</a> <a id="845" class="Symbol">=</a> <a id="847" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="851" class="Symbol">(</a><a id="852" class="Keyword">quote</a> <a id="858" href="Data.Dec.Base.html#1472" class="Field">proof</a><a id="863" class="Symbol">)</a> <a id="865" class="Symbol">(</a><a id="866" href="Meta.Witness.html#741" class="Bound">candidate</a> <a id="876" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="879" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="881" class="Symbol">)</a>
  <a id="885" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a> <a id="890" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="892" href="Meta.Idiom.html#555" class="Field">pure</a> <a id="897" href="Meta.Witness.html#688" class="Bound">strict?</a> <a id="905" class="Keyword">where</a>
    <a id="915" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a> <a id="921" class="Symbol">→</a> <a id="923" class="Keyword">do</a>
      <a id="932" href="Meta.Witness.html#932" class="Bound">solution</a> <a id="941" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="943" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="950" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="952" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="956" class="Symbol">(</a><a id="957" class="Keyword">quote</a> <a id="963" href="Data.Dec.Base.html#667" class="Function">Reflects′.invert</a><a id="979" class="Symbol">)</a> <a id="981" class="Symbol">(</a><a id="982" href="Meta.Witness.html#841" class="Bound">prf</a> <a id="986" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="989" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="991" class="Symbol">)</a>
      <a id="999" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="1005" href="Meta.Witness.html#696" class="Bound">hole</a> <a id="1010" href="Meta.Witness.html#932" class="Bound">solution</a>
  <a id="1021" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="1025" class="Symbol">(</a><a id="1026" class="Keyword">quote</a> <a id="1032" href="Data.Dec.Base.html#485" class="InductiveConstructor">ofʸ</a><a id="1035" class="Symbol">)</a> <a id="1037" class="Symbol">(_</a> <a id="1040" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1042" class="Symbol">_</a> <a id="1044" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1046" href="Meta.Witness.html#1046" class="Bound">solution</a> <a id="1055" href="Meta.Reflection.html#2679" class="InductiveConstructor Operator">v∷</a> <a id="1058" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1060" class="Symbol">)</a> <a id="1062" href="Meta.Bind.html#190" class="Field Operator">←</a> <a id="1064" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="1071" href="Foundations.Pi.Base.html#1010" class="Function Operator">$</a> <a id="1073" href="Meta.Witness.html#841" class="Bound">prf</a>
    <a id="1081" class="Keyword">where</a> <a id="1087" href="Meta.Witness.html#1087" class="CatchallClause Bound">x</a> <a id="1089" class="Symbol">→</a> <a id="1091" href="Agda.Builtin.Reflection.html#8815" class="Postulate">typeError</a> <a id="1101" href="Meta.Literals.FromProduct.html#317" class="Function Operator">[</a> <a id="1103" class="String">&quot;Goal is actually false (&quot;</a> <a id="1130" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1132" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="1140" href="Meta.Witness.html#1087" class="Bound">x</a> <a id="1142" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1144" class="String">&quot;)&quot;</a> <a id="1148" href="Meta.Literals.FromProduct.html#317" class="Function Operator">]</a>
  <a id="1152" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="1158" href="Meta.Witness.html#696" class="Bound">hole</a> <a id="1163" href="Meta.Witness.html#1046" class="Bound">solution</a>

<a id="1173" class="Keyword">macro</a> <a id="witness!"></a><a id="1179" href="Meta.Witness.html#1179" class="Function">witness!</a> <a id="1188" class="Symbol">=</a> <a id="1190" href="Meta.Witness.html#566" class="Function">witness-macro</a> <a id="1204" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>
<a id="1210" class="Keyword">macro</a> <a id="witness-strict!"></a><a id="1216" href="Meta.Witness.html#1216" class="Function">witness-strict!</a> <a id="1232" class="Symbol">=</a> <a id="1234" href="Meta.Witness.html#566" class="Function">witness-macro</a> <a id="1248" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>

<a id="1254" class="Keyword">opaque</a>
  <a id="1263" class="Keyword">unfolding</a>
    <a id="1277" href="Correspondences.Discrete.html#474" class="Function">is-discrete-β</a> <a id="1291" href="Correspondences.Omniscient.html#963" class="Function">omniscient₁→exhaustible</a> <a id="1315" href="Correspondences.Finite.Bishop.html#1946" class="Function">is-fin-set→omniscient₁</a> <a id="1338" href="Correspondences.Finite.ManifestBishop.html#830" class="Function">𝓑→omniscient₁</a>
    <a id="1356" href="Data.Vec.Correspondences.Unary.Any.Computational.html#583" class="Function">any?</a> <a id="1361" href="Data.FinSub.Closure.html#2413" class="Function">fin-sum</a> <a id="1369" href="Data.FinSub.Closure.html#1295" class="Function">fin-suc-universal</a> <a id="1387" href="Data.FinSub.Properties.html#1579" class="Function">fin-choice</a>

    <a id="1403" class="Comment">-- yes it&#39;s a kludge</a>
  <a id="witness-opaque-marker"></a><a id="1426" href="Meta.Witness.html#1426" class="Function">witness-opaque-marker</a> <a id="1448" class="Symbol">:</a> <a id="1450" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="1454" href="Meta.Witness.html#1426" class="Function">witness-opaque-marker</a> <a id="1476" class="Symbol">=</a> <a id="1478" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
</pre></body></html>