<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Effect.Bind.State</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.Effect.Bind.State.html" class="Module">Meta.Effect.Bind.State</a> <a id="54" class="Keyword">where</a>

<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Foundations.Base.html" class="Module">Foundations.Base</a>
<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="Data.Unit.html" class="Module">Data.Unit</a>

<a id="113" class="Keyword">open</a> <a id="118" class="Keyword">import</a> <a id="125" href="Meta.Effect.Base.html" class="Module">Meta.Effect.Base</a>
<a id="142" class="Keyword">open</a> <a id="147" class="Keyword">import</a> <a id="154" href="Meta.Effect.Map.html" class="Module">Meta.Effect.Map</a>
<a id="170" class="Keyword">open</a> <a id="175" class="Keyword">import</a> <a id="182" href="Meta.Effect.Idiom.html" class="Module">Meta.Effect.Idiom</a>
<a id="200" class="Keyword">open</a> <a id="205" class="Keyword">import</a> <a id="212" href="Meta.Effect.Bind.html" class="Module">Meta.Effect.Bind</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="Meta.Effect.Choice.html" class="Module">Meta.Effect.Choice</a>
<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Meta.Effect.Alt.html" class="Module">Meta.Effect.Alt</a>

<a id="289" class="Keyword">private</a>
  <a id="299" class="Keyword">variable</a>
    <a id="312" href="Meta.Effect.Bind.State.html#312" class="Generalizable">â„“a</a> <a id="315" href="Meta.Effect.Bind.State.html#315" class="Generalizable">â„“s</a> <a id="318" href="Meta.Effect.Bind.State.html#318" class="Generalizable">â„“</a> <a id="320" class="Symbol">:</a> <a id="322" href="Agda.Primitive.html#742" class="Postulate">Level</a>
    <a id="332" href="Meta.Effect.Bind.State.html#332" class="Generalizable">A</a> <a id="334" class="Symbol">:</a> <a id="336" href="Foundations.Prim.Type.html#322" class="Primitive">ğ’°</a> <a id="338" href="Meta.Effect.Bind.State.html#312" class="Generalizable">â„“a</a>
    <a id="345" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="347" class="Symbol">:</a> <a id="349" href="Foundations.Prim.Type.html#322" class="Primitive">ğ’°</a> <a id="351" href="Meta.Effect.Bind.State.html#315" class="Generalizable">â„“s</a>

<a id="355" class="Comment">-- State monad operations</a>

<a id="382" class="Keyword">record</a> <a id="BindState"></a><a id="389" href="Meta.Effect.Bind.State.html#389" class="Record">BindState</a> <a id="399" class="Symbol">(</a><a id="400" href="Meta.Effect.Bind.State.html#400" class="Bound">S</a> <a id="402" class="Symbol">:</a> <a id="404" href="Foundations.Prim.Type.html#322" class="Primitive">ğ’°</a> <a id="406" href="Meta.Effect.Bind.State.html#315" class="Generalizable">â„“s</a><a id="408" class="Symbol">)</a> <a id="410" class="Symbol">(</a><a id="411" href="Meta.Effect.Bind.State.html#411" class="Bound">M</a> <a id="413" class="Symbol">:</a> <a id="415" href="Meta.Effect.Base.html#92" class="Record">Effect</a><a id="421" class="Symbol">)</a> <a id="423" class="Symbol">:</a> <a id="425" href="Foundations.Prim.Type.html#349" class="Primitive">TypeÏ‰</a> <a id="431" class="Keyword">where</a>
  <a id="439" class="Keyword">private</a> <a id="447" class="Keyword">module</a> <a id="BindState.M"></a><a id="454" href="Meta.Effect.Bind.State.html#454" class="Module">M</a> <a id="456" class="Symbol">=</a> <a id="458" href="Meta.Effect.Base.html#92" class="Module">Effect</a> <a id="465" href="Meta.Effect.Bind.State.html#411" class="Bound">M</a>
  <a id="469" class="Keyword">field</a>
    <a id="BindState.gets"></a><a id="479" href="Meta.Effect.Bind.State.html#479" class="Field">gets</a>   <a id="486" class="Symbol">:</a> <a id="488" class="Symbol">(</a><a id="489" href="Meta.Effect.Bind.State.html#400" class="Bound">S</a> <a id="491" class="Symbol">â†’</a> <a id="493" href="Meta.Effect.Bind.State.html#332" class="Generalizable">A</a><a id="494" class="Symbol">)</a> <a id="496" class="Symbol">â†’</a> <a id="498" href="Meta.Effect.Base.html#169" class="Function">M.â‚€</a> <a id="502" href="Meta.Effect.Bind.State.html#332" class="Generalizable">A</a>
    <a id="BindState.modify"></a><a id="508" href="Meta.Effect.Bind.State.html#508" class="Field">modify</a> <a id="515" class="Symbol">:</a> <a id="517" class="Symbol">(</a><a id="518" href="Meta.Effect.Bind.State.html#400" class="Bound">S</a> <a id="520" class="Symbol">â†’</a> <a id="522" href="Meta.Effect.Bind.State.html#400" class="Bound">S</a><a id="523" class="Symbol">)</a> <a id="525" class="Symbol">â†’</a> <a id="527" href="Meta.Effect.Base.html#169" class="Function">M.â‚€</a> <a id="531" href="Foundations.Notation.Logic.html#4427" class="Field">âŠ¤</a>
    <a id="537" class="Symbol">â¦ƒ</a> <a id="BindState.Bind-state"></a><a id="539" href="Meta.Effect.Bind.State.html#539" class="Field">Bind-state</a> <a id="550" class="Symbol">â¦„</a> <a id="552" class="Symbol">:</a> <a id="554" href="Meta.Effect.Bind.Base.html#236" class="Record">Bind</a> <a id="559" href="Meta.Effect.Bind.State.html#411" class="Bound">M</a>

  <a id="BindState.put"></a><a id="564" href="Meta.Effect.Bind.State.html#564" class="Function">put</a> <a id="568" class="Symbol">:</a> <a id="570" href="Meta.Effect.Bind.State.html#400" class="Bound">S</a> <a id="572" class="Symbol">â†’</a> <a id="574" href="Meta.Effect.Base.html#169" class="Function">M.â‚€</a> <a id="578" href="Foundations.Notation.Logic.html#4427" class="Field">âŠ¤</a>
  <a id="582" href="Meta.Effect.Bind.State.html#564" class="Function">put</a> <a id="586" class="Symbol">=</a> <a id="588" href="Meta.Effect.Bind.State.html#508" class="Field">modify</a> <a id="595" href="Foundations.Pi.Base.html#3422" class="Function Operator">âˆ˜</a> <a id="597" class="Symbol">(Î»</a> <a id="600" href="Meta.Effect.Bind.State.html#600" class="Bound">_</a> <a id="602" class="Symbol">â†’</a> <a id="604" href="Foundations.Pi.Base.html#2508" class="Function">id</a><a id="606" class="Symbol">)</a>

  <a id="BindState.get"></a><a id="611" href="Meta.Effect.Bind.State.html#611" class="Function">get</a> <a id="615" class="Symbol">:</a> <a id="617" href="Meta.Effect.Base.html#169" class="Function">M.â‚€</a> <a id="621" href="Meta.Effect.Bind.State.html#400" class="Bound">S</a>
  <a id="625" href="Meta.Effect.Bind.State.html#611" class="Function">get</a> <a id="629" class="Symbol">=</a> <a id="631" href="Meta.Effect.Bind.State.html#479" class="Field">gets</a> <a id="636" href="Foundations.Pi.Base.html#2508" class="Function">id</a>

<a id="640" class="Keyword">open</a> <a id="645" href="Meta.Effect.Bind.State.html#389" class="Module">BindState</a> <a id="655" class="Symbol">â¦ƒ</a> <a id="657" class="Symbol">...</a> <a id="661" class="Symbol">â¦„</a>

<a id="664" class="Comment">-- State monad transformer</a>

<a id="692" class="Keyword">record</a> <a id="StateT"></a><a id="699" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a>
       <a id="713" class="Symbol">(</a><a id="714" href="Meta.Effect.Bind.State.html#714" class="Bound">S</a> <a id="716" class="Symbol">:</a> <a id="718" href="Foundations.Prim.Type.html#322" class="Primitive">ğ’°</a> <a id="720" href="Meta.Effect.Bind.State.html#315" class="Generalizable">â„“s</a><a id="722" class="Symbol">)</a>
       <a id="731" class="Symbol">(</a><a id="732" href="Meta.Effect.Bind.State.html#732" class="Bound">M</a> <a id="734" class="Symbol">:</a> <a id="736" href="Meta.Effect.Base.html#92" class="Record">Effect</a><a id="742" class="Symbol">)</a>
       <a id="751" class="Symbol">(</a><a id="752" href="Meta.Effect.Bind.State.html#752" class="Bound">A</a> <a id="754" class="Symbol">:</a> <a id="756" href="Foundations.Prim.Type.html#322" class="Primitive">ğ’°</a> <a id="758" href="Meta.Effect.Bind.State.html#312" class="Generalizable">â„“a</a><a id="760" class="Symbol">)</a>
       <a id="769" class="Symbol">:</a> <a id="771" href="Foundations.Prim.Type.html#322" class="Primitive">ğ’°</a> <a id="773" class="Symbol">(</a><a id="774" href="Meta.Effect.Bind.State.html#720" class="Bound">â„“s</a> <a id="777" href="Agda.Primitive.html#961" class="Primitive Operator">âŠ”</a> <a id="779" href="Meta.Effect.Base.html#144" class="Field">Effect.adj</a> <a id="790" href="Meta.Effect.Bind.State.html#732" class="Bound">M</a> <a id="792" class="Symbol">(</a><a id="793" href="Meta.Effect.Bind.State.html#720" class="Bound">â„“s</a> <a id="796" href="Agda.Primitive.html#961" class="Primitive Operator">âŠ”</a> <a id="798" href="Meta.Effect.Bind.State.html#758" class="Bound">â„“a</a><a id="800" class="Symbol">))</a> <a id="803" class="Keyword">where</a>
  <a id="811" class="Keyword">constructor</a> <a id="mkstatet"></a><a id="823" href="Meta.Effect.Bind.State.html#823" class="InductiveConstructor">mkstatet</a>
  <a id="834" class="Keyword">private</a> <a id="842" class="Keyword">module</a> <a id="StateT.M"></a><a id="849" href="Meta.Effect.Bind.State.html#849" class="Module">M</a> <a id="851" class="Symbol">=</a> <a id="853" href="Meta.Effect.Base.html#92" class="Module">Effect</a> <a id="860" href="Meta.Effect.Bind.State.html#732" class="Bound">M</a>
  <a id="864" class="Keyword">field</a> <a id="StateT.run-stateT"></a><a id="870" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="881" class="Symbol">:</a> <a id="883" href="Meta.Effect.Bind.State.html#714" class="Bound">S</a> <a id="885" class="Symbol">â†’</a> <a id="887" href="Meta.Effect.Base.html#169" class="Function">M.â‚€</a> <a id="891" class="Symbol">(</a><a id="892" href="Meta.Effect.Bind.State.html#714" class="Bound">S</a> <a id="894" href="Foundations.Notation.Logic.html#2060" class="Field Operator">Ã—</a> <a id="896" href="Meta.Effect.Bind.State.html#752" class="Bound">A</a><a id="897" class="Symbol">)</a>
<a id="899" class="Keyword">open</a> <a id="904" href="Meta.Effect.Bind.State.html#699" class="Module">StateT</a> <a id="911" class="Keyword">public</a>

<a id="919" class="Keyword">module</a> <a id="926" href="Meta.Effect.Bind.State.html#926" class="Module">_</a> <a id="928" class="Symbol">{</a><a id="929" href="Meta.Effect.Bind.State.html#929" class="Bound">M</a> <a id="931" class="Symbol">:</a> <a id="933" href="Meta.Effect.Base.html#92" class="Record">Effect</a><a id="939" class="Symbol">}</a> <a id="941" class="Symbol">(</a><a id="942" class="Keyword">let</a> <a id="946" class="Keyword">module</a> <a id="953" href="Meta.Effect.Bind.State.html#953" class="Module">M</a> <a id="955" class="Symbol">=</a> <a id="957" href="Meta.Effect.Base.html#92" class="Module">Effect</a> <a id="964" href="Meta.Effect.Bind.State.html#929" class="Bound">M</a><a id="965" class="Symbol">)</a> <a id="967" class="Symbol">â¦ƒ</a> <a id="969" href="Meta.Effect.Bind.State.html#969" class="Bound">mp</a> <a id="972" class="Symbol">:</a> <a id="974" href="Meta.Effect.Map.Base.html#188" class="Record">Map</a> <a id="978" href="Meta.Effect.Bind.State.html#929" class="Bound">M</a> <a id="980" class="Symbol">â¦„</a> <a id="982" class="Keyword">where</a>

  <a id="991" class="Keyword">open</a> <a id="996" href="Meta.Effect.Map.Base.html#188" class="Module">Map</a> <a id="1000" class="Symbol">â¦ƒ</a> <a id="1002" class="Symbol">...</a> <a id="1006" class="Symbol">â¦„</a>

  <a id="1011" class="Keyword">instance</a>
    <a id="1024" href="Meta.Effect.Bind.State.html#1024" class="Function">map-stateT</a> <a id="1035" class="Symbol">:</a> <a id="1037" href="Meta.Effect.Map.Base.html#188" class="Record">Map</a> <a id="1041" class="Symbol">(</a><a id="1042" href="Meta.Effect.Base.html#127" class="InductiveConstructor">eff</a> <a id="1046" class="Symbol">(</a><a id="1047" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a> <a id="1054" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="1056" href="Meta.Effect.Bind.State.html#929" class="Bound">M</a><a id="1057" class="Symbol">))</a>
    <a id="1064" href="Meta.Effect.Bind.State.html#1024" class="Function">map-stateT</a> <a id="1075" class="Symbol">.</a><a id="1076" href="Meta.Effect.Map.Base.html#257" class="Field">Map.map</a> <a id="1084" href="Meta.Effect.Bind.State.html#1084" class="Bound">f</a> <a id="1086" class="Symbol">(</a><a id="1087" href="Meta.Effect.Bind.State.html#823" class="InductiveConstructor">mkstatet</a> <a id="1096" href="Meta.Effect.Bind.State.html#1096" class="Bound">r</a><a id="1097" class="Symbol">)</a> <a id="1099" class="Symbol">=</a> <a id="1101" href="Meta.Effect.Bind.State.html#823" class="InductiveConstructor">mkstatet</a> <a id="1110" class="Symbol">(</a><a id="1111" href="Meta.Effect.Map.Base.html#257" class="Field">map</a> <a id="1115" class="Symbol">(</a><a id="1116" href="Foundations.Sigma.Base.html#2232" class="Function">second</a> <a id="1123" href="Meta.Effect.Bind.State.html#1084" class="Bound">f</a><a id="1124" class="Symbol">)</a> <a id="1126" href="Foundations.Pi.Base.html#3422" class="Function Operator">âˆ˜</a> <a id="1128" href="Meta.Effect.Bind.State.html#1096" class="Bound">r</a><a id="1129" class="Symbol">)</a>

  <a id="1134" href="Meta.Effect.Bind.State.html#1134" class="Function">eval-stateT</a> <a id="1146" class="Symbol">:</a> <a id="1148" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a> <a id="1155" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="1157" href="Meta.Effect.Bind.State.html#929" class="Bound">M</a> <a id="1159" href="Meta.Effect.Bind.State.html#332" class="Generalizable">A</a> <a id="1161" class="Symbol">â†’</a> <a id="1163" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="1165" class="Symbol">â†’</a> <a id="1167" href="Meta.Effect.Base.html#169" class="Field">M.â‚€</a> <a id="1171" href="Meta.Effect.Bind.State.html#332" class="Generalizable">A</a>
  <a id="1175" href="Meta.Effect.Bind.State.html#1134" class="Function">eval-stateT</a> <a id="1187" href="Meta.Effect.Bind.State.html#1187" class="Bound">ma</a> <a id="1190" href="Meta.Effect.Bind.State.html#1190" class="Bound">s</a> <a id="1192" class="Symbol">=</a> <a id="1194" href="Agda.Builtin.Sigma.html#263" class="Field">snd</a> <a id="1198" href="Meta.Effect.Map.Base.html#398" class="Function Operator">&lt;$&gt;</a> <a id="1202" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="1213" href="Meta.Effect.Bind.State.html#1187" class="Bound">ma</a> <a id="1216" href="Meta.Effect.Bind.State.html#1190" class="Bound">s</a>

  <a id="1221" href="Meta.Effect.Bind.State.html#1221" class="Function">exec-stateT</a> <a id="1233" class="Symbol">:</a> <a id="1235" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a> <a id="1242" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="1244" href="Meta.Effect.Bind.State.html#929" class="Bound">M</a> <a id="1246" href="Meta.Effect.Bind.State.html#332" class="Generalizable">A</a> <a id="1248" class="Symbol">â†’</a> <a id="1250" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="1252" class="Symbol">â†’</a> <a id="1254" href="Meta.Effect.Base.html#169" class="Field">M.â‚€</a> <a id="1258" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a>
  <a id="1262" href="Meta.Effect.Bind.State.html#1221" class="Function">exec-stateT</a> <a id="1274" href="Meta.Effect.Bind.State.html#1274" class="Bound">ma</a> <a id="1277" href="Meta.Effect.Bind.State.html#1277" class="Bound">s</a> <a id="1279" class="Symbol">=</a> <a id="1281" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="1285" href="Meta.Effect.Map.Base.html#398" class="Function Operator">&lt;$&gt;</a> <a id="1289" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="1300" href="Meta.Effect.Bind.State.html#1274" class="Bound">ma</a> <a id="1303" href="Meta.Effect.Bind.State.html#1277" class="Bound">s</a>

<a id="1306" class="Keyword">module</a> <a id="1313" href="Meta.Effect.Bind.State.html#1313" class="Module">_</a> <a id="1315" class="Symbol">{</a><a id="1316" href="Meta.Effect.Bind.State.html#1316" class="Bound">M</a> <a id="1318" class="Symbol">:</a> <a id="1320" href="Meta.Effect.Base.html#92" class="Record">Effect</a><a id="1326" class="Symbol">}</a> <a id="1328" class="Symbol">(</a><a id="1329" class="Keyword">let</a> <a id="1333" class="Keyword">module</a> <a id="1340" href="Meta.Effect.Bind.State.html#1340" class="Module">M</a> <a id="1342" class="Symbol">=</a> <a id="1344" href="Meta.Effect.Base.html#92" class="Module">Effect</a> <a id="1351" href="Meta.Effect.Bind.State.html#1316" class="Bound">M</a><a id="1352" class="Symbol">)</a> <a id="1354" class="Symbol">â¦ƒ</a> <a id="1356" href="Meta.Effect.Bind.State.html#1356" class="Bound">bd</a> <a id="1359" class="Symbol">:</a> <a id="1361" href="Meta.Effect.Bind.Base.html#236" class="Record">Bind</a> <a id="1366" href="Meta.Effect.Bind.State.html#1316" class="Bound">M</a> <a id="1368" class="Symbol">â¦„</a> <a id="1370" class="Keyword">where</a>

  <a id="1379" class="Keyword">open</a> <a id="1384" href="Meta.Effect.Idiom.Base.html#330" class="Module">Idiom</a> <a id="1390" class="Symbol">â¦ƒ</a> <a id="1392" class="Symbol">...</a> <a id="1396" class="Symbol">â¦„</a>
  <a id="1400" class="Keyword">open</a> <a id="1405" href="Meta.Effect.Bind.Base.html#236" class="Module">Bind</a> <a id="1410" class="Symbol">â¦ƒ</a> <a id="1412" class="Symbol">...</a> <a id="1416" class="Symbol">â¦„</a>

  <a id="1421" class="Keyword">instance</a>
    <a id="1434" href="Meta.Effect.Bind.State.html#1434" class="Function">idiom-stateT</a> <a id="1447" class="Symbol">:</a> <a id="1449" href="Meta.Effect.Idiom.Base.html#330" class="Record">Idiom</a> <a id="1455" class="Symbol">(</a><a id="1456" href="Meta.Effect.Base.html#127" class="InductiveConstructor">eff</a> <a id="1460" class="Symbol">(</a><a id="1461" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a> <a id="1468" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="1470" href="Meta.Effect.Bind.State.html#1316" class="Bound">M</a><a id="1471" class="Symbol">))</a>
    <a id="1478" href="Meta.Effect.Bind.State.html#1434" class="Function">idiom-stateT</a> <a id="1491" class="Symbol">.</a><a id="1492" href="Meta.Effect.Idiom.Base.html#407" class="Field">Idiom.Map-idiom</a> <a id="1508" class="Symbol">=</a> <a id="1510" href="Meta.Effect.Bind.State.html#1024" class="Function">map-stateT</a> <a id="1521" class="Symbol">{</a><a id="1522" class="Argument">M</a> <a id="1524" class="Symbol">=</a> <a id="1526" href="Meta.Effect.Bind.State.html#1316" class="Bound">M</a><a id="1527" class="Symbol">}</a>
    <a id="1533" href="Meta.Effect.Bind.State.html#1434" class="Function">idiom-stateT</a> <a id="1546" class="Symbol">.</a><a id="1547" href="Meta.Effect.Idiom.Base.html#431" class="Field">Idiom.pure</a> <a id="1558" href="Meta.Effect.Bind.State.html#1558" class="Bound">x</a> <a id="1560" class="Symbol">.</a><a id="1561" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="1572" href="Meta.Effect.Bind.State.html#1572" class="Bound">s</a> <a id="1574" class="Symbol">=</a> <a id="1576" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="1581" class="Symbol">(</a><a id="1582" href="Meta.Effect.Bind.State.html#1572" class="Bound">s</a> <a id="1584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1586" href="Meta.Effect.Bind.State.html#1558" class="Bound">x</a><a id="1587" class="Symbol">)</a>
    <a id="1593" href="Meta.Effect.Bind.State.html#1434" class="Function">idiom-stateT</a> <a id="1606" class="Symbol">.</a><a id="1607" href="Meta.Effect.Idiom.Base.html#453" class="Field Operator">Idiom._&lt;*&gt;_</a> <a id="1619" href="Meta.Effect.Bind.State.html#1619" class="Bound">mf</a> <a id="1622" href="Meta.Effect.Bind.State.html#1622" class="Bound">mx</a> <a id="1625" class="Symbol">.</a><a id="1626" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="1637" href="Meta.Effect.Bind.State.html#1637" class="Bound">s</a> <a id="1639" class="Symbol">=</a>
      <a id="1647" class="Keyword">do</a> <a id="1650" class="Symbol">(</a><a id="1651" href="Meta.Effect.Bind.State.html#1651" class="Bound">sâ€²</a> <a id="1654" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1656" href="Meta.Effect.Bind.State.html#1656" class="Bound">f</a><a id="1657" class="Symbol">)</a> <a id="1659" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">â†</a> <a id="1661" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="1672" href="Meta.Effect.Bind.State.html#1619" class="Bound">mf</a> <a id="1675" href="Meta.Effect.Bind.State.html#1637" class="Bound">s</a>
         <a id="1686" class="Symbol">(</a><a id="1687" href="Meta.Effect.Bind.State.html#1687" class="Bound">sâ€³</a> <a id="1690" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1692" href="Meta.Effect.Bind.State.html#1692" class="Bound">x</a><a id="1693" class="Symbol">)</a> <a id="1695" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">â†</a> <a id="1697" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="1708" href="Meta.Effect.Bind.State.html#1622" class="Bound">mx</a> <a id="1711" href="Meta.Effect.Bind.State.html#1651" class="Bound">sâ€²</a>
         <a id="1723" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="1728" class="Symbol">(</a><a id="1729" href="Meta.Effect.Bind.State.html#1687" class="Bound">sâ€³</a> <a id="1732" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1734" href="Meta.Effect.Bind.State.html#1656" class="Bound">f</a> <a id="1736" href="Meta.Effect.Bind.State.html#1692" class="Bound">x</a><a id="1737" class="Symbol">)</a>

    <a id="1744" href="Meta.Effect.Bind.State.html#1744" class="Function">bind-stateT</a> <a id="1756" class="Symbol">:</a> <a id="1758" href="Meta.Effect.Bind.Base.html#236" class="Record">Bind</a> <a id="1763" class="Symbol">(</a><a id="1764" href="Meta.Effect.Base.html#127" class="InductiveConstructor">eff</a> <a id="1768" class="Symbol">(</a><a id="1769" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a> <a id="1776" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="1778" href="Meta.Effect.Bind.State.html#1316" class="Bound">M</a><a id="1779" class="Symbol">))</a>
    <a id="1786" href="Meta.Effect.Bind.State.html#1744" class="Function">bind-stateT</a> <a id="1798" class="Symbol">.</a><a id="1799" href="Meta.Effect.Bind.Base.html#369" class="Field">Bind.Idiom-bind</a> <a id="1815" class="Symbol">=</a> <a id="1817" href="Meta.Effect.Bind.State.html#1434" class="Function">idiom-stateT</a>
    <a id="1834" href="Meta.Effect.Bind.State.html#1744" class="Function">bind-stateT</a> <a id="1846" class="Symbol">.</a><a id="1847" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">Bind._&gt;&gt;=_</a> <a id="1858" href="Meta.Effect.Bind.State.html#1858" class="Bound">ma</a> <a id="1861" href="Meta.Effect.Bind.State.html#1861" class="Bound">f</a> <a id="1863" class="Symbol">.</a><a id="1864" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="1875" href="Meta.Effect.Bind.State.html#1875" class="Bound">s</a> <a id="1877" class="Symbol">=</a>
      <a id="1885" class="Keyword">do</a> <a id="1888" class="Symbol">(</a><a id="1889" href="Meta.Effect.Bind.State.html#1889" class="Bound">sâ€²</a> <a id="1892" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1894" href="Meta.Effect.Bind.State.html#1894" class="Bound">a</a><a id="1895" class="Symbol">)</a> <a id="1897" href="Meta.Effect.Bind.Base.html#327" class="Field Operator">â†</a> <a id="1899" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="1910" href="Meta.Effect.Bind.State.html#1858" class="Bound">ma</a> <a id="1913" href="Meta.Effect.Bind.State.html#1875" class="Bound">s</a>
         <a id="1924" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="1935" class="Symbol">(</a><a id="1936" href="Meta.Effect.Bind.State.html#1861" class="Bound">f</a> <a id="1938" href="Meta.Effect.Bind.State.html#1894" class="Bound">a</a><a id="1939" class="Symbol">)</a> <a id="1941" href="Meta.Effect.Bind.State.html#1889" class="Bound">sâ€²</a>

    <a id="1949" href="Meta.Effect.Bind.State.html#1949" class="Function">bindstate-stateT</a> <a id="1966" class="Symbol">:</a> <a id="1968" href="Meta.Effect.Bind.State.html#389" class="Record">BindState</a> <a id="1978" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="1980" class="Symbol">(</a><a id="1981" href="Meta.Effect.Base.html#127" class="InductiveConstructor">eff</a> <a id="1985" class="Symbol">(</a><a id="1986" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a> <a id="1993" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="1995" href="Meta.Effect.Bind.State.html#1316" class="Bound">M</a><a id="1996" class="Symbol">))</a>
    <a id="2003" href="Meta.Effect.Bind.State.html#1949" class="Function">bindstate-stateT</a> <a id="2020" class="Symbol">.</a><a id="2021" href="Meta.Effect.Bind.State.html#539" class="Field">BindState.Bind-state</a> <a id="2042" class="Symbol">=</a> <a id="2044" href="Meta.Effect.Bind.State.html#1744" class="Function">bind-stateT</a>
    <a id="2060" href="Meta.Effect.Bind.State.html#1949" class="Function">bindstate-stateT</a> <a id="2077" class="Symbol">.</a><a id="2078" href="Meta.Effect.Bind.State.html#479" class="Field">BindState.gets</a> <a id="2093" href="Meta.Effect.Bind.State.html#2093" class="Bound">f</a> <a id="2095" class="Symbol">.</a><a id="2096" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="2107" href="Meta.Effect.Bind.State.html#2107" class="Bound">s</a> <a id="2109" class="Symbol">=</a> <a id="2111" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="2116" class="Symbol">(</a><a id="2117" href="Meta.Effect.Bind.State.html#2107" class="Bound">s</a> <a id="2119" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2121" href="Meta.Effect.Bind.State.html#2093" class="Bound">f</a> <a id="2123" href="Meta.Effect.Bind.State.html#2107" class="Bound">s</a><a id="2124" class="Symbol">)</a>
    <a id="2130" href="Meta.Effect.Bind.State.html#1949" class="Function">bindstate-stateT</a> <a id="2147" class="Symbol">.</a><a id="2148" href="Meta.Effect.Bind.State.html#508" class="Field">BindState.modify</a> <a id="2165" href="Meta.Effect.Bind.State.html#2165" class="Bound">f</a> <a id="2167" class="Symbol">.</a><a id="2168" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="2179" href="Meta.Effect.Bind.State.html#2179" class="Bound">s</a> <a id="2181" class="Symbol">=</a> <a id="2183" href="Meta.Effect.Idiom.Base.html#431" class="Field">pure</a> <a id="2188" class="Symbol">(</a><a id="2189" href="Meta.Effect.Bind.State.html#2165" class="Bound">f</a> <a id="2191" href="Meta.Effect.Bind.State.html#2179" class="Bound">s</a> <a id="2193" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2195" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="2197" class="Symbol">)</a>

<a id="2200" class="Keyword">module</a> <a id="2207" href="Meta.Effect.Bind.State.html#2207" class="Module">_</a> <a id="2209" class="Symbol">{</a><a id="2210" href="Meta.Effect.Bind.State.html#2210" class="Bound">M</a> <a id="2212" class="Symbol">:</a> <a id="2214" href="Meta.Effect.Base.html#92" class="Record">Effect</a><a id="2220" class="Symbol">}</a> <a id="2222" class="Symbol">(</a><a id="2223" class="Keyword">let</a> <a id="2227" class="Keyword">module</a> <a id="2234" href="Meta.Effect.Bind.State.html#2234" class="Module">M</a> <a id="2236" class="Symbol">=</a> <a id="2238" href="Meta.Effect.Base.html#92" class="Module">Effect</a> <a id="2245" href="Meta.Effect.Bind.State.html#2210" class="Bound">M</a><a id="2246" class="Symbol">)</a> <a id="2248" class="Symbol">â¦ƒ</a> <a id="2250" href="Meta.Effect.Bind.State.html#2250" class="Bound">ch</a> <a id="2253" class="Symbol">:</a> <a id="2255" href="Meta.Effect.Choice.html#167" class="Record">Choice</a> <a id="2262" href="Meta.Effect.Bind.State.html#2210" class="Bound">M</a> <a id="2264" class="Symbol">â¦„</a> <a id="2266" class="Keyword">where</a>

  <a id="2275" class="Keyword">open</a> <a id="2280" href="Meta.Effect.Choice.html#167" class="Module">Choice</a> <a id="2287" class="Symbol">â¦ƒ</a> <a id="2289" class="Symbol">...</a> <a id="2293" class="Symbol">â¦„</a>

  <a id="2298" class="Keyword">instance</a>
    <a id="2311" href="Meta.Effect.Bind.State.html#2311" class="Function">choice-stateT</a> <a id="2325" class="Symbol">:</a> <a id="2327" href="Meta.Effect.Choice.html#167" class="Record">Choice</a> <a id="2334" class="Symbol">(</a><a id="2335" href="Meta.Effect.Base.html#127" class="InductiveConstructor">eff</a> <a id="2339" class="Symbol">(</a><a id="2340" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a> <a id="2347" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="2349" href="Meta.Effect.Bind.State.html#2210" class="Bound">M</a><a id="2350" class="Symbol">))</a>
    <a id="2357" href="Meta.Effect.Bind.State.html#2311" class="Function">choice-stateT</a> <a id="2371" class="Symbol">.</a><a id="2372" href="Meta.Effect.Choice.html#243" class="Field Operator">Choice._&lt;|&gt;_</a> <a id="2385" href="Meta.Effect.Bind.State.html#2385" class="Bound">ma</a> <a id="2388" href="Meta.Effect.Bind.State.html#2388" class="Bound">mb</a> <a id="2391" class="Symbol">.</a><a id="2392" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="2403" href="Meta.Effect.Bind.State.html#2403" class="Bound">s</a> <a id="2405" class="Symbol">=</a>
      <a id="2413" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="2424" href="Meta.Effect.Bind.State.html#2385" class="Bound">ma</a> <a id="2427" href="Meta.Effect.Bind.State.html#2403" class="Bound">s</a> <a id="2429" href="Meta.Effect.Choice.html#243" class="Field Operator">&lt;|&gt;</a> <a id="2433" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="2444" href="Meta.Effect.Bind.State.html#2388" class="Bound">mb</a> <a id="2447" href="Meta.Effect.Bind.State.html#2403" class="Bound">s</a>

<a id="2450" class="Keyword">module</a> <a id="2457" href="Meta.Effect.Bind.State.html#2457" class="Module">_</a> <a id="2459" class="Symbol">{</a><a id="2460" href="Meta.Effect.Bind.State.html#2460" class="Bound">M</a> <a id="2462" class="Symbol">:</a> <a id="2464" href="Meta.Effect.Base.html#92" class="Record">Effect</a><a id="2470" class="Symbol">}</a> <a id="2472" class="Symbol">(</a><a id="2473" class="Keyword">let</a> <a id="2477" class="Keyword">module</a> <a id="2484" href="Meta.Effect.Bind.State.html#2484" class="Module">M</a> <a id="2486" class="Symbol">=</a> <a id="2488" href="Meta.Effect.Base.html#92" class="Module">Effect</a> <a id="2495" href="Meta.Effect.Bind.State.html#2460" class="Bound">M</a><a id="2496" class="Symbol">)</a> <a id="2498" class="Symbol">â¦ƒ</a> <a id="2500" href="Meta.Effect.Bind.State.html#2500" class="Bound">ch</a> <a id="2503" class="Symbol">:</a> <a id="2505" href="Meta.Effect.Alt.html#309" class="Record">Alt</a> <a id="2509" href="Meta.Effect.Bind.State.html#2460" class="Bound">M</a> <a id="2511" class="Symbol">â¦„</a> <a id="2513" class="Keyword">where</a>

  <a id="2522" class="Keyword">open</a> <a id="2527" href="Meta.Effect.Alt.html#309" class="Module">Alt</a> <a id="2531" class="Symbol">â¦ƒ</a> <a id="2533" class="Symbol">...</a> <a id="2537" class="Symbol">â¦„</a>

  <a id="2542" class="Keyword">instance</a>
    <a id="2555" href="Meta.Effect.Bind.State.html#2555" class="Function">alt-stateT</a> <a id="2566" class="Symbol">:</a> <a id="2568" href="Meta.Effect.Alt.html#309" class="Record">Alt</a> <a id="2572" class="Symbol">(</a><a id="2573" href="Meta.Effect.Base.html#127" class="InductiveConstructor">eff</a> <a id="2577" class="Symbol">(</a><a id="2578" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a> <a id="2585" href="Meta.Effect.Bind.State.html#345" class="Generalizable">S</a> <a id="2587" href="Meta.Effect.Bind.State.html#2460" class="Bound">M</a><a id="2588" class="Symbol">))</a>
    <a id="2595" href="Meta.Effect.Bind.State.html#2555" class="Function">alt-stateT</a> <a id="2606" class="Symbol">.</a><a id="2607" href="Meta.Effect.Alt.html#384" class="Field">Alt.Choice-alt</a> <a id="2622" class="Symbol">=</a> <a id="2624" href="Meta.Effect.Bind.State.html#2311" class="Function">choice-stateT</a> <a id="2638" class="Symbol">{</a><a id="2639" class="Argument">M</a> <a id="2641" class="Symbol">=</a> <a id="2643" href="Meta.Effect.Bind.State.html#2460" class="Bound">M</a><a id="2644" class="Symbol">}</a>
    <a id="2650" href="Meta.Effect.Bind.State.html#2555" class="Function">alt-stateT</a> <a id="2661" class="Symbol">.</a><a id="2662" href="Meta.Effect.Alt.html#412" class="Field">Alt.fail</a> <a id="2671" class="Symbol">.</a><a id="2672" href="Meta.Effect.Bind.State.html#870" class="Field">run-stateT</a> <a id="2683" class="Symbol">_</a> <a id="2685" class="Symbol">=</a> <a id="2687" href="Meta.Effect.Alt.html#412" class="Field">fail</a>

<a id="2693" class="Comment">-- State</a>

<a id="State"></a><a id="2703" href="Meta.Effect.Bind.State.html#2703" class="Function">State</a> <a id="2709" class="Symbol">:</a> <a id="2711" href="Foundations.Prim.Type.html#322" class="Primitive">ğ’°</a> <a id="2713" href="Meta.Effect.Bind.State.html#315" class="Generalizable">â„“s</a> <a id="2716" class="Symbol">â†’</a> <a id="2718" href="Foundations.Prim.Type.html#322" class="Primitive">ğ’°</a> <a id="2720" href="Meta.Effect.Bind.State.html#312" class="Generalizable">â„“a</a> <a id="2723" class="Symbol">â†’</a> <a id="2725" href="Foundations.Prim.Type.html#322" class="Primitive">ğ’°</a> <a id="2727" class="Symbol">(</a><a id="2728" href="Meta.Effect.Bind.State.html#315" class="Generalizable">â„“s</a> <a id="2731" href="Agda.Primitive.html#961" class="Primitive Operator">âŠ”</a> <a id="2733" href="Meta.Effect.Bind.State.html#312" class="Generalizable">â„“a</a><a id="2735" class="Symbol">)</a>
<a id="2737" href="Meta.Effect.Bind.State.html#2703" class="Function">State</a> <a id="2743" href="Meta.Effect.Bind.State.html#2743" class="Bound">S</a> <a id="2745" class="Symbol">=</a> <a id="2747" href="Meta.Effect.Bind.State.html#699" class="Record">StateT</a> <a id="2754" href="Meta.Effect.Bind.State.html#2743" class="Bound">S</a> <a id="2756" class="Symbol">(</a><a id="2757" href="Meta.Effect.Base.html#127" class="InductiveConstructor">eff</a> <a id="2761" href="Foundations.Pi.Base.html#2508" class="Function">id</a><a id="2763" class="Symbol">)</a>

<a id="2766" class="Comment">-- TODO lawful</a>
</pre></body></html>