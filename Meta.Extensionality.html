<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Meta.Extensionality</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>
<a id="24" class="Keyword">module</a> <a id="31" href="Meta.Extensionality.html" class="Module">Meta.Extensionality</a> <a id="51" class="Keyword">where</a>

<a id="58" class="Keyword">open</a> <a id="63" class="Keyword">import</a> <a id="70" href="Meta.Prelude.html" class="Module">Meta.Prelude</a>

<a id="84" class="Keyword">open</a> <a id="89" class="Keyword">import</a> <a id="96" href="Meta.Effect.Alt.html" class="Module">Meta.Effect.Alt</a>
<a id="112" class="Keyword">open</a> <a id="117" class="Keyword">import</a> <a id="124" href="Meta.Reflection.Base.html" class="Module">Meta.Reflection.Base</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Meta.Reflection.Signature.html" class="Module">Meta.Reflection.Signature</a>
<a id="183" class="Keyword">open</a> <a id="188" class="Keyword">import</a> <a id="195" href="Meta.Reflection.Subst.html" class="Module">Meta.Reflection.Subst</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Meta.Search.HLevel.html" class="Module">Meta.Search.HLevel</a>

<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="Structures.IdentitySystem.Base.html" class="Module">Structures.IdentitySystem.Base</a>
  <a id="294" class="Keyword">hiding</a> <a id="301" class="Symbol">(</a><a id="302" href="Structures.IdentitySystem.Base.html#711" class="Function">J</a><a id="303" class="Symbol">;</a> <a id="305" href="Structures.IdentitySystem.Base.html#920" class="Function">J-refl</a><a id="311" class="Symbol">)</a>
  <a id="315" class="Keyword">public</a>
<a id="322" class="Keyword">open</a> <a id="327" class="Keyword">import</a> <a id="334" href="Structures.n-Type.html" class="Module">Structures.n-Type</a>

<a id="353" class="Keyword">open</a> <a id="358" class="Keyword">import</a> <a id="365" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="Data.Maybe.Instances.Alt.html" class="Module">Data.Maybe.Instances.Alt</a>


<a id="446" class="Keyword">record</a> <a id="Extensional"></a><a id="453" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="465" class="Symbol">{</a><a id="466" href="Meta.Extensionality.html#466" class="Bound">ℓ</a><a id="467" class="Symbol">}</a> <a id="469" class="Symbol">(</a><a id="470" href="Meta.Extensionality.html#470" class="Bound">A</a> <a id="472" class="Symbol">:</a> <a id="474" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="479" href="Meta.Extensionality.html#466" class="Bound">ℓ</a><a id="480" class="Symbol">)</a> <a id="482" class="Symbol">(</a><a id="483" href="Meta.Extensionality.html#483" class="Bound">ℓ-rel</a> <a id="489" class="Symbol">:</a> <a id="491" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="496" class="Symbol">)</a> <a id="498" class="Symbol">:</a> <a id="500" href="Foundations.Prim.Type.html#349" class="Primitive">Typeω</a> <a id="506" class="Keyword">where</a>
  <a id="514" class="Keyword">no-eta-equality</a>
  <a id="532" class="Keyword">field</a>
    <a id="Extensional.Pathᵉ"></a><a id="542" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="548" class="Symbol">:</a> <a id="550" href="Meta.Extensionality.html#470" class="Bound">A</a> <a id="552" class="Symbol">→</a> <a id="554" href="Meta.Extensionality.html#470" class="Bound">A</a> <a id="556" class="Symbol">→</a> <a id="558" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="563" href="Meta.Extensionality.html#483" class="Bound">ℓ-rel</a>
    <a id="Extensional.reflᵉ"></a><a id="573" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="579" class="Symbol">:</a> <a id="581" class="Symbol">∀</a> <a id="583" href="Meta.Extensionality.html#583" class="Bound">x</a> <a id="585" class="Symbol">→</a> <a id="587" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="593" href="Meta.Extensionality.html#583" class="Bound">x</a> <a id="595" href="Meta.Extensionality.html#583" class="Bound">x</a>
    <a id="Extensional.idsᵉ"></a><a id="601" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a>  <a id="607" class="Symbol">:</a> <a id="609" href="Structures.IdentitySystem.Base.html#174" class="Record">is-identity-system</a> <a id="628" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="634" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a>

<a id="641" class="Keyword">record</a> <a id="Extensionality"></a><a id="648" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="663" class="Symbol">{</a><a id="664" href="Meta.Extensionality.html#664" class="Bound">ℓ</a><a id="665" class="Symbol">}</a> <a id="667" class="Symbol">(</a><a id="668" href="Meta.Extensionality.html#668" class="Bound">A</a> <a id="670" class="Symbol">:</a> <a id="672" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="677" href="Meta.Extensionality.html#664" class="Bound">ℓ</a><a id="678" class="Symbol">)</a> <a id="680" class="Symbol">:</a> <a id="682" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="687" class="Keyword">where</a>
  <a id="695" class="Keyword">field</a> <a id="Extensionality.lemma"></a><a id="701" href="Meta.Extensionality.html#701" class="Field">lemma</a> <a id="707" class="Symbol">:</a> <a id="709" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a>

<a id="715" class="Keyword">open</a> <a id="720" href="Meta.Extensionality.html#453" class="Module">Extensional</a> <a id="732" class="Keyword">using</a> <a id="738" class="Symbol">(</a><a id="739" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="745" class="Symbol">;</a> <a id="747" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="753" class="Symbol">;</a> <a id="755" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a><a id="759" class="Symbol">)</a> <a id="761" class="Keyword">public</a>

<a id="769" class="Keyword">private</a> <a id="777" class="Keyword">variable</a> <a id="786" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a> <a id="788" href="Meta.Extensionality.html#788" class="Generalizable">ℓ′</a> <a id="791" class="Symbol">:</a> <a id="793" href="Agda.Primitive.html#742" class="Postulate">Level</a>

<a id="800" class="Comment">-- Default instance, uses regular paths for the relation.</a>
<a id="Extensional-default"></a><a id="858" href="Meta.Extensionality.html#858" class="Function">Extensional-default</a> <a id="878" class="Symbol">:</a> <a id="880" class="Symbol">{</a><a id="881" href="Meta.Extensionality.html#881" class="Bound">A</a> <a id="883" class="Symbol">:</a> <a id="885" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="890" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a><a id="891" class="Symbol">}</a> <a id="893" class="Symbol">→</a> <a id="895" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="907" href="Meta.Extensionality.html#881" class="Bound">A</a> <a id="909" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a>
<a id="911" href="Meta.Extensionality.html#858" class="Function">Extensional-default</a> <a id="931" class="Symbol">.</a><a id="932" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a>   <a id="940" class="Symbol">=</a> <a id="942" href="Foundations.Prim.Kan.html#1277" class="Function Operator">_＝_</a>
<a id="946" href="Meta.Extensionality.html#858" class="Function">Extensional-default</a> <a id="966" class="Symbol">.</a><a id="967" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="973" class="Symbol">_</a> <a id="975" class="Symbol">=</a> <a id="977" href="Meta.Groupoid.html#2641" class="Macro">refl</a>
<a id="982" href="Meta.Extensionality.html#858" class="Function">Extensional-default</a> <a id="1002" class="Symbol">.</a><a id="1003" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a>    <a id="1011" class="Symbol">=</a> <a id="1013" href="Structures.IdentitySystem.Base.html#4738" class="Function">path-identity-system</a>

<a id="1035" class="Comment">-- Find a value of &#39;Extensional&#39; by looking at instances of &#39;Extensionality&#39;.</a>
<a id="find-extensionality"></a><a id="1113" href="Meta.Extensionality.html#1113" class="Function">find-extensionality</a> <a id="1133" class="Symbol">:</a> <a id="1135" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1140" class="Symbol">→</a> <a id="1142" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1145" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
<a id="1150" href="Meta.Extensionality.html#1113" class="Function">find-extensionality</a> <a id="1170" href="Meta.Extensionality.html#1170" class="Bound">tm</a> <a id="1173" class="Symbol">=</a> <a id="1175" class="Keyword">do</a>
  <a id="1180" class="Comment">-- We have to block on the full type being available to prevent a</a>
  <a id="1248" class="Comment">-- situation where the default instance (or an incorrect instance!) is</a>
  <a id="1321" class="Comment">-- picked because the type is meta-headed.</a>
  <a id="1366" href="Meta.Extensionality.html#1366" class="Bound">tm</a> <a id="1369" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="1371" href="Agda.Builtin.Reflection.html#8993" class="Postulate">reduce</a> <a id="1378" href="Meta.Effect.Bind.html#393" class="Function Operator">=&lt;&lt;</a> <a id="1382" href="Meta.Reflection.Base.html#9445" class="Function">wait-for-type</a> <a id="1396" href="Meta.Extensionality.html#1170" class="Bound">tm</a>
  <a id="1401" class="Keyword">let</a> <a id="1405" href="Meta.Extensionality.html#1405" class="Bound">search</a> <a id="1412" class="Symbol">=</a> <a id="1414" href="Meta.Reflection.Signature.html#4765" class="Macro">it</a> <a id="1417" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="1432" href="Meta.Reflection.Base.html#15721" class="Function Operator">##ₙ</a> <a id="1436" href="Meta.Extensionality.html#1366" class="Bound">tm</a>
  <a id="1441" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="1453" class="String">&quot;tactic.extensionality&quot;</a> <a id="1477" class="Number">10</a> <a id="1480" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="1482" class="String">&quot;find-extensionality goal:\n  &quot;</a> <a id="1514" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1516" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="1524" href="Meta.Extensionality.html#1405" class="Bound">search</a> <a id="1531" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

  <a id="1536" href="Meta.Reflection.Base.html#8134" class="Function">resetting</a> <a id="1546" class="Keyword">do</a>
    <a id="1553" class="Symbol">(</a><a id="1554" href="Meta.Extensionality.html#1554" class="Bound">mv</a> <a id="1557" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1559" class="Symbol">_)</a> <a id="1562" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="1564" href="Meta.Reflection.Base.html#4191" class="Function">new-meta′</a> <a id="1574" href="Meta.Extensionality.html#1405" class="Bound">search</a>
    <a id="1585" href="Agda.Builtin.Reflection.html#11624" class="Postulate">get-instances</a> <a id="1599" href="Meta.Extensionality.html#1554" class="Bound">mv</a> <a id="1602" href="Meta.Effect.Bind.html#266" class="Field Operator">&gt;&gt;=</a> <a id="1606" class="Symbol">λ</a> <a id="1608" class="Keyword">where</a>
      <a id="1620" class="Symbol">(</a><a id="1621" href="Meta.Extensionality.html#1621" class="Bound">x</a> <a id="1623" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1625" class="Symbol">_)</a> <a id="1628" class="Symbol">→</a> <a id="1630" class="Keyword">do</a>
        <a id="1641" href="Meta.Extensionality.html#1641" class="Bound">t</a> <a id="1643" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="1645" href="Agda.Builtin.Reflection.html#9142" class="Postulate">unquoteTC</a> <a id="1655" class="Symbol">{</a><a id="1656" class="Argument">A</a> <a id="1658" class="Symbol">=</a> <a id="1660" href="Agda.Builtin.Reflection.html#488" class="Postulate">Name</a><a id="1664" class="Symbol">}</a> <a id="1666" href="Meta.Effect.Bind.html#393" class="Function Operator">=&lt;&lt;</a> <a id="1670" href="Agda.Builtin.Reflection.html#8957" class="Postulate">normalise</a> <a id="1680" class="Symbol">(</a><a id="1681" href="Meta.Reflection.Signature.html#4765" class="Macro">it</a> <a id="1684" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="1705" href="Meta.Reflection.Base.html#15721" class="Function Operator">##ₙ</a> <a id="1709" href="Meta.Extensionality.html#1621" class="Bound">x</a><a id="1710" class="Symbol">)</a>
        <a id="1720" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="1732" class="String">&quot;tactic.extensionality&quot;</a> <a id="1756" class="Number">10</a> <a id="1759" class="Symbol">(</a><a id="1760" class="String">&quot; ⇒ found lemma &quot;</a> <a id="1778" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1780" href="Agda.Builtin.Reflection.html#8315" class="InductiveConstructor">nameErr</a> <a id="1788" href="Meta.Extensionality.html#1641" class="Bound">t</a> <a id="1790" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="1792" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1794" class="Symbol">)</a>
        <a id="1804" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="1809" class="Symbol">(</a><a id="1810" href="Meta.Reflection.Base.html#17011" class="InductiveConstructor">def₀</a> <a id="1815" href="Meta.Extensionality.html#1641" class="Bound">t</a><a id="1816" class="Symbol">)</a>
      <a id="1824" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1827" class="Symbol">→</a> <a id="1829" class="Keyword">do</a>
        <a id="1840" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="1852" class="String">&quot;tactic.extensionality&quot;</a> <a id="1876" class="Number">10</a> <a id="1879" class="String">&quot; ⇒ using default&quot;</a>
        <a id="1906" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="1911" class="Symbol">(</a><a id="1912" href="Meta.Reflection.Signature.html#4765" class="Macro">it</a> <a id="1915" href="Meta.Extensionality.html#858" class="Function">Extensional-default</a><a id="1934" class="Symbol">)</a>

<a id="1937" class="Comment">-- Entry point for getting hold of an &#39;Extensional&#39; instance:</a>
<a id="extensional"></a><a id="1999" href="Meta.Extensionality.html#1999" class="Function">extensional</a> <a id="2011" class="Symbol">:</a> <a id="2013" class="Symbol">(</a><a id="2014" href="Meta.Extensionality.html#2014" class="Bound">A</a> <a id="2016" class="Symbol">:</a> <a id="2018" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="2023" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a><a id="2024" class="Symbol">)</a> <a id="2026" class="Symbol">→</a> <a id="2028" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2033" class="Symbol">→</a> <a id="2035" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2038" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="2040" href="Meta.Extensionality.html#1999" class="Function">extensional</a> <a id="2052" href="Meta.Extensionality.html#2052" class="Bound">A</a> <a id="2054" href="Meta.Extensionality.html#2054" class="Bound">goal</a> <a id="2059" class="Symbol">=</a> <a id="2061" class="Keyword">do</a>
  <a id="2066" href="Meta.Extensionality.html#2066" class="Bound">`A</a> <a id="2069" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="2071" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="2079" href="Meta.Extensionality.html#2052" class="Bound">A</a>
  <a id="2083" href="Agda.Builtin.Reflection.html#8914" class="Postulate">check-type</a> <a id="2094" href="Meta.Extensionality.html#2054" class="Bound">goal</a> <a id="2099" class="Symbol">(</a><a id="2100" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="2104" class="Symbol">(</a><a id="2105" class="Keyword">quote</a> <a id="2111" href="Meta.Extensionality.html#453" class="Record">Extensional</a><a id="2122" class="Symbol">)</a> <a id="2124" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="2126" href="Meta.Reflection.Base.html#5153" class="Function">argN</a> <a id="2131" href="Meta.Extensionality.html#2066" class="Bound">`A</a> <a id="2134" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2136" href="Meta.Reflection.Base.html#5153" class="Function">argN</a> <a id="2141" class="InductiveConstructor">unknown</a> <a id="2149" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a><a id="2150" class="Symbol">)</a>
  <a id="2154" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="2160" href="Meta.Extensionality.html#2054" class="Bound">goal</a> <a id="2165" href="Meta.Effect.Bind.html#393" class="Function Operator">=&lt;&lt;</a> <a id="2169" href="Meta.Extensionality.html#1113" class="Function">find-extensionality</a> <a id="2189" href="Meta.Extensionality.html#2066" class="Bound">`A</a>

<a id="2193" class="Comment">{-
Unlike extensional, which is parametrised by a type, extensionalᶠ
can be parametrised by a function (of arbitrary arity) into types,
even though its type doesn&#39;t properly reflect this. It will discharge
goals like

   ∀ x → Extensional (P x) ℓ

by getting rid of every Π in the type and looking in an extended
context. It&#39;s also possible to use ⦃ _ : ∀ {x} → Extensional (P x) ℓ ⦄,
since Agda supports commuting those by itself. However, using
extensionalᶠ blocks more aggressively, which is required for touchy
instances like Extensional-natural-transformation.
-}</a>
<a id="extensionalᶠ"></a><a id="2762" href="Meta.Extensionality.html#2762" class="Function">extensionalᶠ</a> <a id="2775" class="Symbol">:</a> <a id="2777" class="Symbol">{</a><a id="2778" href="Meta.Extensionality.html#2778" class="Bound">A</a> <a id="2780" class="Symbol">:</a> <a id="2782" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="2787" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a><a id="2788" class="Symbol">}</a> <a id="2790" class="Symbol">→</a> <a id="2792" href="Meta.Extensionality.html#2778" class="Bound">A</a> <a id="2794" class="Symbol">→</a> <a id="2796" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2801" class="Symbol">→</a> <a id="2803" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2806" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="2808" href="Meta.Extensionality.html#2762" class="Function">extensionalᶠ</a> <a id="2821" class="Symbol">{</a><a id="2822" href="Meta.Extensionality.html#2822" class="Bound">A</a><a id="2823" class="Symbol">}</a> <a id="2825" href="Meta.Extensionality.html#2825" class="Bound">fun</a> <a id="2829" href="Meta.Extensionality.html#2829" class="Bound">goal</a> <a id="2834" class="Symbol">=</a> <a id="2836" class="Symbol">⦇</a> <a id="2838" href="Meta.Extensionality.html#3151" class="Function">wrap</a> <a id="2843" class="Symbol">(</a><a id="2844" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="2852" href="Meta.Extensionality.html#2822" class="Bound">A</a><a id="2853" class="Symbol">)</a> <a id="2855" class="Symbol">(</a><a id="2856" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="2864" href="Meta.Extensionality.html#2825" class="Bound">fun</a><a id="2867" class="Symbol">)</a> <a id="2869" class="Symbol">⦈</a> <a id="2871" href="Meta.Effect.Bind.html#266" class="Field Operator">&gt;&gt;=</a> <a id="2875" href="Foundations.Pi.Base.html#1307" class="Function">id</a> <a id="2878" class="Keyword">where</a>
  <a id="2886" href="Meta.Extensionality.html#2886" class="Function">work</a> <a id="2891" class="Symbol">:</a> <a id="2893" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2898" class="Symbol">→</a> <a id="2900" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2905" class="Symbol">→</a> <a id="2907" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2910" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
  <a id="2917" href="Meta.Extensionality.html#2886" class="Function">work</a> <a id="2922" class="Symbol">(</a><a id="2923" href="Agda.Builtin.Reflection.html#5426" class="InductiveConstructor">pi</a> <a id="2926" href="Meta.Extensionality.html#2926" class="Bound">dom</a><a id="2929" class="Symbol">@(</a><a id="2931" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="2935" href="Meta.Extensionality.html#2935" class="Bound">ai</a> <a id="2938" class="Symbol">_)</a> <a id="2941" class="Symbol">(</a><a id="2942" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="2946" href="Meta.Extensionality.html#2946" class="Bound">nm</a> <a id="2949" href="Meta.Extensionality.html#2949" class="Bound">cod</a><a id="2952" class="Symbol">))</a> <a id="2955" href="Meta.Extensionality.html#2955" class="Bound">tm</a> <a id="2958" class="Symbol">=</a> <a id="2960" class="Keyword">do</a>
    <a id="2967" href="Meta.Extensionality.html#2967" class="Bound">prf</a> <a id="2971" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="2973" href="Agda.Builtin.Reflection.html#9277" class="Postulate">extend-context</a> <a id="2988" href="Meta.Extensionality.html#2946" class="Bound">nm</a> <a id="2991" href="Meta.Extensionality.html#2926" class="Bound">dom</a> <a id="2995" class="Keyword">do</a>
      <a id="3004" href="Meta.Extensionality.html#3004" class="Bound">tm</a> <a id="3007" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="3009" href="Data.Maybe.Instances.Alt.html#207" class="Function">maybe→alt</a> <a id="3019" href="Meta.Underlying.html#1772" class="Function Operator">$</a> <a id="3021" href="Meta.Reflection.Subst.html#1849" class="Function">raise</a> <a id="3027" class="Number">1</a> <a id="3029" href="Meta.Extensionality.html#2955" class="Bound">tm</a> <a id="3032" href="Meta.Reflection.Subst.html#6480" class="Function Operator">&lt;#&gt;</a> <a id="3036" href="Agda.Builtin.Reflection.html#3732" class="InductiveConstructor">arg</a> <a id="3040" href="Meta.Extensionality.html#2935" class="Bound">ai</a> <a id="3043" class="Symbol">(</a><a id="3044" href="Meta.Reflection.Base.html#17037" class="InductiveConstructor">var₀</a> <a id="3049" class="Number">0</a><a id="3050" class="Symbol">)</a>
      <a id="3058" href="Meta.Extensionality.html#2886" class="Function">work</a> <a id="3063" href="Meta.Extensionality.html#2949" class="Bound">cod</a> <a id="3067" href="Meta.Extensionality.html#3004" class="Bound">tm</a>
    <a id="3074" href="Meta.Effect.Idiom.html#354" class="Field">pure</a> <a id="3079" class="Symbol">(</a><a id="3080" href="Agda.Builtin.Reflection.html#5308" class="InductiveConstructor">lam</a> <a id="3084" class="Symbol">(</a><a id="3085" href="Meta.Reflection.Base.html#3228" class="Function">arg-vis</a> <a id="3093" href="Meta.Extensionality.html#2935" class="Bound">ai</a><a id="3095" class="Symbol">)</a> <a id="3097" class="Symbol">(</a><a id="3098" href="Agda.Builtin.Reflection.html#4285" class="InductiveConstructor">abs</a> <a id="3102" href="Meta.Extensionality.html#2946" class="Bound">nm</a> <a id="3105" href="Meta.Extensionality.html#2967" class="Bound">prf</a><a id="3108" class="Symbol">))</a>
  <a id="3113" href="Meta.Extensionality.html#2886" class="CatchallClause Function">work</a><a id="3117" class="CatchallClause"> </a><a id="3118" class="CatchallClause Symbol">_</a><a id="3119" class="CatchallClause"> </a><a id="3120" href="Meta.Extensionality.html#3120" class="CatchallClause Bound">tm</a> <a id="3123" class="Symbol">=</a> <a id="3125" href="Meta.Extensionality.html#1113" class="Function">find-extensionality</a> <a id="3145" href="Meta.Extensionality.html#3120" class="Bound">tm</a>

  <a id="3151" href="Meta.Extensionality.html#3151" class="Function">wrap</a> <a id="3156" class="Symbol">:</a> <a id="3158" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3163" class="Symbol">→</a> <a id="3165" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3170" class="Symbol">→</a> <a id="3172" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3175" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="3179" href="Meta.Extensionality.html#3151" class="Function">wrap</a> <a id="3184" href="Meta.Extensionality.html#3184" class="Bound">t</a> <a id="3186" href="Meta.Extensionality.html#3186" class="Bound">fn</a> <a id="3189" class="Symbol">=</a> <a id="3191" class="Keyword">do</a>
    <a id="3198" href="Meta.Extensionality.html#3198" class="Bound">t</a> <a id="3200" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="3202" href="Meta.Reflection.Base.html#9445" class="Function">wait-for-type</a> <a id="3216" href="Meta.Extensionality.html#3184" class="Bound">t</a>
    <a id="3222" href="Agda.Builtin.Reflection.html#11057" class="Postulate">debug-print</a> <a id="3234" class="String">&quot;tactic.extensionality&quot;</a> <a id="3258" class="Number">10</a>
      <a id="3267" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="3269" class="String">&quot;extensionalᶠ goal:\n  &quot;</a> <a id="3294" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3296" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="3304" href="Meta.Extensionality.html#3186" class="Bound">fn</a> <a id="3307" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3309" class="String">&quot;\nof type\n  &quot;</a> <a id="3325" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3327" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="3335" href="Meta.Extensionality.html#3198" class="Bound">t</a> <a id="3337" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>
    <a id="3343" href="Meta.Extensionality.html#3343" class="Bound">prf</a> <a id="3347" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="3349" href="Meta.Extensionality.html#2886" class="Function">work</a> <a id="3354" href="Meta.Extensionality.html#3198" class="Bound">t</a> <a id="3356" href="Meta.Extensionality.html#3186" class="Bound">fn</a>
    <a id="3363" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="3369" href="Meta.Extensionality.html#2829" class="Bound">goal</a> <a id="3374" href="Meta.Extensionality.html#3343" class="Bound">prf</a>

<a id="3379" class="Keyword">instance</a>
  <a id="extensional-extensionality"></a><a id="3390" href="Meta.Extensionality.html#3390" class="Function">extensional-extensionality</a>
    <a id="3421" class="Symbol">:</a> <a id="3423" class="Symbol">∀</a> <a id="3425" class="Symbol">{</a><a id="3426" href="Meta.Extensionality.html#3426" class="Bound">ℓ</a> <a id="3428" href="Meta.Extensionality.html#3428" class="Bound">ℓs</a><a id="3430" class="Symbol">}</a> <a id="3432" class="Symbol">{</a><a id="3433" href="Meta.Extensionality.html#3433" class="Bound">A</a> <a id="3435" class="Symbol">:</a> <a id="3437" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3442" href="Meta.Extensionality.html#3426" class="Bound">ℓ</a><a id="3443" class="Symbol">}</a> <a id="3445" class="Symbol">{@(</a><a id="3448" class="Keyword">tactic</a> <a id="3455" href="Meta.Extensionality.html#1999" class="Function">extensional</a> <a id="3467" href="Meta.Extensionality.html#3433" class="Bound">A</a><a id="3468" class="Symbol">)</a> <a id="3470" href="Meta.Extensionality.html#3470" class="Bound">sa</a> <a id="3473" class="Symbol">:</a> <a id="3475" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="3487" href="Meta.Extensionality.html#3433" class="Bound">A</a> <a id="3489" href="Meta.Extensionality.html#3428" class="Bound">ℓs</a><a id="3491" class="Symbol">}</a>
    <a id="3497" class="Symbol">→</a> <a id="3499" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="3511" href="Meta.Extensionality.html#3433" class="Bound">A</a> <a id="3513" href="Meta.Extensionality.html#3428" class="Bound">ℓs</a>
  <a id="3518" href="Meta.Extensionality.html#3390" class="Function">extensional-extensionality</a> <a id="3545" class="Symbol">{</a><a id="3546" href="Meta.Extensionality.html#3546" class="Bound">sa</a><a id="3548" class="Symbol">}</a> <a id="3550" class="Symbol">=</a> <a id="3552" href="Meta.Extensionality.html#3546" class="Bound">sa</a>

<a id="3556" class="Comment">{-
Canonical example of extending the Extensionality tactic:

* The actual &#39;Extensional&#39; value can have ⦃ Extensional A ℓ ⦄ in its
  &quot;instance context&quot;. These are filled in by the bridge instance above.

* The &#39;Extensionality&#39; loop-breaker only mentions the things that are
  actually required to compute the &quot;head&quot; type.
-}</a>
<a id="Extensional-Lift"></a><a id="3881" href="Meta.Extensionality.html#3881" class="Function">Extensional-Lift</a>
  <a id="3900" class="Symbol">:</a> <a id="3902" class="Symbol">∀</a> <a id="3904" class="Symbol">{</a><a id="3905" href="Meta.Extensionality.html#3905" class="Bound">ℓr</a><a id="3907" class="Symbol">}</a> <a id="3909" class="Symbol">{</a><a id="3910" href="Meta.Extensionality.html#3910" class="Bound">A</a> <a id="3912" class="Symbol">:</a> <a id="3914" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="3919" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a><a id="3920" class="Symbol">}</a>
  <a id="3924" class="Symbol">→</a> <a id="3926" class="Symbol">⦃</a> <a id="3928" href="Meta.Extensionality.html#3928" class="Bound">sa</a> <a id="3931" class="Symbol">:</a> <a id="3933" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="3945" href="Meta.Extensionality.html#3910" class="Bound">A</a> <a id="3947" href="Meta.Extensionality.html#3905" class="Bound">ℓr</a> <a id="3950" class="Symbol">⦄</a>
  <a id="3954" class="Symbol">→</a> <a id="3956" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="3968" class="Symbol">(</a><a id="3969" href="Foundations.Prim.Type.html#566" class="Record">Lift</a> <a id="3974" href="Meta.Extensionality.html#788" class="Generalizable">ℓ′</a> <a id="3977" href="Meta.Extensionality.html#3910" class="Bound">A</a><a id="3978" class="Symbol">)</a> <a id="3980" href="Meta.Extensionality.html#3905" class="Bound">ℓr</a>
<a id="3983" href="Meta.Extensionality.html#3881" class="Function">Extensional-Lift</a> <a id="4000" class="Symbol">⦃</a> <a id="4002" href="Meta.Extensionality.html#4002" class="Bound">sa</a> <a id="4005" class="Symbol">⦄</a> <a id="4007" class="Symbol">.</a><a id="4008" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="4014" class="Symbol">(</a><a id="4015" href="Foundations.Prim.Type.html#627" class="InductiveConstructor">lift</a> <a id="4020" href="Meta.Extensionality.html#4020" class="Bound">x</a><a id="4021" class="Symbol">)</a> <a id="4023" class="Symbol">(</a><a id="4024" href="Foundations.Prim.Type.html#627" class="InductiveConstructor">lift</a> <a id="4029" href="Meta.Extensionality.html#4029" class="Bound">y</a><a id="4030" class="Symbol">)</a> <a id="4032" class="Symbol">=</a> <a id="4034" href="Meta.Extensionality.html#4002" class="Bound">sa</a> <a id="4037" class="Symbol">.</a><a id="4038" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="4044" href="Meta.Extensionality.html#4020" class="Bound">x</a> <a id="4046" href="Meta.Extensionality.html#4029" class="Bound">y</a>
<a id="4048" href="Meta.Extensionality.html#3881" class="Function">Extensional-Lift</a> <a id="4065" class="Symbol">⦃</a> <a id="4067" href="Meta.Extensionality.html#4067" class="Bound">sa</a> <a id="4070" class="Symbol">⦄</a> <a id="4072" class="Symbol">.</a><a id="4073" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="4079" class="Symbol">(</a><a id="4080" href="Foundations.Prim.Type.html#627" class="InductiveConstructor">lift</a> <a id="4085" href="Meta.Extensionality.html#4085" class="Bound">x</a><a id="4086" class="Symbol">)</a> <a id="4088" class="Symbol">=</a> <a id="4090" href="Meta.Extensionality.html#4067" class="Bound">sa</a> <a id="4093" class="Symbol">.</a><a id="4094" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="4100" href="Meta.Extensionality.html#4085" class="Bound">x</a>
<a id="4102" href="Meta.Extensionality.html#3881" class="Function">Extensional-Lift</a> <a id="4119" class="Symbol">⦃</a> <a id="4121" href="Meta.Extensionality.html#4121" class="Bound">sa</a> <a id="4124" class="Symbol">⦄</a> <a id="4126" class="Symbol">.</a><a id="4127" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="4132" class="Symbol">.</a><a id="4133" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="4141" href="Meta.Extensionality.html#4141" class="Bound">p</a> <a id="4143" class="Symbol">=</a> <a id="4145" href="Foundations.Prim.Kan.html#1541" class="Function">ap</a> <a id="4148" href="Foundations.Prim.Type.html#627" class="InductiveConstructor">lift</a> <a id="4153" class="Symbol">(</a><a id="4154" href="Meta.Extensionality.html#4121" class="Bound">sa</a> <a id="4157" class="Symbol">.</a><a id="4158" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="4163" class="Symbol">.</a><a id="4164" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="4172" href="Meta.Extensionality.html#4141" class="Bound">p</a><a id="4173" class="Symbol">)</a>
<a id="4175" href="Meta.Extensionality.html#3881" class="Function">Extensional-Lift</a> <a id="4192" class="Symbol">⦃</a> <a id="4194" href="Meta.Extensionality.html#4194" class="Bound">sa</a> <a id="4197" class="Symbol">⦄</a> <a id="4199" class="Symbol">.</a><a id="4200" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="4205" class="Symbol">.</a><a id="4206" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="4219" href="Meta.Extensionality.html#4219" class="Bound">p</a> <a id="4221" class="Symbol">=</a> <a id="4223" href="Meta.Extensionality.html#4194" class="Bound">sa</a> <a id="4226" class="Symbol">.</a><a id="4227" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="4232" class="Symbol">.</a><a id="4233" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="4246" href="Meta.Extensionality.html#4219" class="Bound">p</a>

<a id="4249" class="Keyword">instance</a>
  <a id="extensionality-lift"></a><a id="4260" href="Meta.Extensionality.html#4260" class="Function">extensionality-lift</a> <a id="4280" class="Symbol">:</a> <a id="4282" class="Symbol">{</a><a id="4283" href="Meta.Extensionality.html#4283" class="Bound">A</a> <a id="4285" class="Symbol">:</a> <a id="4287" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="4292" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a><a id="4293" class="Symbol">}</a> <a id="4295" class="Symbol">→</a> <a id="4297" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="4312" class="Symbol">(</a><a id="4313" href="Foundations.Prim.Type.html#566" class="Record">Lift</a> <a id="4318" href="Meta.Extensionality.html#788" class="Generalizable">ℓ′</a> <a id="4321" href="Meta.Extensionality.html#4283" class="Bound">A</a><a id="4322" class="Symbol">)</a>
  <a id="4326" href="Meta.Extensionality.html#4260" class="Function">extensionality-lift</a> <a id="4346" class="Symbol">.</a><a id="4347" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="4368" class="Symbol">=</a> <a id="4370" class="Keyword">quote</a> <a id="4376" href="Meta.Extensionality.html#3881" class="Function">Extensional-Lift</a>

<a id="Extensional-Π"></a><a id="4394" href="Meta.Extensionality.html#4394" class="Function">Extensional-Π</a>
  <a id="4410" class="Symbol">:</a> <a id="4412" class="Symbol">∀</a> <a id="4414" class="Symbol">{</a><a id="4415" href="Meta.Extensionality.html#4415" class="Bound">ℓ</a> <a id="4417" href="Meta.Extensionality.html#4417" class="Bound">ℓ′</a> <a id="4420" href="Meta.Extensionality.html#4420" class="Bound">ℓr</a><a id="4422" class="Symbol">}</a> <a id="4424" class="Symbol">{</a><a id="4425" href="Meta.Extensionality.html#4425" class="Bound">A</a> <a id="4427" class="Symbol">:</a> <a id="4429" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="4434" href="Meta.Extensionality.html#4415" class="Bound">ℓ</a><a id="4435" class="Symbol">}</a> <a id="4437" class="Symbol">{</a><a id="4438" href="Meta.Extensionality.html#4438" class="Bound">B</a> <a id="4440" class="Symbol">:</a> <a id="4442" href="Meta.Extensionality.html#4425" class="Bound">A</a> <a id="4444" class="Symbol">→</a> <a id="4446" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="4451" href="Meta.Extensionality.html#4417" class="Bound">ℓ′</a><a id="4453" class="Symbol">}</a>
  <a id="4457" class="Symbol">→</a> <a id="4459" class="Symbol">⦃</a> <a id="4461" href="Meta.Extensionality.html#4461" class="Bound">sb</a> <a id="4464" class="Symbol">:</a> <a id="4466" class="Symbol">∀</a> <a id="4468" class="Symbol">{</a><a id="4469" href="Meta.Extensionality.html#4469" class="Bound">x</a><a id="4470" class="Symbol">}</a> <a id="4472" class="Symbol">→</a> <a id="4474" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="4486" class="Symbol">(</a><a id="4487" href="Meta.Extensionality.html#4438" class="Bound">B</a> <a id="4489" href="Meta.Extensionality.html#4469" class="Bound">x</a><a id="4490" class="Symbol">)</a> <a id="4492" href="Meta.Extensionality.html#4420" class="Bound">ℓr</a> <a id="4495" class="Symbol">⦄</a>
  <a id="4499" class="Symbol">→</a> <a id="4501" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="4513" href="Meta.Variadic.html#6780" class="Macro Operator">Π[</a> <a id="4516" href="Meta.Extensionality.html#4438" class="Bound">B</a> <a id="4518" href="Meta.Variadic.html#6780" class="Macro Operator">]</a> <a id="4520" class="Symbol">(</a><a id="4521" href="Meta.Extensionality.html#4415" class="Bound">ℓ</a> <a id="4523" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="4525" href="Meta.Extensionality.html#4420" class="Bound">ℓr</a><a id="4527" class="Symbol">)</a>
<a id="4529" href="Meta.Extensionality.html#4394" class="Function">Extensional-Π</a> <a id="4543" class="Symbol">⦃</a> <a id="4545" href="Meta.Extensionality.html#4545" class="Bound">sb</a> <a id="4548" class="Symbol">⦄</a> <a id="4550" class="Symbol">.</a><a id="4551" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="4557" href="Meta.Extensionality.html#4557" class="Bound">f</a> <a id="4559" href="Meta.Extensionality.html#4559" class="Bound">g</a> <a id="4561" class="Symbol">=</a> <a id="4563" class="Symbol">∀</a> <a id="4565" href="Meta.Extensionality.html#4565" class="Bound">x</a> <a id="4567" class="Symbol">→</a> <a id="4569" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="4575" href="Meta.Extensionality.html#4545" class="Bound">sb</a> <a id="4578" class="Symbol">(</a><a id="4579" href="Meta.Extensionality.html#4557" class="Bound">f</a> <a id="4581" href="Meta.Extensionality.html#4565" class="Bound">x</a><a id="4582" class="Symbol">)</a> <a id="4584" class="Symbol">(</a><a id="4585" href="Meta.Extensionality.html#4559" class="Bound">g</a> <a id="4587" href="Meta.Extensionality.html#4565" class="Bound">x</a><a id="4588" class="Symbol">)</a>
<a id="4590" href="Meta.Extensionality.html#4394" class="Function">Extensional-Π</a> <a id="4604" class="Symbol">⦃</a> <a id="4606" href="Meta.Extensionality.html#4606" class="Bound">sb</a> <a id="4609" class="Symbol">⦄</a> <a id="4611" class="Symbol">.</a><a id="4612" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="4618" href="Meta.Extensionality.html#4618" class="Bound">f</a> <a id="4620" href="Meta.Extensionality.html#4620" class="Bound">x</a> <a id="4622" class="Symbol">=</a> <a id="4624" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="4630" href="Meta.Extensionality.html#4606" class="Bound">sb</a> <a id="4633" class="Symbol">(</a><a id="4634" href="Meta.Extensionality.html#4618" class="Bound">f</a> <a id="4636" href="Meta.Extensionality.html#4620" class="Bound">x</a><a id="4637" class="Symbol">)</a>
<a id="4639" href="Meta.Extensionality.html#4394" class="Function">Extensional-Π</a> <a id="4653" class="Symbol">⦃</a> <a id="4655" href="Meta.Extensionality.html#4655" class="Bound">sb</a> <a id="4658" class="Symbol">⦄</a> <a id="4660" class="Symbol">.</a><a id="4661" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="4666" class="Symbol">.</a><a id="4667" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="4675" href="Meta.Extensionality.html#4675" class="Bound">h</a> <a id="4677" class="Symbol">=</a> <a id="4679" href="Foundations.Base.html#10985" class="Function">fun-ext</a> <a id="4687" class="Symbol">λ</a> <a id="4689" href="Meta.Extensionality.html#4689" class="Bound">i</a> <a id="4691" class="Symbol">→</a> <a id="4693" href="Meta.Extensionality.html#4655" class="Bound">sb</a> <a id="4696" class="Symbol">.</a><a id="4697" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="4702" class="Symbol">.</a><a id="4703" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="4711" class="Symbol">(</a><a id="4712" href="Meta.Extensionality.html#4675" class="Bound">h</a> <a id="4714" href="Meta.Extensionality.html#4689" class="Bound">i</a><a id="4715" class="Symbol">)</a>
<a id="4717" href="Meta.Extensionality.html#4394" class="Function">Extensional-Π</a> <a id="4731" class="Symbol">⦃</a> <a id="4733" href="Meta.Extensionality.html#4733" class="Bound">sb</a> <a id="4736" class="Symbol">⦄</a> <a id="4738" class="Symbol">.</a><a id="4739" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="4744" class="Symbol">.</a><a id="4745" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="4758" href="Meta.Extensionality.html#4758" class="Bound">h</a> <a id="4760" class="Symbol">=</a> <a id="4762" href="Foundations.Base.html#10985" class="Function">fun-ext</a> <a id="4770" class="Symbol">λ</a> <a id="4772" href="Meta.Extensionality.html#4772" class="Bound">i</a> <a id="4774" class="Symbol">→</a> <a id="4776" href="Meta.Extensionality.html#4733" class="Bound">sb</a> <a id="4779" class="Symbol">.</a><a id="4780" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="4785" class="Symbol">.</a><a id="4786" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="4799" class="Symbol">(</a><a id="4800" href="Meta.Extensionality.html#4758" class="Bound">h</a> <a id="4802" href="Meta.Extensionality.html#4772" class="Bound">i</a><a id="4803" class="Symbol">)</a>

<a id="Extensional-∀"></a><a id="4806" href="Meta.Extensionality.html#4806" class="Function">Extensional-∀</a>
  <a id="4822" class="Symbol">:</a> <a id="4824" class="Symbol">∀</a> <a id="4826" class="Symbol">{</a><a id="4827" href="Meta.Extensionality.html#4827" class="Bound">ℓ</a> <a id="4829" href="Meta.Extensionality.html#4829" class="Bound">ℓ′</a> <a id="4832" href="Meta.Extensionality.html#4832" class="Bound">ℓr</a><a id="4834" class="Symbol">}</a> <a id="4836" class="Symbol">{</a><a id="4837" href="Meta.Extensionality.html#4837" class="Bound">A</a> <a id="4839" class="Symbol">:</a> <a id="4841" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="4846" href="Meta.Extensionality.html#4827" class="Bound">ℓ</a><a id="4847" class="Symbol">}</a> <a id="4849" class="Symbol">{</a><a id="4850" href="Meta.Extensionality.html#4850" class="Bound">B</a> <a id="4852" class="Symbol">:</a> <a id="4854" href="Meta.Extensionality.html#4837" class="Bound">A</a> <a id="4856" class="Symbol">→</a> <a id="4858" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="4863" href="Meta.Extensionality.html#4829" class="Bound">ℓ′</a><a id="4865" class="Symbol">}</a>
  <a id="4869" class="Symbol">→</a> <a id="4871" class="Symbol">⦃</a> <a id="4873" href="Meta.Extensionality.html#4873" class="Bound">sb</a> <a id="4876" class="Symbol">:</a> <a id="4878" class="Symbol">∀</a> <a id="4880" class="Symbol">{</a><a id="4881" href="Meta.Extensionality.html#4881" class="Bound">x</a><a id="4882" class="Symbol">}</a> <a id="4884" class="Symbol">→</a> <a id="4886" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="4898" class="Symbol">(</a><a id="4899" href="Meta.Extensionality.html#4850" class="Bound">B</a> <a id="4901" href="Meta.Extensionality.html#4881" class="Bound">x</a><a id="4902" class="Symbol">)</a> <a id="4904" href="Meta.Extensionality.html#4832" class="Bound">ℓr</a> <a id="4907" class="Symbol">⦄</a>
  <a id="4911" class="Symbol">→</a> <a id="4913" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="4925" href="Meta.Variadic.html#6825" class="Macro Operator">∀[</a> <a id="4928" href="Meta.Extensionality.html#4850" class="Bound">B</a> <a id="4930" href="Meta.Variadic.html#6825" class="Macro Operator">]</a> <a id="4932" class="Symbol">(</a><a id="4933" href="Meta.Extensionality.html#4827" class="Bound">ℓ</a> <a id="4935" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="4937" href="Meta.Extensionality.html#4832" class="Bound">ℓr</a><a id="4939" class="Symbol">)</a>
<a id="4941" href="Meta.Extensionality.html#4806" class="Function">Extensional-∀</a> <a id="4955" class="Symbol">⦃</a> <a id="4957" href="Meta.Extensionality.html#4957" class="Bound">sb</a> <a id="4960" class="Symbol">⦄</a> <a id="4962" class="Symbol">.</a><a id="4963" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="4969" href="Meta.Extensionality.html#4969" class="Bound">f</a> <a id="4971" href="Meta.Extensionality.html#4971" class="Bound">g</a> <a id="4973" class="Symbol">=</a> <a id="4975" class="Symbol">∀</a> <a id="4977" class="Symbol">{</a><a id="4978" href="Meta.Extensionality.html#4978" class="Bound">x</a><a id="4979" class="Symbol">}</a> <a id="4981" class="Symbol">→</a> <a id="4983" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="4989" href="Meta.Extensionality.html#4957" class="Bound">sb</a> <a id="4992" class="Symbol">(</a><a id="4993" href="Meta.Extensionality.html#4969" class="Bound">f</a> <a id="4995" class="Symbol">{</a><a id="4996" href="Meta.Extensionality.html#4978" class="Bound">x</a><a id="4997" class="Symbol">})</a> <a id="5000" class="Symbol">(</a><a id="5001" href="Meta.Extensionality.html#4971" class="Bound">g</a> <a id="5003" class="Symbol">{</a><a id="5004" href="Meta.Extensionality.html#4978" class="Bound">x</a><a id="5005" class="Symbol">})</a>
<a id="5008" href="Meta.Extensionality.html#4806" class="Function">Extensional-∀</a> <a id="5022" class="Symbol">⦃</a> <a id="5024" href="Meta.Extensionality.html#5024" class="Bound">sb</a> <a id="5027" class="Symbol">⦄</a> <a id="5029" class="Symbol">.</a><a id="5030" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="5036" href="Meta.Extensionality.html#5036" class="Bound">f</a> <a id="5038" class="Symbol">=</a> <a id="5040" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="5046" href="Meta.Extensionality.html#5024" class="Bound">sb</a> <a id="5049" href="Meta.Extensionality.html#5036" class="Bound">f</a>
<a id="5051" href="Meta.Extensionality.html#4806" class="Function">Extensional-∀</a> <a id="5065" class="Symbol">⦃</a> <a id="5067" href="Meta.Extensionality.html#5067" class="Bound">sb</a> <a id="5070" class="Symbol">⦄</a> <a id="5072" class="Symbol">.</a><a id="5073" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="5078" class="Symbol">.</a><a id="5079" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="5087" href="Meta.Extensionality.html#5087" class="Bound">h</a> <a id="5089" href="Meta.Extensionality.html#5089" class="Bound">i</a> <a id="5091" class="Symbol">{</a><a id="5092" href="Meta.Extensionality.html#5092" class="Bound">x</a><a id="5093" class="Symbol">}</a> <a id="5095" class="Symbol">=</a> <a id="5097" href="Meta.Extensionality.html#5067" class="Bound">sb</a> <a id="5100" class="Symbol">.</a><a id="5101" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="5106" class="Symbol">.</a><a id="5107" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="5115" class="Symbol">(</a><a id="5116" href="Meta.Extensionality.html#5087" class="Bound">h</a> <a id="5118" class="Symbol">{</a><a id="5119" href="Meta.Extensionality.html#5092" class="Bound">x</a><a id="5120" class="Symbol">})</a> <a id="5123" href="Meta.Extensionality.html#5089" class="Bound">i</a>
<a id="5125" href="Meta.Extensionality.html#4806" class="Function">Extensional-∀</a> <a id="5139" class="Symbol">⦃</a> <a id="5141" href="Meta.Extensionality.html#5141" class="Bound">sb</a> <a id="5144" class="Symbol">⦄</a> <a id="5146" class="Symbol">.</a><a id="5147" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="5152" class="Symbol">.</a><a id="5153" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="5166" href="Meta.Extensionality.html#5166" class="Bound">h</a> <a id="5168" href="Meta.Extensionality.html#5168" class="Bound">i</a> <a id="5170" class="Symbol">{</a><a id="5171" href="Meta.Extensionality.html#5171" class="Bound">x</a><a id="5172" class="Symbol">}</a> <a id="5174" class="Symbol">=</a> <a id="5176" href="Meta.Extensionality.html#5141" class="Bound">sb</a> <a id="5179" class="Symbol">.</a><a id="5180" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="5185" class="Symbol">.</a><a id="5186" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="5199" class="Symbol">(</a><a id="5200" href="Meta.Extensionality.html#5166" class="Bound">h</a> <a id="5202" class="Symbol">{</a><a id="5203" href="Meta.Extensionality.html#5171" class="Bound">x</a><a id="5204" class="Symbol">})</a> <a id="5207" href="Meta.Extensionality.html#5168" class="Bound">i</a>

<a id="Extensional-→"></a><a id="5210" href="Meta.Extensionality.html#5210" class="Function">Extensional-→</a>
  <a id="5226" class="Symbol">:</a> <a id="5228" class="Symbol">∀</a> <a id="5230" class="Symbol">{</a><a id="5231" href="Meta.Extensionality.html#5231" class="Bound">ℓ</a> <a id="5233" href="Meta.Extensionality.html#5233" class="Bound">ℓ′</a> <a id="5236" href="Meta.Extensionality.html#5236" class="Bound">ℓr</a><a id="5238" class="Symbol">}</a> <a id="5240" class="Symbol">{</a><a id="5241" href="Meta.Extensionality.html#5241" class="Bound">A</a> <a id="5243" class="Symbol">:</a> <a id="5245" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="5250" href="Meta.Extensionality.html#5231" class="Bound">ℓ</a><a id="5251" class="Symbol">}</a> <a id="5253" class="Symbol">{</a><a id="5254" href="Meta.Extensionality.html#5254" class="Bound">B</a> <a id="5256" class="Symbol">:</a> <a id="5258" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="5263" href="Meta.Extensionality.html#5233" class="Bound">ℓ′</a><a id="5265" class="Symbol">}</a>
  <a id="5269" class="Symbol">→</a> <a id="5271" class="Symbol">⦃</a> <a id="5273" href="Meta.Extensionality.html#5273" class="Bound">sb</a> <a id="5276" class="Symbol">:</a> <a id="5278" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="5290" href="Meta.Extensionality.html#5254" class="Bound">B</a> <a id="5292" href="Meta.Extensionality.html#5236" class="Bound">ℓr</a> <a id="5295" class="Symbol">⦄</a>
  <a id="5299" class="Symbol">→</a> <a id="5301" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="5313" class="Symbol">(</a><a id="5314" href="Meta.Extensionality.html#5241" class="Bound">A</a> <a id="5316" class="Symbol">→</a> <a id="5318" href="Meta.Extensionality.html#5254" class="Bound">B</a><a id="5319" class="Symbol">)</a> <a id="5321" class="Symbol">(</a><a id="5322" href="Meta.Extensionality.html#5231" class="Bound">ℓ</a> <a id="5324" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5326" href="Meta.Extensionality.html#5236" class="Bound">ℓr</a><a id="5328" class="Symbol">)</a>
<a id="5330" href="Meta.Extensionality.html#5210" class="Function">Extensional-→</a> <a id="5344" class="Symbol">⦃</a> <a id="5346" href="Meta.Extensionality.html#5346" class="Bound">sb</a> <a id="5349" class="Symbol">⦄</a> <a id="5351" class="Symbol">=</a> <a id="5353" href="Meta.Extensionality.html#4394" class="Function">Extensional-Π</a> <a id="5367" class="Symbol">⦃</a> <a id="5369" class="Symbol">λ</a> <a id="5371" class="Symbol">{</a><a id="5372" href="Meta.Extensionality.html#5372" class="Bound">_</a><a id="5373" class="Symbol">}</a> <a id="5375" class="Symbol">→</a> <a id="5377" href="Meta.Extensionality.html#5346" class="Bound">sb</a> <a id="5380" class="Symbol">⦄</a>

<a id="Extensional-uncurry"></a><a id="5383" href="Meta.Extensionality.html#5383" class="Function">Extensional-uncurry</a>
  <a id="5405" class="Symbol">:</a> <a id="5407" class="Symbol">∀</a> <a id="5409" class="Symbol">{</a><a id="5410" href="Meta.Extensionality.html#5410" class="Bound">ℓ</a> <a id="5412" href="Meta.Extensionality.html#5412" class="Bound">ℓ′</a> <a id="5415" href="Meta.Extensionality.html#5415" class="Bound">ℓ″</a> <a id="5418" href="Meta.Extensionality.html#5418" class="Bound">ℓr</a><a id="5420" class="Symbol">}</a> <a id="5422" class="Symbol">{</a><a id="5423" href="Meta.Extensionality.html#5423" class="Bound">A</a> <a id="5425" class="Symbol">:</a> <a id="5427" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="5432" href="Meta.Extensionality.html#5410" class="Bound">ℓ</a><a id="5433" class="Symbol">}</a> <a id="5435" class="Symbol">{</a><a id="5436" href="Meta.Extensionality.html#5436" class="Bound">B</a> <a id="5438" class="Symbol">:</a> <a id="5440" href="Meta.Extensionality.html#5423" class="Bound">A</a> <a id="5442" class="Symbol">→</a> <a id="5444" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="5449" href="Meta.Extensionality.html#5412" class="Bound">ℓ′</a><a id="5451" class="Symbol">}</a> <a id="5453" class="Symbol">{</a><a id="5454" href="Meta.Extensionality.html#5454" class="Bound">C</a> <a id="5456" class="Symbol">:</a> <a id="5458" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="5463" href="Meta.Extensionality.html#5415" class="Bound">ℓ″</a><a id="5465" class="Symbol">}</a>
  <a id="5469" class="Symbol">→</a> <a id="5471" class="Symbol">⦃</a> <a id="5473" href="Meta.Extensionality.html#5473" class="Bound">sb</a> <a id="5476" class="Symbol">:</a> <a id="5478" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="5490" class="Symbol">((</a><a id="5492" href="Meta.Extensionality.html#5492" class="Bound">x</a> <a id="5494" class="Symbol">:</a> <a id="5496" href="Meta.Extensionality.html#5423" class="Bound">A</a><a id="5497" class="Symbol">)</a> <a id="5499" class="Symbol">→</a> <a id="5501" href="Meta.Extensionality.html#5436" class="Bound">B</a> <a id="5503" href="Meta.Extensionality.html#5492" class="Bound">x</a> <a id="5505" class="Symbol">→</a> <a id="5507" href="Meta.Extensionality.html#5454" class="Bound">C</a><a id="5508" class="Symbol">)</a> <a id="5510" href="Meta.Extensionality.html#5418" class="Bound">ℓr</a> <a id="5513" class="Symbol">⦄</a>
  <a id="5517" class="Symbol">→</a> <a id="5519" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="5531" class="Symbol">(</a><a id="5532" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="5534" href="Meta.Extensionality.html#5423" class="Bound">A</a> <a id="5536" href="Meta.Extensionality.html#5436" class="Bound">B</a> <a id="5538" class="Symbol">→</a> <a id="5540" href="Meta.Extensionality.html#5454" class="Bound">C</a><a id="5541" class="Symbol">)</a> <a id="5543" href="Meta.Extensionality.html#5418" class="Bound">ℓr</a>
<a id="5546" href="Meta.Extensionality.html#5383" class="Function">Extensional-uncurry</a> <a id="5566" class="Symbol">⦃</a> <a id="5568" href="Meta.Extensionality.html#5568" class="Bound">sb</a> <a id="5571" class="Symbol">⦄</a> <a id="5573" class="Symbol">.</a><a id="5574" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="5580" href="Meta.Extensionality.html#5580" class="Bound">f</a> <a id="5582" href="Meta.Extensionality.html#5582" class="Bound">g</a> <a id="5584" class="Symbol">=</a> <a id="5586" href="Meta.Extensionality.html#5568" class="Bound">sb</a> <a id="5589" class="Symbol">.</a><a id="5590" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="5596" class="Symbol">(</a><a id="5597" href="Foundations.Sigma.Base.html#2386" class="Function">curry²</a> <a id="5604" href="Meta.Extensionality.html#5580" class="Bound">f</a><a id="5605" class="Symbol">)</a> <a id="5607" class="Symbol">(</a><a id="5608" href="Foundations.Sigma.Base.html#2386" class="Function">curry²</a> <a id="5615" href="Meta.Extensionality.html#5582" class="Bound">g</a><a id="5616" class="Symbol">)</a>
<a id="5618" href="Meta.Extensionality.html#5383" class="Function">Extensional-uncurry</a> <a id="5638" class="Symbol">⦃</a> <a id="5640" href="Meta.Extensionality.html#5640" class="Bound">sb</a> <a id="5643" class="Symbol">⦄</a> <a id="5645" class="Symbol">.</a><a id="5646" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="5652" href="Meta.Extensionality.html#5652" class="Bound">f</a> <a id="5654" class="Symbol">=</a> <a id="5656" href="Meta.Extensionality.html#5640" class="Bound">sb</a> <a id="5659" class="Symbol">.</a><a id="5660" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="5666" class="Symbol">(</a><a id="5667" href="Foundations.Sigma.Base.html#2386" class="Function">curry²</a> <a id="5674" href="Meta.Extensionality.html#5652" class="Bound">f</a><a id="5675" class="Symbol">)</a>
<a id="5677" href="Meta.Extensionality.html#5383" class="Function">Extensional-uncurry</a> <a id="5697" class="Symbol">⦃</a> <a id="5699" class="Argument">sb</a> <a id="5702" class="Symbol">=</a> <a id="5704" href="Meta.Extensionality.html#5704" class="Bound">sb</a> <a id="5707" class="Symbol">⦄</a> <a id="5709" class="Symbol">.</a><a id="5710" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="5715" class="Symbol">.</a><a id="5716" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="5724" href="Meta.Extensionality.html#5724" class="Bound">h</a> <a id="5726" href="Meta.Extensionality.html#5726" class="Bound">i</a> <a id="5728" class="Symbol">(</a><a id="5729" href="Meta.Extensionality.html#5729" class="Bound">a</a> <a id="5731" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5733" href="Meta.Extensionality.html#5733" class="Bound">b</a><a id="5734" class="Symbol">)</a> <a id="5736" class="Symbol">=</a> <a id="5738" href="Meta.Extensionality.html#5704" class="Bound">sb</a> <a id="5741" class="Symbol">.</a><a id="5742" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="5747" class="Symbol">.</a><a id="5748" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="5756" href="Meta.Extensionality.html#5724" class="Bound">h</a> <a id="5758" href="Meta.Extensionality.html#5726" class="Bound">i</a> <a id="5760" href="Meta.Extensionality.html#5729" class="Bound">a</a> <a id="5762" href="Meta.Extensionality.html#5733" class="Bound">b</a>
<a id="5764" href="Meta.Extensionality.html#5383" class="Function">Extensional-uncurry</a> <a id="5784" class="Symbol">⦃</a> <a id="5786" class="Argument">sb</a> <a id="5789" class="Symbol">=</a> <a id="5791" href="Meta.Extensionality.html#5791" class="Bound">sb</a> <a id="5794" class="Symbol">⦄</a> <a id="5796" class="Symbol">.</a><a id="5797" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="5802" class="Symbol">.</a><a id="5803" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="5816" href="Meta.Extensionality.html#5816" class="Bound">h</a> <a id="5818" class="Symbol">=</a> <a id="5820" href="Meta.Extensionality.html#5791" class="Bound">sb</a> <a id="5823" class="Symbol">.</a><a id="5824" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="5829" class="Symbol">.</a><a id="5830" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="5843" href="Meta.Extensionality.html#5816" class="Bound">h</a>

<a id="Extensional-×"></a><a id="5846" href="Meta.Extensionality.html#5846" class="Function">Extensional-×</a>
  <a id="5862" class="Symbol">:</a> <a id="5864" class="Symbol">∀</a> <a id="5866" class="Symbol">{</a><a id="5867" href="Meta.Extensionality.html#5867" class="Bound">ℓ</a> <a id="5869" href="Meta.Extensionality.html#5869" class="Bound">ℓ′</a> <a id="5872" href="Meta.Extensionality.html#5872" class="Bound">ℓr</a> <a id="5875" href="Meta.Extensionality.html#5875" class="Bound">ℓs</a><a id="5877" class="Symbol">}</a> <a id="5879" class="Symbol">{</a><a id="5880" href="Meta.Extensionality.html#5880" class="Bound">A</a> <a id="5882" class="Symbol">:</a> <a id="5884" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="5889" href="Meta.Extensionality.html#5867" class="Bound">ℓ</a><a id="5890" class="Symbol">}</a> <a id="5892" class="Symbol">{</a><a id="5893" href="Meta.Extensionality.html#5893" class="Bound">B</a> <a id="5895" class="Symbol">:</a> <a id="5897" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="5902" href="Meta.Extensionality.html#5869" class="Bound">ℓ′</a><a id="5904" class="Symbol">}</a>
  <a id="5908" class="Symbol">→</a> <a id="5910" class="Symbol">⦃</a> <a id="5912" href="Meta.Extensionality.html#5912" class="Bound">sa</a> <a id="5915" class="Symbol">:</a> <a id="5917" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="5929" href="Meta.Extensionality.html#5880" class="Bound">A</a> <a id="5931" href="Meta.Extensionality.html#5872" class="Bound">ℓr</a> <a id="5934" class="Symbol">⦄</a>
  <a id="5938" class="Symbol">→</a> <a id="5940" class="Symbol">⦃</a> <a id="5942" href="Meta.Extensionality.html#5942" class="Bound">sb</a> <a id="5945" class="Symbol">:</a> <a id="5947" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="5959" href="Meta.Extensionality.html#5893" class="Bound">B</a> <a id="5961" href="Meta.Extensionality.html#5875" class="Bound">ℓs</a> <a id="5964" class="Symbol">⦄</a>
  <a id="5968" class="Symbol">→</a> <a id="5970" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="5982" class="Symbol">(</a><a id="5983" href="Meta.Extensionality.html#5880" class="Bound">A</a> <a id="5985" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="5987" href="Meta.Extensionality.html#5893" class="Bound">B</a><a id="5988" class="Symbol">)</a> <a id="5990" class="Symbol">(</a><a id="5991" href="Meta.Extensionality.html#5872" class="Bound">ℓr</a> <a id="5994" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5996" href="Meta.Extensionality.html#5875" class="Bound">ℓs</a><a id="5998" class="Symbol">)</a>
<a id="6000" href="Meta.Extensionality.html#5846" class="Function">Extensional-×</a> <a id="6014" class="Symbol">⦃</a> <a id="6016" href="Meta.Extensionality.html#6016" class="Bound">sa</a> <a id="6019" class="Symbol">⦄</a> <a id="6021" class="Symbol">⦃</a> <a id="6023" href="Meta.Extensionality.html#6023" class="Bound">sb</a> <a id="6026" class="Symbol">⦄</a> <a id="6028" class="Symbol">.</a><a id="6029" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="6035" class="Symbol">(</a><a id="6036" href="Meta.Extensionality.html#6036" class="Bound">x</a> <a id="6038" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6040" href="Meta.Extensionality.html#6040" class="Bound">y</a><a id="6041" class="Symbol">)</a> <a id="6043" class="Symbol">(</a><a id="6044" href="Meta.Extensionality.html#6044" class="Bound">x′</a> <a id="6047" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6049" href="Meta.Extensionality.html#6049" class="Bound">y′</a><a id="6051" class="Symbol">)</a> <a id="6053" class="Symbol">=</a> <a id="6055" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="6061" href="Meta.Extensionality.html#6016" class="Bound">sa</a> <a id="6064" href="Meta.Extensionality.html#6036" class="Bound">x</a> <a id="6066" href="Meta.Extensionality.html#6044" class="Bound">x′</a> <a id="6069" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="6071" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="6077" href="Meta.Extensionality.html#6023" class="Bound">sb</a> <a id="6080" href="Meta.Extensionality.html#6040" class="Bound">y</a> <a id="6082" href="Meta.Extensionality.html#6049" class="Bound">y′</a>
<a id="6085" href="Meta.Extensionality.html#5846" class="Function">Extensional-×</a> <a id="6099" class="Symbol">⦃</a> <a id="6101" href="Meta.Extensionality.html#6101" class="Bound">sa</a> <a id="6104" class="Symbol">⦄</a> <a id="6106" class="Symbol">⦃</a> <a id="6108" href="Meta.Extensionality.html#6108" class="Bound">sb</a> <a id="6111" class="Symbol">⦄</a> <a id="6113" class="Symbol">.</a><a id="6114" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="6120" class="Symbol">(</a><a id="6121" href="Meta.Extensionality.html#6121" class="Bound">x</a> <a id="6123" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6125" href="Meta.Extensionality.html#6125" class="Bound">y</a><a id="6126" class="Symbol">)</a> <a id="6128" class="Symbol">=</a> <a id="6130" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="6136" href="Meta.Extensionality.html#6101" class="Bound">sa</a> <a id="6139" href="Meta.Extensionality.html#6121" class="Bound">x</a> <a id="6141" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6143" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="6149" href="Meta.Extensionality.html#6108" class="Bound">sb</a> <a id="6152" href="Meta.Extensionality.html#6125" class="Bound">y</a>
<a id="6154" href="Meta.Extensionality.html#5846" class="Function">Extensional-×</a> <a id="6168" class="Symbol">⦃</a> <a id="6170" href="Meta.Extensionality.html#6170" class="Bound">sa</a> <a id="6173" class="Symbol">⦄</a> <a id="6175" class="Symbol">⦃</a> <a id="6177" href="Meta.Extensionality.html#6177" class="Bound">sb</a> <a id="6180" class="Symbol">⦄</a> <a id="6182" class="Symbol">.</a><a id="6183" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6188" class="Symbol">.</a><a id="6189" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="6197" class="Symbol">(</a><a id="6198" href="Meta.Extensionality.html#6198" class="Bound">p</a> <a id="6200" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6202" href="Meta.Extensionality.html#6202" class="Bound">q</a><a id="6203" class="Symbol">)</a> <a id="6205" class="Symbol">=</a> <a id="6207" href="Foundations.Base.html#2457" class="Function">ap²</a> <a id="6211" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a>
  <a id="6217" class="Symbol">(</a><a id="6218" href="Meta.Extensionality.html#6170" class="Bound">sa</a> <a id="6221" class="Symbol">.</a><a id="6222" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6227" class="Symbol">.</a><a id="6228" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="6236" href="Meta.Extensionality.html#6198" class="Bound">p</a><a id="6237" class="Symbol">)</a>
  <a id="6241" class="Symbol">(</a><a id="6242" href="Meta.Extensionality.html#6177" class="Bound">sb</a> <a id="6245" class="Symbol">.</a><a id="6246" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6251" class="Symbol">.</a><a id="6252" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="6260" href="Meta.Extensionality.html#6202" class="Bound">q</a><a id="6261" class="Symbol">)</a>
<a id="6263" href="Meta.Extensionality.html#5846" class="Function">Extensional-×</a> <a id="6277" class="Symbol">⦃</a> <a id="6279" href="Meta.Extensionality.html#6279" class="Bound">sa</a> <a id="6282" class="Symbol">⦄</a> <a id="6284" class="Symbol">⦃</a> <a id="6286" href="Meta.Extensionality.html#6286" class="Bound">sb</a> <a id="6289" class="Symbol">⦄</a> <a id="6291" class="Symbol">.</a><a id="6292" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6297" class="Symbol">.</a><a id="6298" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="6311" class="Symbol">(</a><a id="6312" href="Meta.Extensionality.html#6312" class="Bound">p</a> <a id="6314" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6316" href="Meta.Extensionality.html#6316" class="Bound">q</a><a id="6317" class="Symbol">)</a> <a id="6319" class="Symbol">=</a>
  <a id="6323" href="Meta.Extensionality.html#6279" class="Bound">sa</a> <a id="6326" class="Symbol">.</a><a id="6327" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6332" class="Symbol">.</a><a id="6333" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="6346" href="Meta.Extensionality.html#6312" class="Bound">p</a> <a id="6348" href="Foundations.Sigma.Properties.html#6314" class="Function Operator">,ₚ</a> <a id="6351" href="Meta.Extensionality.html#6286" class="Bound">sb</a> <a id="6354" class="Symbol">.</a><a id="6355" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6360" class="Symbol">.</a><a id="6361" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="6374" href="Meta.Extensionality.html#6316" class="Bound">q</a>

<a id="Extensional-lift-map"></a><a id="6377" href="Meta.Extensionality.html#6377" class="Function">Extensional-lift-map</a>
  <a id="6400" class="Symbol">:</a> <a id="6402" class="Symbol">∀</a> <a id="6404" class="Symbol">{</a><a id="6405" href="Meta.Extensionality.html#6405" class="Bound">ℓ</a> <a id="6407" href="Meta.Extensionality.html#6407" class="Bound">ℓ′</a> <a id="6410" href="Meta.Extensionality.html#6410" class="Bound">ℓ″</a> <a id="6413" href="Meta.Extensionality.html#6413" class="Bound">ℓr</a><a id="6415" class="Symbol">}</a> <a id="6417" class="Symbol">{</a><a id="6418" href="Meta.Extensionality.html#6418" class="Bound">A</a> <a id="6420" class="Symbol">:</a> <a id="6422" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="6427" href="Meta.Extensionality.html#6405" class="Bound">ℓ</a><a id="6428" class="Symbol">}</a> <a id="6430" class="Symbol">{</a><a id="6431" href="Meta.Extensionality.html#6431" class="Bound">B</a> <a id="6433" class="Symbol">:</a> <a id="6435" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="6440" href="Meta.Extensionality.html#6410" class="Bound">ℓ″</a><a id="6442" class="Symbol">}</a>
  <a id="6446" class="Symbol">→</a> <a id="6448" class="Symbol">⦃</a> <a id="6450" href="Meta.Extensionality.html#6450" class="Bound">sa</a> <a id="6453" class="Symbol">:</a> <a id="6455" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="6467" class="Symbol">(</a><a id="6468" href="Meta.Extensionality.html#6418" class="Bound">A</a> <a id="6470" class="Symbol">→</a> <a id="6472" href="Meta.Extensionality.html#6431" class="Bound">B</a><a id="6473" class="Symbol">)</a> <a id="6475" href="Meta.Extensionality.html#6413" class="Bound">ℓr</a> <a id="6478" class="Symbol">⦄</a>
  <a id="6482" class="Symbol">→</a> <a id="6484" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="6496" class="Symbol">(</a><a id="6497" href="Foundations.Prim.Type.html#566" class="Record">Lift</a> <a id="6502" href="Meta.Extensionality.html#6407" class="Bound">ℓ′</a> <a id="6505" href="Meta.Extensionality.html#6418" class="Bound">A</a> <a id="6507" class="Symbol">→</a> <a id="6509" href="Meta.Extensionality.html#6431" class="Bound">B</a><a id="6510" class="Symbol">)</a> <a id="6512" href="Meta.Extensionality.html#6413" class="Bound">ℓr</a>
<a id="6515" href="Meta.Extensionality.html#6377" class="Function">Extensional-lift-map</a> <a id="6536" class="Symbol">⦃</a> <a id="6538" href="Meta.Extensionality.html#6538" class="Bound">sa</a> <a id="6541" class="Symbol">⦄</a> <a id="6543" class="Symbol">.</a><a id="6544" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="6550" href="Meta.Extensionality.html#6550" class="Bound">f</a> <a id="6552" href="Meta.Extensionality.html#6552" class="Bound">g</a> <a id="6554" class="Symbol">=</a> <a id="6556" href="Meta.Extensionality.html#6538" class="Bound">sa</a> <a id="6559" class="Symbol">.</a><a id="6560" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="6566" class="Symbol">(</a><a id="6567" href="Meta.Extensionality.html#6550" class="Bound">f</a> <a id="6569" href="Foundations.Pi.Base.html#1950" class="Function Operator">∘</a> <a id="6571" href="Foundations.Prim.Type.html#627" class="InductiveConstructor">lift</a><a id="6575" class="Symbol">)</a> <a id="6577" class="Symbol">(</a><a id="6578" href="Meta.Extensionality.html#6552" class="Bound">g</a> <a id="6580" href="Foundations.Pi.Base.html#1950" class="Function Operator">∘</a> <a id="6582" href="Foundations.Prim.Type.html#627" class="InductiveConstructor">lift</a><a id="6586" class="Symbol">)</a>
<a id="6588" href="Meta.Extensionality.html#6377" class="Function">Extensional-lift-map</a> <a id="6609" class="Symbol">⦃</a> <a id="6611" href="Meta.Extensionality.html#6611" class="Bound">sa</a> <a id="6614" class="Symbol">⦄</a> <a id="6616" class="Symbol">.</a><a id="6617" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="6623" href="Meta.Extensionality.html#6623" class="Bound">x</a> <a id="6625" class="Symbol">=</a> <a id="6627" href="Meta.Extensionality.html#6611" class="Bound">sa</a> <a id="6630" class="Symbol">.</a><a id="6631" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="6637" class="Symbol">(</a><a id="6638" href="Meta.Extensionality.html#6623" class="Bound">x</a> <a id="6640" href="Foundations.Pi.Base.html#1950" class="Function Operator">∘</a> <a id="6642" href="Foundations.Prim.Type.html#627" class="InductiveConstructor">lift</a><a id="6646" class="Symbol">)</a>
<a id="6648" href="Meta.Extensionality.html#6377" class="Function">Extensional-lift-map</a> <a id="6669" class="Symbol">⦃</a> <a id="6671" href="Meta.Extensionality.html#6671" class="Bound">sa</a> <a id="6674" class="Symbol">⦄</a> <a id="6676" class="Symbol">.</a><a id="6677" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6682" class="Symbol">.</a><a id="6683" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="6691" href="Meta.Extensionality.html#6691" class="Bound">h</a> <a id="6693" href="Meta.Extensionality.html#6693" class="Bound">i</a> <a id="6695" class="Symbol">(</a><a id="6696" href="Foundations.Prim.Type.html#627" class="InductiveConstructor">lift</a> <a id="6701" href="Meta.Extensionality.html#6701" class="Bound">x</a><a id="6702" class="Symbol">)</a> <a id="6704" class="Symbol">=</a> <a id="6706" href="Meta.Extensionality.html#6671" class="Bound">sa</a> <a id="6709" class="Symbol">.</a><a id="6710" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6715" class="Symbol">.</a><a id="6716" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="6724" href="Meta.Extensionality.html#6691" class="Bound">h</a> <a id="6726" href="Meta.Extensionality.html#6693" class="Bound">i</a> <a id="6728" href="Meta.Extensionality.html#6701" class="Bound">x</a>
<a id="6730" href="Meta.Extensionality.html#6377" class="Function">Extensional-lift-map</a> <a id="6751" class="Symbol">⦃</a> <a id="6753" href="Meta.Extensionality.html#6753" class="Bound">sa</a> <a id="6756" class="Symbol">⦄</a> <a id="6758" class="Symbol">.</a><a id="6759" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6764" class="Symbol">.</a><a id="6765" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="6778" href="Meta.Extensionality.html#6778" class="Bound">h</a> <a id="6780" class="Symbol">=</a> <a id="6782" href="Meta.Extensionality.html#6753" class="Bound">sa</a> <a id="6785" class="Symbol">.</a><a id="6786" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a>  <a id="6792" class="Symbol">.</a><a id="6793" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="6806" href="Meta.Extensionality.html#6778" class="Bound">h</a>

<a id="6809" class="Symbol">@</a><a id="6810" class="Symbol">0</a> <a id="Extensional-Type"></a><a id="6812" href="Meta.Extensionality.html#6812" class="Function">Extensional-Type</a> <a id="6829" class="Symbol">:</a> <a id="6831" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="6843" class="Symbol">(</a><a id="6844" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="6849" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a><a id="6850" class="Symbol">)</a> <a id="6852" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a>
<a id="6854" href="Meta.Extensionality.html#6812" class="Function">Extensional-Type</a> <a id="6871" class="Symbol">.</a><a id="6872" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="6878" href="Meta.Extensionality.html#6878" class="Bound">A</a> <a id="6880" href="Meta.Extensionality.html#6880" class="Bound">B</a> <a id="6882" class="Symbol">=</a> <a id="6884" href="Meta.Extensionality.html#6878" class="Bound">A</a> <a id="6886" href="Agda.Builtin.Cubical.Equiv.html#1012" class="Function Operator">≃</a> <a id="6888" href="Meta.Extensionality.html#6880" class="Bound">B</a>
<a id="6890" href="Meta.Extensionality.html#6812" class="Function">Extensional-Type</a> <a id="6907" class="Symbol">.</a><a id="6908" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="6914" class="Symbol">_</a> <a id="6916" class="Symbol">=</a> <a id="6918" href="Foundations.Equiv.Base.html#1443" class="Function">idₑ</a>
<a id="6922" href="Meta.Extensionality.html#6812" class="Function">Extensional-Type</a> <a id="6939" class="Symbol">.</a><a id="6940" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="6945" class="Symbol">=</a> <a id="6947" href="Structures.IdentitySystem.Base.html#4492" class="Function">univalence-identity-system</a>

<a id="6975" class="Symbol">@</a><a id="6976" class="Symbol">0</a> <a id="Extensional-n-Type"></a><a id="6978" href="Meta.Extensionality.html#6978" class="Function">Extensional-n-Type</a> <a id="6997" class="Symbol">:</a> <a id="6999" class="Symbol">∀</a> <a id="7001" class="Symbol">{</a><a id="7002" href="Meta.Extensionality.html#7002" class="Bound">n</a><a id="7003" class="Symbol">}</a> <a id="7005" class="Symbol">→</a> <a id="7007" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="7019" class="Symbol">(</a><a id="7020" href="Structures.n-Type.html#247" class="Record">n-Type</a> <a id="7027" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a> <a id="7029" href="Meta.Extensionality.html#7002" class="Bound">n</a><a id="7030" class="Symbol">)</a> <a id="7032" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a>
<a id="7034" href="Meta.Extensionality.html#6978" class="Function">Extensional-n-Type</a> <a id="7053" class="Symbol">.</a><a id="7054" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="7060" href="Meta.Extensionality.html#7060" class="Bound">A</a> <a id="7062" href="Meta.Extensionality.html#7062" class="Bound">B</a> <a id="7064" class="Symbol">=</a> <a id="7066" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="7072" href="Meta.Extensionality.html#6812" class="Function">Extensional-Type</a> <a id="7089" href="Meta.Variadic.html#6407" class="Macro Operator">⌞</a> <a id="7091" href="Meta.Extensionality.html#7060" class="Bound">A</a> <a id="7093" href="Meta.Variadic.html#6407" class="Macro Operator">⌟</a> <a id="7095" href="Meta.Variadic.html#6407" class="Macro Operator">⌞</a> <a id="7097" href="Meta.Extensionality.html#7062" class="Bound">B</a> <a id="7099" href="Meta.Variadic.html#6407" class="Macro Operator">⌟</a>
<a id="7101" href="Meta.Extensionality.html#6978" class="Function">Extensional-n-Type</a> <a id="7120" class="Symbol">.</a><a id="7121" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="7127" class="Symbol">_</a> <a id="7129" class="Symbol">=</a> <a id="7131" href="Foundations.Equiv.Base.html#1443" class="Function">idₑ</a>
<a id="7135" href="Meta.Extensionality.html#6978" class="Function">Extensional-n-Type</a> <a id="7154" class="Symbol">.</a><a id="7155" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="7160" class="Symbol">.</a><a id="7161" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="7169" class="Symbol">=</a> <a id="7171" href="Structures.n-Type.html#1201" class="Function">n-ua</a>
<a id="7176" href="Meta.Extensionality.html#6978" class="Function">Extensional-n-Type</a> <a id="7195" class="Symbol">.</a><a id="7196" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="7201" class="Symbol">.</a><a id="7202" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a> <a id="7215" class="Symbol">=</a> <a id="7217" href="Meta.Extensionality.html#6812" class="Function">Extensional-Type</a> <a id="7234" class="Symbol">.</a><a id="7235" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="7240" class="Symbol">.</a><a id="7241" href="Structures.IdentitySystem.Base.html#359" class="Field">to-path-over</a>

<a id="7255" class="Keyword">instance</a>
  <a id="extensionality-fun"></a><a id="7266" href="Meta.Extensionality.html#7266" class="Function">extensionality-fun</a>
    <a id="7289" class="Symbol">:</a> <a id="7291" class="Symbol">∀</a> <a id="7293" class="Symbol">{</a><a id="7294" href="Meta.Extensionality.html#7294" class="Bound">ℓ</a> <a id="7296" href="Meta.Extensionality.html#7296" class="Bound">ℓ′</a><a id="7298" class="Symbol">}</a> <a id="7300" class="Symbol">{</a><a id="7301" href="Meta.Extensionality.html#7301" class="Bound">A</a> <a id="7303" class="Symbol">:</a> <a id="7305" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="7310" href="Meta.Extensionality.html#7294" class="Bound">ℓ</a><a id="7311" class="Symbol">}</a> <a id="7313" class="Symbol">{</a><a id="7314" href="Meta.Extensionality.html#7314" class="Bound">B</a> <a id="7316" class="Symbol">:</a> <a id="7318" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="7323" href="Meta.Extensionality.html#7296" class="Bound">ℓ′</a><a id="7325" class="Symbol">}</a>
    <a id="7331" class="Symbol">→</a> <a id="7333" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="7348" class="Symbol">(</a><a id="7349" href="Meta.Extensionality.html#7301" class="Bound">A</a> <a id="7351" class="Symbol">→</a> <a id="7353" href="Meta.Extensionality.html#7314" class="Bound">B</a><a id="7354" class="Symbol">)</a>
  <a id="7358" href="Meta.Extensionality.html#7266" class="Function">extensionality-fun</a> <a id="7377" class="Symbol">.</a><a id="7378" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="7399" class="Symbol">=</a> <a id="7401" class="Keyword">quote</a> <a id="7407" href="Meta.Extensionality.html#5210" class="Function">Extensional-→</a>

  <a id="extensionality-uncurry"></a><a id="7424" href="Meta.Extensionality.html#7424" class="Function">extensionality-uncurry</a>
    <a id="7451" class="Symbol">:</a> <a id="7453" class="Symbol">∀</a> <a id="7455" class="Symbol">{</a><a id="7456" href="Meta.Extensionality.html#7456" class="Bound">ℓ</a> <a id="7458" href="Meta.Extensionality.html#7458" class="Bound">ℓ′</a> <a id="7461" href="Meta.Extensionality.html#7461" class="Bound">ℓ″</a><a id="7463" class="Symbol">}</a> <a id="7465" class="Symbol">{</a><a id="7466" href="Meta.Extensionality.html#7466" class="Bound">A</a> <a id="7468" class="Symbol">:</a> <a id="7470" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="7475" href="Meta.Extensionality.html#7456" class="Bound">ℓ</a><a id="7476" class="Symbol">}</a> <a id="7478" class="Symbol">{</a><a id="7479" href="Meta.Extensionality.html#7479" class="Bound">B</a> <a id="7481" class="Symbol">:</a> <a id="7483" href="Meta.Extensionality.html#7466" class="Bound">A</a> <a id="7485" class="Symbol">→</a> <a id="7487" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="7492" href="Meta.Extensionality.html#7458" class="Bound">ℓ′</a><a id="7494" class="Symbol">}</a> <a id="7496" class="Symbol">{</a><a id="7497" href="Meta.Extensionality.html#7497" class="Bound">C</a> <a id="7499" class="Symbol">:</a> <a id="7501" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="7506" href="Meta.Extensionality.html#7461" class="Bound">ℓ″</a><a id="7508" class="Symbol">}</a>
    <a id="7514" class="Symbol">→</a> <a id="7516" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="7531" class="Symbol">(</a><a id="7532" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="7534" href="Meta.Extensionality.html#7466" class="Bound">A</a> <a id="7536" href="Meta.Extensionality.html#7479" class="Bound">B</a> <a id="7538" class="Symbol">→</a> <a id="7540" href="Meta.Extensionality.html#7497" class="Bound">C</a><a id="7541" class="Symbol">)</a>
  <a id="7545" href="Meta.Extensionality.html#7424" class="Function">extensionality-uncurry</a> <a id="7568" class="Symbol">.</a><a id="7569" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="7590" class="Symbol">=</a> <a id="7592" class="Keyword">quote</a> <a id="7598" href="Meta.Extensionality.html#5383" class="Function">Extensional-uncurry</a>

  <a id="extensionality-lift-map"></a><a id="7621" href="Meta.Extensionality.html#7621" class="Function">extensionality-lift-map</a>
    <a id="7649" class="Symbol">:</a> <a id="7651" class="Symbol">∀</a> <a id="7653" class="Symbol">{</a><a id="7654" href="Meta.Extensionality.html#7654" class="Bound">ℓ</a> <a id="7656" href="Meta.Extensionality.html#7656" class="Bound">ℓ′</a> <a id="7659" href="Meta.Extensionality.html#7659" class="Bound">ℓ″</a><a id="7661" class="Symbol">}</a> <a id="7663" class="Symbol">{</a><a id="7664" href="Meta.Extensionality.html#7664" class="Bound">A</a> <a id="7666" class="Symbol">:</a> <a id="7668" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="7673" href="Meta.Extensionality.html#7654" class="Bound">ℓ</a><a id="7674" class="Symbol">}</a> <a id="7676" class="Symbol">{</a><a id="7677" href="Meta.Extensionality.html#7677" class="Bound">B</a> <a id="7679" class="Symbol">:</a> <a id="7681" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="7686" href="Meta.Extensionality.html#7659" class="Bound">ℓ″</a><a id="7688" class="Symbol">}</a>
    <a id="7694" class="Symbol">→</a> <a id="7696" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="7711" class="Symbol">(</a><a id="7712" href="Foundations.Prim.Type.html#566" class="Record">Lift</a> <a id="7717" href="Meta.Extensionality.html#7656" class="Bound">ℓ′</a> <a id="7720" href="Meta.Extensionality.html#7664" class="Bound">A</a> <a id="7722" class="Symbol">→</a> <a id="7724" href="Meta.Extensionality.html#7677" class="Bound">B</a><a id="7725" class="Symbol">)</a>
  <a id="7729" href="Meta.Extensionality.html#7621" class="Function">extensionality-lift-map</a> <a id="7753" class="Symbol">.</a><a id="7754" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="7775" class="Symbol">=</a> <a id="7777" class="Keyword">quote</a> <a id="7783" href="Meta.Extensionality.html#6377" class="Function">Extensional-lift-map</a>

  <a id="extensionality-Π"></a><a id="7807" href="Meta.Extensionality.html#7807" class="Function">extensionality-Π</a>
    <a id="7828" class="Symbol">:</a> <a id="7830" class="Symbol">∀</a> <a id="7832" class="Symbol">{</a><a id="7833" href="Meta.Extensionality.html#7833" class="Bound">ℓ</a> <a id="7835" href="Meta.Extensionality.html#7835" class="Bound">ℓ′</a><a id="7837" class="Symbol">}</a> <a id="7839" class="Symbol">{</a><a id="7840" href="Meta.Extensionality.html#7840" class="Bound">A</a> <a id="7842" class="Symbol">:</a> <a id="7844" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="7849" href="Meta.Extensionality.html#7833" class="Bound">ℓ</a><a id="7850" class="Symbol">}</a> <a id="7852" class="Symbol">{</a><a id="7853" href="Meta.Extensionality.html#7853" class="Bound">B</a> <a id="7855" class="Symbol">:</a> <a id="7857" href="Meta.Extensionality.html#7840" class="Bound">A</a> <a id="7859" class="Symbol">→</a> <a id="7861" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="7866" href="Meta.Extensionality.html#7835" class="Bound">ℓ′</a><a id="7868" class="Symbol">}</a>
    <a id="7874" class="Symbol">→</a> <a id="7876" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="7891" href="Meta.Variadic.html#6780" class="Macro Operator">Π[</a> <a id="7894" href="Meta.Extensionality.html#7853" class="Bound">B</a> <a id="7896" href="Meta.Variadic.html#6780" class="Macro Operator">]</a>
  <a id="7900" href="Meta.Extensionality.html#7807" class="Function">extensionality-Π</a> <a id="7917" class="Symbol">.</a><a id="7918" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="7939" class="Symbol">=</a> <a id="7941" class="Keyword">quote</a> <a id="7947" href="Meta.Extensionality.html#4394" class="Function">Extensional-Π</a>

  <a id="extensionality-∀"></a><a id="7964" href="Meta.Extensionality.html#7964" class="Function">extensionality-∀</a>
    <a id="7985" class="Symbol">:</a> <a id="7987" class="Symbol">∀</a> <a id="7989" class="Symbol">{</a><a id="7990" href="Meta.Extensionality.html#7990" class="Bound">ℓ</a> <a id="7992" href="Meta.Extensionality.html#7992" class="Bound">ℓ′</a><a id="7994" class="Symbol">}</a> <a id="7996" class="Symbol">{</a><a id="7997" href="Meta.Extensionality.html#7997" class="Bound">A</a> <a id="7999" class="Symbol">:</a> <a id="8001" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="8006" href="Meta.Extensionality.html#7990" class="Bound">ℓ</a><a id="8007" class="Symbol">}</a> <a id="8009" class="Symbol">{</a><a id="8010" href="Meta.Extensionality.html#8010" class="Bound">B</a> <a id="8012" class="Symbol">:</a> <a id="8014" href="Meta.Extensionality.html#7997" class="Bound">A</a> <a id="8016" class="Symbol">→</a> <a id="8018" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="8023" href="Meta.Extensionality.html#7992" class="Bound">ℓ′</a><a id="8025" class="Symbol">}</a>
    <a id="8031" class="Symbol">→</a> <a id="8033" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="8048" href="Meta.Variadic.html#6825" class="Macro Operator">∀[</a> <a id="8051" href="Meta.Extensionality.html#8010" class="Bound">B</a> <a id="8053" href="Meta.Variadic.html#6825" class="Macro Operator">]</a>
  <a id="8057" href="Meta.Extensionality.html#7964" class="Function">extensionality-∀</a> <a id="8074" class="Symbol">.</a><a id="8075" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="8096" class="Symbol">=</a> <a id="8098" class="Keyword">quote</a> <a id="8104" href="Meta.Extensionality.html#4806" class="Function">Extensional-∀</a>

  <a id="extensionality-×"></a><a id="8121" href="Meta.Extensionality.html#8121" class="Function">extensionality-×</a>
    <a id="8142" class="Symbol">:</a> <a id="8144" class="Symbol">∀</a> <a id="8146" class="Symbol">{</a><a id="8147" href="Meta.Extensionality.html#8147" class="Bound">ℓ</a> <a id="8149" href="Meta.Extensionality.html#8149" class="Bound">ℓ′</a><a id="8151" class="Symbol">}</a> <a id="8153" class="Symbol">{</a><a id="8154" href="Meta.Extensionality.html#8154" class="Bound">A</a> <a id="8156" class="Symbol">:</a> <a id="8158" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="8163" href="Meta.Extensionality.html#8147" class="Bound">ℓ</a><a id="8164" class="Symbol">}</a> <a id="8166" class="Symbol">{</a><a id="8167" href="Meta.Extensionality.html#8167" class="Bound">B</a> <a id="8169" class="Symbol">:</a> <a id="8171" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="8176" href="Meta.Extensionality.html#8149" class="Bound">ℓ′</a><a id="8178" class="Symbol">}</a>
    <a id="8184" class="Symbol">→</a> <a id="8186" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="8201" class="Symbol">(</a><a id="8202" href="Meta.Extensionality.html#8154" class="Bound">A</a> <a id="8204" href="Foundations.Sigma.Base.html#621" class="Function Operator">×</a> <a id="8206" href="Meta.Extensionality.html#8167" class="Bound">B</a><a id="8207" class="Symbol">)</a>
  <a id="8211" href="Meta.Extensionality.html#8121" class="Function">extensionality-×</a> <a id="8228" class="Symbol">.</a><a id="8229" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="8250" class="Symbol">=</a> <a id="8252" class="Keyword">quote</a> <a id="8258" href="Meta.Extensionality.html#5846" class="Function">Extensional-×</a>

  <a id="extensionality-type"></a><a id="8275" href="Meta.Extensionality.html#8275" class="Function">extensionality-type</a> <a id="8295" class="Symbol">:</a> <a id="8297" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="8312" class="Symbol">(</a><a id="8313" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="8318" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a><a id="8319" class="Symbol">)</a>
  <a id="8323" href="Meta.Extensionality.html#8275" class="Function">extensionality-type</a> <a id="8343" class="Symbol">.</a><a id="8344" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="8365" class="Symbol">=</a> <a id="8367" class="Keyword">quote</a> <a id="8373" href="Meta.Extensionality.html#6812" class="Function">Extensional-Type</a>

  <a id="extensionality-n-type"></a><a id="8393" href="Meta.Extensionality.html#8393" class="Function">extensionality-n-type</a> <a id="8415" class="Symbol">:</a> <a id="8417" class="Symbol">∀</a> <a id="8419" class="Symbol">{</a><a id="8420" href="Meta.Extensionality.html#8420" class="Bound">n</a><a id="8421" class="Symbol">}</a> <a id="8423" class="Symbol">→</a> <a id="8425" href="Meta.Extensionality.html#648" class="Record">Extensionality</a> <a id="8440" class="Symbol">(</a><a id="8441" href="Structures.n-Type.html#247" class="Record">n-Type</a> <a id="8448" href="Meta.Extensionality.html#786" class="Generalizable">ℓ</a> <a id="8450" href="Meta.Extensionality.html#8420" class="Bound">n</a><a id="8451" class="Symbol">)</a>
  <a id="8455" href="Meta.Extensionality.html#8393" class="Function">extensionality-n-type</a> <a id="8477" class="Symbol">.</a><a id="8478" href="Meta.Extensionality.html#701" class="Field">Extensionality.lemma</a> <a id="8499" class="Symbol">=</a> <a id="8501" class="Keyword">quote</a> <a id="8507" href="Meta.Extensionality.html#6978" class="Function">Extensional-n-Type</a>

<a id="8527" class="Comment">{-
Actual user-facing entry point for the tactic: using the &#39;extensional&#39;
tactic (through the blanket instance) we can find an identity system for
the type A, and turn a proof in the computed relation to an identity.
-}</a>
<a id="ext"></a><a id="8747" href="Meta.Extensionality.html#8747" class="Function">ext</a>
  <a id="8753" class="Symbol">:</a> <a id="8755" class="Symbol">∀</a> <a id="8757" class="Symbol">{</a><a id="8758" href="Meta.Extensionality.html#8758" class="Bound">ℓ</a> <a id="8760" href="Meta.Extensionality.html#8760" class="Bound">ℓr</a><a id="8762" class="Symbol">}</a> <a id="8764" class="Symbol">{</a><a id="8765" href="Meta.Extensionality.html#8765" class="Bound">A</a> <a id="8767" class="Symbol">:</a> <a id="8769" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="8774" href="Meta.Extensionality.html#8758" class="Bound">ℓ</a><a id="8775" class="Symbol">}</a> <a id="8777" class="Symbol">⦃</a> <a id="8779" href="Meta.Extensionality.html#8779" class="Bound">r</a> <a id="8781" class="Symbol">:</a> <a id="8783" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="8795" href="Meta.Extensionality.html#8765" class="Bound">A</a> <a id="8797" href="Meta.Extensionality.html#8760" class="Bound">ℓr</a> <a id="8800" class="Symbol">⦄</a> <a id="8802" class="Symbol">{</a><a id="8803" href="Meta.Extensionality.html#8803" class="Bound">x</a> <a id="8805" href="Meta.Extensionality.html#8805" class="Bound">y</a> <a id="8807" class="Symbol">:</a> <a id="8809" href="Meta.Extensionality.html#8765" class="Bound">A</a><a id="8810" class="Symbol">}</a>
  <a id="8814" class="Symbol">→</a> <a id="8816" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="8822" href="Meta.Extensionality.html#8779" class="Bound">r</a> <a id="8824" href="Meta.Extensionality.html#8803" class="Bound">x</a> <a id="8826" href="Meta.Extensionality.html#8805" class="Bound">y</a> <a id="8828" class="Symbol">→</a> <a id="8830" href="Meta.Extensionality.html#8803" class="Bound">x</a> <a id="8832" href="Foundations.Prim.Kan.html#1277" class="Function Operator">＝</a> <a id="8834" href="Meta.Extensionality.html#8805" class="Bound">y</a>
<a id="8836" href="Meta.Extensionality.html#8747" class="Function">ext</a> <a id="8840" class="Symbol">⦃</a> <a id="8842" href="Meta.Extensionality.html#8842" class="Bound">r</a> <a id="8844" class="Symbol">⦄</a> <a id="8846" href="Meta.Extensionality.html#8846" class="Bound">p</a> <a id="8848" class="Symbol">=</a> <a id="8850" href="Meta.Extensionality.html#8842" class="Bound">r</a> <a id="8852" class="Symbol">.</a><a id="8853" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="8858" class="Symbol">.</a><a id="8859" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="8867" href="Meta.Extensionality.html#8846" class="Bound">p</a>

<a id="8870" class="Comment">{-
Using the extensionality tactic we can define a &quot;more general refl&quot;,
where the terms being compared are not definitionally equal, but they
inhabit a type with a good identity system for which &#39;r x : R x y&#39; type
checks.

The idea is to write a function wrapping

  ext : ⦃ r : Extensional A ℓ ⦄ (p : Pathᵉ r x y) → x ≡ y

so that it gives (reflᵉ r x) as the default argument for p. We can use a
tactic argument to accomplish this.
-}</a>

<a id="9307" class="Keyword">private</a>
  <a id="trivial-worker"></a><a id="9317" href="Meta.Extensionality.html#9317" class="Function">trivial-worker</a>
    <a id="9336" class="Symbol">:</a> <a id="9338" class="Symbol">∀</a> <a id="9340" class="Symbol">{</a><a id="9341" href="Meta.Extensionality.html#9341" class="Bound">ℓ</a> <a id="9343" href="Meta.Extensionality.html#9343" class="Bound">ℓr</a><a id="9345" class="Symbol">}</a> <a id="9347" class="Symbol">{</a><a id="9348" href="Meta.Extensionality.html#9348" class="Bound">A</a> <a id="9350" class="Symbol">:</a> <a id="9352" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="9357" href="Meta.Extensionality.html#9341" class="Bound">ℓ</a><a id="9358" class="Symbol">}</a>
    <a id="9364" class="Symbol">→</a> <a id="9366" class="Symbol">(</a><a id="9367" href="Meta.Extensionality.html#9367" class="Bound">r</a> <a id="9369" class="Symbol">:</a> <a id="9371" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="9383" href="Meta.Extensionality.html#9348" class="Bound">A</a> <a id="9385" href="Meta.Extensionality.html#9343" class="Bound">ℓr</a><a id="9387" class="Symbol">)</a>
    <a id="9393" class="Symbol">→</a> <a id="9395" class="Symbol">(</a><a id="9396" href="Meta.Extensionality.html#9396" class="Bound">x</a> <a id="9398" href="Meta.Extensionality.html#9398" class="Bound">y</a> <a id="9400" class="Symbol">:</a> <a id="9402" href="Meta.Extensionality.html#9348" class="Bound">A</a><a id="9403" class="Symbol">)</a>
    <a id="9409" class="Symbol">→</a> <a id="9411" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="9420" class="Symbol">→</a> <a id="9422" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="9425" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="9429" href="Meta.Extensionality.html#9317" class="Function">trivial-worker</a> <a id="9444" href="Meta.Extensionality.html#9444" class="Bound">r</a> <a id="9446" href="Meta.Extensionality.html#9446" class="Bound">x</a> <a id="9448" href="Meta.Extensionality.html#9448" class="Bound">y</a> <a id="9450" href="Meta.Extensionality.html#9450" class="Bound">goal</a> <a id="9455" class="Symbol">=</a> <a id="9457" href="Meta.Extensionality.html#9785" class="Function">try</a> <a id="9461" class="Keyword">where</a>
    <a id="9471" href="Meta.Extensionality.html#9471" class="Function">error</a> <a id="9477" class="Symbol">:</a> <a id="9479" class="Symbol">∀</a> <a id="9481" class="Symbol">{</a><a id="9482" href="Meta.Extensionality.html#9482" class="Bound">ℓ</a><a id="9483" class="Symbol">}</a> <a id="9485" class="Symbol">{</a><a id="9486" href="Meta.Extensionality.html#9486" class="Bound">A</a> <a id="9488" class="Symbol">:</a> <a id="9490" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="9495" href="Meta.Extensionality.html#9482" class="Bound">ℓ</a><a id="9496" class="Symbol">}</a> <a id="9498" class="Symbol">→</a> <a id="9500" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="9503" href="Meta.Extensionality.html#9486" class="Bound">A</a>

    <a id="9510" class="Comment">-- We already have our r : Extensional A ℓr, and this is a macro, so</a>
    <a id="9583" class="Comment">-- we can just check that r .reflᵉ x : R x y. If that&#39;s the case</a>
    <a id="9652" class="Comment">-- then we can use that as the argument, otherwise we can give a</a>
    <a id="9721" class="Comment">-- slightly better error message than what Agda would yell.</a>
    <a id="9785" href="Meta.Extensionality.html#9785" class="Function">try</a> <a id="9789" class="Symbol">:</a> <a id="9791" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="9794" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
    <a id="9800" href="Meta.Extensionality.html#9785" class="Function">try</a> <a id="9804" class="Symbol">=</a> <a id="9806" class="Keyword">do</a>
      <a id="9815" href="Meta.Extensionality.html#9815" class="Bound">`r</a> <a id="9818" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="9820" href="Meta.Reflection.Base.html#9445" class="Function">wait-for-type</a> <a id="9834" href="Meta.Effect.Bind.html#393" class="Function Operator">=&lt;&lt;</a> <a id="9838" href="Agda.Builtin.Reflection.html#9195" class="Postulate">quoteωTC</a> <a id="9847" href="Meta.Extensionality.html#9444" class="Bound">r</a>
      <a id="9855" href="Meta.Extensionality.html#9855" class="Bound">ty</a> <a id="9858" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="9860" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="9868" class="Symbol">(</a><a id="9869" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="9875" href="Meta.Extensionality.html#9444" class="Bound">r</a> <a id="9877" href="Meta.Extensionality.html#9446" class="Bound">x</a> <a id="9879" href="Meta.Extensionality.html#9448" class="Bound">y</a><a id="9880" class="Symbol">)</a>
      <a id="9888" href="Meta.Extensionality.html#9888" class="Bound">`x</a> <a id="9891" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="9893" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="9901" href="Meta.Extensionality.html#9446" class="Bound">x</a>
      <a id="9909" href="Meta.Extensionality.html#9909" class="Bound">`refl</a> <a id="9915" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="9917" href="Agda.Builtin.Reflection.html#8914" class="Postulate">check-type</a> <a id="9928" class="Symbol">(</a><a id="9929" href="Meta.Reflection.Signature.html#4765" class="Macro">it</a> <a id="9932" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="9938" href="Meta.Reflection.Base.html#15721" class="Function Operator">##ₙ</a> <a id="9942" href="Meta.Extensionality.html#9815" class="Bound">`r</a> <a id="9945" href="Meta.Reflection.Base.html#15721" class="Function Operator">##ₙ</a> <a id="9949" href="Meta.Extensionality.html#9888" class="Bound">`x</a><a id="9951" class="Symbol">)</a> <a id="9953" href="Meta.Extensionality.html#9855" class="Bound">ty</a> <a id="9956" href="Meta.Effect.Alt.html#320" class="Field Operator">&lt;|&gt;</a> <a id="9960" href="Meta.Extensionality.html#9471" class="Function">error</a>
      <a id="9972" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="9978" href="Meta.Extensionality.html#9450" class="Bound">goal</a> <a id="9983" href="Meta.Extensionality.html#9909" class="Bound">`refl</a>

    <a id="9994" href="Meta.Extensionality.html#9471" class="Function">error</a> <a id="10000" class="Symbol">=</a> <a id="10002" class="Keyword">do</a>
      <a id="10011" href="Meta.Extensionality.html#10011" class="Bound">`x</a> <a id="10014" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="10016" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="10024" href="Meta.Extensionality.html#9446" class="Bound">x</a>
      <a id="10032" href="Meta.Extensionality.html#10032" class="Bound">`y</a> <a id="10035" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="10037" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="10045" href="Meta.Extensionality.html#9448" class="Bound">y</a>
      <a id="10053" href="Agda.Builtin.Reflection.html#8815" class="Postulate">type-error</a>
        <a id="10072" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="10074" class="String">&quot;trivial! failed: the values\n  &quot;</a>
        <a id="10116" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10118" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="10126" href="Meta.Extensionality.html#10011" class="Bound">`x</a> <a id="10129" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10131" class="String">&quot;\nand\n  &quot;</a> <a id="10143" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10145" href="Agda.Builtin.Reflection.html#8254" class="InductiveConstructor">termErr</a> <a id="10153" href="Meta.Extensionality.html#10032" class="Bound">`y</a>
        <a id="10164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="10166" class="String">&quot;\nare not extensionally equal by refl.&quot;</a> <a id="10207" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a>

<a id="10210" class="Comment">{-
trivial! serves to replace proofs like

  Nat-path λ x → funext λ y → Nat-path λ z → Homomorphism-path λ a → refl

since this is

  ext λ x y z a → refl

and that argument is precisely reflexivity for the computed identity
system which &#39;ext&#39; is using. By the way, this example is totally made
up.
-}</a>

<a id="10514" class="Keyword">opaque</a>
  <a id="trivial!"></a><a id="10523" href="Meta.Extensionality.html#10523" class="Function">trivial!</a>
    <a id="10536" class="Symbol">:</a> <a id="10538" class="Symbol">∀</a> <a id="10540" class="Symbol">{</a><a id="10541" href="Meta.Extensionality.html#10541" class="Bound">ℓ</a> <a id="10543" href="Meta.Extensionality.html#10543" class="Bound">ℓr</a><a id="10545" class="Symbol">}</a> <a id="10547" class="Symbol">{</a><a id="10548" href="Meta.Extensionality.html#10548" class="Bound">A</a> <a id="10550" class="Symbol">:</a> <a id="10552" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="10557" href="Meta.Extensionality.html#10541" class="Bound">ℓ</a><a id="10558" class="Symbol">}</a> <a id="10560" class="Symbol">{</a><a id="10561" href="Meta.Extensionality.html#10561" class="Bound">x</a> <a id="10563" href="Meta.Extensionality.html#10563" class="Bound">y</a> <a id="10565" class="Symbol">:</a> <a id="10567" href="Meta.Extensionality.html#10548" class="Bound">A</a><a id="10568" class="Symbol">}</a>
    <a id="10574" class="Symbol">→</a> <a id="10576" class="Symbol">⦃</a> <a id="10578" href="Meta.Extensionality.html#10578" class="Bound">r</a> <a id="10580" class="Symbol">:</a> <a id="10582" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="10594" href="Meta.Extensionality.html#10548" class="Bound">A</a> <a id="10596" href="Meta.Extensionality.html#10543" class="Bound">ℓr</a> <a id="10599" class="Symbol">⦄</a>
    <a id="10605" class="Symbol">→</a> <a id="10607" class="Symbol">{@(</a><a id="10610" class="Keyword">tactic</a> <a id="10617" href="Meta.Extensionality.html#9317" class="Function">trivial-worker</a> <a id="10632" href="Meta.Extensionality.html#10578" class="Bound">r</a> <a id="10634" href="Meta.Extensionality.html#10561" class="Bound">x</a> <a id="10636" href="Meta.Extensionality.html#10563" class="Bound">y</a><a id="10637" class="Symbol">)</a> <a id="10639" href="Meta.Extensionality.html#10639" class="Bound">p</a> <a id="10641" class="Symbol">:</a> <a id="10643" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="10649" href="Meta.Extensionality.html#10578" class="Bound">r</a> <a id="10651" href="Meta.Extensionality.html#10561" class="Bound">x</a> <a id="10653" href="Meta.Extensionality.html#10563" class="Bound">y</a><a id="10654" class="Symbol">}</a>
    <a id="10660" class="Symbol">→</a> <a id="10662" href="Meta.Extensionality.html#10561" class="Bound">x</a> <a id="10664" href="Foundations.Prim.Kan.html#1277" class="Function Operator">＝</a> <a id="10666" href="Meta.Extensionality.html#10563" class="Bound">y</a>
  <a id="10670" href="Meta.Extensionality.html#10523" class="Function">trivial!</a> <a id="10679" class="Symbol">⦃</a> <a id="10681" href="Meta.Extensionality.html#10681" class="Bound">r</a> <a id="10683" class="Symbol">⦄</a> <a id="10685" class="Symbol">{</a><a id="10686" href="Meta.Extensionality.html#10686" class="Bound">p</a><a id="10687" class="Symbol">}</a> <a id="10689" class="Symbol">=</a> <a id="10691" href="Meta.Extensionality.html#10681" class="Bound">r</a> <a id="10693" class="Symbol">.</a><a id="10694" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a> <a id="10699" class="Symbol">.</a><a id="10700" href="Structures.IdentitySystem.Base.html#321" class="Field">to-path</a> <a id="10708" href="Meta.Extensionality.html#10686" class="Bound">p</a>

  <a id="unext"></a><a id="10713" href="Meta.Extensionality.html#10713" class="Function">unext</a> <a id="10719" class="Symbol">:</a> <a id="10721" class="Symbol">∀</a> <a id="10723" class="Symbol">{</a><a id="10724" href="Meta.Extensionality.html#10724" class="Bound">ℓ</a> <a id="10726" href="Meta.Extensionality.html#10726" class="Bound">ℓr</a><a id="10728" class="Symbol">}</a> <a id="10730" class="Symbol">{</a><a id="10731" href="Meta.Extensionality.html#10731" class="Bound">A</a> <a id="10733" class="Symbol">:</a> <a id="10735" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="10740" href="Meta.Extensionality.html#10724" class="Bound">ℓ</a><a id="10741" class="Symbol">}</a> <a id="10743" class="Symbol">⦃</a> <a id="10745" href="Meta.Extensionality.html#10745" class="Bound">e</a> <a id="10747" class="Symbol">:</a> <a id="10749" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="10761" href="Meta.Extensionality.html#10731" class="Bound">A</a> <a id="10763" href="Meta.Extensionality.html#10726" class="Bound">ℓr</a> <a id="10766" class="Symbol">⦄</a> <a id="10768" class="Symbol">{</a><a id="10769" href="Meta.Extensionality.html#10769" class="Bound">x</a> <a id="10771" href="Meta.Extensionality.html#10771" class="Bound">y</a> <a id="10773" class="Symbol">:</a> <a id="10775" href="Meta.Extensionality.html#10731" class="Bound">A</a><a id="10776" class="Symbol">}</a> <a id="10778" class="Symbol">→</a> <a id="10780" href="Meta.Extensionality.html#10769" class="Bound">x</a> <a id="10782" href="Foundations.Prim.Kan.html#1277" class="Function Operator">＝</a> <a id="10784" href="Meta.Extensionality.html#10771" class="Bound">y</a> <a id="10786" class="Symbol">→</a> <a id="10788" href="Meta.Extensionality.html#10745" class="Bound">e</a> <a id="10790" class="Symbol">.</a><a id="10791" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="10797" href="Meta.Extensionality.html#10769" class="Bound">x</a> <a id="10799" href="Meta.Extensionality.html#10771" class="Bound">y</a>
  <a id="10803" href="Meta.Extensionality.html#10713" class="Function">unext</a> <a id="10809" class="Symbol">⦃</a> <a id="10811" href="Meta.Extensionality.html#10811" class="Bound">e</a> <a id="10813" class="Symbol">⦄</a> <a id="10815" class="Symbol">{</a><a id="10816" class="Argument">x</a> <a id="10818" class="Symbol">=</a> <a id="10820" href="Meta.Extensionality.html#10820" class="Bound">x</a><a id="10821" class="Symbol">}</a> <a id="10823" href="Meta.Extensionality.html#10823" class="Bound">p</a> <a id="10825" class="Symbol">=</a> <a id="10827" href="Foundations.Prim.Kan.html#1676" class="Function">transport</a> <a id="10837" class="Symbol">(λ</a> <a id="10840" href="Meta.Extensionality.html#10840" class="Bound">i</a> <a id="10842" class="Symbol">→</a> <a id="10844" href="Meta.Extensionality.html#10811" class="Bound">e</a> <a id="10846" class="Symbol">.</a><a id="10847" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="10853" href="Meta.Extensionality.html#10820" class="Bound">x</a> <a id="10855" class="Symbol">(</a><a id="10856" href="Meta.Extensionality.html#10823" class="Bound">p</a> <a id="10858" href="Meta.Extensionality.html#10840" class="Bound">i</a><a id="10859" class="Symbol">))</a> <a id="10862" class="Symbol">(</a><a id="10863" href="Meta.Extensionality.html#10811" class="Bound">e</a> <a id="10865" class="Symbol">.</a><a id="10866" href="Meta.Extensionality.html#573" class="Field">reflᵉ</a> <a id="10872" href="Meta.Extensionality.html#10820" class="Bound">x</a><a id="10873" class="Symbol">)</a>

<a id="10876" class="Keyword">macro</a>
  <a id="reext!"></a><a id="10884" href="Meta.Extensionality.html#10884" class="Function">reext!</a>
    <a id="10895" class="Symbol">:</a> <a id="10897" class="Symbol">∀</a> <a id="10899" class="Symbol">{</a><a id="10900" href="Meta.Extensionality.html#10900" class="Bound">ℓ</a> <a id="10902" href="Meta.Extensionality.html#10902" class="Bound">ℓr</a><a id="10904" class="Symbol">}</a> <a id="10906" class="Symbol">{</a><a id="10907" href="Meta.Extensionality.html#10907" class="Bound">A</a> <a id="10909" class="Symbol">:</a> <a id="10911" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="10916" href="Meta.Extensionality.html#10900" class="Bound">ℓ</a><a id="10917" class="Symbol">}</a> <a id="10919" class="Symbol">⦃</a> <a id="10921" href="Meta.Extensionality.html#10921" class="Bound">ea</a> <a id="10924" class="Symbol">:</a> <a id="10926" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="10938" href="Meta.Extensionality.html#10907" class="Bound">A</a> <a id="10940" href="Meta.Extensionality.html#10902" class="Bound">ℓr</a> <a id="10943" class="Symbol">⦄</a> <a id="10945" class="Symbol">{</a><a id="10946" href="Meta.Extensionality.html#10946" class="Bound">x</a> <a id="10948" href="Meta.Extensionality.html#10948" class="Bound">y</a> <a id="10950" class="Symbol">:</a> <a id="10952" href="Meta.Extensionality.html#10907" class="Bound">A</a><a id="10953" class="Symbol">}</a>
    <a id="10959" class="Symbol">→</a> <a id="10961" href="Meta.Extensionality.html#10946" class="Bound">x</a> <a id="10963" href="Foundations.Prim.Kan.html#1277" class="Function Operator">＝</a> <a id="10965" href="Meta.Extensionality.html#10948" class="Bound">y</a> <a id="10967" class="Symbol">→</a> <a id="10969" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="10974" class="Symbol">→</a> <a id="10976" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="10979" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="10983" href="Meta.Extensionality.html#10884" class="Function">reext!</a> <a id="10990" href="Meta.Extensionality.html#10990" class="Bound">p</a> <a id="10992" href="Meta.Extensionality.html#10992" class="Bound">goal</a> <a id="10997" class="Symbol">=</a> <a id="10999" class="Keyword">do</a>
    <a id="11006" href="Meta.Extensionality.html#11006" class="Bound">`p</a> <a id="11009" href="Meta.Effect.Bind.html#266" class="Field Operator">←</a> <a id="11011" href="Agda.Builtin.Reflection.html#9089" class="Postulate">quoteTC</a> <a id="11019" href="Meta.Extensionality.html#10990" class="Bound">p</a>
    <a id="11025" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="11031" href="Meta.Extensionality.html#10992" class="Bound">goal</a> <a id="11036" class="Symbol">(</a><a id="11037" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="11041" class="Symbol">(</a><a id="11042" class="Keyword">quote</a> <a id="11048" href="Meta.Extensionality.html#8747" class="Function">ext</a><a id="11051" class="Symbol">)</a> <a id="11053" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="11055" href="Meta.Reflection.Base.html#5153" class="Function">argN</a> <a id="11060" class="Symbol">(</a><a id="11061" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="11065" class="Symbol">(</a><a id="11066" class="Keyword">quote</a> <a id="11072" href="Meta.Extensionality.html#10713" class="Function">unext</a><a id="11077" class="Symbol">)</a> <a id="11079" href="Meta.Literals.FromProduct.html#385" class="Function Operator">[</a> <a id="11081" href="Meta.Reflection.Base.html#5153" class="Function">argN</a> <a id="11086" href="Meta.Extensionality.html#11006" class="Bound">`p</a> <a id="11089" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a><a id="11090" class="Symbol">)</a> <a id="11092" href="Meta.Literals.FromProduct.html#385" class="Function Operator">]</a><a id="11093" class="Symbol">)</a>

<a id="Pathᵉ-is-of-hlevel"></a><a id="11096" href="Meta.Extensionality.html#11096" class="Function">Pathᵉ-is-of-hlevel</a>
  <a id="11117" class="Symbol">:</a> <a id="11119" class="Symbol">∀</a> <a id="11121" class="Symbol">{</a><a id="11122" href="Meta.Extensionality.html#11122" class="Bound">ℓ</a> <a id="11124" href="Meta.Extensionality.html#11124" class="Bound">ℓr</a><a id="11126" class="Symbol">}</a> <a id="11128" class="Symbol">{</a><a id="11129" href="Meta.Extensionality.html#11129" class="Bound">A</a> <a id="11131" class="Symbol">:</a> <a id="11133" href="Foundations.Prim.Type.html#322" class="Primitive">Type</a> <a id="11138" href="Meta.Extensionality.html#11122" class="Bound">ℓ</a><a id="11139" class="Symbol">}</a> <a id="11141" href="Meta.Extensionality.html#11141" class="Bound">n</a> <a id="11143" class="Symbol">(</a><a id="11144" href="Meta.Extensionality.html#11144" class="Bound">sa</a> <a id="11147" class="Symbol">:</a> <a id="11149" href="Meta.Extensionality.html#453" class="Record">Extensional</a> <a id="11161" href="Meta.Extensionality.html#11129" class="Bound">A</a> <a id="11163" href="Meta.Extensionality.html#11124" class="Bound">ℓr</a><a id="11165" class="Symbol">)</a>
  <a id="11169" class="Symbol">→</a> <a id="11171" href="Foundations.Base.html#12825" class="Function">is-of-hlevel</a> <a id="11184" class="Symbol">(</a><a id="11185" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="11189" href="Meta.Extensionality.html#11141" class="Bound">n</a><a id="11190" class="Symbol">)</a> <a id="11192" href="Meta.Extensionality.html#11129" class="Bound">A</a>
  <a id="11196" class="Symbol">→</a> <a id="11198" class="Symbol">∀</a> <a id="11200" class="Symbol">{</a><a id="11201" href="Meta.Extensionality.html#11201" class="Bound">x</a> <a id="11203" href="Meta.Extensionality.html#11203" class="Bound">y</a><a id="11204" class="Symbol">}</a>
  <a id="11208" class="Symbol">→</a> <a id="11210" href="Foundations.Base.html#12825" class="Function">is-of-hlevel</a> <a id="11223" href="Meta.Extensionality.html#11141" class="Bound">n</a> <a id="11225" class="Symbol">(</a><a id="11226" href="Meta.Extensionality.html#542" class="Field">Pathᵉ</a> <a id="11232" href="Meta.Extensionality.html#11144" class="Bound">sa</a> <a id="11235" href="Meta.Extensionality.html#11201" class="Bound">x</a> <a id="11237" href="Meta.Extensionality.html#11203" class="Bound">y</a><a id="11238" class="Symbol">)</a>
<a id="11240" href="Meta.Extensionality.html#11096" class="Function">Pathᵉ-is-of-hlevel</a> <a id="11259" href="Meta.Extensionality.html#11259" class="Bound">n</a> <a id="11261" href="Meta.Extensionality.html#11261" class="Bound">sa</a> <a id="11264" href="Meta.Extensionality.html#11264" class="Bound">hl</a> <a id="11267" class="Symbol">=</a>
  <a id="11271" href="Foundations.HLevel.Retracts.html#2551" class="Function">is-of-hlevel-≃</a> <a id="11286" class="Symbol">_</a> <a id="11288" class="Symbol">(</a><a id="11289" href="Structures.IdentitySystem.Base.html#3259" class="Function">identity-system-gives-path</a> <a id="11316" class="Symbol">(</a><a id="11317" href="Meta.Extensionality.html#11261" class="Bound">sa</a> <a id="11320" class="Symbol">.</a><a id="11321" href="Meta.Extensionality.html#601" class="Field">idsᵉ</a><a id="11325" class="Symbol">))</a>
    <a id="11332" class="Symbol">((</a><a id="11334" href="Foundations.HLevel.Base.html#4094" class="Function">path-is-of-hlevel′</a> <a id="11353" class="Symbol">_</a> <a id="11355" href="Meta.Extensionality.html#11264" class="Bound">hl</a> <a id="11358" class="Symbol">_</a> <a id="11360" class="Symbol">_))</a>
</pre></body></html>